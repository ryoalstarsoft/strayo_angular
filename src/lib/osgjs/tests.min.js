/*!
 * OSGJS
 * Cedric Pinson <trigrou@trigrou.com> (http://cedricpinson.com)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("bluebird"),require("zlib"),require("hammerjs"),function(){try{return require("jquery")}catch(t){}}(),require("leapjs")):"function"==typeof define&&define.amd?define(["bluebird","zlib","hammer","jquery","leap"],e):"object"==typeof exports?exports.OSG=e(require("bluebird"),require("zlib"),require("hammerjs"),function(){try{return require("jquery")}catch(t){}}(),require("leapjs")):t.OSG=e(t.P,t.Zlib,t.Hammer,t.$,t.Leap)}(this,function(__WEBPACK_EXTERNAL_MODULE_83__,__WEBPACK_EXTERNAL_MODULE_140__,__WEBPACK_EXTERNAL_MODULE_150__,__WEBPACK_EXTERNAL_MODULE_205__,__WEBPACK_EXTERNAL_MODULE_223__){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(295)},function(t,e,r){"use strict";var i=r(2);i.checkSetSupport();var n=r(3),a=r(5),s=r(120),o=r(135),u=r(149),h=r(176),c=r(216),l=r(185),d=r(229),f=r(241),p=r(242),g=r(243),_=n;_.osg=a,_.osgAnimation=s,_.osgDB=o,_.osgGA=u,_.osgUtil=h,_.osgViewer=c,_.osgShader=l,_.osgShadow=d,_.osgText=f,_.osgWrappers=p,_.osgPlugins=g;var m=["osg","osgAnimation","osgDB","osgGA","osgUtil","osgViewer","osgShader","osgShadow","osgText","osgWrappers","osgPlugins"];_.globalify=function(){m.forEach(function(t){window[t]=_[t]})},t.exports=_},function(t,e){"use strict";var r=function(){var t=new window.Set(["test"]),e=t.has("test");if(!e){var r=window.Set;window.Set=function(t){var e=new r;if(t)for(var i=0;i<t.length;++i)e.add(t[i]);return e}}};t.exports={checkSetSupport:r}},function(t,e,r){"use strict";var i=r(4);t.exports={name:i.name,version:i.version,author:i.author}},function(t,e){t.exports={devDependencies:{chai:"^3.5.0","grunt-contrib-connect":"~0.9","grunt-documentation":"*","grunt-jsbeautifier":"^0.2.10","grunt-mocha":"^1.0.2","grunt-release":"^0.10.0",mocha:"^2.5.3","webpack-strip-block":"0.0.1","grunt-plato":"~0.2.1","grunt-update-submodules":"^0.4.1"},peerDependencies:{grunt:">=0.4.0"},dependencies:{"gl-matrix":"^2.3.2","grunt-lib-phantomjs":"^1.0.2","webpack-dev-server":"^1.7.0",webpack:"^1.7.3","raw-loader":"^0.5.1",path:"^0.11.14",leapjs:"^0.6.4","json-loader":"^0.5.4",jquery:"^2.1.3",hammerjs:"^2.0.4","grunt-webpack":"^1.0.8","grunt-shell":"*","grunt-git":"*","grunt-eslint":"*","grunt-copy-to":"0.0.12","grunt-contrib-uglify":"*","grunt-contrib-jshint":"*","grunt-contrib-copy":"*","grunt-contrib-clean":"*",grunt:"> 1.0.0",glob:"*",extend:"*","eslint-plugin-private-variables":"*",eslint:"*"},contributors:["Paul Cheyrou-Lagr√®ze <tuan.kuranes@gmail.com>","Jordi Torres <jtorresfabra@gmail.com>","Matt Fontaine <tehqin@gmail.com>","Stephane Ginier <stephane.ginier@gmail.com>"],version:"0.2.8",author:"Cedric Pinson <trigrou@trigrou.com> (http://cedricpinson.com)",license:"MIT",description:"OpenSceneGraph implementation in javascript",repository:{url:"git@github.com:cedricpinson/osgjs.git",type:"git"},name:"OpenSceneGraph"}},function(t,e,r){"use strict";var i=r(6),n=r(41),a=r(42),s=r(43),o=r(15),u=r(20),h=r(40),c=r(44),l=r(46),d=r(27),f=r(25),p=r(47),g=r(48),_=r(45),m=r(51),v=r(52),b=r(77),x=r(78),y=r(79),S=r(37),T=r(80),M=r(59),A=r(81),w=r(28),C=r(35),E=r(34),R=r(82),N=r(84),I=r(86),k=r(87),O=r(55),P=r(88),L=r(60),F=r(89),V=r(17),D=r(24),B=r(53),U=r(13),G=r(23),j=r(11),z=r(14),q=r(31),W=r(62),H=r(49),Y=r(90),X=r(50),K=r(91),Q=r(85),Z=r(38),J=r(92),$=r(54),tt=r(57),et=r(56),rt=r(58),it=r(110),nt=r(111),at=r(112),st=r(113),ot=r(22),ut=r(9),ht=r(21),ct=r(61),lt=r(32),dt=r(114),ft=r(12),pt=r(115),gt=r(33),_t=r(116),mt=r(7),vt=r(117),bt=r(8),xt=r(118),yt=r(26),St=r(10),Tt=r(119),Mt=r(29),At={};At.AutoTransform=i,At.BillboardAttribute=n,At.BlendColor=a,At.BlendFunc=s,At.BoundingBox=o,At.BoundingSphere=u,At.BufferArray=h,At.ColorMask=l,At.Camera=c,At.ColorMask=l,At.ComputeBoundsVisitor=d,mt.objectMix(At,f),At.CullFace=p,At.CullingSet=g,At.CullSettings=_,At.CullStack=m,At.CullVisitor=v,At.Depth=b,At.DrawArrayLengths=x,At.DrawArrays=y,At.DrawElements=S,At.EllipsoidModel=T,At.WGS_84_RADIUS_EQUATOR=T.WGS_84_RADIUS_EQUATOR,At.WGS_84_RADIUS_POLAR=T.WGS_84_RADIUS_POLAR,At.FrameBufferObject=M,At.FrameStamp=A,At.Geometry=w,At.GLObject=C,At.Image=E,At.ImageStream=R,At.KdTree=N,At.KdTreeBuilder=I,At.Light=k,At.LightSource=O,At.LineWidth=P,At.Lod=L,At.Material=F,mt.objectMix(At,V),At.MatrixTransform=B,At.MatrixMemoryPool=D,At.Node=U,At.NodeVisitor=G,mt.objectMix(At,j),At.Object=z,At.Options=q,At.PagedLOD=W,At.Plane=X,At.PointSizeAttribute=Y,At.Polytope=H,At.PrimitiveSet=Z,At.PrimitiveFunctor=K,At.PrimitiveIndexFunctor=Q,At.Program=J,At.Projection=$,At.RenderBin=tt,At.RenderLeaf=et,At.RenderStage=rt,At.Shader=it,mt.objectMix(At,nt),At.Stack=at,At.State=st,At.StateAttribute=ot,At.StateGraph=ut,At.StateSet=ht,At.Scissor=xt,At.Switch=ct,At.Texture=lt,At.TextureCubeMap=dt,At.Transform=ft,At.TriangleIndexFunctor=pt,At.Uniform=gt,At.UpdateVisitor=_t,mt.objectMix(At,mt),At.Viewport=vt;var wt=r(16);At.vec2=wt.vec2,At.vec3=wt.vec3,At.vec4=wt.vec4,At.quat=wt.quat,At.mat3=wt.mat3,At.mat4=wt.mat4,At.memoryPools=bt.memoryPools,At.Transform.RELATIVE_RF=yt.RELATIVE_RF,At.Transform.ABSOLUTE_RF=yt.ABSOLUTE_RF,At.Timer=St,At.TimerGPU=Tt,At.WebGLCaps=Mt,t.exports=At},function(t,e,r){"use strict";var i=r(7),n=r(12),a=r(16).vec3,s=r(16).vec4,o=r(16).quat,u=r(16).mat4,h=r(23),c=r(26),l=r(13),d=function(){n.call(this),this._matrix=u.create(),this._position=a.create(),this._matrixDirty=!0,this._scale=a.fromValues(1,1,1),this._minimumScale=0,this._maximumScale=Number.MAX_VALUE,this._rotation=o.create(),this._pivotPoint=a.create(),this._autoScaleToScreen=!1,this._autoRotateToScreen=!1,this._cachedMatrix=u.create(),this._firstTimeToInitEyePoint=!0,this._autoScaleTransitionWidthRatio=.25,this._billboardAttribute=void 0,this._previousWidth=0,this._previousHeight=0,this._previousProjection=u.create(),this._previousModelView=u.create(),this._previousPosition=a.create()};d.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{getMatrix:function(){return this._matrix},setMatrix:function(t){this._matrix=t,this.dirtyBound()},setPosition:function(t){this._position=t,this._matrixDirty=!0,this.dirtyBound()},getPosition:function(){return this._position},setRotation:function(t){this._rotation=t,this._matrixDirty=!0,this.dirtyBound()},getRotation:function(){return this._rotation},setScale:function(t){this.setScaleFromvec3(a.fromValues(t,t,t))},setScaleFromvec3:function(t){this._scale=t,this._matrixDirty=!0,this.dirtyBound()},getScale:function(){return this._scale},setMinimumScale:function(t){this._minimumScale=t},getMinimumScale:function(){return this._minimumScale},setMaximumScale:function(t){this._maximumScale=t},getMaximumScale:function(){return this._maximumScale},setAutoScaleToScreen:function(t){this._autoScaleToScreen=t,this._matrixDirty=!0},getAutoScaleToScreen:function(){return this._autoScaleToScreen},setAutoRotateToScreen:function(t){this._autoRotateToScreen=t},getAutoRotateToScreen:function(){return this._autoRotateToScreen},setAutoScaleTransitionWidthRatio:function(t){this._autoScaleTransitionWidthRatio=t},getAutoScaleTransitionWidthRatio:function(){return this._autoScaleTransitionWidthRatio},computeLocalToWorldMatrix:function(t){this._matrixDirty&&this.computeMatrix(),this.referenceFrame===c.RELATIVE_RF?u.mul(t,t,this._matrix):u.copy(t,this._matrix)},computeMatrix:function(){var t=a.create(),e=u.create();return function(){this._matrixDirty&&(u.fromQuat(this._matrix,this._rotation),u.fromTranslation(e,this._position),u.mul(this._matrix,e,this._matrix),u.scale(this._matrix,this._matrix,this._scale),u.translate(this._matrix,this._matrix,a.neg(t,this._pivotPoint)),this._matrixDirty=!1)}}(),computeWorldToLocalMatrix:function(){var t=a.create(),e=o.create(),r=a.create(),i=u.create();return function(n){return(0!==this.scale[0]||0!==this.scale[1]||0!==this.scale[2])&&(r[0]=1/this._scale[0],r[1]=1/this._scale[1],r[2]=1/this._scale[2],this.referenceFrame===c.RELATIVE_RF?(u.fromTranslation(i,a.neg(t,this._position)),u.mul(n,i,n),o.zeroRotation(this._rotation)||(u.fromQuat(i,o.invert(e,this._rotation)),u.mul(n,i,n)),u.fromScaling(i,r),u.mul(n,i,n),u.fromTranslation(i,this._pivotPoint),u.mul(n,i,n)):(u.fromQuat(this._matrix,o.invert(e,this._rotation)),u.translate(n,n,a.neg(t,this._position)),u.fromScaling(i,r),u.mul(n,i,n),u.fromTranslation(i,this._pivotPoint),u.mul(n,i,n)),!0)}}(),computeBound:function(){var t=u.create();return function(e){return this._autoScaleToScreen&&this._firstTimeToInitEyePoint?e:(l.prototype.computeBound.call(this,e),e.valid()?(u.identity(t),this.computeLocalToWorldMatrix(t),e.transformMat4(e,t),e):e)}}(),accept:function(){return function(t){if(t.getVisitorType()===h.CULL_VISITOR){var e=t.getViewport().width(),r=t.getViewport().height(),i=t.getCurrentProjectionMatrix(),n=t.getCurrentModelViewMatrix(),c=this._position,d=this._firstTimeToInitEyePoint;if(this._firstTimeToInitEyePoint||(e!==this._previousWidth||r!==this._previousHeight?d=!0:u.exactEquals(i,this._previousProjection)&&u.exactEquals(n,this._previousModelView)?a.exactEquals(c,this._previousPosition)||(d=!0):d=!0),this._firstTimeToInitEyePoint=!1,d){if(this._autoScaleToScreen){var f=t.getViewport(),p=this.computePixelSizeVector(f,i,n),g=s.fromValues(this._position[0],this._position[1],this._position[2],1),_=s.dot(g,p);_=.48/_;var m=1/_;if(this._autoScaleTransitionWidthRatio>0){var v,b,x;if(this._minimumScale>0){var y=this._minimumScale,S=this._maximumScale<Number.MAX_VALUE?this._minimumScale+(this._maximumScale-this._minimumScale)*this._autoScaleTransitionWidthRatio:this._minimumScale*(1+this._autoScaleTransitionWidthRatio);v=1/(4*(S-y)),b=1-2*v*S,x=y+b*b/(4*v);var T=-b/(2*v);m<T?m=this._minimumScale:m<S&&(m=x+b*m+v*(m*m))}if(this._maximumScale<Number.MAX_VALUE){var M=this._maximumScale,A=this._minimumScale>0?this._maximumScale+(this._minimumScale-this._maximumScale)*this._autoScaleTransitionWidthRatio:this._maximumScale*(1-this._autoScaleTransitionWidthRatio);v=1/(4*(A-M)),b=1-2*v*A,x=M+b*b/(4*v);var w=-b/(2*v);m>w?m=this._maximumScale:m>A&&(m=x+b*m+v*(m*m))}}this.setScale(m)}if(this._autoRotateToScreen){var C=o.create();u.getRotation(C,n),this.setRotation(o.invert(C,C))}this._previousWidth=e,this._previousHeight=r,a.copy(this._previousPosition,c),u.copy(this._previousProjection,i),u.copy(this._previousModelView,n)}}l.prototype.accept.call(this,t)}}(),computePixelSizeVector:function(){var t=a.create(),e=a.create();return function(r,i,n){var o=i[0]*r.width()*.5,u=i[8]*r.width()*.5+i[11]*r.width()*.5;a.set(t,n[0]*o+n[2]*u,n[4]*o+n[6]*u,n[8]*o+n[10]*u);var h=i[5]*r.height()*.5,c=i[9]*r.height()*.5+i[11]*r.height()*.5;a.set(e,n[1]*h+n[2]*c,n[5]*h+n[6]*c,n[9]*h+n[10]*c);var l=i[11],d=i[15],f=s.fromValues(n[2]*l,n[6]*l,n[10]*l,n[14]*l+n[15]*d),p=.7071067811/Math.sqrt(a.sqrLen(t)+a.sqrLen(e));return s.scale(f,f,p),f}}()}),"osg","AutoTransform"),i.setTypeID(d),t.exports=d},function(t,e,r){"use strict";var i=r(8);r(9);var n=r(10),a=r(11),s={};s.init=function(){var t=r(9);i.memoryPools.stateGraph=new i.OsgObjectMemoryPool(t).grow(50)},s.extend=function(){var t,e,r,i,n=window.Object.prototype.toString,a=window.Object.prototype.hasOwnProperty,o=function(t){return"[object Function]"===n.call(t)},u=s.isArray,h=function(t){if(!t||"[object Object]"!==n.call(t)||t.nodeType||t.setInterval)return!1;if(t.constructor&&!a.call(t,"constructor")&&!a.call(t.constructor.prototype,"isPrototypeOf"))return!1;var e;for(e in t);return void 0===e||a.call(t,e)},c=arguments[0]||{},l=1,d=arguments.length,f=!1;for("boolean"==typeof c&&(f=c,c=arguments[1]||{},l=2),"object"==typeof c||o(c)||(c={}),d===l&&(c=this,--l);l<d;l++)if(null!==(t=arguments[l]))for(e in t)if(r=c[e],i=t[e],c!==i)if(f&&i&&(h(i)||u(i))){var p=r&&(h(r)||u(r))?r:u(i)?[]:{};c[e]=s.extend(f,p,i)}else void 0!==i&&(c[e]=i);return c},s.objectInherit=function(t){function e(){}e.prototype=t;for(var r=new e,i=1;i<arguments.length;i++)s.objectMix(r,arguments[i],!1);return r},s.objectMix=function(t,e,r){for(var i in e)r&&t[i]||(t[i]=e[i]);return t},s.objectType={},s.objectType.type=0,s.objectType.generate=function(t){var e=s.objectType.type;return s.objectType[e]=t,s.objectType[t]=e,s.objectType.type+=1,e},s.objectLibraryClass=function(t,e,r){t.className=function(){return r},t.libraryName=function(){return e};var i=e+"::"+r;return t.libraryClassName=function(){return i},t},s.setTypeID=function(t){var e=t.prototype.libraryClassName(),r=s.objectType.generate(e),i=function(){return r};t.typeID=t.prototype.typeID=r,t.getTypeID=t.prototype.getTypeID=i},s.createPrototypeClass=function(t,e,r,i){t.prototype=e,e.constructor=t,s.objectLibraryClass(e,r,i),s.setTypeID(t)},s.Float32Array="undefined"!=typeof Float32Array?Float32Array:null,s.Int32Array="undefined"!=typeof Int32Array?Int32Array:null,s.Uint8Array="undefined"!=typeof Uint8Array?Uint8Array:null,s.Uint16Array="undefined"!=typeof Uint16Array?Uint16Array:null,s.Uint32Array="undefined"!=typeof Uint32Array?Uint32Array:null;var o={};s.time=(a.console.time||function(t){o[t]=n.instance().tick()}).bind(a.console),s.timeEnd=(a.console.timeEnd||function(t){if(void 0!==o[t]){var e=n.instance().deltaM(o[t],n.instance().tick());a.debug(t+": "+e+"ms"),o[t]=void 0}}).bind(a.console),s.timeStamp=(a.console.timeStamp||a.console.markTimeline||function(){}).bind(a.console),s.profile=(a.console.profile||function(){}).bind(a.console),s.profileEnd=(a.console.profileEnd||function(){}).bind(a.console),t.exports=s},function(t,e){"use strict";var r={};r.memoryPools={},r.OsgObjectMemoryPool=function(t){return{_memPool:[],reset:function(){return this._memPool=[],this},put:function(t){this._memPool.push(t)},get:function(){return this._memPool.length>0?this._memPool.pop():(this.grow(),this.get())},grow:function(e){var r;r=void 0===e?this._memPool.length>0?2*this._memPool.length:20:e;for(var i=this._memPool.length;i++<r;)this._memPool.push(new t);return this}}},r.OsgArrayMemoryPool=function(){return{_mempoolofPools:[],reset:function(){return this._memPoolofPools={},this},put:function(t){this._memPoolofPools[t.length]||(this._memPoolofPools[t.length]=[]),this._memPoolofPools[t.length].push(t)},get:function(t){if(this._memPoolofPools[t]){if(this._memPoolofPools.length>0)return this._memPool.pop()}else this._memPoolofPools[t]=[];return this.grow(t),this.get()},grow:function(t,e){void 0===e&&(e=this._memPool.length>0?2*this._memPool.length:5);for(var r=this._memPool.length;r++<e;)this._memPool.push(new Array(t));return this}}},r.OsgObjectMemoryStack=function(t){return{_current:0,_memPool:[new t],reset:function(){return this._current=0,this},get:function(){var e=this._memPool[this._current++];return this._current>=this._memPool.length&&this._memPool.push(new t),e}}},t.exports=r},function(t,e,r){"use strict";var i=r(8),n=function(){this.depth=0,this.children={},this.children.keys=[],this.leafs=[],this.stateset=void 0,this.parent=void 0};n.prototype={clean:function(){this.leafs.length=0,this.stateset=void 0,this.parent=void 0,this.depth=0;for(var t,e,r=this.children,n=r.keys,a=0,s=n.length;a<s;a++)e=n[a],t=r[e],t.clean(),i.memoryPools.stateGraph.put(t);this.children={},n.length=0,this.children.keys=n},getStateSet:function(){return this.stateset},findOrInsert:function(t){var e,r=t.getInstanceID(),n=this.children;return n[r]?e=n[r]:(e=i.memoryPools.stateGraph.get(),e.parent=this,e.depth=this.depth+1,e.stateset=t,n[r]=e,n.keys.push(r)),e}},n.moveStateGraph=function(t,e,r){var i,n,a=[],s=r,o=e;if(s!==o&&void 0!==s)if(void 0!==o){if(o.parent===s.parent)return void 0!==o.stateset&&t.popStateSet(),void(void 0!==s.stateset&&t.pushStateSet(s.stateset));for(;o.depth>s.depth;)void 0!==o.stateset&&t.popStateSet(),o=o.parent;for(a=[];s.depth>o.depth;)void 0!==s.stateset&&a.push(s.stateset),s=s.parent;for(;o!==s;)void 0!==o.stateset&&t.popStateSet(),o=o.parent,void 0!==s.stateset&&a.push(s.stateset),s=s.parent;for(i=a.length-1,n=0;i>=n;--i)t.pushStateSet(a[i])}else{do void 0!==s.stateset&&a.push(s.stateset),s=s.parent;while(s);for(i=a.length-1,n=0;i>=n;--i)t.pushStateSet(a[i])}},t.exports=n},function(t,e){(function(e){"use strict";var r=function(){var t=window||e;if(void 0===t.performance)return function(){return Date.now()};var r=t.performance.now||t.performance.mozNow||t.performance.msNow||t.performance.oNow||t.performance.webkitNow||function(){return Date.now()};return function(){return r.apply(t.performance,arguments)}}(),i=function(){};i.instance=function(){return i._instance||(i._instance=new i),i._instance},i.prototype={deltaS:function(t,e){return(e-t)/1e3},deltaM:function(t,e){return e-t},tick:function(){return r()}},t.exports=i}).call(e,function(){return this}())},function(t,e){"use strict";function r(t,e){o.console&&(o.console[t](e),o.traceLogCall&&"error"!==t&&console.trace())}function i(t,e,r){o.console&&(o.console.groupCollapsed&&o.console.groupCollapsed(e),o.console[t](r),o.traceLogCall&&"error"!==t&&console.trace(),o.console.groupEnd&&o.console.groupEnd())}function n(t,e){return e?[t.slice(0,4),t.slice(4,8),t.slice(8,12),t.slice(12,16)]:[[t[0],t[4],t[8],t[12]],[t[1],t[5],t[9],t[13]],[t[2],t[6],t[10],t[14]],[t[3],t[7],t[11],t[15]]]}function a(t,e){o.console.table&&r("table",n(t,e))}function s(t,e,r){o.console.table&&i("table",t,n(e,r))}var o={};o.DEBUG=0,o.INFO=1,o.NOTICE=o.LOG=2,o.WARN=3,o.ERROR=4,o.console=window.console;for(var u=["log","info","warn","error","debug"],h={},c=0;c<u.length;++c){var l=u[c];h[l]=r.bind(o,l),h[l+"Fold"]=i.bind(o,l),h[l+"Matrix"]=a.bind(o),h[l+"MatrixFold"]=s.bind(o)}var d=function(t,e){void 0===this.console||t||this.console.assert(t,e)};o.assert=d,o.setNotifyLevel=function(t){for(var e=function(){},r=0;r<u.length;++r){var i=u[r],n=t>o[i.toUpperCase()];o[i]=n?e:h[i],o[i+"Fold"]=n?e:h[i+"Fold"],o[i+"Matrix"]=n?e:h[i+"Matrix"],o[i+"MatrixFold"]=n?e:h[i+"MatrixFold"]}o.notice=o.log,o.noticeFold=o.logFold,o.noticeMatrix=o.logMatrix,o.noticeMatrixFold=o.logMatrixFold},o.setNotifyLevel(o.NOTICE),o.reportWebGLError=!1,o.setConsole=function(t){o.console=t},t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(13),a=r(16).mat4,s=r(26),o=function(){n.call(this),this.referenceFrame=s.RELATIVE_RF};o.prototype=i.objectInherit(n.prototype,{setReferenceFrame:function(t){this.referenceFrame=t},getReferenceFrame:function(){return this.referenceFrame},computeBoundingSphere:function(){var t=a.create();return function(e){return n.prototype.computeBoundingSphere.call(this,e),e.valid()?(a.identity(t),this.computeLocalToWorldMatrix(t),e.transformMat4(e,t),e):e}}()}),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(14),a=r(15),s=r(20),o=r(21),u=r(23),h=r(16).mat4,c=r(24),l=r(25),d=r(26),f=function(){n.call(this),this.children=[],this._parents=[],this.nodeMask=-1,this._boundingSphere=new s,this._boundingSphereComputed=!1,this._boundingBox=new a,this._boundingBoxComputed=!1,this._updateCallbacks=[],this._cullCallback=void 0,this._cullingActive=!0,this._numChildrenWithCullingDisabled=0,this._numChildrenRequiringUpdateTraversal=0,this._tmpBox=new a};f._reservedMatrixStack=new c;var p=function(){var t=f._reservedMatrixStack.get.bind(f._reservedMatrixStack);return h.identity(t)};f.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{getOrCreateStateSet:function(){return this.stateset||this.setStateSet(new o),this.stateset},getStateSet:function(){return this.stateset},accept:function(t){t.validNodeMask(this)&&(t.pushOntoNodePath(this),t.apply(this),t.popFromNodePath())},dirtyBound:function(){if(this._boundingSphereComputed===!0||this._boundingBoxComputed===!0){this._boundingSphereComputed=!1,this._boundingBoxComputed=!1;for(var t=this._parents,e=0,r=t.length;e<r;e++)t[e].dirtyBound()}},setNodeMask:function(t){this.nodeMask=t},getNodeMask:function(){return this.nodeMask},setStateSet:function(t){if(this.stateset!==t){var e=0;this.stateset&&(this.stateset.requiresUpdateTraversal()&&e--,this.stateset.removeParent(this)),t&&(t.addParent(this),t.requiresUpdateTraversal()&&++e),0!==e&&this.setNumChildrenRequiringUpdateTraversal(this.getNumChildrenRequiringUpdateTraversal()+e),this.stateset=t}},_updateNumChildrenRequeringUpdateTraversal:function(t){if(0===this._numChildrenRequiringUpdateTraversal&&this._parents.length)for(var e=0,r=this._parents.length;e<r;e++){var i=this._parents[e],n=i.getNumChildrenRequiringUpdateTraversal();i.setNumChildrenRequiringUpdateTraversal(n+t)}},setNumChildrenRequiringUpdateTraversal:function(t){if(this._numChildrenRequiringUpdateTraversal!==t){if(!this._updateCallbacks.length&&this._parents.length){var e=0;if(this._numChildrenRequiringUpdateTraversal>0&&--e,t>0&&++e,0!==e)for(var r=this._parents,i=0,n=r.length;i<n;i++){var a=r[i],s=a.getNumChildrenRequiringUpdateTraversal();a.setNumChildrenRequiringUpdateTraversal(s+e)}}this._numChildrenRequiringUpdateTraversal=t}},getNumChildrenRequiringUpdateTraversal:function(){return this._numChildrenRequiringUpdateTraversal},getUpdateCallback:function(){return this._updateCallbacks[0]},addUpdateCallback:function(t){var e=Boolean(this._updateCallbacks.length);this._updateCallbacks.push(t),e||this._updateNumChildrenRequeringUpdateTraversal(1)},removeUpdateCallback:function(t){var e=this._updateCallbacks.indexOf(t);e!==-1&&(this._updateCallbacks.splice(e,1),this._updateCallbacks.length||this._updateNumChildrenRequeringUpdateTraversal(-1))},getUpdateCallbackList:function(){return this._updateCallbacks},setCullCallback:function(t){this._cullCallback=t},getCullCallback:function(){return this._cullCallback},hasChild:function(t){for(var e=0,r=this.children.length;e<r;e++)if(this.children[e]===t)return!0;return!1},addChild:function(t){if(this.children.indexOf(t)===-1)return this.children.push(t),t.addParent(this),this.dirtyBound(),(t.getNumChildrenRequiringUpdateTraversal()>0||t.getUpdateCallbackList().length)&&this.setNumChildrenRequiringUpdateTraversal(this.getNumChildrenRequiringUpdateTraversal()+1),(t.getNumChildrenWithCullingDisabled()>0||t.getCullingActive()===!1)&&this.setNumChildrenWithCullingDisabled(this.getNumChildrenWithCullingDisabled()+1),t},getChildren:function(){return this.children},getNumChildren:function(){return this.children.length},getChild:function(t){return this.children[t]},getParents:function(){return this._parents},addParent:function(t){this._parents.push(t)},removeParent:function(t){var e=this._parents.indexOf(t);e!==-1&&this._parents.splice(e,1)},removeChildren:function(){var t=this.children,e=t.length;if(e){for(var r=0,i=0;i<e;i++){var n=t[i];n.removeParent(this),(n.getNumChildrenRequiringUpdateTraversal()>0||n.getUpdateCallbackList().length)&&++r}t.length=0,r&&this.setNumChildrenRequiringUpdateTraversal(this.getNumChildrenRequiringUpdateTraversal()-r),this.dirtyBound()}},removeChild:function(t){var e=this.children,r=e.indexOf(t);r!==-1&&(t.removeParent(this),e.splice(r,1),(t.getNumChildrenRequiringUpdateTraversal()>0||t.getUpdateCallbackList().length)&&this.setNumChildrenRequiringUpdateTraversal(this.getNumChildrenRequiringUpdateTraversal()-1))},traverse:function(t){for(var e=this.children,r=0,i=e.length;r<i;r++){var n=e[r];n.accept(t)}},ascend:function(t){for(var e=this._parents,r=0,i=e.length;r<i;r++){var n=e[r];n.accept(t)}},getBoundingBox:function(){return this._boundingBoxComputed||(this.computeBoundingBox(this._boundingBox),this._boundingBoxComputed=!0),this._boundingBox},computeBoundingBox:function(t){var e=r(27),i=e.instance=e.instance||new e;return i.setNodeMaskOverride(-1),i.reset(),i.apply(this),t.copy(i.getBoundingBox()),t},getBoundingSphere:function(){return this.getBound()},getBound:function(){return this._boundingSphereComputed||(this.computeBoundingSphere(this._boundingSphere),this._boundingSphereComputed=!0),this._boundingSphere},computeBoundingSphere:function(t){var e=this.children,r=e.length;if(t.init(),0===r)return t;var i,n,a=this._tmpBox;for(a.init(),n=0;n<r;n++)i=e[n],i.referenceFrame!==d.ABSOLUTE_RF&&a.expandByBoundingSphere(i.getBound());if(!a.valid())return t;for(t.set(a.center(t.center()),0),n=0;n<r;n++)i=e[n],i.referenceFrame!==d.ABSOLUTE_RF&&t.expandRadiusBySphere(i.getBound());return t},getWorldMatrices:function(){var t=function(){this.nodePaths=[],this.halt=void 0,u.call(this,u.TRAVERSE_PARENTS)};t.prototype=i.objectInherit(u.prototype,{reset:function(){this.nodePath.length=0,this.nodePaths.length=0},apply:function(t){0===t._parents.length||t===this.halt||t.referenceFrame===d.ABSOLUTE_RF?this.nodePaths.push(this.nodePath.slice(0)):this.traverse(t)}});var e=new t;return e.setNodeMaskOverride(-1),function(t,r){e.reset(),e.halt=t,this.accept(e);for(var i=[],n=r||h.create,a=0,s=e.nodePaths.length;a<s;a++){var o=e.nodePaths[a],u=n();0!==o.length&&l.computeLocalToWorld(o,!0,u),i.push(u)}return i}}(),getWorldMatrix:function(t,e){var r=this.getWorldMatrices(t,p);return 0===r.length?h.identity(e):h.copy(e,r[0]),f._reservedMatrixStack.reset(),e},setCullingActive:function(t){if(this._cullingActive!==t){if(0===this._numChildrenWithCullingDisabled&&this._parents.length>0){var e=0;if(this._cullingActive||--e,t||++e,0!==e)for(var r=0,i=this._parents.length;r<i;r++)this._parents[r].setNumChildrenWithCullingDisabled(this._parents[r].getNumChildrenWithCullingDisabled()+e)}this._cullingActive=t}},getCullingActive:function(){return this._cullingActive},isCullingActive:function(){return 0===this._numChildrenWithCullingDisabled&&this._cullingActive&&this.getBound().valid()},setNumChildrenWithCullingDisabled:function(t){if(this._numChildrenWithCullingDisabled!==t){if(this._cullingActive&&this._parents.length>0){var e=0;if(this._numChildrenWithCullingDisabled>0&&--e,t>0&&++e,0!==e)for(var r=0,i=this._parents.length;r<i;r++)this._parents[r].setNumChildrenWithCullingDisabled(this._parents[r].getNumChildrenWithCullingDisabled()+e)}this._numChildrenWithCullingDisabled=t}},getNumChildrenWithCullingDisabled:function(){return this._numChildrenWithCullingDisabled},releaseGLObjects:function(){void 0!==this.stateset&&this.stateset.releaseGLObjects()}}),"osg","Node"),i.setTypeID(f),t.exports=f},function(t,e,r){"use strict";var i=r(7),n=function(){this._name=void 0,this._userdata=void 0,this._instanceID=n.getInstanceID()};n.prototype=i.objectLibraryClass({cloneType:function(){var t=this.constructor;return new t},getInstanceID:function(){return this._instanceID},setName:function(t){this._name=t},getName:function(){return this._name},setUserData:function(t){this._userdata=t},getUserData:function(){return this._userdata}},"osg","Object");var a=0;n.getInstanceID=function(){return a+=1},t.exports=n},function(t,e,r){"use strict";var i=r(7),n=r(16).vec3,a=r(16).mat4,s=function(){this._min=n.create(),this._max=n.create(),this.init()};s.prototype=i.objectLibraryClass({init:function(){n.copy(this._min,n.INFINITY),n.copy(this._max,n.NEGATIVE_INFINITY)},copy:function(t){var e=this._min,r=t._min;e[0]=r[0],e[1]=r[1],e[2]=r[2];var i=this._max,n=t._max;i[0]=n[0],i[1]=n[1],i[2]=n[2]},valid:function(){return this._max[0]>=this._min[0]&&this._max[1]>=this._min[1]&&this._max[2]>=this._min[2]},expandByBoundingSphere:function(t){if(t.valid()){var e=this._max,r=this._min,i=t._radius,n=t._center[0],a=t._center[1],s=t._center[2];r[0]=Math.min(r[0],n-i),r[1]=Math.min(r[1],a-i),r[2]=Math.min(r[2],s-i),e[0]=Math.max(e[0],n+i),e[1]=Math.max(e[1],a+i),e[2]=Math.max(e[2],s+i)}},expandByvec3:function(t){var e=this._min,r=this._max;e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),r[0]=Math.max(r[0],t[0]),r[1]=Math.max(r[1],t[1]),r[2]=Math.max(r[2],t[2])},expandByBoundingBox:function(t){if(t.valid()){var e=this._min,r=this._max,i=t._min,n=t._max;i[0]<e[0]&&(e[0]=i[0]),n[0]>r[0]&&(r[0]=n[0]),i[1]<e[1]&&(e[1]=i[1]),n[1]>r[1]&&(r[1]=n[1]),i[2]<e[2]&&(e[2]=i[2]),n[2]>r[2]&&(r[2]=n[2])}},center:function(t){var e=this._min,r=this._max;return t[0]=.5*(e[0]+r[0]),t[1]=.5*(e[1]+r[1]),t[2]=.5*(e[2]+r[2]),t},radius:function(){return Math.sqrt(this.radius2())},radius2:function(){var t=this._min,e=this._max,r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return.25*(r*r+i*i+n*n)},getMin:function(){return this._min},getMax:function(){return this._max},setMin:function(t){return n.copy(this._min,t),this},setMax:function(t){return n.copy(this._max,t),this},xMax:function(){return this._max[0]},yMax:function(){return this._max[1]},zMax:function(){return this._max[2]},xMin:function(){return this._min[0]},yMin:function(){return this._min[1]},zMin:function(){return this._min[2]},corner:function(t,e){return 1&t?e[0]=this._max[0]:e[0]=this._min[0],2&t?e[1]=this._max[1]:e[1]=this._min[1],4&t?e[2]=this._max[2]:e[2]=this._min[2],e},transformMat4:function(){var t=n.create(),e=n.create();return function(r,i){var s=this.getMin(),o=this.getMax();a.getTranslation(t,i),n.copy(e,t);for(var u=0;u<3;++u)for(var h=4*u,c=s[u],l=o[u],d=0;d<3;++d){var f=i[h+d],p=f*l,g=f*c;p<g?(t[d]+=p,e[d]+=g):(t[d]+=g,e[d]+=p)}var _=r.getMax(),m=r.getMin();return _[0]=e[0],_[1]=e[1],_[2]=e[2],m[0]=t[0],m[1]=t[1],m[2]=t[2],r}}()},"osg","BoundingBox"),t.exports=s},function(t,e,r){"use strict";var i=r(17),n=r(18),a=r(19);n.glMatrix.setMatrixArrayType(a.ArrayType),n.glMatrix.EPSILON=1e-9;var s=n.vec2,o=n.vec3,u=n.vec4,h=n.mat4,c=n.mat3,l=n.quat;o.create32=function(){return new Float32Array(3)},o.create64=function(){return new Float64Array(3)},o.fromValues32=function(t,e,r){var i=new Float32Array(3);return i[0]=t,i[1]=e,i[2]=r,i},o.fromValues64=function(t,e,r){var i=new Float64Array(3);return i[0]=t,i[1]=e,i[2]=r,i},o.init=function(t){return o.set(t,0,0,0)},o.transformMat4Rotate=function(t,e,r){var i=e[0],n=e[1],a=e[2];return t[0]=r[0]*i+r[1]*n+r[2]*a,t[1]=r[4]*i+r[5]*n+r[6]*a,t[2]=r[8]*i+r[9]*n+r[10]*a,t},o.valid=function(t){return!i.isNaN(t[0])&&(!i.isNaN(t[1])&&!i.isNaN(t[2]))},o.neg=o.negate,o.ZERO=o.create(),o.ONE=o.fromValues(1,1,1),o.INFINITY=o.fromValues(1/0,1/0,1/0),o.NEGATIVE_INFINITY=o.fromValues(-(1/0),-(1/0),-(1/0)),s.create32=function(){return new Float32Array(2)},s.create64=function(){return new Float64Array(2)},s.fromValues32=function(t,e){var r=new Float32Array(2);return r[0]=t,r[1]=e,r},s.fromValues64=function(t,e){var r=new Float64Array(2);return r[0]=t,r[1]=e,r},s.init=function(t){return s.set(t,0,0)},s.valid=function(t){return!i.isNaN(t[0])&&!i.isNaN(t[1])},s.ZERO=s.create(),s.ONE=s.fromValues(1,1),s.INFINITY=s.fromValues(1/0,1/0),s.NEGATIVE_INFINITY=s.fromValues(-(1/0),-(1/0)),u.create32=function(){return new Float32Array(4)},u.create64=function(){return new Float64Array(4)},u.fromValues32=function(t,e,r,i){var n=new Float32Array(4);return n[0]=t,n[1]=e,n[2]=r,n[3]=i,n},u.fromValues64=function(t,e,r,i){var n=new Float64Array(4);return n[0]=t,n[1]=e,n[2]=r,n[3]=i,n},u.init=function(t){return u.set(t,0,0,0,0)},u.valid=function(t){return!i.isNaN(t[0])&&(!i.isNaN(t[1])&&(!i.isNaN(t[2])&&!i.isNaN(t[3])))},u.neg=u.negate,u.ZERO=u.create(),u.ONE=u.fromValues(1,1,1,1),u.INFINITY=u.fromValues(1/0,1/0,1/0,1/0),u.NEGATIVE_INFINITY=u.fromValues(-(1/0),-(1/0),-(1/0),-(1/0)),l.IDENTITY=l.create(),l.zeroRotation=function(t){return 0===t[0]&&0===t[1]&&0===t[2]&&1===t[3]},l.create32=function(){var t=new Float32Array(4);return t[3]=1,t},l.create64=function(){var t=new Float64Array(4);return t[3]=1,t},l.fromValues32=u.fromValues32,l.fromValues64=u.fromValues64,l.init=l.identity,l.nlerp=function(t,e,r,i){var n,a,s,o,u=e[0],h=e[1],c=e[2],l=e[3],d=r[0],f=r[1],p=r[2],g=r[3],_=u*d+h*f+c*p+l*g,m=1-i;_<0?(n=u*m-d*i,a=h*m-f*i,s=c*m-p*i,o=l*m-g*i):(n=u*m+d*i,a=h*m+f*i,s=c*m+p*i,o=l*m+g*i);var v=1/Math.sqrt(n*n+a*a+s*s+o*o);return t[0]=n*v,t[1]=a*v,t[2]=s*v,t[3]=o*v,t},c.IDENTITY=c.create(),c.create32=function(){var t=new Float32Array(9);return t[0]=t[4]=t[8]=1,t},c.create64=function(){var t=new Float64Array(9);return t[0]=t[4]=t[8]=1,t},h.IDENTITY=h.create(),h.create32=function(){var t=new Float32Array(16);return t[0]=t[5]=t[10]=t[15]=1,t},h.create64=function(){var t=new Float64Array(16);return t[0]=t[5]=t[10]=t[15]=1,t},h.setTranslation=function(t,e){return t[12]=e[0],t[13]=e[1],t[14]=e[2],t},h.getFrustum=function(t,e){var r,i,n=0,a=0,s=0,o=0;
if(0!==e[3]||0!==e[7]||e[11]!==-1||0!==e[15])return!1;var u=e[14]/(e[10]-1),h=e[14]/(1+e[10]);return a=u*(e[8]-1)/e[0],n=u*(1+e[8])/e[0],s=u*(1+e[9])/e[5],o=u*(e[9]-1)/e[5],r=u,i=h,t.left=a,t.right=n,t.top=s,t.bottom=o,t.zNear=r,t.zFar=i,!0},h.getPerspective=function(){var t={right:0,left:0,top:0,bottom:0,zNear:0,zFar:0};return function(e,r){var i=h.getFrustum(t,r);return i&&(e.fovy=180/Math.PI*(Math.atan(t.top/t.zNear)-Math.atan(t.bottom/t.zNear)),e.aspectRatio=(t.right-t.left)/(t.top-t.bottom)),e.zNear=t.zNear,e.zFar=t.zFar,e}}(),h.getLookAt=function(){var t=h.create(),e=o.create(),r=o.fromValues(0,1,0),i=o.fromValues(0,0,-1);return function(n,a,s,u,c){var l=void 0!==c?c:1;h.invert(t,u),h.getTranslation(n,t),o.transformMat4Rotate(s,r,u),o.transformMat4Rotate(a,i,u),o.normalize(a,a),o.add(a,o.scale(e,a,l),n)}}(),h.getFrustumPlanes=function(){var t=h.create();return function(e,r,i,n){h.mul(t,r,i);var a=!!n,s=e[0];s[0]=t[3]-t[0],s[1]=t[7]-t[4],s[2]=t[11]-t[8],s[3]=t[15]-t[12];var o=e[1];o[0]=t[3]+t[0],o[1]=t[7]+t[4],o[2]=t[11]+t[8],o[3]=t[15]+t[12];var u=e[2];u[0]=t[3]+t[1],u[1]=t[7]+t[5],u[2]=t[11]+t[9],u[3]=t[15]+t[13];var c=e[3];c[0]=t[3]-t[1],c[1]=t[7]-t[5],c[2]=t[11]-t[9],c[3]=t[15]-t[13];var l=4;if(a){l=6;var d=e[4];d[0]=t[3]-t[2],d[1]=t[7]-t[6],d[2]=t[11]-t[10],d[3]=t[15]-t[14];var f=e[5];f[0]=t[3]+t[2],f[1]=t[7]+t[6],f[2]=t[11]+t[10],f[3]=t[15]+t[14]}for(var p=0;p<l;p++){var g=e[p],_=1/Math.sqrt(g[0]*g[0]+g[1]*g[1]+g[2]*g[2]);g[0]*=_,g[1]*=_,g[2]*=_,g[3]*=_}}}(),h.infiniteFrustum=function(t,e,r,i,n,a){var s=2*a/(r-e),o=2*a/(n-i),u=(r+e)/(r-e),h=(n+i)/(n-i),c=-1;return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=u,t[9]=h,t[10]=c,t[11]=-1,t[12]=0,t[13]=0,t[14]=-2*a,t[15]=0,t},h.lookAtDirection=function(){var t=o.create(),e=o.create(),r=o.create();return function(i,n,a,s){var u=a;return o.cross(t,u,s),o.normalize(t,t),o.cross(e,t,u),o.normalize(e,e),i[0]=t[0],i[1]=e[0],i[2]=-u[0],i[3]=0,i[4]=t[1],i[5]=e[1],i[6]=-u[1],i[7]=0,i[8]=t[2],i[9]=e[2],i[10]=-u[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,h.translate(i,i,o.neg(r,n))}}(),h.getScale=function(){var t=o.create(),e=o.create(),r=o.create();return function(i,n){return t[0]=n[0],t[1]=n[4],t[2]=n[8],e[0]=n[1],e[1]=n[5],e[2]=n[9],r[0]=n[2],r[1]=n[6],r[2]=n[10],i[0]=o.length(t),i[1]=o.length(e),i[2]=o.length(r),i}}(),h.getSqrScale=function(){var t=o.create(),e=o.create(),r=o.create();return function(i,n){return t[0]=n[0],t[1]=n[4],t[2]=n[8],e[0]=n[1],e[1]=n[5],e[2]=n[9],r[0]=n[2],r[1]=n[6],r[2]=n[10],i[0]=o.sqrLen(t),i[1]=o.sqrLen(e),i[2]=o.sqrLen(r),i}}();var d=h.rotate;h.rotate=function(t,e,r,i){return d(t,e,r,i)||h.identity(t)};var f=h.fromRotation;h.fromRotation=function(t,e,r){return f(t,e,r)||h.identity(t)},t.exports=n},function(t,e){"use strict";var r=function(t,e,r){return Math.min(r,Math.max(e,t))},i=function(t,e,r){if(r<=t)return 0;if(r>=e)return 1;var i=(r-t)/(e-t);return i*i*(3-2*i)},n=function(t){return t!==t};t.exports={clamp:r,smoothStep:i,isNaN:n}},function(t,e,r){!function(e,r){t.exports=r()}(this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,r){"use strict";function i(t){e.ARRAY_TYPE=o=t}function n(t){return t*u}function a(t,e){return Math.abs(t-e)<=s*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=i,e.toRadian=n,e.equals=a;var s=e.EPSILON=1e-6,o=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function n(){var t=new L.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function s(t){var e=new L.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,r,i,n,a,s,o,u){var h=new L.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=r,h[3]=i,h[4]=n,h[5]=a,h[6]=s,h[7]=o,h[8]=u,h}function h(t,e,r,i,n,a,s,o,u,h){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=a,t[5]=s,t[6]=o,t[7]=u,t[8]=h,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(t,e){if(t===e){var r=e[1],i=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=i,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function d(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=c*s-o*h,d=-c*a+o*u,f=h*a-s*u,p=r*l+i*d+n*f;return p?(p=1/p,t[0]=l*p,t[1]=(-c*i+n*h)*p,t[2]=(o*i-n*s)*p,t[3]=d*p,t[4]=(c*r-n*u)*p,t[5]=(-o*r+n*a)*p,t[6]=f*p,t[7]=(-h*r+i*u)*p,t[8]=(s*r-i*a)*p,t):null}function f(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8];return t[0]=s*c-o*h,t[1]=n*h-i*c,t[2]=i*o-n*s,t[3]=o*u-a*c,t[4]=r*c-n*u,t[5]=n*a-r*o,t[6]=a*h-s*u,t[7]=i*u-r*h,t[8]=r*s-i*a,t}function p(t){var e=t[0],r=t[1],i=t[2],n=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8];return e*(h*a-s*u)+r*(-h*n+s*o)+i*(u*n-a*o)}function g(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],d=r[0],f=r[1],p=r[2],g=r[3],_=r[4],m=r[5],v=r[6],b=r[7],x=r[8];return t[0]=d*i+f*s+p*h,t[1]=d*n+f*o+p*c,t[2]=d*a+f*u+p*l,t[3]=g*i+_*s+m*h,t[4]=g*n+_*o+m*c,t[5]=g*a+_*u+m*l,t[6]=v*i+b*s+x*h,t[7]=v*n+b*o+x*c,t[8]=v*a+b*u+x*l,t}function _(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],d=r[0],f=r[1];return t[0]=i,t[1]=n,t[2]=a,t[3]=s,t[4]=o,t[5]=u,t[6]=d*i+f*s+h,t[7]=d*n+f*o+c,t[8]=d*a+f*u+l,t}function m(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],d=Math.sin(r),f=Math.cos(r);return t[0]=f*i+d*s,t[1]=f*n+d*o,t[2]=f*a+d*u,t[3]=f*s-d*i,t[4]=f*o-d*n,t[5]=f*u-d*a,t[6]=h,t[7]=c,t[8]=l,t}function v(t,e,r){var i=r[0],n=r[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function x(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=r,t[2]=0,t[3]=-r,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function T(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r+r,o=i+i,u=n+n,h=r*s,c=i*s,l=i*o,d=n*s,f=n*o,p=n*u,g=a*s,_=a*o,m=a*u;return t[0]=1-l-p,t[3]=c-m,t[6]=d+_,t[1]=c+m,t[4]=1-h-p,t[7]=f-g,t[2]=d-_,t[5]=f+g,t[8]=1-h-l,t}function M(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],d=e[10],f=e[11],p=e[12],g=e[13],_=e[14],m=e[15],v=r*o-i*s,b=r*u-n*s,x=r*h-a*s,y=i*u-n*o,S=i*h-a*o,T=n*h-a*u,M=c*g-l*p,A=c*_-d*p,w=c*m-f*p,C=l*_-d*g,E=l*m-f*g,R=d*m-f*_,N=v*R-b*E+x*C+y*w-S*A+T*M;return N?(N=1/N,t[0]=(o*R-u*E+h*C)*N,t[1]=(u*w-s*R-h*A)*N,t[2]=(s*E-o*w+h*M)*N,t[3]=(n*E-i*R-a*C)*N,t[4]=(r*R-n*w+a*A)*N,t[5]=(i*w-r*E-a*M)*N,t[6]=(g*T-_*S+m*y)*N,t[7]=(_*x-p*T-m*b)*N,t[8]=(p*S-g*x+m*v)*N,t):null}function A(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function w(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function C(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function E(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function R(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function N(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function I(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t[4]=e[4]+r[4]*i,t[5]=e[5]+r[5]*i,t[6]=e[6]+r[6]*i,t[7]=e[7]+r[7]*i,t[8]=e[8]+r[8]*i,t}function k(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function O(t,e){var r=t[0],i=t[1],n=t[2],a=t[3],s=t[4],o=t[5],u=t[6],h=t[7],c=t[8],l=e[0],d=e[1],f=e[2],p=e[3],g=e[4],_=e[5],m=e[6],v=e[7],b=e[8];return Math.abs(r-l)<=L.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-d)<=L.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(n-f)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-p)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-g)<=L.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-_)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(u-m)<=L.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(h-v)<=L.EPSILON*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(c-b)<=L.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.fromMat4=a,e.clone=s,e.copy=o,e.fromValues=u,e.set=h,e.identity=c,e.transpose=l,e.invert=d,e.adjoint=f,e.determinant=p,e.multiply=g,e.translate=_,e.rotate=m,e.scale=v,e.fromTranslation=b,e.fromRotation=x,e.fromScaling=y,e.fromMat2d=S,e.fromQuat=T,e.normalFromMat4=M,e.projection=A,e.str=w,e.frob=C,e.add=E,e.subtract=R,e.multiplyScalar=N,e.multiplyScalarAndAdd=I,e.exactEquals=k,e.equals=O;var P=r(0),L=i(P);e.mul=g,e.sub=R},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function n(){var t=new q.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function a(t){var e=new q.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(t){var e=t[0],r=t[1],i=t[2];return Math.sqrt(e*e+r*r+i*i)}function o(t,e,r){var i=new q.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=r,i}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function h(t,e,r,i){return t[0]=e,t[1]=r,t[2]=i,t}function c(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function l(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function d(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function f(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function _(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function m(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function b(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function x(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t}function y(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}function S(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return r*r+i*i+n*n}function T(t){var e=t[0],r=t[1],i=t[2];return e*e+r*r+i*i}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function A(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function w(t,e){var r=e[0],i=e[1],n=e[2],a=r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function C(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function E(t,e,r){var i=e[0],n=e[1],a=e[2],s=r[0],o=r[1],u=r[2];return t[0]=n*u-a*o,t[1]=a*s-i*u,t[2]=i*o-n*s,t}function R(t,e,r,i){var n=e[0],a=e[1],s=e[2];return t[0]=n+i*(r[0]-n),t[1]=a+i*(r[1]-a),t[2]=s+i*(r[2]-s),t}function N(t,e,r,i,n,a){var s=a*a,o=s*(2*a-3)+1,u=s*(a-2)+a,h=s*(a-1),c=s*(3-2*a);return t[0]=e[0]*o+r[0]*u+i[0]*h+n[0]*c,t[1]=e[1]*o+r[1]*u+i[1]*h+n[1]*c,t[2]=e[2]*o+r[2]*u+i[2]*h+n[2]*c,t}function I(t,e,r,i,n,a){var s=1-a,o=s*s,u=a*a,h=o*s,c=3*a*o,l=3*u*s,d=u*a;return t[0]=e[0]*h+r[0]*c+i[0]*l+n[0]*d,t[1]=e[1]*h+r[1]*c+i[1]*l+n[1]*d,t[2]=e[2]*h+r[2]*c+i[2]*l+n[2]*d,t}function k(t,e){e=e||1;var r=2*q.RANDOM()*Math.PI,i=2*q.RANDOM()-1,n=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t[2]=i*e,t}function O(t,e,r){var i=e[0],n=e[1],a=e[2],s=r[3]*i+r[7]*n+r[11]*a+r[15];return s=s||1,t[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/s,t[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/s,t[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/s,t}function P(t,e,r){var i=e[0],n=e[1],a=e[2];return t[0]=i*r[0]+n*r[3]+a*r[6],t[1]=i*r[1]+n*r[4]+a*r[7],t[2]=i*r[2]+n*r[5]+a*r[8],t}function L(t,e,r){var i=e[0],n=e[1],a=e[2],s=r[0],o=r[1],u=r[2],h=r[3],c=h*i+o*a-u*n,l=h*n+u*i-s*a,d=h*a+s*n-o*i,f=-s*i-o*n-u*a;return t[0]=c*h+f*-s+l*-u-d*-o,t[1]=l*h+f*-o+d*-s-c*-u,t[2]=d*h+f*-u+c*-o-l*-s,t}function F(t,e,r,i){var n=[],a=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],a[0]=n[0],a[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),a[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function V(t,e,r,i){var n=[],a=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],a[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),a[1]=n[1],a[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function D(t,e,r,i){var n=[],a=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],a[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),a[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),a[2]=n[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function B(t,e){var r=o(t[0],t[1],t[2]),i=o(e[0],e[1],e[2]);w(r,r),w(i,i);var n=C(r,i);return n>1?0:n<-1?Math.PI:Math.acos(n)}function U(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function j(t,e){var r=t[0],i=t[1],n=t[2],a=e[0],s=e[1],o=e[2];return Math.abs(r-a)<=q.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=q.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-o)<=q.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=a,e.length=s,e.fromValues=o,e.copy=u,e.set=h,e.add=c,e.subtract=l,e.multiply=d,e.divide=f,e.ceil=p,e.floor=g,e.min=_,e.max=m,e.round=v,e.scale=b,e.scaleAndAdd=x,e.distance=y,e.squaredDistance=S,e.squaredLength=T,e.negate=M,e.inverse=A,e.normalize=w,e.dot=C,e.cross=E,e.lerp=R,e.hermite=N,e.bezier=I,e.random=k,e.transformMat4=O,e.transformMat3=P,e.transformQuat=L,e.rotateX=F,e.rotateY=V,e.rotateZ=D,e.angle=B,e.str=U,e.exactEquals=G,e.equals=j;var z=r(0),q=i(z);e.sub=l,e.mul=d,e.div=f,e.dist=y,e.sqrDist=S,e.len=s,e.sqrLen=T,e.forEach=function(){var t=n();return function(e,r,i,n,a,s){var o=void 0,u=void 0;for(r||(r=3),i||(i=0),u=n?Math.min(n*r+i,e.length):e.length,o=i;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}}()},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function n(){var t=new F.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function a(t){var e=new F.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(t,e,r,i){var n=new F.ARRAY_TYPE(4);return n[0]=t,n[1]=e,n[2]=r,n[3]=i,n}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}function h(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function d(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function g(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function _(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function v(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function b(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t}function x(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+i*i+n*n+a*a)}function y(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2],a=e[3]-t[3];return r*r+i*i+n*n+a*a}function S(t){var e=t[0],r=t[1],i=t[2],n=t[3];return Math.sqrt(e*e+r*r+i*i+n*n)}function T(t){var e=t[0],r=t[1],i=t[2],n=t[3];return e*e+r*r+i*i+n*n}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function A(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function w(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r*r+i*i+n*n+a*a;return s>0&&(s=1/Math.sqrt(s),t[0]=r*s,t[1]=i*s,t[2]=n*s,t[3]=a*s),t}function C(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function E(t,e,r,i){var n=e[0],a=e[1],s=e[2],o=e[3];return t[0]=n+i*(r[0]-n),t[1]=a+i*(r[1]-a),t[2]=s+i*(r[2]-s),t[3]=o+i*(r[3]-o),t}function R(t,e){return e=e||1,t[0]=F.RANDOM(),t[1]=F.RANDOM(),t[2]=F.RANDOM(),t[3]=F.RANDOM(),w(t,t),v(t,t,e),t}function N(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3];return t[0]=r[0]*i+r[4]*n+r[8]*a+r[12]*s,t[1]=r[1]*i+r[5]*n+r[9]*a+r[13]*s,t[2]=r[2]*i+r[6]*n+r[10]*a+r[14]*s,t[3]=r[3]*i+r[7]*n+r[11]*a+r[15]*s,t}function I(t,e,r){var i=e[0],n=e[1],a=e[2],s=r[0],o=r[1],u=r[2],h=r[3],c=h*i+o*a-u*n,l=h*n+u*i-s*a,d=h*a+s*n-o*i,f=-s*i-o*n-u*a;return t[0]=c*h+f*-s+l*-u-d*-o,t[1]=l*h+f*-o+d*-s-c*-u,t[2]=d*h+f*-u+c*-o-l*-s,t[3]=e[3],t}function k(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function O(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function P(t,e){var r=t[0],i=t[1],n=t[2],a=t[3],s=e[0],o=e[1],u=e[2],h=e[3];return Math.abs(r-s)<=F.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-o)<=F.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-u)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-h)<=F.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=a,e.fromValues=s,e.copy=o,e.set=u,e.add=h,e.subtract=c,e.multiply=l,e.divide=d,e.ceil=f,e.floor=p,e.min=g,e.max=_,e.round=m,e.scale=v,e.scaleAndAdd=b,e.distance=x,e.squaredDistance=y,e.length=S,e.squaredLength=T,e.negate=M,e.inverse=A,e.normalize=w,e.dot=C,e.lerp=E,e.random=R,e.transformMat4=N,e.transformQuat=I,e.str=k,e.exactEquals=O,e.equals=P;var L=r(0),F=i(L);e.sub=c,e.mul=l,e.div=d,e.dist=x,e.sqrDist=y,e.len=S,e.sqrLen=T,e.forEach=function(){var t=n();return function(e,r,i,n,a,s){var o=void 0,u=void 0;for(r||(r=4),i||(i=0),u=n?Math.min(n*r+i,e.length):e.length,o=i;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}}()},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var n=r(0),a=i(n),s=r(5),o=i(s),u=r(6),h=i(u),c=r(1),l=i(c),d=r(7),f=i(d),p=r(8),g=i(p),_=r(9),m=i(_),v=r(2),b=i(v),x=r(3),y=i(x);e.glMatrix=a,e.mat2=o,e.mat2d=h,e.mat3=l,e.mat4=f,e.quat=g,e.vec2=m,e.vec3=b,e.vec4=y},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function n(){var t=new R.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t){var e=new R.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function u(t,e,r,i){var n=new R.ARRAY_TYPE(4);return n[0]=t,n[1]=e,n[2]=r,n[3]=i,n}function h(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}function c(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function l(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r*a-n*i;return s?(s=1/s,t[0]=a*s,t[1]=-i*s,t[2]=-n*s,t[3]=r*s,t):null}function d(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function f(t){return t[0]*t[3]-t[2]*t[1]}function p(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=r[0],u=r[1],h=r[2],c=r[3];return t[0]=i*o+a*u,t[1]=n*o+s*u,t[2]=i*h+a*c,t[3]=n*h+s*c,t}function g(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u+a*o,t[1]=n*u+s*o,t[2]=i*-o+a*u,t[3]=n*-o+s*u,t}function _(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=r[0],u=r[1];return t[0]=i*o,t[1]=n*o,t[2]=a*u,t[3]=s*u,t}function m(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=r,t[2]=-r,t[3]=i,t}function v(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function b(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function x(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function y(t,e,r,i){return t[2]=i[2]/i[0],r[0]=i[0],r[1]=i[1],r[3]=i[3]-t[2]*r[1],[t,e,r]}function S(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function T(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function M(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function A(t,e){var r=t[0],i=t[1],n=t[2],a=t[3],s=e[0],o=e[1],u=e[2],h=e[3];return Math.abs(r-s)<=R.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-o)<=R.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-u)<=R.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-h)<=R.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}function w(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function C(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=a,e.copy=s,e.identity=o,e.fromValues=u,e.set=h,e.transpose=c,e.invert=l,e.adjoint=d,e.determinant=f,e.multiply=p,e.rotate=g,e.scale=_,e.fromRotation=m,e.fromScaling=v,e.str=b,e.frob=x,e.LDU=y,e.add=S,e.subtract=T,e.exactEquals=M,e.equals=A,e.multiplyScalar=w,e.multiplyScalarAndAdd=C;var E=r(0),R=i(E);e.mul=p,e.sub=T},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function n(){var t=new E.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t){var e=new E.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function u(t,e,r,i,n,a){var s=new E.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s[4]=n,s[5]=a,s}function h(t,e,r,i,n,a,s){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=a,t[5]=s,t}function c(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=r*a-i*n;return u?(u=1/u,t[0]=a*u,t[1]=-i*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*o-a*s)*u,t[5]=(i*s-r*o)*u,t):null}function l(t){return t[0]*t[3]-t[1]*t[2]}function d(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1],l=r[2],d=r[3],f=r[4],p=r[5];return t[0]=i*h+a*c,t[1]=n*h+s*c,t[2]=i*l+a*d,t[3]=n*l+s*d,t[4]=i*f+a*p+o,t[5]=n*f+s*p+u,t}function f(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=Math.sin(r),c=Math.cos(r);return t[0]=i*c+a*h,t[1]=n*c+s*h,t[2]=i*-h+a*c,t[3]=n*-h+s*c,t[4]=o,t[5]=u,t}function p(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1];return t[0]=i*h,t[1]=n*h,t[2]=a*c,t[3]=s*c,t[4]=o,t[5]=u,t}function g(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1];return t[0]=i,t[1]=n,t[2]=a,t[3]=s,t[4]=i*h+a*c+o,t[5]=n*h+s*c+u,t}function _(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=r,t[2]=-r,t[3]=i,t[4]=0,t[5]=0,t}function m(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function v(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function b(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function x(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function y(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function S(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function T(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function M(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t[4]=e[4]+r[4]*i,t[5]=e[5]+r[5]*i,t}function A(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function w(t,e){var r=t[0],i=t[1],n=t[2],a=t[3],s=t[4],o=t[5],u=e[0],h=e[1],c=e[2],l=e[3],d=e[4],f=e[5];return Math.abs(r-u)<=E.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-h)<=E.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-c)<=E.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-l)<=E.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(s-d)<=E.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(o-f)<=E.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=a,e.copy=s,e.identity=o,e.fromValues=u,e.set=h,e.invert=c,e.determinant=l,e.multiply=d,e.rotate=f,e.scale=p,e.translate=g,e.fromRotation=_,e.fromScaling=m,e.fromTranslation=v,e.str=b,e.frob=x,e.add=y,e.subtract=S,e.multiplyScalar=T,e.multiplyScalarAndAdd=M,e.exactEquals=A,e.equals=w;var C=r(0),E=i(C);e.mul=d,e.sub=S},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function n(){var t=new K.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t){var e=new K.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t,e,r,i,n,a,s,o,u,h,c,l,d,f,p,g){var _=new K.ARRAY_TYPE(16);return _[0]=t,_[1]=e,_[2]=r,_[3]=i,_[4]=n,_[5]=a,_[6]=s,_[7]=o,_[8]=u,_[9]=h,_[10]=c,_[11]=l,_[12]=d,_[13]=f,_[14]=p,_[15]=g,_}function u(t,e,r,i,n,a,s,o,u,h,c,l,d,f,p,g,_){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=a,t[5]=s,t[6]=o,t[7]=u,t[8]=h,t[9]=c,t[10]=l,t[11]=d,t[12]=f,t[13]=p,t[14]=g,t[15]=_,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var r=e[1],i=e[2],n=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=a,t[11]=e[14],t[12]=n,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function l(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],d=e[10],f=e[11],p=e[12],g=e[13],_=e[14],m=e[15],v=r*o-i*s,b=r*u-n*s,x=r*h-a*s,y=i*u-n*o,S=i*h-a*o,T=n*h-a*u,M=c*g-l*p,A=c*_-d*p,w=c*m-f*p,C=l*_-d*g,E=l*m-f*g,R=d*m-f*_,N=v*R-b*E+x*C+y*w-S*A+T*M;return N?(N=1/N,t[0]=(o*R-u*E+h*C)*N,t[1]=(n*E-i*R-a*C)*N,t[2]=(g*T-_*S+m*y)*N,t[3]=(d*S-l*T-f*y)*N,t[4]=(u*w-s*R-h*A)*N,t[5]=(r*R-n*w+a*A)*N,t[6]=(_*x-p*T-m*b)*N,t[7]=(c*T-d*x+f*b)*N,t[8]=(s*E-o*w+h*M)*N,t[9]=(i*w-r*E-a*M)*N,t[10]=(p*S-g*x+m*v)*N,t[11]=(l*x-c*S-f*v)*N,t[12]=(o*A-s*C-u*M)*N,t[13]=(r*C-i*A+n*M)*N,t[14]=(g*b-p*y-_*v)*N,t[15]=(c*y-l*b+d*v)*N,t):null}function d(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],d=e[10],f=e[11],p=e[12],g=e[13],_=e[14],m=e[15];return t[0]=o*(d*m-f*_)-l*(u*m-h*_)+g*(u*f-h*d),t[1]=-(i*(d*m-f*_)-l*(n*m-a*_)+g*(n*f-a*d)),t[2]=i*(u*m-h*_)-o*(n*m-a*_)+g*(n*h-a*u),t[3]=-(i*(u*f-h*d)-o*(n*f-a*d)+l*(n*h-a*u)),t[4]=-(s*(d*m-f*_)-c*(u*m-h*_)+p*(u*f-h*d)),t[5]=r*(d*m-f*_)-c*(n*m-a*_)+p*(n*f-a*d),t[6]=-(r*(u*m-h*_)-s*(n*m-a*_)+p*(n*h-a*u)),t[7]=r*(u*f-h*d)-s*(n*f-a*d)+c*(n*h-a*u),t[8]=s*(l*m-f*g)-c*(o*m-h*g)+p*(o*f-h*l),t[9]=-(r*(l*m-f*g)-c*(i*m-a*g)+p*(i*f-a*l)),t[10]=r*(o*m-h*g)-s*(i*m-a*g)+p*(i*h-a*o),t[11]=-(r*(o*f-h*l)-s*(i*f-a*l)+c*(i*h-a*o)),t[12]=-(s*(l*_-d*g)-c*(o*_-u*g)+p*(o*d-u*l)),t[13]=r*(l*_-d*g)-c*(i*_-n*g)+p*(i*d-n*l),t[14]=-(r*(o*_-u*g)-s*(i*_-n*g)+p*(i*u-n*o)),t[15]=r*(o*d-u*l)-s*(i*d-n*l)+c*(i*u-n*o),t}function f(t){var e=t[0],r=t[1],i=t[2],n=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],d=t[11],f=t[12],p=t[13],g=t[14],_=t[15],m=e*s-r*a,v=e*o-i*a,b=e*u-n*a,x=r*o-i*s,y=r*u-n*s,S=i*u-n*o,T=h*p-c*f,M=h*g-l*f,A=h*_-d*f,w=c*g-l*p,C=c*_-d*p,E=l*_-d*g;return m*E-v*C+b*w+x*A-y*M+S*T}function p(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],d=e[9],f=e[10],p=e[11],g=e[12],_=e[13],m=e[14],v=e[15],b=r[0],x=r[1],y=r[2],S=r[3];return t[0]=b*i+x*o+y*l+S*g,t[1]=b*n+x*u+y*d+S*_,t[2]=b*a+x*h+y*f+S*m,t[3]=b*s+x*c+y*p+S*v,b=r[4],x=r[5],y=r[6],S=r[7],t[4]=b*i+x*o+y*l+S*g,t[5]=b*n+x*u+y*d+S*_,t[6]=b*a+x*h+y*f+S*m,t[7]=b*s+x*c+y*p+S*v,b=r[8],x=r[9],y=r[10],S=r[11],t[8]=b*i+x*o+y*l+S*g,t[9]=b*n+x*u+y*d+S*_,t[10]=b*a+x*h+y*f+S*m,t[11]=b*s+x*c+y*p+S*v,b=r[12],x=r[13],y=r[14],S=r[15],t[12]=b*i+x*o+y*l+S*g,t[13]=b*n+x*u+y*d+S*_,t[14]=b*a+x*h+y*f+S*m,t[15]=b*s+x*c+y*p+S*v,t}function g(t,e,r){var i=r[0],n=r[1],a=r[2],s=void 0,o=void 0,u=void 0,h=void 0,c=void 0,l=void 0,d=void 0,f=void 0,p=void 0,g=void 0,_=void 0,m=void 0;return e===t?(t[12]=e[0]*i+e[4]*n+e[8]*a+e[12],t[13]=e[1]*i+e[5]*n+e[9]*a+e[13],t[14]=e[2]*i+e[6]*n+e[10]*a+e[14],t[15]=e[3]*i+e[7]*n+e[11]*a+e[15]):(s=e[0],o=e[1],u=e[2],h=e[3],c=e[4],l=e[5],d=e[6],f=e[7],p=e[8],g=e[9],_=e[10],m=e[11],t[0]=s,t[1]=o,t[2]=u,t[3]=h,t[4]=c,t[5]=l,t[6]=d,t[7]=f,t[8]=p,t[9]=g,t[10]=_,t[11]=m,t[12]=s*i+c*n+p*a+e[12],t[13]=o*i+l*n+g*a+e[13],t[14]=u*i+d*n+_*a+e[14],t[15]=h*i+f*n+m*a+e[15]),t}function _(t,e,r){var i=r[0],n=r[1],a=r[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function m(t,e,r,i){var n=i[0],a=i[1],s=i[2],o=Math.sqrt(n*n+a*a+s*s),u=void 0,h=void 0,c=void 0,l=void 0,d=void 0,f=void 0,p=void 0,g=void 0,_=void 0,m=void 0,v=void 0,b=void 0,x=void 0,y=void 0,S=void 0,T=void 0,M=void 0,A=void 0,w=void 0,C=void 0,E=void 0,R=void 0,N=void 0,I=void 0;return Math.abs(o)<K.EPSILON?null:(o=1/o,n*=o,a*=o,s*=o,u=Math.sin(r),h=Math.cos(r),c=1-h,l=e[0],d=e[1],f=e[2],p=e[3],g=e[4],_=e[5],m=e[6],v=e[7],b=e[8],x=e[9],y=e[10],S=e[11],T=n*n*c+h,M=a*n*c+s*u,A=s*n*c-a*u,
w=n*a*c-s*u,C=a*a*c+h,E=s*a*c+n*u,R=n*s*c+a*u,N=a*s*c-n*u,I=s*s*c+h,t[0]=l*T+g*M+b*A,t[1]=d*T+_*M+x*A,t[2]=f*T+m*M+y*A,t[3]=p*T+v*M+S*A,t[4]=l*w+g*C+b*E,t[5]=d*w+_*C+x*E,t[6]=f*w+m*C+y*E,t[7]=p*w+v*C+S*E,t[8]=l*R+g*N+b*I,t[9]=d*R+_*N+x*I,t[10]=f*R+m*N+y*I,t[11]=p*R+v*N+S*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function v(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[4],s=e[5],o=e[6],u=e[7],h=e[8],c=e[9],l=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*n+h*i,t[5]=s*n+c*i,t[6]=o*n+l*i,t[7]=u*n+d*i,t[8]=h*n-a*i,t[9]=c*n-s*i,t[10]=l*n-o*i,t[11]=d*n-u*i,t}function b(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[0],s=e[1],o=e[2],u=e[3],h=e[8],c=e[9],l=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n-h*i,t[1]=s*n-c*i,t[2]=o*n-l*i,t[3]=u*n-d*i,t[8]=a*i+h*n,t[9]=s*i+c*n,t[10]=o*i+l*n,t[11]=u*i+d*n,t}function x(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[0],s=e[1],o=e[2],u=e[3],h=e[4],c=e[5],l=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n+h*i,t[1]=s*n+c*i,t[2]=o*n+l*i,t[3]=u*n+d*i,t[4]=h*n-a*i,t[5]=c*n-s*i,t[6]=l*n-o*i,t[7]=d*n-u*i,t}function y(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function S(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e,r){var i=r[0],n=r[1],a=r[2],s=Math.sqrt(i*i+n*n+a*a),o=void 0,u=void 0,h=void 0;return Math.abs(s)<K.EPSILON?null:(s=1/s,i*=s,n*=s,a*=s,o=Math.sin(e),u=Math.cos(e),h=1-u,t[0]=i*i*h+u,t[1]=n*i*h+a*o,t[2]=a*i*h-n*o,t[3]=0,t[4]=i*n*h-a*o,t[5]=n*n*h+u,t[6]=a*n*h+i*o,t[7]=0,t[8]=i*a*h+n*o,t[9]=n*a*h-i*o,t[10]=a*a*h+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function M(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function w(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=i+i,u=n+n,h=a+a,c=i*o,l=i*u,d=i*h,f=n*u,p=n*h,g=a*h,_=s*o,m=s*u,v=s*h;return t[0]=1-(f+g),t[1]=l+v,t[2]=d-m,t[3]=0,t[4]=l-v,t[5]=1-(c+g),t[6]=p+_,t[7]=0,t[8]=d+m,t[9]=p-_,t[10]=1-(c+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function E(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function R(t,e){var r=e[0],i=e[1],n=e[2],a=e[4],s=e[5],o=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.sqrt(r*r+i*i+n*n),t[1]=Math.sqrt(a*a+s*s+o*o),t[2]=Math.sqrt(u*u+h*h+c*c),t}function N(t,e){var r=e[0]+e[5]+e[10],i=0;return r>0?(i=2*Math.sqrt(r+1),t[3]=.25*i,t[0]=(e[6]-e[9])/i,t[1]=(e[8]-e[2])/i,t[2]=(e[1]-e[4])/i):e[0]>e[5]&e[0]>e[10]?(i=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/i,t[0]=.25*i,t[1]=(e[1]+e[4])/i,t[2]=(e[8]+e[2])/i):e[5]>e[10]?(i=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/i,t[0]=(e[1]+e[4])/i,t[1]=.25*i,t[2]=(e[6]+e[9])/i):(i=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/i,t[0]=(e[8]+e[2])/i,t[1]=(e[6]+e[9])/i,t[2]=.25*i),t}function I(t,e,r,i){var n=e[0],a=e[1],s=e[2],o=e[3],u=n+n,h=a+a,c=s+s,l=n*u,d=n*h,f=n*c,p=a*h,g=a*c,_=s*c,m=o*u,v=o*h,b=o*c,x=i[0],y=i[1],S=i[2];return t[0]=(1-(p+_))*x,t[1]=(d+b)*x,t[2]=(f-v)*x,t[3]=0,t[4]=(d-b)*y,t[5]=(1-(l+_))*y,t[6]=(g+m)*y,t[7]=0,t[8]=(f+v)*S,t[9]=(g-m)*S,t[10]=(1-(l+p))*S,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function k(t,e,r,i,n){var a=e[0],s=e[1],o=e[2],u=e[3],h=a+a,c=s+s,l=o+o,d=a*h,f=a*c,p=a*l,g=s*c,_=s*l,m=o*l,v=u*h,b=u*c,x=u*l,y=i[0],S=i[1],T=i[2],M=n[0],A=n[1],w=n[2];return t[0]=(1-(g+m))*y,t[1]=(f+x)*y,t[2]=(p-b)*y,t[3]=0,t[4]=(f-x)*S,t[5]=(1-(d+m))*S,t[6]=(_+v)*S,t[7]=0,t[8]=(p+b)*T,t[9]=(_-v)*T,t[10]=(1-(d+g))*T,t[11]=0,t[12]=r[0]+M-(t[0]*M+t[4]*A+t[8]*w),t[13]=r[1]+A-(t[1]*M+t[5]*A+t[9]*w),t[14]=r[2]+w-(t[2]*M+t[6]*A+t[10]*w),t[15]=1,t}function O(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r+r,o=i+i,u=n+n,h=r*s,c=i*s,l=i*o,d=n*s,f=n*o,p=n*u,g=a*s,_=a*o,m=a*u;return t[0]=1-l-p,t[1]=c+m,t[2]=d-_,t[3]=0,t[4]=c-m,t[5]=1-h-p,t[6]=f+g,t[7]=0,t[8]=d+_,t[9]=f-g,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e,r,i,n,a,s){var o=1/(r-e),u=1/(n-i),h=1/(a-s);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(n+i)*u,t[10]=(s+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*h,t[15]=0,t}function L(t,e,r,i,n){var a=1/Math.tan(e/2),s=1/(i-n);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*i*s,t[15]=0,t}function F(t,e,r,i){var n=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),u=2/(s+o),h=2/(n+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-((s-o)*u*.5),t[9]=(n-a)*h*.5,t[10]=i/(r-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*r/(r-i),t[15]=0,t}function V(t,e,r,i,n,a,s){var o=1/(e-r),u=1/(i-n),h=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*o,t[13]=(n+i)*u,t[14]=(s+a)*h,t[15]=1,t}function D(t,e,r,i){var n=void 0,a=void 0,s=void 0,o=void 0,u=void 0,h=void 0,c=void 0,l=void 0,d=void 0,f=void 0,p=e[0],g=e[1],_=e[2],m=i[0],v=i[1],b=i[2],x=r[0],y=r[1],S=r[2];return Math.abs(p-x)<K.EPSILON&&Math.abs(g-y)<K.EPSILON&&Math.abs(_-S)<K.EPSILON?mat4.identity(t):(c=p-x,l=g-y,d=_-S,f=1/Math.sqrt(c*c+l*l+d*d),c*=f,l*=f,d*=f,n=v*d-b*l,a=b*c-m*d,s=m*l-v*c,f=Math.sqrt(n*n+a*a+s*s),f?(f=1/f,n*=f,a*=f,s*=f):(n=0,a=0,s=0),o=l*s-d*a,u=d*n-c*s,h=c*a-l*n,f=Math.sqrt(o*o+u*u+h*h),f?(f=1/f,o*=f,u*=f,h*=f):(o=0,u=0,h=0),t[0]=n,t[1]=o,t[2]=c,t[3]=0,t[4]=a,t[5]=u,t[6]=l,t[7]=0,t[8]=s,t[9]=h,t[10]=d,t[11]=0,t[12]=-(n*p+a*g+s*_),t[13]=-(o*p+u*g+h*_),t[14]=-(c*p+l*g+d*_),t[15]=1,t)}function B(t,e,r,i){var n=e[0],a=e[1],s=e[2],o=i[0],u=i[1],h=i[2],c=n-r[0],l=a-r[1],d=s-r[2],f=c*c+l*l+d*d;f>0&&(f=1/Math.sqrt(f),c*=f,l*=f,d*=f);var p=u*d-h*l,g=h*c-o*d,_=o*l-u*c;return t[0]=p,t[1]=g,t[2]=_,t[3]=0,t[4]=l*_-d*g,t[5]=d*p-c*_,t[6]=c*g-l*p,t[7]=0,t[8]=c,t[9]=l,t[10]=d,t[11]=0,t[12]=n,t[13]=a,t[14]=s,t[15]=1,t}function U(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function G(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function j(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function z(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function q(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function W(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t[4]=e[4]+r[4]*i,t[5]=e[5]+r[5]*i,t[6]=e[6]+r[6]*i,t[7]=e[7]+r[7]*i,t[8]=e[8]+r[8]*i,t[9]=e[9]+r[9]*i,t[10]=e[10]+r[10]*i,t[11]=e[11]+r[11]*i,t[12]=e[12]+r[12]*i,t[13]=e[13]+r[13]*i,t[14]=e[14]+r[14]*i,t[15]=e[15]+r[15]*i,t}function H(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Y(t,e){var r=t[0],i=t[1],n=t[2],a=t[3],s=t[4],o=t[5],u=t[6],h=t[7],c=t[8],l=t[9],d=t[10],f=t[11],p=t[12],g=t[13],_=t[14],m=t[15],v=e[0],b=e[1],x=e[2],y=e[3],S=e[4],T=e[5],M=e[6],A=e[7],w=e[8],C=e[9],E=e[10],R=e[11],N=e[12],I=e[13],k=e[14],O=e[15];return Math.abs(r-v)<=K.EPSILON*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(i-b)<=K.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(n-x)<=K.EPSILON*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(a-y)<=K.EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(s-S)<=K.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(o-T)<=K.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(u-M)<=K.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-A)<=K.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(c-w)<=K.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(l-C)<=K.EPSILON*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(d-E)<=K.EPSILON*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(f-R)<=K.EPSILON*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(p-N)<=K.EPSILON*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(g-I)<=K.EPSILON*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(_-k)<=K.EPSILON*Math.max(1,Math.abs(_),Math.abs(k))&&Math.abs(m-O)<=K.EPSILON*Math.max(1,Math.abs(m),Math.abs(O))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=a,e.copy=s,e.fromValues=o,e.set=u,e.identity=h,e.transpose=c,e.invert=l,e.adjoint=d,e.determinant=f,e.multiply=p,e.translate=g,e.scale=_,e.rotate=m,e.rotateX=v,e.rotateY=b,e.rotateZ=x,e.fromTranslation=y,e.fromScaling=S,e.fromRotation=T,e.fromXRotation=M,e.fromYRotation=A,e.fromZRotation=w,e.fromRotationTranslation=C,e.getTranslation=E,e.getScaling=R,e.getRotation=N,e.fromRotationTranslationScale=I,e.fromRotationTranslationScaleOrigin=k,e.fromQuat=O,e.frustum=P,e.perspective=L,e.perspectiveFromFieldOfView=F,e.ortho=V,e.lookAt=D,e.targetTo=B,e.str=U,e.frob=G,e.add=j,e.subtract=z,e.multiplyScalar=q,e.multiplyScalarAndAdd=W,e.exactEquals=H,e.equals=Y;var X=r(0),K=i(X);e.mul=p,e.sub=z},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function n(){var t=new x.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function s(t,e,r){r*=.5;var i=Math.sin(r);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(r),t}function o(t,e){var r=2*Math.acos(e[3]),i=Math.sin(r/2);return 0!=i?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),r}function u(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=r[0],u=r[1],h=r[2],c=r[3];return t[0]=i*c+s*o+n*h-a*u,t[1]=n*c+s*u+a*o-i*h,t[2]=a*c+s*h+i*u-n*o,t[3]=s*c-i*o-n*u-a*h,t}function h(t,e,r){r*=.5;var i=e[0],n=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u+s*o,t[1]=n*u+a*o,t[2]=a*u-n*o,t[3]=s*u-i*o,t}function c(t,e,r){r*=.5;var i=e[0],n=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u-a*o,t[1]=n*u+s*o,t[2]=a*u+i*o,t[3]=s*u-n*o,t}function l(t,e,r){r*=.5;var i=e[0],n=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u+n*o,t[1]=n*u-i*o,t[2]=a*u+s*o,t[3]=s*u-a*o,t}function d(t,e){var r=e[0],i=e[1],n=e[2];return t[0]=r,t[1]=i,t[2]=n,t[3]=Math.sqrt(Math.abs(1-r*r-i*i-n*n)),t}function f(t,e,r,i){var n=e[0],a=e[1],s=e[2],o=e[3],u=r[0],h=r[1],c=r[2],l=r[3],d=void 0,f=void 0,p=void 0,g=void 0,_=void 0;return f=n*u+a*h+s*c+o*l,f<0&&(f=-f,u=-u,h=-h,c=-c,l=-l),1-f>1e-6?(d=Math.acos(f),p=Math.sin(d),g=Math.sin((1-i)*d)/p,_=Math.sin(i*d)/p):(g=1-i,_=i),t[0]=g*n+_*u,t[1]=g*a+_*h,t[2]=g*s+_*c,t[3]=g*o+_*l,t}function p(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r*r+i*i+n*n+a*a,o=s?1/s:0;return t[0]=-r*o,t[1]=-i*o,t[2]=-n*o,t[3]=a*o,t}function g(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function _(t,e){var r=e[0]+e[4]+e[8],i=void 0;if(r>0)i=Math.sqrt(r+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);var a=(n+1)%3,s=(n+2)%3;i=Math.sqrt(e[3*n+n]-e[3*a+a]-e[3*s+s]+1),t[n]=.5*i,i=.5/i,t[3]=(e[3*a+s]-e[3*s+a])*i,t[a]=(e[3*a+n]+e[3*n+a])*i,t[s]=(e[3*s+n]+e[3*n+s])*i}return t}function m(t,e,r,i){var n=.5*Math.PI/180;e*=n,r*=n,i*=n;var a=Math.sin(e),s=Math.cos(e),o=Math.sin(r),u=Math.cos(r),h=Math.sin(i),c=Math.cos(i);return t[0]=a*u*c-s*o*h,t[1]=s*o*c+a*u*h,t[2]=s*u*h-a*o*c,t[3]=s*u*c+a*o*h,t}function v(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=n,e.identity=a,e.setAxisAngle=s,e.getAxisAngle=o,e.multiply=u,e.rotateX=h,e.rotateY=c,e.rotateZ=l,e.calculateW=d,e.slerp=f,e.invert=p,e.conjugate=g,e.fromMat3=_,e.fromEuler=m,e.str=v;var b=r(0),x=i(b),y=r(1),S=i(y),T=r(2),M=i(T),A=r(3),w=i(A),C=(e.clone=w.clone,e.fromValues=w.fromValues,e.copy=w.copy,e.set=w.set,e.add=w.add,e.mul=u,e.scale=w.scale,e.dot=w.dot,e.lerp=w.lerp,e.length=w.length),E=(e.len=C,e.squaredLength=w.squaredLength),R=(e.sqrLen=E,e.normalize=w.normalize);e.exactEquals=w.exactEquals,e.equals=w.equals,e.rotationTo=function(){var t=M.create(),e=M.fromValues(1,0,0),r=M.fromValues(0,1,0);return function(i,n,a){var o=M.dot(n,a);return o<-.999999?(M.cross(t,e,n),M.len(t)<1e-6&&M.cross(t,r,n),M.normalize(t,t),s(i,t,Math.PI),i):o>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(M.cross(t,n,a),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+o,R(i,i))}}(),e.sqlerp=function(){var t=n(),e=n();return function(r,i,n,a,s,o){return f(t,i,s,o),f(e,n,a,o),f(r,t,e,2*o*(1-o)),r}}(),e.setAxes=function(){var t=S.create();return function(e,r,i,n){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],R(e,_(e,t))}}()},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function n(){var t=new B.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function a(t){var e=new B.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function s(t,e){var r=new B.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r}function o(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,r){return t[0]=e,t[1]=r,t}function h(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function d(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function _(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function v(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function b(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t}function x(t,e){var r=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(r*r+i*i)}function y(t,e){var r=e[0]-t[0],i=e[1]-t[1];return r*r+i*i}function S(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function T(t){var e=t[0],r=t[1];return e*e+r*r}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t}function A(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function w(t,e){var r=e[0],i=e[1],n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t}function C(t,e){return t[0]*e[0]+t[1]*e[1]}function E(t,e,r){var i=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=i,t}function R(t,e,r,i){var n=e[0],a=e[1];return t[0]=n+i*(r[0]-n),t[1]=a+i*(r[1]-a),t}function N(t,e){e=e||1;var r=2*B.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function I(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[2]*n,t[1]=r[1]*i+r[3]*n,t}function k(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[2]*n+r[4],t[1]=r[1]*i+r[3]*n+r[5],t}function O(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[3]*n+r[6],t[1]=r[1]*i+r[4]*n+r[7],t}function P(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[4]*n+r[12],t[1]=r[1]*i+r[5]*n+r[13],t}function L(t){return"vec2("+t[0]+", "+t[1]+")"}function F(t,e){return t[0]===e[0]&&t[1]===e[1]}function V(t,e){var r=t[0],i=t[1],n=e[0],a=e[1];return Math.abs(r-n)<=B.EPSILON*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(i-a)<=B.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=a,e.fromValues=s,e.copy=o,e.set=u,e.add=h,e.subtract=c,e.multiply=l,e.divide=d,e.ceil=f,e.floor=p,e.min=g,e.max=_,e.round=m,e.scale=v,e.scaleAndAdd=b,e.distance=x,e.squaredDistance=y,e.length=S,e.squaredLength=T,e.negate=M,e.inverse=A,e.normalize=w,e.dot=C,e.cross=E,e.lerp=R,e.random=N,e.transformMat2=I,e.transformMat2d=k,e.transformMat3=O,e.transformMat4=P,e.str=L,e.exactEquals=F,e.equals=V;var D=r(0),B=i(D);e.len=S,e.sub=c,e.mul=l,e.div=d,e.dist=x,e.sqrDist=y,e.sqrLen=T,e.forEach=function(){var t=n();return function(e,r,i,n,a,s){var o=void 0,u=void 0;for(r||(r=2),i||(i=0),u=n?Math.min(n*r+i,e.length):e.length,o=i;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],a(t,t,s),e[o]=t[0],e[o+1]=t[1];return e}}()}])})},function(t,e){"use strict";t.exports={ArrayType:Float64Array}},function(t,e,r){"use strict";var i=r(15),n=r(16).vec3,a=r(16).mat4,s=function(){this._center=n.create(),this._radius=-1};s.prototype={init:function(){n.init(this._center),this._radius=-1},valid:function(){return this._radius>=0},set:function(t,e){this._center=t,this._radius=e},center:function(){return this._center},radius:function(){return this._radius},radius2:function(){return this._radius*this._radius},expandByBoundingBox:function(){var t=n.create(),e=new i;return function(r){if(r.valid())if(this.valid()){n.copy(e._min,r._min),n.copy(e._max,r._max);for(var i=0;i<8;i++)n.sub(t,r.corner(i,t),this._center),n.normalize(t,t),n.scaleAndAdd(t,this._center,t,-this._radius),e.expandByvec3(t);e.center(this._center),this._radius=e.radius()}else r.center(this._center),this._radius=r.radius()}}(),expandByvec3:function(){var t=n.create();return function(e){if(this.valid()){n.sub(t,e,this.center(t));var r=n.length(t);if(r>this.radius()){var i=.5*(r-this.radius());this._center[0]+=t[0]*(i/r),this._center[1]+=t[1]*(i/r),this._center[2]+=t[2]*(i/r),this._radius+=i}}else this._center[0]=e[0],this._center[1]=e[1],this._center[2]=e[2],this._radius=0}}(),expandRadiusBySphere:function(t){if(t.valid())if(this.valid()){var e=n.distance(this._center,t._center)+t._radius;e>this._radius&&(this._radius=e)}else n.copy(this._center,t._center),this._radius=t._radius},expandByBoundingSphere:function(t){if(t.valid()){if(!this.valid())return this._center[0]=t._center[0],this._center[1]=t._center[1],this._center[2]=t._center[2],void(this._radius=t.radius());var e=n.distance(t.center(),this.center());if(!(e+t.radius()<=this.radius())){if(e+this.radius()<=t.radius())return this._center[0]=t._center[0],this._center[1]=t._center[1],this._center[2]=t._center[2],void(this._radius=t._radius);var r=.5*(this.radius()+e+t.radius()),i=(r-this.radius())/e;this._center[0]+=(t._center[0]-this._center[0])*i,this._center[1]+=(t._center[1]-this._center[1])*i,this._center[2]+=(t._center[2]-this._center[2])*i,this._radius=r}}},contains:function(t){return!!this.valid()&&n.sqrDist(this.center(),t)<=this.radius2()},intersects:function(t){if(!this.valid()||!t.valid())return!1;var e=this.radius()+t.radius();return n.sqrDist(t.center(),this.center())<=e*e},transformMat4:function(){var t=n.create();return function(e,r){if(!this.valid())return e;e._center!==this._center&&(n.copy(e._center,this._center),e._radius=this._radius);var i=e._center,s=e._radius;a.getSqrScale(t,r);var o=Math.sqrt(Math.max(Math.max(t[0],t[1]),t[2]));return s*=o,e._radius=s,n.transformMat4(i,i,r),e}}()},t.exports=s},function(t,e,r){"use strict";var i=r(14),n=r(22),a=r(7),s=function(){i.call(this),this._parents=[],this.attributeMap={},this.textureAttributeMapList=[],this._binName=void 0,this._binNumber=0,this._shaderGeneratorPair=null,this._updateCallbackList=[],this.uniforms={},this._drawID=-1};s.AttributePair=function(t,e){this._object=t,this._value=e},s.AttributePair.prototype={getShaderGeneratorName:function(){return this._object},getAttribute:function(){return this._object},getUniform:function(){return this._object},getValue:function(){return this._value}},s.prototype=a.objectLibraryClass(a.objectInherit(i.prototype,{setDrawID:function(t){this._drawID=t},getDrawID:function(){return this._drawID},getAttributePair:function(t,e){return new s.AttributePair(t,e)},addUniform:function(t,e){var r=void 0!==e?e:n.ON,i=t.getName();this.uniforms[i]=this.getAttributePair(t,r)},addParent:function(t){this._parents.push(t)},removeParent:function(t){var e=this._parents.indexOf(t);e!==-1&&this._parents.splice(e,1)},removeUniform:function(t){delete this.uniforms[t.getName()]},removeUniformByName:function(t){delete this.uniforms[t]},getUniform:function(t){var e=this.uniforms;if(e[t])return e[t].getAttribute()},getUniformList:function(){return this.uniforms},setTextureAttributeAndModes:function(t,e,r){var i=void 0!==r?r:n.ON;this._setTextureAttribute(t,this.getAttributePair(e,i))},getNumTextureAttributeLists:function(){return this.textureAttributeMapList.length},getTextureAttribute:function(t,e){if(void 0!==this.textureAttributeMapList[t]){var r=this.textureAttributeMapList[t];if(void 0!==r[e])return r[e].getAttribute()}},removeTextureAttribute:function(t,e){if(void 0!==this.textureAttributeMapList[t]){var r=this.textureAttributeMapList[t];void 0!==r[e]&&delete r[e]}},getAttribute:function(t){if(void 0!==this.attributeMap[t])return this.attributeMap[t].getAttribute()},setAttributeAndModes:function(t,e){var r=void 0!==e?e:n.ON;this._setAttribute(this.getAttributePair(t,r))},setAttribute:function(t,e){var r=void 0!==e?e:n.ON;this._setAttribute(this.getAttributePair(t,r))},removeAttribute:function(t){void 0!==this.attributeMap[t]&&delete this.attributeMap[t]},setRenderingHint:function(t){"OPAQUE_BIN"===t?this.setRenderBinDetails(0,"RenderBin"):"TRANSPARENT_BIN"===t?this.setRenderBinDetails(10,"DepthSortedBin"):this.setRenderBinDetails(0,"")},getUpdateCallbackList:function(){return this._updateCallbackList},removeUpdateCallback:function(t){var e=this._updateCallbackList.indexOf(t);if(e!==-1&&(this._updateCallbackList.splice(e,1),0===this._updateCallbackList.length))for(var r=this._parents,i=0,n=r.length;i<n;i++){var a=r[i];a.setNumChildrenRequiringUpdateTraversal(a.getNumChildrenRequiringUpdateTraversal()-1)}},requiresUpdateTraversal:function(){return!!this._updateCallbackList.length},addUpdateCallback:function(t){var e=Boolean(this._updateCallbackList.length);if(this._updateCallbackList.push(t),!e)for(var r=this._parents,i=0,n=r.length;i<n;i++){var a=r[i];a.setNumChildrenRequiringUpdateTraversal(a.getNumChildrenRequiringUpdateTraversal()+1)}},hasUpdateCallback:function(t){return this._updateCallbackList.indexOf(t)!==-1},setRenderBinDetails:function(t,e){this._binNumber=t,this._binName=e},getAttributeMap:function(){return this.attributeMap},getBinNumber:function(){return this._binNumber},getBinName:function(){return this._binName},setBinNumber:function(t){this._binNumber=t},setBinName:function(t){this._binName=t},getAttributeList:function(){var t=[];for(var e in this.attributeMap)t.push(this.attributeMap[e]);return t},setShaderGeneratorName:function(t,e){this._shaderGeneratorPair=this.getAttributePair(t,e)},getShaderGeneratorPair:function(){return this._shaderGeneratorPair},getShaderGeneratorName:function(){return this._shaderGeneratorPair?this._shaderGeneratorPair.getShaderGeneratorName():void 0},releaseGLObjects:function(){for(var t=0,e=this.textureAttributeMapList.length;t<e;t++)this.getTextureAttribute(t,"Texture").releaseGLObjects();var r=this.getAttributeList();for(t=0,e=r.length;t<e;t++)r[t]._object.releaseGLObjects&&r[t]._object.releaseGLObjects()},_getUniformMap:function(){return this.uniforms},_setTextureAttribute:function(t,e){void 0===this.textureAttributeMapList[t]&&(this.textureAttributeMapList[t]={});var r=e.getAttribute().getTypeMember(),i=this.textureAttributeMapList[t];i[r]=e},_setAttribute:function(t){var e=t.getAttribute().getTypeMember();this.attributeMap[e]=t}}),"osg","StateSet"),t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(14),a=function(){n.call(this)};a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{getType:function(){return this.attributeType},getTypeMember:function(){return this.attributeType},apply:function(){},getHash:function(){return this.getTypeMember()}}),"osg","StateAttribute"),a.OFF=0,a.ON=1,a.OVERRIDE=2,a.PROTECTED=4,a.INHERIT=8,t.exports=a},function(t,e){"use strict";var r=function(t){this.traversalMask=-1,this.nodeMaskOverride=0,this.traversalMode=t,void 0===t&&(this.traversalMode=r.TRAVERSE_ALL_CHILDREN),this.nodePath=[],this.visitorType=r.NODE_VISITOR,this._databaseRequestHandler=void 0,this._frameStamp=void 0,this.traverse=r._traversalFunctions[this.traversalMode],this.pushOntoNodePath=r._pushOntoNodePath[this.traversalMode],this.popFromNodePath=r._popFromNodePath[this.traversalMode]};r.TRAVERSE_PARENTS=1,r.TRAVERSE_ALL_CHILDREN=2,r.TRAVERSE_ACTIVE_CHILDREN=3,r.NODE_VISITOR=0,r.UPDATE_VISITOR=1,r.CULL_VISITOR=2;var i=function(t){t.ascend(this)},n=function(t){t.traverse(this)};r._traversalFunctions=[void 0,i,n,n];var a=function(t){this.nodePath.unshift(t)},s=function(t){this.nodePath.push(t)};r._pushOntoNodePath=[void 0,a,s,s];var o=function(){return this.nodePath.shift()},u=function(){this.nodePath.pop()};r._popFromNodePath=[void 0,o,u,u],r.prototype={reset:function(){this.nodePath.length=0},setFrameStamp:function(t){this._frameStamp=t},getFrameStamp:function(){return this._frameStamp},setNodeMaskOverride:function(t){this.nodeMaskOverride=t},getNodeMaskOverride:function(){return this.nodeMaskOverride},setTraversalMask:function(t){this.traversalMask=t},getTraversalMask:function(){return this.traversalMask},getNodePath:function(){return this.nodePath},pushOntoNodePath:function(t){r._pushOntoNodePath[this.traversalMode].call(this,t)},popFromNodePath:function(){r._popFromNodePath[this.traversalMode].call(this)},validNodeMask:function(t){var e=t.getNodeMask();return 0!==(this.traversalMask&(this.nodeMaskOverride|e))},apply:function(t){this.traverse(t)},traverse:function(t){r._traversalFunctions[this.traversalMode].call(this,t)},getVisitorType:function(){return this.visitorType},setDatabaseRequestHandler:function(t){this._databaseRequestHandler=t},getDatabaseRequestHandler:function(){return this._databaseRequestHandler}},t.exports=r},function(t,e,r){"use strict";var i=r(16).mat4,n=function(){this._stack=[i.create()],this._current=0};n.prototype={reset:function(){this._current=0},get:function(){var t=this._stack[this._current++];return this._current===this._stack.length&&this._stack.push(i.create()),t}},t.exports=n},function(t,e,r){"use strict";var i=r(16).mat4,n=r(26),a=function(t,e,r){var a=e;void 0===a&&(a=!0);var s=r||i.create(),o=0;if(a){for(o=t.length-1;o>=0;o--){var u=t[o];if("Camera"===u.className()&&(u.getReferenceFrame()!==n.RELATIVE_RF||0===u.getParents().length))break}o+=1}for(var h=o,c=t.length;h<c;h++){var l=t[h];l.computeLocalToWorldMatrix&&l.computeLocalToWorldMatrix(s)}return s};t.exports={computeLocalToWorld:a}},function(t,e){"use strict";t.exports={RELATIVE_RF:0,ABSOLUTE_RF:1}},function(t,e,r){"use strict";var i=r(15),n=r(28),a=r(16).mat4,s=r(24),o=r(12),u=r(23),h=r(7),c=function(t){u.call(this,t),this._reservedMatrixStack=new s,this._matrixStack=[],this._bb=new i};c.prototype=h.objectLibraryClass(h.objectInherit(u.prototype,{reset:function(){this._reservedMatrixStack.reset(),this._matrixStack.length=0,this._bb.init()},getBoundingBox:function(){return this._bb},applyTransform:function(t){var e=this._reservedMatrixStack.get(),r=this._matrixStack.length;r?a.copy(e,this._matrixStack[r-1]):a.identity(e),t.computeLocalToWorldMatrix(e,this),this.pushMatrix(e),this.traverse(t),this.popMatrix()},apply:function(t){return t instanceof o?void this.applyTransform(t):t instanceof n?void this.applyBoundingBox(t.getBoundingBox()):void this.traverse(t)},pushMatrix:function(t){this._matrixStack.push(t)},popMatrix:function(){this._matrixStack.pop()},applyBoundingBox:function(){var t=new i;return function(e){var r=this._matrixStack.length;if(r){if(e.valid()){var i=this._matrixStack[r-1];e.transformMat4(t,i),this._bb.expandByBoundingBox(t)}}else this._bb.expandByBoundingBox(e)}}(),getMatrixStack:function(){return this._matrixStack}}),"osg","ComputeBoundsVisitor"),t.exports=c},function(t,e,r){"use strict";var i=r(7),n=r(13),a=r(29),s=r(37),o=r(39),u=function(){n.call(this),this._attributes={},this._primitives=[],this._cacheDrawCall={},this._useVAO=void 0,this._vao={},this._cacheVertexAttributeBufferList={},this._shape=void 0};u.enableVAO=!0,u.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{releaseGLObjects:function(){void 0!==this.stateset&&this.stateset.releaseGLObjects();for(var t in this._attributes){var e=this._attributes[t];e.releaseGLObjects()}for(var r=0,i=this._primitives.length;r<i;r++){var n=this._primitives[r];void 0!==n.getIndices&&void 0!==n.getIndices()&&null!==n.getIndices()&&n.indices.releaseGLObjects()}this.releaseVAO()},releaseVAO:function(){if(this._useVAO&&this._glContext)for(var t in this._vao)this._vao[t]&&(this._glContext.deleteVertexArray(this._vao[t]),this._vao[t]=void 0)},dirty:function(){this._cacheDrawCall={},this.releaseVAO()},getPrimitives:function(){return this.getPrimitiveSetList()},getAttributes:function(){return this.getVertexAttributeList()},getShape:function(){return this._shape},setShape:function(t){this._shape=t},getVertexAttributeList:function(){return this._attributes},getPrimitiveSetList:function(){return this._primitives},setVertexAttribArray:function(t,e){this._attributes[t]!==e&&(this._attributes[t]=e,this.dirty())},_generateVertexSetup:function(t,e,r){for(var i=["//generated by Geometry::implementation","state.lazyDisablingOfVertexAttributes();","var attr;"],n=0,a=t.length;n<a;n++)i.push("attr = this._attributes['"+t[n]+"'];"),i.push("if ( attr.BufferArrayProxy ) attr = attr.getBufferArray();"),i.push("if ( !attr.isValid() ) return;"),i.push("state.setVertexAttribArray("+e[n]+", attr, attr.getNormalize() );");return i.push("state.applyDisablingOfVertexAttributes();"),r&&i.push("state.setIndexArray( this._primitives[ 0 ].getIndices() );"),i},_generatePrimitive:function(t,e,r){var i=[e?"state.enableVertexColor();":"state.disableVertexColor();"];if(r)return i.concat(["var primitive = this._primitives[ 0 ];","var indexes = primitive.getIndices();","if ( indexes.isDirty() ) {;","  indexes.bind( gl );","  indexes.compile( gl );","};","primitive.drawElements( state );"]);i.push("var primitives = this._primitives;");for(var n=0,a=t.length;n<a;n++)i.push("primitives["+n+"].draw(state);");return i},generateDrawCommand:function(){var t=[],e=[];return function(r,i,n){var a=i._attributesCache,u=this.getVertexAttributeList();e.length=0,t.length=0;var h,c,l,d,f=this._useVAO,p=f?[]:void 0,g=!1;for(var _ in a)if(h=a[_],d=u[_],void 0!==d){var m=this._attributes[_];if(m instanceof o&&(m=m.getBufferArray(),f=!1),!m.isValid())return;f&&p.push(m),g||"Color"!==_||(g=!0),e.push(_),t.push(h)}var v,b;if(f){this._cacheVertexAttributeBufferList[n]=p;var x=1===this._primitives.length&&this._primitives[0]instanceof s,y=this._generateVertexSetup(e,t,x);r.clearVertexAttribCache();var S=r.getGraphicContext(),T=S.createVertexArray();
r.setVertexArrayObject(T),this._vao[n]=T;var M=new Function("state",y.join("\n"));M.call(this,r);var A=["var gl = state.getGraphicContext();","var vao = this._vao[ "+n+" ] ","var hasChanged = state.setVertexArrayObject( vao );","if ( hasChanged ) {","  var vaList = this._cacheVertexAttributeBufferList[ "+n+" ];","  var va;"];for(c=0,l=p.length;c<l;c++)A.push("  va = vaList[ "+c+"];"),A.push("  if ( va.isDirty() ) {;"),A.push("    va.bind( gl );"),A.push("    va.compile( gl );"),A.push("  };");A.push("}"),v=A.concat(this._generatePrimitive(this._primitives,g,x)).join("\n"),b="GeometryDrawImplementationCacheVAO"}else v=this._generateVertexSetup(e,t,!1).concat(this._generatePrimitive(this._primitives,g,!1)).join("\n"),b="GeometryDrawImplementationCache";var w=new Function("state","return function "+b+"( state ) { "+v+"}")();return this._cacheDrawCall[n]=w,w}}(),drawImplementation:function(t){var e=t.getLastProgramApplied(),r=e.getInstanceID(),i=this._cacheDrawCall[r];return this._useVAO&&!this._vao[r]&&t.setVertexArrayObject(null),i?void i.call(this,t):void(this._primitives.length&&(void 0===this._useVAO&&u.enableVAO&&(this._useVAO=a.instance().hasVAO(),this._glContext=t.getGraphicContext()),i=this.generateDrawCommand(t,e,r),i.call(this,t),t.setVertexArrayObject(null)))},setBound:function(t){this._boundingBox=t,this._boundingBoxComputed=!0},computeBoundingBox:function(t){t.init();var e=this.getVertexAttributeList().Vertex;if(e&&e.getElements()&&e.getItemSize()>2){for(var r=e.getElements(),i=e.getItemSize(),n=t.getMin(),a=t.getMax(),s=n[0],o=n[1],u=n[2],h=a[0],c=a[1],l=a[2],d=0,f=r.length;d<f;d+=i){var p=r[d],g=r[d+1],_=r[d+2];p<s&&(s=p),p>h&&(h=p),g<o&&(o=g),g>c&&(c=g),_<u&&(u=_),_>l&&(l=_)}n[0]=s,n[1]=o,n[2]=u,a[0]=h,a[1]=c,a[2]=l}return t},computeBoundingSphere:function(t){t.init();var e=this.getBoundingBox();return t.expandByBoundingBox(e),t}}),"osg","Geometry"),u.appendVertexAttributeToList=function(t,e,r){for(var i in t){var n=i;void 0!==r&&(n+="_"+r),e[n]=t[i]}},i.setTypeID(u),t.exports=u},function(t,e,r){"use strict";var i,n=r(11),a=r(30),s=r(31),o=function(){i||(i=r(32)),this._checkRTT={},this._webGLExtensions={},this._webGLParameters={},this._webGLShaderMaxInt="NONE",this._webGLShaderMaxFloat="NONE",this._bugsDB={},this._webGLPlatforms={},this._webGLParameters.MAX_COMBINED_TEXTURE_IMAGE_UNITS=8,this._webGLParameters.MAX_CUBE_MAP_TEXTURE_SIZE=16,this._webGLParameters.MAX_FRAGMENT_UNIFORM_VECTORS=16,this._webGLParameters.MAX_RENDERBUFFER_SIZE=1,this._webGLParameters.MAX_TEXTURE_IMAGE_UNITS=8,this._webGLParameters.MAX_TEXTURE_SIZE=64,this._webGLParameters.MAX_VARYING_VECTORS=8,this._webGLParameters.MAX_VERTEX_ATTRIBS=8,this._webGLParameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS=0,this._webGLParameters.MAX_VERTEX_UNIFORM_VECTORS=128,this._webGLParameters.MAX_VIEWPORT_DIMS=[1,1],this._webGLParameters.NUM_COMPRESSED_TEXTURE_FORMATS=0,this._webGLParameters.MAX_SHADER_PRECISION_FLOAT="none",this._webGLParameters.MAX_SHADER_PRECISION_INT="none",this._gl=void 0};o.instance=function(t){if(!o._instance){var e,r=t;if(!r){var i="undefined"!=typeof window&&window.gli;i&&(e=window.gli.host.inspectContext,window.gli.host.inspectContext=!1);var u=document.createElement("canvas");u.width=32,u.height=32;var h=new s;h.extend({antialias:!1}),h.extendWithOptionsURL(),r=a.setupWebGL(u,h,function(){})}o._instance=new o,r?o._instance.init(r):n.warn("no support for webgl context detected."),e&&(window.gli.host.inspectContext=e)}return t&&t!==o._instance.getContext()&&o._instance.initContextDependant(t),o._instance},o.prototype={getContext:function(){return this._gl},initContextDependant:function(t){this._gl=t,this._isGL2="undefined"!=typeof window.WebGL2RenderingContext&&t instanceof window.WebGL2RenderingContext,this.initWebGLExtensions(t),this.hasLinearHalfFloatRTT(t),this.hasLinearFloatRTT(t),this.hasHalfFloatRTT(t),this.hasFloatRTT(t)},init:function(t){if(this.initWebGLParameters(t),this.initPlatformSupport(),this.initBugDB(),this.initContextDependant(t),this._isGL2)for(var e=["OES_element_index_uint","EXT_sRGB","EXT_blend_minmax","EXT_frag_depth","WEBGL_depth_texture","EXT_shader_texture_lod","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_texture_float_linear","OES_vertex_array_object","WEBGL_draw_buffers","OES_fbo_render_mipmap","ANGLE_instanced_arrays"],r=o._instance.getWebGLExtensions(),i=function(){},n=0,a=e.length;n<a;n++)r[e[n]]=i},isWebGL2:function(){return this._isGL2},initBugDB:function(){var t=this._webGLPlatforms,e=this._webGLParameters;t.Apple&&(e.UNMASKED_VENDOR_WEBGL&&e.UNMASKED_VENDOR_WEBGL.indexOf("Intel")===-1||(this._bugsDB.OES_standard_derivatives=!0))},initPlatformSupport:function(){var t=this._webGLPlatforms;t.Apple=navigator.vendor.indexOf("Apple")!==-1||navigator.vendor.indexOf("OS X")!==-1,t.Mobile=/Mobi/.test(navigator.userAgent)||/ablet/.test(navigator.userAgent)},getWebGLPlatform:function(t){return this._webGLPlatforms[t]},getWebGLPlatforms:function(){return this._webGLPlatforms},getWebGLParameter:function(t){return this._webGLParameters[t]},getWebGLParameters:function(){return this._webGLParameters},getShaderMaxPrecisionFloat:function(){return this._webGLParameters.MAX_SHADER_PRECISION_FLOAT},getShaderMaxPrecisionInt:function(){return this._webGLParameters.MAX_SHADER_PRECISION_INT},checkSupportRTT:function(t,e,r){var i=e+","+r;if(this._isGL2)return!!this._webGLExtensions.EXT_color_buffer_float;if(void 0!==this._checkRTT[i])return this._checkRTT[i];if(!t)return!1;var n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,e,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r);var a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var s=this._checkRTT[i]=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.deleteTexture(n),t.deleteFramebuffer(a),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),s},hasLinearHalfFloatRTT:function(t){return this._webGLExtensions.OES_texture_half_float_linear&&this.checkSupportRTT(t,i.HALF_FLOAT_OES,i.LINEAR)},hasLinearFloatRTT:function(t){return this._webGLExtensions.OES_texture_float_linear&&this.checkSupportRTT(t,i.FLOAT,i.LINEAR)},hasHalfFloatRTT:function(t){return this._webGLExtensions.OES_texture_half_float&&this.checkSupportRTT(t,i.HALF_FLOAT_OES,i.NEAREST)},hasFloatRTT:function(t){return this._webGLExtensions.OES_texture_float&&this.checkSupportRTT(t,i.FLOAT,i.NEAREST)},queryPrecision:function(t,e,r){var i=t.getShaderPrecisionFormat(e,r);return!!i&&0!==i.precision},hasVAO:function(){return!!this._webGLExtensions.OES_vertex_array_object},getDisjointTimerQuery:function(){return this._webGLExtensions.EXT_disjoint_timer_query_webgl2||this._webGLExtensions.EXT_disjoint_timer_query},initWebGLParameters:function(t){if(t){for(var e=["MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_RENDERBUFFER_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VIEWPORT_DIMS","SHADING_LANGUAGE_VERSION","VERSION","VENDOR","RENDERER","ALIASED_LINE_WIDTH_RANGE","ALIASED_POINT_SIZE_RANGE","RED_BITS","GREEN_BITS","BLUE_BITS","ALPHA_BITS","DEPTH_BITS","STENCIL_BITS"],r=this._webGLParameters,i=0,n=e.length;i<n;++i){var a=e[i];r[a]=t.getParameter(t[a])}this.queryPrecision(t,t.FRAGMENT_SHADER,t.HIGH_FLOAT)?r.MAX_SHADER_PRECISION_FLOAT="high":this.queryPrecision(t,t.FRAGMENT_SHADER,t.MEDIUM_FLOAT)?r.MAX_SHADER_PRECISION_FLOAT="medium":this.queryPrecision(t,t.FRAGMENT_SHADER,t.LOW_FLOAT)&&(r.MAX_SHADER_PRECISION_FLOAT="low"),this.queryPrecision(t,t.FRAGMENT_SHADER,t.HIGH_INT)?r.MAX_SHADER_PRECISION_INT="high":this.queryPrecision(t,t.FRAGMENT_SHADER,t.MEDIUM_INT)?r.MAX_SHADER_PRECISION_INT="medium":this.queryPrecision(t,t.FRAGMENT_SHADER,t.LOW_INT)&&(r.MAX_SHADER_PRECISION_INT="low");var s=t.getExtension("WEBGL_debug_renderer_info");s&&(r.UNMASKED_RENDERER_WEBGL=t.getParameter(s.UNMASKED_VENDOR_WEBGL),r.UNMASKED_VENDOR_WEBGL=t.getParameter(s.UNMASKED_RENDERER_WEBGL))}},applyExtension:function(t,e){var r=t.getExtension(e),i=e.split("_")[0],n="_"+i,a=new RegExp(i+"$"),s=new RegExp(n);for(var o in r){var u=r[o];if("function"==typeof u){var h=o.replace(a,"");o.substring&&(t[h]=r[o].bind(r))}else{var c=o.replace(s,"");void 0===t[c]&&(t[c]=r[o])}}},getWebGLExtension:function(t){return this._webGLExtensions[t]},getWebGLExtensions:function(){return this._webGLExtensions},initWebGLExtensions:function(t,e){if(t){var r=e;void 0===r&&(r=!0);for(var n=t.getSupportedExtensions(),a=this._webGLExtensions,s=0,o=n.length;s<o;++s){var u=n[s];r&&this._bugsDB[u]||(a[u]=t.getExtension(u),this._isGL2||this.applyExtension(t,u))}var h=this.getWebGLExtension("EXT_texture_filter_anisotropic");h&&(i.ANISOTROPIC_SUPPORT_EXT=!0,i.ANISOTROPIC_SUPPORT_MAX=t.getParameter(h.MAX_TEXTURE_MAX_ANISOTROPY_EXT))}}},t.exports=o},function(t,e){"use strict";var r=function(){var t=function(t){return'<div style="margin: auto; width:500px;z-index:10000;margin-top:20em;text-align:center;">'+t+"</div>"},e='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',r='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org">Click here for more information.</a>',i=!0,n=function(n,a,o){function u(n){if(i){var a=document.getElementsByTagName("body")[0];if(a){var s=window.WebGLRenderingContext?r:e;n&&(s+="<br/><br/>Status: "+n),a.innerHTML=t(s)}}}o=o||u,n.addEventListener&&n.addEventListener("webglcontextcreationerror",function(t){o(t.statusMessage)},!1);var h=s(n,a);return h||o(""),h},a=function(t,e,r){for(var i=null,n=0;n<r.length;++n){try{i=t.getContext(r[n],e)}catch(t){}if(i)break}return i},s=function(t,e){var r;if(e&&e.webgl2){if(i=!1,r=a(t,e,["webgl2","experimental-webgl2"]))return r;i=!0}return a(t,e,["webgl","experimental-webgl","webkit-3d","moz-webgl"])};return{create3DContext:s,setupWebGL:n}}();window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}()),window.cancelRequestAnimFrame||(window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}()),Date.now||(Date.now=function(){return(new Date).getTime()}),t.exports=r},function(t,e,r){"use strict";var i,n=r(11),a=r(7),s={antialias:!0,fullscreen:!0,enableFrustumCulling:!1,stats:!1,scrollwheel:!0,webgl2:!1},o=function(){for(var t in s)this[t]=s[t]};o.getOptionsURL=function(){if(i)return i;if(i={},!window.location.search)return i;for(var t,e=[],r=window.location.search.slice(1).split("&"),a=0;a<r.length;a++){t=r[a].split("=");var s=t[0];e.push(s);var o=t[1];"0"!==o&&"false"!==o&&(void 0===o&&(o="1"),i[s]=o)}if(void 0!==i.log){var u=i.log.toLowerCase();switch(u){case"debug":n.setNotifyLevel(n.DEBUG);break;case"info":n.setNotifyLevel(n.INFO);break;case"notice":n.setNotifyLevel(n.NOTICE);break;case"warn":n.setNotifyLevel(n.WARN);break;case"error":n.setNotifyLevel(n.ERROR);break;case"html":var h=[],c=document.createElement("div"),l=document.createElement("pre");document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(c),c.appendChild(l)});var d=function(t){h.unshift(t),l.innerHTML=h.join("\n")};c.style.overflow="hidden",c.style.position="absolute",c.style.zIndex="10000",c.style.height="100%",c.style.maxWidth="600px",l.style.overflow="scroll",l.style.width="105%",l.style.height="100%",l.style.fontSize="10px",["log","error","warn","info","debug"].forEach(function(t){window.console[t]=d})}}return i},o.prototype={extend:function(t){return a.objectMix(this,t),this},get:function(t){return this[t]},getBoolean:function(t){var e=this.getString(t);if(e)return"false"!==e&&"0"!==e},getNumber:function(t){var e=this[t];if(e)return Number(e)},getString:function(t){var e=this[t];if(void 0!==e)return this[t].toString()},extendWithOptionsURL:function(){this.extend(o.getOptionsURL())}},t.exports=o},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(22),s=r(33),o=r(34),u=r(35),h=r(36),c=r(29),l=window.ImageBitmap||function(){},d=function(t){return 0!==t&&(t&~t+1)===t},f=function(){a.call(this),u.call(this),this.setDefaultParameters(),this._dirty=!0,this._dirtyMipmap=!0,this._applyTexImage2DCallbacks=[],this._textureObject=void 0,this._textureNull=!0},p=function(t,e){var r=f[t];return void 0===r?(i.warn("bad Texture enum argument "+t+"\nfallback to "+e),e):r};f.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,f.UNPACK_FLIP_Y_WEBGL=37440,f.BROWSER_DEFAULT_WEBGL=37444,f.NONE=0,f.DEPTH_COMPONENT=6402,f.DEPTH_COMPONENT16=33189,f.DEPTH_STENCIL=34041,f.DEPTH24_STENCIL8=35056,f.DEPTH_COMPONENT24=33190,f.DEPTH_COMPONENT32F=36012,f.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,f.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,f.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,f.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,f.COMPRESSED_RGB_ATC_WEBGL=35986,f.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987,f.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798,f.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,f.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,f.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,f.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,f.COMPRESSED_RGB_ETC1_WEBGL=36196,f.LINEAR=9729,f.NEAREST=9728,f.NEAREST_MIPMAP_NEAREST=9984,f.LINEAR_MIPMAP_NEAREST=9985,f.NEAREST_MIPMAP_LINEAR=9986,f.LINEAR_MIPMAP_LINEAR=9987,f.TEXTURE_MAX_ANISOTROPY_EXT=34046,f.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,f.CLAMP_TO_EDGE=33071,f.REPEAT=10497,f.MIRRORED_REPEAT=33648,f.TEXTURE_2D=3553,f.TEXTURE_CUBE_MAP=34067,f.TEXTURE_BINDING_CUBE_MAP=34068,f.TEXTURE_CUBE_MAP_POSITIVE_X=34069,f.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,f.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,f.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,f.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,f.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,f.MAX_CUBE_MAP_TEXTURE_SIZE=34076,f.UNSIGNED_BYTE=5121,f.UNSIGNED_SHORT=5123,f.UNSIGNED_SHORT_4_4_4_4=32819,f.UNSIGNED_SHORT_5_5_5_1=32820,f.UNSIGNED_SHORT_5_6_5=33635,f.FLOAT=5126,f.HALF_FLOAT_OES=36193,f.HALF_FLOAT=5131,f.UNSIGNED_INT_10F_11F_11F_REV=35899,f.UNSIGNED_INT_24_8=34042,f.ALPHA=6406,f.RGB=6407,f.RGBA=6408,f.LUMINANCE=6409,f.LUMINANCE_ALPHA=6410,f.RED_INTEGER=36244,f.RGB_INTEGER=36248,f.RGBA_INTEGER=36249,f.RG_INTEGER=33320,f.RED=6403,f.R8=33321,f.R8UI=33330,f.RG8=33323,f.RG8UI=33336,f.RGB8=36758,f.RGB565=36194,f.RGB9_E5=35901,f.RGB8UI=36221,f.RGBA8=32856,f.RGB5_A1=32855,f.RGBA4=32854,f.RGBA8UI=36220,f.SRGB8_ALPHA8=35907,f.SRGB8=35905,f.R16F=33325,f.RG16F=33327,f.RGB16F=34843,f.RGBA16F=34842,f.R11F_G11F_B10F=35898,f.R32F=33326,f.RG32F=33328,f.RGB32F=34837,f.RGBA32F=34836;var g=function(){var t={};return t[f.R8]=f.LUMINANCE,t[f.R8UI]=f.LUMINANCE,t[f.R16F]=f.LUMINANCE,t[f.R32F]=f.LUMINANCE,t[f.SRGB8]=f.LUMINANCE,t[f.RG8]=f.RGB,t[f.RG8UI]=f.RGB,t[f.RG16F]=f.RGB,t[f.RG32F]=f.RGB,t[f.RGB8]=f.RGB,t[f.RGB565]=f.RGB,t[f.RGB9_E5]=f.RGB,t[f.RGB8UI]=f.RGB,t[f.RGB5_A1]=f.RGB,t[f.RGB16F]=f.RGB,t[f.RGB32F]=f.RGB,t[f.RGBA8]=f.RGBA,t[f.R11F_G11F_B10F]=f.RGBA,t[f.RGBA16F]=f.RGBA,t[f.RGBA32F]=f.RGBA,t[f.SRGB8_ALPHA8]=f.RGBA,t},_=function(){var t={},e={},r={},i={},n={},a={};return t[f.FLOAT]=e,t[f.HALF_FLOAT]=t[f.HALF_FLOAT_OES]=r,t[f.UNSIGNED_SHORT]=i,t[f.UNSIGNED_INT]=n,t[f.UNSIGNED_INT_24_8]=a,r[f.LUMINANCE]=f.R16F,r[f.RGB]=f.RGB16F,r[f.RGBA]=f.RGBA16F,e[f.LUMINANCE]=f.R32F,e[f.RGB]=f.RGB32F,e[f.RGBA]=f.RGBA32F,i[f.DEPTH_COMPONENT]=f.DEPTH_COMPONENT16,n[f.DEPTH_COMPONENT]=f.DEPTH_COMPONENT32F,a[f.DEPTH_STENCIL]=f.DEPTH24_STENCIL8,t},m=g(),v=_();f._sTextureManager=new window.Map,f.getTextureManager=function(t){return f._sTextureManager.has(t)||f._sTextureManager.set(t,new h),f._sTextureManager.get(t)},f.getEnumFromString=function(t){var e=t;return"string"==typeof e&&(e=p(e,t)),e},f.prototype=n.objectLibraryClass(n.objectInherit(u.prototype,n.objectInherit(a.prototype,{attributeType:"Texture",cloneType:function(){return new f},dirty:function(){this._dirty=!0},isDirty:function(){return this._dirty},isTextureNull:function(){return this._textureNull},getOrCreateUniforms:function(t){if(void 0===f.uniforms&&(f.uniforms=[]),void 0===f.uniforms[t]){var e=this.getType()+t;f.uniforms[t]={texture:s.createInt1(t,e)}}return f.uniforms[t]},setDefaultParameters:function(){this._image=void 0,this._magFilter=f.LINEAR,this._minFilter=f.LINEAR,this._maxAnisotropy=1,this._wrapS=f.CLAMP_TO_EDGE,this._wrapT=f.CLAMP_TO_EDGE,this._textureWidth=0,this._textureHeight=0,this._unrefImageDataAfterApply=!1,this._internalFormat=void 0,this._dirtyMipmap=!0,this._textureTarget=f.TEXTURE_2D,this._type=f.UNSIGNED_BYTE,this._isCompressed=!1,this._flipY=!0,this._colorSpaceConversion=f.NONE},setColorSpaceConversion:function(t){this._colorSpaceConversion=t},setFlipY:function(t){this._flipY=t},getTextureTarget:function(){return this._textureTarget},getTextureObject:function(){return this._textureObject},setTextureSize:function(t,e){var r=c.instance().getWebGLParameter("MAX_TEXTURE_SIZE");t===this._textureWidth&&e===this._textureHeight||this.dirty(),void 0!==t&&(t>r?(i.error("width ("+t+') too big for GPU. Max Texture Size is "'+r+'"'),this._textureWidth=r):this._textureWidth=t),void 0!==e&&(e>r?(i.error("height ("+e+') too big for GPU. Max Texture Size is "'+r+'"'),this._textureHeight=r):this._textureHeight=e),this._textureNull=!1},init:function(t){this._gl||this.setGraphicContext(t.getGraphicContext()),this._textureObject||(this._textureObject=f.getTextureManager(this._gl).generateTextureObject(this._gl,this,this._textureTarget,this._internalFormat,this._textureWidth,this._textureHeight),this.dirty(),this._dirtyTextureObject=!1,this._textureNull=!1)},addApplyTexImage2DCallback:function(t){var e=this._applyTexImage2DCallbacks.indexOf(t);e<0&&this._applyTexImage2DCallbacks.push(t)},removeApplyTexImage2DCallback:function(t){var e=this._applyTexImage2DCallbacks.indexOf(t);e>=0&&this._applyTexImage2DCallbacks.splice(e,1)},getWidth:function(){return this._textureWidth},getHeight:function(){return this._textureHeight},releaseGLObjects:function(){void 0!==this._textureObject&&null!==this._textureObject&&void 0!==this._gl&&f.getTextureManager(this._gl).releaseTextureObject(this._textureObject),this._textureObject=void 0},getWrapT:function(){return this._wrapT},getWrapS:function(){return this._wrapS},setWrapS:function(t){"string"==typeof t?this._wrapS=p(t,f.CLAMP_TO_EDGE):this._wrapS=t,this.dirtyTextureParameters()},setWrapT:function(t){"string"==typeof t?this._wrapT=p(t,f.CLAMP_TO_EDGE):this._wrapT=t,this.dirtyTextureParameters()},dirtyTextureParameters:function(){this.dirty(),this.dirtyMipmap(),this.dirtyTextureObject()},dirtyTextureObject:function(){this._dirtyTextureObject=!0,this.dirtyMipmap(),this.dirty()},getMinFilter:function(){return this._minFilter},getMagFilter:function(){return this._magFilter},setMaxAnisotropy:function(t){this._maxAnisotropy=t,this.dirtyTextureParameters()},getMaxAnisotropy:function(){return this._maxAnisotropy},setMinFilter:function(t){"string"==typeof t?this._minFilter=p(t,f.LINEAR):this._minFilter=t,this.dirtyTextureParameters()},setMagFilter:function(t){"string"==typeof t?this._magFilter=p(t,f.LINEAR):this._magFilter=t,this.dirtyTextureParameters()},setImage:function(t,e){var r=t;(t instanceof window.Image||t instanceof HTMLCanvasElement||t instanceof l||t instanceof Uint8Array)&&(r=new o(t)),this._image=r,this.setImageFormat(e),r&&(r.getWidth&&r.getHeight?this.setTextureSize(r.getWidth(),r.getHeight()):r.width&&r.height&&this.setTextureSize(r.width,r.height)),this._textureNull=!1,this.dirty()},getImage:function(){return this._image},setImageFormat:function(t){var e=t;e?("string"==typeof e&&(e=f[e]),this._imageFormat=e):this._imageFormat=f.RGBA},setInternalFormatType:function(t){"string"==typeof t?this._type=f[t]:this._type=t},getInternalFormatType:function(){return this._type},setUnrefImageDataAfterApply:function(t){this._unrefImageDataAfterApply=t},checkIsCompressed:function(t){var e=t||this._internalFormat;switch(e){case f.COMPRESSED_RGB_S3TC_DXT1_EXT:case f.COMPRESSED_RGBA_S3TC_DXT1_EXT:case f.COMPRESSED_RGBA_S3TC_DXT3_EXT:case f.COMPRESSED_RGBA_S3TC_DXT5_EXT:case f.COMPRESSED_RGB_ATC_WEBGL:case f.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:case f.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:case f.COMPRESSED_RGB_PVRTC_4BPPV1_IMG:case f.COMPRESSED_RGB_PVRTC_2BPPV1_IMG:case f.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:case f.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:case f.COMPRESSED_RGB_ETC1_WEBGL:return!0;default:return!1}},setInternalFormat:function(t){var e=t;e?("string"==typeof e&&(e=f[e]),this._isCompressed=this.checkIsCompressed(e)):(this._isCompressed=!1,e=f.RGBA),this._internalFormat=e},getInternalFormat:function(){return this._internalFormat},isDirtyMipmap:function(){return this._dirtyMipmap},dirtyMipmap:function(){this._dirtyMipmap=!0},applyFilterParameter:function(t,e){var r=d(this._textureWidth)&&d(this._textureHeight);if(r||(this._wrapT=f.CLAMP_TO_EDGE,this._wrapS=f.CLAMP_TO_EDGE,this._minFilter!==f.LINEAR_MIPMAP_LINEAR&&this._minFilter!==f.LINEAR_MIPMAP_NEAREST||(this._minFilter=f.LINEAR)),t.texParameteri(e,t.TEXTURE_MAG_FILTER,this._magFilter),t.texParameteri(e,t.TEXTURE_MIN_FILTER,this._minFilter),this._maxAnisotropy>1&&f.ANISOTROPIC_SUPPORT_EXT){var i=this._maxAnisotropy<f.ANISOTROPIC_SUPPORT_MAX?this._maxAnisotropy:f.ANISOTROPIC_SUPPORT_MAX;t.texParameterf(e,f.TEXTURE_MAX_ANISOTROPY_EXT,i)}t.texParameteri(e,t.TEXTURE_WRAP_S,this._wrapS),t.texParameteri(e,t.TEXTURE_WRAP_T,this._wrapT)},generateMipmap:function(t,e){if(this._dirtyMipmap=!1,this.hasMipmapFilter()){var r=this._image;if(r&&r.hasMipmap())for(var i=this._getInternalFormatGL(),n=r.getMipmap(),a=1,s=n.length;a<s;a++){var o=n[a];this._isCompressed?this.applyTexImage2D(t,this._textureTarget,a,i,o.getWidth(),o.getHeight(),0,o.getImage()):this.applyTexImage2D(t,this._textureTarget,a,i,o.getWidth(),o.getHeight(),0,this._internalFormat,this._type,o.getImage())}else t.generateMipmap(e)}},hasMipmapFilter:function(){return this._minFilter===f.NEAREST_MIPMAP_NEAREST||this._minFilter===f.LINEAR_MIPMAP_NEAREST||this._minFilter===f.NEAREST_MIPMAP_LINEAR||this._minFilter===f.LINEAR_MIPMAP_LINEAR},applyTexImage2D:function(t){var e=Array.prototype.slice.call(arguments,1);n.timeStamp("osgjs.metrics:Texture.texImage2d"),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this._flipY),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,this._colorSpaceConversion),this._isCompressed?t.compressedTexImage2D.apply(t,e):t.texImage2D.apply(t,e);var r=this._applyTexImage2DCallbacks.length;if(r>0)for(var i=0,a=r;i<a;i++)this._applyTexImage2DCallbacks[i].call(this)},computeTextureFormat:function(){this._internalFormat?this._imageFormat=this._internalFormat:(this._internalFormat=this._imageFormat||f.RGBA,this._imageFormat=this._internalFormat)},applyImage:function(t){var e=this._getInternalFormatGL(),r=this._image||null,i=r&&this._image.getImage(),n=this._getTypeGL();this._isCompressed?this.applyTexImage2D(t,this._textureTarget,0,e,this._textureWidth,this._textureHeight,0,i):!i||r.isTypedArray()?this.applyTexImage2D(t,this._textureTarget,0,e,this._textureWidth,this._textureHeight,0,this._internalFormat,n,i):this.applyTexImage2D(t,this._textureTarget,0,e,this._internalFormat,n,i),r&&r.setDirty(!1)},apply:function(t){var e=t.getGraphicContext();if(this._dirtyTextureObject&&(this.releaseGLObjects(),this._dirtyTextureObject=!1),void 0===this._textureObject||this.isDirty())if(this._textureNull)e.bindTexture(this._textureTarget,null);else{var r=this._image;if(void 0!==r)if(r.isReady()){this.computeTextureFormat();var i=r.getWidth()||this._textureWidth,n=r.getHeight()||this._textureHeight;this.setTextureSize(i,n),this._textureObject||this.init(t),this._textureObject.bind(e),this.applyImage(e),this.applyFilterParameter(e,this._textureTarget),this.generateMipmap(e,this._textureTarget),this._unrefImageDataAfterApply&&(this._image=void 0),this._dirty=!1}else e.bindTexture(this._textureTarget,null);else 0!==this._textureHeight&&0!==this._textureWidth&&(this.computeTextureFormat(),this._textureObject||this.init(t),this._textureObject.bind(e),this.applyImage(e),this.applyFilterParameter(e,this._textureTarget),this.generateMipmap(e,this._textureTarget),this._dirty=!1)}else this._textureObject.bind(e),this.isDirtyMipmap()&&this.generateMipmap(e,this._textureTarget),void 0!==this._image&&this._image.isDirty()&&this.applyImage(e)},_getInternalFormatGL:function(){var t=this._internalFormat;if(!c.instance().isWebGL2())return m[t]||t;var e=v[this._type];return e&&e[t]||t},_getTypeGL:function(){return this._type!==f.HALF_FLOAT||c.instance().isWebGL2()?this._type:f.HALF_FLOAT_OES}})),"osg","Texture"),n.setTypeID(f),f.textureNull=new f,f.createFromImage=function(t,e){var r=new f;return r.setImage(t,e),r},f.createFromCanvas=function(t,e){return f.createFromImage(t,e)},t.exports=f},function(t,e,r){"use strict";var i=r(11),n=function(t){this._data=void 0,this._transpose=!1,this._glCall="",this._cache=void 0,this._name=t,this._type=void 0,this._isMatrix=!1};n.isUniform=function(t){return"object"==typeof t&&window.Object.getPrototypeOf(t)===n.prototype},n.prototype={getName:function(){return this._name},getType:function(){return this._type},apply:function(t,e){this._cache||(this._cache=t[this._glCall]),this._isMatrix?this._cache.call(t,e,this._transpose,this._data):this._cache.call(t,e,this._data)},setInternalArray:function(t){i.warn("setInternalArray deprecated, please use getInternalArray instead: "+t.length),this._data=t},getInternalArray:function(){return this._data},setFloat:function(t){this._data[0]=t},setFloat1:function(t){this._data[0]=t[0]},setFloat2:function(t){this._data[0]=t[0],this._data[1]=t[1]},setFloat3:function(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]},setFloat4:function(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2],this._data[3]=t[3]},setFloat9:function(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2],this._data[3]=t[3],this._data[4]=t[4],this._data[5]=t[5],this._data[6]=t[6],this._data[7]=t[7],this._data[8]=t[8]},setFloat16:function(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2],this._data[3]=t[3],this._data[4]=t[4],this._data[5]=t[5],this._data[6]=t[6],this._data[7]=t[7],this._data[8]=t[8],this._data[9]=t[9],this._data[10]=t[10],this._data[11]=t[11],this._data[12]=t[12],this._data[13]=t[13],this._data[14]=t[14],this._data[15]=t[15]}},n.prototype.setVec2=n.prototype.setFloat2,n.prototype.setVec3=n.prototype.setFloat3,n.prototype.setVec4=n.prototype.setFloat4,n.prototype.setMatrix4=n.prototype.setFloat16,n.prototype.setMatrix3=n.prototype.setFloat9,n.prototype.setInt=n.prototype.setFloat,n.prototype.setInt1=n.prototype.setFloat1,n.prototype.setInt2=n.prototype.setFloat2,n.prototype.setInt3=n.prototype.setFloat3,n.prototype.setInt4=n.prototype.setFloat4;var a=function(t,e,r,i,a,s){var o=e&&e.length?t:void 0,u=new n(void 0!==o?e:t);if(u._data=r,void 0!==o)if(o.length)for(var h=0,c=o.length;h<c;++h)u._data[h]=o[h];else u._data[0]=o;return u._glCall=i,u._type=a,u._isMatrix=!!s,u},s=function(t){for(var e=new Float32Array(4*t),r=0;r<e.length;r+=4)e[r]=e[r+3]=1;return e},o=function(t){for(var e=new Float32Array(9*t),r=0;r<e.length;r+=9)e[r]=e[r+4]=e[r+8]=1;return e},u=function(t){for(var e=new Float32Array(16*t),r=0;r<e.length;r+=16)e[r]=e[r+5]=e[r+10]=e[r+15]=1;return e},h=function(t,e,r){return r&&!r.length?r:"string"!=typeof e?(e.length||1)/t:1};n.createFloat1=function(t,e){return a(t,e,new Float32Array(1*h(1,t,e)),"uniform1fv","float")},n.createFloat2=function(t,e){return a(t,e,new Float32Array(2*h(2,t,e)),"uniform2fv","vec2")},n.createFloat3=function(t,e){return a(t,e,new Float32Array(3*h(3,t,e)),"uniform3fv","vec3")},n.createFloat4=function(t,e){return a(t,e,new Float32Array(4*h(4,t,e)),"uniform4fv","vec4")},n.createInt1=function(t,e){return a(t,e,new Int32Array(1*h(1,t,e)),"uniform1iv","int")},n.createInt2=function(t,e){return a(t,e,new Int32Array(2*h(2,t,e)),"uniform2iv","vec2i")},n.createInt3=function(t,e){return a(t,e,new Int32Array(3*h(3,t,e)),"uniform3iv","vec3i")},n.createInt4=function(t,e){return a(t,e,new Int32Array(4*h(4,t,e)),"uniform4iv","vec4i")},n.createMatrix2=function(t,e){return a(t,e,s(h(4,t,e)),"uniformMatrix2fv","mat2",!0)},n.createMatrix3=function(t,e){return a(t,e,o(h(9,t,e)),"uniformMatrix3fv","mat3",!0)},n.createMatrix4=function(t,e){return a(t,e,u(h(16,t,e)),"uniformMatrix4fv","mat4",!0)},n.float=n.createFloatArray=n.createFloat=n.createFloat1,n.vec2=n.createFloat2Array=n.createFloat2,n.vec3=n.createFloat3Array=n.createFloat3,n.vec4=n.createFloat4Array=n.createFloat4,n.int=n.createIntArray=n.createInt=n.createInt1,n.vec2i=n.createInt2Array=n.createInt2,n.vec3i=n.createInt3Array=n.createInt3,n.vec4i=n.createInt4Array=n.createInt4,n.mat2=n.createMat2Array=n.createMat2=n.createMatrix2,n.mat3=n.createMat3Array=n.createMat3=n.createMatrix3,n.mat4=n.createMat4Array=n.createMat4=n.createMatrix4,t.exports=n},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(14),s=window.ImageBitmap||function(){},o=function(t){a.call(this),this._imageObject=void 0,this._url=void 0,this._width=void 0,this._height=void 0,this._dirty=!0,this._mipmap=[],t&&this.setImage(t),this._isGreyscale=void 0};o.prototype=n.objectLibraryClass(n.objectInherit(a.prototype,{dirty:function(){this._isGreyscale=void 0,this._dirty=!0},isDirty:function(){return this._dirty},setDirty:function(t){this._dirty=t},getImage:function(){return this._imageObject instanceof o?this._imageObject.getImage():this._imageObject},getURL:function(){return this._url},setURL:function(t){this._url=t},useOrCreateImage:function(t){return t instanceof o==!1?new o(t):t},setImage:function(t){if(!this._url&&t&&(t.src||t.currentSrc)&&(this._url=t.src||t.currentSrc),this._mipmap.length=0,Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)this._mipmap.push(this.useOrCreateImage(t[e]));this.setWidth(this._mipmap[0].getWidth()),this.setHeight(this._mipmap[0].getHeight())}else this._mipmap.push(t);this._imageObject=this._mipmap[0],this.dirty()},isCanvas:function(){return this.getImage()instanceof window.HTMLCanvasElement},isBitmap:function(){return this.getImage()instanceof s},isVideo:function(){return this.getImage()instanceof window.HTMLVideoElement},isImage:function(){return this.getImage()instanceof window.Image},isTypedArray:function(){var t=this.getImage();return t instanceof Uint8Array||t instanceof Float32Array||t instanceof Uint16Array},setWidth:function(t){this._width=t},setHeight:function(t){this._height=t},getWidth:function(){var t=this.getImage();return this.isImage()?t.naturalWidth:this.isVideo()?t.videoWidth:this.isCanvas()||this.isBitmap()?t.width:this._width},getHeight:function(){var t=this.getImage();return this.isImage()?t.naturalHeight:this.isVideo()?t.videoHeight:this.isCanvas()||this.isBitmap()?t.height:this._height},isGreyscale:function(t){if(void 0!==this._isGreyscale)return this._isGreyscale;if(void 0!==this._imageObject&&this.isReady()&&void 0===this._isGreyscale){var e=this._imageObject;this.isCanvas()||(e=document.createElement("canvas"));var r=e.getContext("2d");e.width=this._imageObject.width,e.height=this._imageObject.height,r.drawImage(this._imageObject,0,0);var i,n;t||(i=e.width,n=e.height),t>0&&(t=Math.min(Math.min(e.width,e.height),t),i=n=t);for(var a=!0,s=e.width/i,o=e.height/n,u=0;u<i;u++)for(var h=0;h<n;h++){var c=Math.floor(s*(u+.5)),l=Math.floor(o*(h+.5)),d=r.getImageData(c,l,1,1).data;if(d[0]!==d[1]||d[0]!==d[2]){a=!1;break}}this._isGreyscale=a}return this._isGreyscale},isReady:function(){if(this._imageObject&&this._imageObject instanceof o)return this._imageObject.isReady();
if(this.isCanvas()||this.isTypedArray()||this.isBitmap())return!0;if(this.isImage()){var t=this.getImage();if(t.complete)return void 0===t.naturalWidth||0!==t.naturalWidth}if(this.isVideo()&&0!==this.getWidth())return!0;var e=this.getImage();return e.complete?void 0===e.naturalWidth||0!==e.naturalWidth:(i.warn("Warning can't detect image object "),!1)},getMipmap:function(){return this._mipmap},hasMipmap:function(){return this._mipmap.length>1},release:function(){this._mipmap.length=0,this._imageObject=void 0}}),"osg","Image"),n.setTypeID(o),t.exports=o},function(t,e){"use strict";var r=function(){this._gl=void 0};r.prototype={setGraphicContext:function(t){this._gl=t},getGraphicContext:function(){return this._gl}},t.exports=r},function(t,e,r){"use strict";var i=r(11),n=r(10),a=function(t,e,r,i){this._target=t,this._internalFormat=e,this._width=r,this._height=i,this._size=0,this.computeSize()};a.prototype={match:function(t){return t._target===this._target&&t._internalFormat===this._internalFormat&&t._width===this._width&&t._height===this._height},computeSize:function(){var t=r(32),e=0;switch(this._internalFormat){case 1:e=8;break;case t.ALPHA:e=8;break;case t.LUMINANCE:e=8;break;case t.LUMINANCE_ALPHA:e=16;break;case 2:e=16;break;case t.RGB:e=24;break;case 3:e=24;break;case t.RGBA:e=32;break;case 4:e=32}var i=Math.ceil(this._width*this._height*e)/8;this._target===t.TEXTURE_CUBE_MAP&&(i*=6),i+=i/3,this._size=i},getSize:function(){return this._size}},a.getHash=function(){var t=Array.prototype.slice.call(arguments),e="";return t.forEach(function(t){e+=t}),e};var s=function(t,e,r){this._texture=t,this._id=e,this._textureSet=r};s.prototype={target:function(){return this._textureSet._profile._target},id:function(){return this._id},getTextureSet:function(){return this._textureSet},reset:function(){this._textureObject=null,this._texture=void 0},bind:function(t){t.bindTexture(this.target(),this._id)}};var o=function(t){this._profile=t,this._usedTextureObjects=[],this._orphanedTextureObjects=[]};o.prototype={getProfile:function(){return this._profile},getUsedTextureObjects:function(){return this._usedTextureObjects},getOrphanedTextureObjects:function(){return this._orphanedTextureObjects},takeOrGenerate:function(t,e){var r;if(this._orphanedTextureObjects.length>0)return r=this.takeFromOrphans(),r._texture=e,this._usedTextureObjects.push(r),r;var i=t.createTexture();return r=new s(e,i,this),this._usedTextureObjects.push(r),r},takeFromOrphans:function(){if(this._orphanedTextureObjects.length)return this._orphanedTextureObjects.pop()},orphan:function(t){var e=this._usedTextureObjects.indexOf(t);e!==-1&&(this._orphanedTextureObjects.push(this._usedTextureObjects[e]),this._usedTextureObjects.splice(e,1))},flushDeletedTextureObjects:function(t,e){if(e<=0)return e;var r,i=this._orphanedTextureObjects.length,a=0,s=n.instance().tick();for(r=0;r<i&&a<e;r++)t.deleteTexture(this._orphanedTextureObjects[r].id()),this._orphanedTextureObjects[r].reset(),a=n.instance().deltaS(s,n.instance().tick());return this._orphanedTextureObjects.splice(0,r),e-a},flushAllDeletedTextureObjects:function(t){for(var e=this._orphanedTextureObjects.length,r=this.getProfile().getSize(),n=0,a=e;n<a;++n)t.deleteTexture(this._orphanedTextureObjects[n].id()),this._orphanedTextureObjects[n].reset();this._orphanedTextureObjects.length=0,i.info("TextureManager: released "+e+" with "+e*r/1048576+" MB")}};var u=function(){this._textureSetMap={}};u.prototype={generateTextureObject:function(t,e,r,i,n,s){var u=a.getHash(r,i,n,s);void 0===this._textureSetMap[u]&&(this._textureSetMap[u]=new o(new a(r,i,n,s)));var h=this._textureSetMap[u],c=h.takeOrGenerate(t,e);return c},updateStats:function(t,e){var r=0,i=0;for(var n in this._textureSetMap){var a=this._textureSetMap[n].getProfile(),s=a.getSize(),o=this._textureSetMap[n].getUsedTextureObjects().length,u=this._textureSetMap[n].getOrphanedTextureObjects().length;r+=o*s,i+=u*s}var h=1048576;e("textureused").set(r/h),e("texturereserved").set(i/h),e("texturetotal").set((r+i)/h)},reportStats:function(){var t=0;for(var e in this._textureSetMap){var r=this._textureSetMap[e].getProfile(),n=r.getSize()/1048576,a=this._textureSetMap[e].getUsedTextureObjects().length;n*=a,t+=n,i.notice(String(n)+" MB with "+a+" texture of "+r._width+"x"+r._height+" "+r._internalFormat)}i.notice(String(t)+" MB in total")},flushAllDeletedTextureObjects:function(t){for(var e in this._textureSetMap)this._textureSetMap[e].flushAllDeletedTextureObjects(t)},flushDeletedTextureObjects:function(t,e){var r=e;for(var i in this._textureSetMap)if(r=this._textureSetMap[i].flushDeletedTextureObjects(t,r),r<=0)break;return r},releaseTextureObject:function(t){if(t){var e=t.getTextureSet();e.orphan(t)}}},t.exports=u},function(t,e,r){"use strict";var i=r(38),n=function(t,e){this.mode=i.POINTS,void 0!==t&&("string"==typeof t&&(t=i[t]),this.mode=t),this.count=0,this.offset=0,this.indices=e,this.uType=n.UNSIGNED_SHORT,void 0!==e&&this.setIndices(e)};n.UNSIGNED_BYTE=5121,n.UNSIGNED_SHORT=5123,n.UNSIGNED_INT=5125,n.prototype={getMode:function(){return this.mode},draw:function(t){0!==this.count&&(t.setIndexArray(this.indices),this.drawElements(t))},drawElements:function(t){var e=t.getGraphicContext();e.drawElements(this.mode,this.count,this.uType,this.offset)},setIndices:function(t){this.indices=t;var e=t.getElements();this.count=e.length;var r=e.BYTES_PER_ELEMENT;1===r?this.uType=n.UNSIGNED_BYTE:2===r?this.uType=n.UNSIGNED_SHORT:4===r&&(this.uType=n.UNSIGNED_INT)},getIndices:function(){return this.indices},setFirst:function(t){this.offset=t},getFirst:function(){return this.offset},setCount:function(t){this.count=t},getCount:function(){return this.count},getNumIndices:function(){return this.indices.getElements().length},index:function(t){return this.indices.getElements()[t]}},t.exports=n},function(t,e){"use strict";var r={};r.POINTS=0,r.LINES=1,r.LINE_LOOP=2,r.LINE_STRIP=3,r.TRIANGLES=4,r.TRIANGLE_STRIP=5,r.TRIANGLE_FAN=6,t.exports=r},function(t,e,r){"use strict";var i=r(40),n=function(t){this._initialBufferArray=void 0,this._bufferArray=void 0,t&&(this.setBufferArray(t),this.setInitialBufferArray(t))},a={setInitialBufferArray:function(t){this._initialBufferArray=t},getInitialBufferArray:function(){return this._initialBufferArray},setBufferArray:function(t){this._bufferArray=t.getBufferArray?t.getBufferArray():t},getBufferArray:function(){return this._bufferArray}},s=function(t){return function(){return t.apply(this._bufferArray,arguments)}};for(var o in i.prototype)a[o]=s(i.prototype[o]);n.prototype=a,t.exports=n},function(t,e,r){"use strict";var i=r(7),n=r(14),a=r(35),s=r(10),o=function(t){var e;return t instanceof i.Float32Array&&(e=5126),t instanceof i.Uint32Array&&(e=5125),t instanceof i.Uint16Array&&(e=5123),t instanceof i.Uint8Array&&(e=5121),e},u=function(t,e,r,s){if(a.call(this),this._instanceID=n.getInstanceID(),this.dirty(),this._itemSize=r,this._target="string"==typeof t?u[t]:t,this._type=void 0,this._normalize=!1,void 0!==e){var o=e;s||(o=this._target===u.ELEMENT_ARRAY_BUFFER?e instanceof i.Uint16Array?e:new i.Uint16Array(e):e instanceof i.Float32Array?e:new i.Float32Array(e)),this.setElements(o)}};u.ELEMENT_ARRAY_BUFFER=34963,u.ARRAY_BUFFER=34962,u._sDeletedGLBufferArrayCache=new window.Map,u.deleteGLBufferArray=function(t,e){u._sDeletedGLBufferArrayCache.has(t)||u._sDeletedGLBufferArrayCache.set(t,[]),u._sDeletedGLBufferArrayCache.get(t).push(e)},u.flushDeletedGLBufferArrays=function(t,e){if(e<=0)return e;if(!u._sDeletedGLBufferArrayCache.has(t))return e;for(var r=0,i=s.instance().tick(),n=u._sDeletedGLBufferArrayCache.get(t),a=n.length,o=a-1;o>=0&&r<e;o--)t.deleteBuffer(n[o]),n.splice(o,1),r=s.instance().deltaS(i,s.instance().tick());return e-r},u.flushAllDeletedGLBufferArrays=function(t){if(u._sDeletedGLBufferArrayCache.has(t))for(var e=u._sDeletedGLBufferArrayCache.get(t),r=e.length,i=r-1;i>=0;i--)t.deleteBuffer(e[i]),e.splice(i,1)},u.prototype=i.objectInherit(a.prototype,{getInstanceID:function(){return this._instanceID},setItemSize:function(t){this._itemSize=t},isValid:function(){return void 0!==this._buffer||void 0!==this._elements},releaseGLObjects:function(){void 0!==this._buffer&&null!==this._buffer&&void 0!==this._gl&&u.deleteGLBufferArray(this._gl,this._buffer),this._buffer=void 0},setNormalize:function(t){this._normalize=t},getNormalize:function(){return this._normalize},bind:function(t){this._gl||this.setGraphicContext(t);var e=this._target,r=this._buffer;return r?void t.bindBuffer(e,r):void(!r&&this._elements.length>0&&(this._buffer=t.createBuffer(),this._numItems=this._elements.length/this._itemSize,t.bindBuffer(e,this._buffer)))},getItemSize:function(){return this._itemSize},dirty:function(){this._dirty=!0},isDirty:function(){return this._dirty},compile:function(t){this._dirty&&(i.timeStamp("osgjs.metrics:bufferData"),t.bufferData(this._target,this._elements,t.STATIC_DRAW),this._dirty=!1)},getElements:function(){return this._elements},setElements:function(t){this._elements=t,this._type=o(t),this._dirty=!0},getType:function(){return this._type}}),t.exports=u},function(t,e,r){"use strict";var i=r(7),n=r(22),a=function(){n.call(this),this._attributeEnable=!1};a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"Billboard",cloneType:function(){return new a},setEnabled:function(t){this._attributeEnable=t},isEnabled:function(){return this._attributeEnable},apply:function(){}}),"osg","Billboard"),t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(22),a=r(16).vec4,s=function(t){n.call(this),this._constantColor=a.create(),a.set(this._constantColor,1,1,1,1),void 0!==t&&this.setConstantColor(t)};s.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"BlendColor",cloneType:function(){return new s},setConstantColor:function(t){a.copy(this._constantColor,t)},getConstantColor:function(){return this._constantColor},apply:function(t){var e=t.getGraphicContext();e.blendColor(this._constantColor[0],this._constantColor[1],this._constantColor[2],this._constantColor[3])}}),"osg","BlendColor"),t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(22),a=function(t,e,r,i){n.call(this),this._sourceFactor=a.DISABLE,this._destinationFactor=a.DISABLE,this._sourceFactorAlpha=this._sourceFactor,this._destinationFactorAlpha=this._destinationFactor,this._separate=!1,void 0!==t&&this.setSource(t),void 0!==e&&this.setDestination(e),void 0!==r&&this.setSourceAlpha(r),void 0!==i&&this.setDestinationAlpha(i)};a.DISABLE=-1,a.ZERO=0,a.ONE=1,a.SRC_COLOR=768,a.ONE_MINUS_SRC_COLOR=769,a.SRC_ALPHA=770,a.ONE_MINUS_SRC_ALPHA=771,a.DST_ALPHA=772,a.ONE_MINUS_DST_ALPHA=773,a.DST_COLOR=774,a.ONE_MINUS_DST_COLOR=775,a.SRC_ALPHA_SATURATE=776,a.BLEND_DST_RGB=32968,a.BLEND_SRC_RGB=32969,a.BLEND_DST_ALPHA=32970,a.BLEND_SRC_ALPHA=32971,a.CONSTANT_COLOR=32769,a.ONE_MINUS_CONSTANT_COLOR=32770,a.CONSTANT_ALPHA=32771,a.ONE_MINUS_CONSTANT_ALPHA=32772,a.BLEND_COLOR=32773,a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"BlendFunc",cloneType:function(){return new a},setSource:function(t){this.setSourceRGB(t),this.setSourceAlpha(t)},getSource:function(){return this._sourceFactor},setDestination:function(t){this.setDestinationRGB(t),this.setDestinationAlpha(t)},getDestination:function(){return this._destinationFactor},getSeparate:function(){return this._separate},checkSeparate:function(){return this._sourceFactor!==this._sourceFactorAlpha||this._destinationFactor!==this._destinationFactorAlpha},setSourceRGB:function(t){"string"==typeof t?this._sourceFactor=a[t]:this._sourceFactor=t,this._separate=this.checkSeparate()},getSourceRGB:function(){return this._sourceFactor},setSourceAlpha:function(t){"string"==typeof t?this._sourceFactorAlpha=a[t]:this._sourceFactorAlpha=t,this._separate=this.checkSeparate()},getSourceAlpha:function(){return this._sourceFactorAlpha},setDestinationRGB:function(t){"string"==typeof t?this._destinationFactor=a[t]:this._destinationFactor=t,this._separate=this.checkSeparate()},getDestinationRGB:function(){return this._destinationFactor},setDestinationAlpha:function(t){"string"==typeof t?this._destinationFactorAlpha=a[t]:this._destinationFactorAlpha=t,this._separate=this.checkSeparate()},getDestinationAlpha:function(){return this._destinationFactorAlpha},apply:function(t){var e=t.getGraphicContext();this._sourceFactor===a.DISABLE||this._destinationFactor===a.DISABLE?e.disable(e.BLEND):(e.enable(e.BLEND),this._separate?e.blendFuncSeparate(this._sourceFactor,this._destinationFactor,this._sourceFactorAlpha,this._destinationFactorAlpha):e.blendFunc(this._sourceFactor,this._destinationFactor))}}),"osg","BlendFunc"),t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(12),a=r(45),s=r(16).mat4,o=r(32),u=r(26),h=r(16).vec4,c=function(){n.call(this),a.call(this),this.viewport=void 0,this._graphicContext=void 0,this.setClearColor(h.fromValues(0,0,0,1)),this.setClearDepth(1),this.setClearMask(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),this.setViewMatrix(s.create()),this.setProjectionMatrix(s.create()),this.renderOrder=c.NESTED_RENDER,this.renderOrderNum=0,this._view=void 0,this._renderer=void 0,this._attachments={}};c.PRE_RENDER=0,c.NESTED_RENDER=1,c.POST_RENDER=2,c.COLOR_BUFFER_BIT=16384,c.DEPTH_BUFFER_BIT=256,c.STENCIL_BUFFER_BIT=1024,c.prototype=i.objectLibraryClass(i.objectInherit(a.prototype,i.objectInherit(n.prototype,{getView:function(){return this._view},setView:function(t){this._view=t},getRenderer:function(){return this._renderer},setRenderer:function(t){this._renderer=t},setFinalDrawCallback:function(t){this._finalDrawCallback=t},getFinalDrawCallback:function(){return this._finalDrawCallback},setInitialDrawCallback:function(t){this._initialDrawCallback=t},getInitialDrawCallback:function(){return this._initialDrawCallback},getAttachments:function(){return this._attachments},setGraphicContext:function(t){this._graphicContext=t},getGraphicContext:function(){return this._graphicContext},setClearDepth:function(t){this.clearDepth=t},getClearDepth:function(){return this.clearDepth},setClearMask:function(t){this.clearMask=t},getClearMask:function(){return this.clearMask},setClearColor:function(t){this.clearColor=t},getClearColor:function(){return this.clearColor},setViewport:function(t){this.viewport=t,this.getOrCreateStateSet().setAttributeAndModes(t)},getViewport:function(){return this.viewport},setViewMatrix:function(t){this.modelviewMatrix=t},setViewMatrixAsLookAt:function(t,e,r){s.lookAt(this.getViewMatrix(),t,e,r)},setProjectionMatrix:function(t){this.projectionMatrix=t},setProjectionMatrixAsOrtho:function(t,e,r,i,n,a){s.ortho(this.getProjectionMatrix(),t,e,r,i,n,a)},isRenderToTextureCamera:function(){return window.Object.keys(this._attachments).length>0},getViewMatrix:function(){return this.modelviewMatrix},getProjectionMatrix:function(){return this.projectionMatrix},getRenderOrder:function(){return this.renderOrder},setRenderOrder:function(t,e){this.renderOrder=t,this.renderOrderNum=e},detachAll:function(){this._attachments={},this.frameBufferObject&&this.frameBufferObject.dirty()},resetAttachments:function(){this.frameBufferObject&&(this.frameBufferObject.reset(),this.frameBufferObject=0),this._attachments={}},attachTexture:function(t,e,r){this.frameBufferObject&&this.frameBufferObject.dirty(),r||(r=o.TEXTURE_2D),this._attachments[t]={attachment:t,texture:e,textureTarget:r}},attachRenderBuffer:function(t,e){this.frameBufferObject&&this.frameBufferObject.dirty(),this._attachments[t]={format:e,attachment:t}},computeLocalToWorldMatrix:function(t){return this.referenceFrame===u.RELATIVE_RF?s.mul(t,t,this.modelviewMatrix):s.copy(t,this.modelviewMatrix),!0},computeWorldToLocalMatrix:function(){var t=s.create();return function(e){return s.invert(t,this.modelviewMatrix),this.referenceFrame===u.RELATIVE_RF?s.mul(e,t,e):s.copy(e,t),!0}}()})),"osg","Camera"),i.setTypeID(c),t.exports=c},function(t,e){"use strict";var r=function(){r.prototype.reset.call(this)};r.prototype={reset:function(){this._computeNearFar=!0,this._nearFarRatio=.005,this.bbCornerFar=3,this.bbCornerNear=4,this._enableFrustumCulling=!1,this._settingsSourceOverrider=this,this._LODScale=1,this._clampProjectionMatrixCallback=void 0},setCullSettings:function(t){this._computeNearFar=t._computeNearFar,this._nearFarRatio=t._nearFarRatio,this._enableFrustumCulling=t._enableFrustumCulling,this._settingsSourceOverrider=t._settingsSourceOverrider,this._clampProjectionMatrixCallback=t._clampProjectionMatrixCallback},setNearFarRatio:function(t){this._nearFarRatio=t},getNearFarRatio:function(){return this._nearFarRatio},setComputeNearFar:function(t){this._computeNearFar=t},getComputeNearFar:function(){return this._computeNearFar},setEnableFrustumCulling:function(t){this._enableFrustumCulling=t},getEnableFrustumCulling:function(){return this._enableFrustumCulling},getSettingSourceOverrider:function(){return this._settingsSourceOverrider},setClampProjectionMatrixCallback:function(t){this._clampProjectionMatrixCallback=t},getClampProjectionMatrixCallback:function(){return this._clampProjectionMatrixCallback},setLODScale:function(t){this._LODScale=t},getLODScale:function(){return this._LODScale}},t.exports=r},function(t,e,r){"use strict";var i=r(7),n=r(22),a=function(t,e,r,i){n.call(this),this._colorMask=[!0,!0,!0,!0],this.setMask(t,e,r,i)};a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"ColorMask",cloneType:function(){return new a},setMask:function(t,e,r,i){void 0!==t&&void 0!==e&&void 0!==r&&void 0!==i&&(this._colorMask[0]=t,this._colorMask[1]=e,this._colorMask[2]=r,this._colorMask[3]=i)},apply:function(t){var e=t.getGraphicContext(),r=this._colorMask;e.colorMask(r[0],r[1],r[2],r[3])}}),"osg","ColorMask"),t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(22),a=function(t){n.call(this),this.setMode(void 0!==t?t:a.BACK)};a.DISABLE=0,a.FRONT=1028,a.BACK=1029,a.FRONT_AND_BACK=1032,a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"CullFace",cloneType:function(){return new a},setMode:function(t){var e=t;"string"==typeof e&&(e=a[e]),this._mode=e},getMode:function(){return this._mode},apply:function(t){var e=t.getGraphicContext();this._mode===a.DISABLE?e.disable(e.CULL_FACE):(e.enable(e.CULL_FACE),e.cullFace(this._mode))}}),"osg","CullFace"),t.exports=a},function(t,e,r){"use strict";var i=r(49),n=function(){this._mask=n.DEFAULT_CULLING,this._frustum=new i};n.prototype={reset:function(){this._mask=n.DEFAULT_CULLING,this._frustum.clear()},setCullingMask:function(t){this._mask=t},getCullingMask:function(){return this._mask},setFrustum:function(t){this._frustum=t},getFrustum:function(){return this._frustum},getCurrentResultMask:function(){return this._frustum.getCurrentMask()},pushCurrentMask:function(){this._frustum.pushCurrentMask()},popCurrentMask:function(){this._frustum.popCurrentMask()},resetCullingMask:function(){this._frustum.setResultMask(this._frustum.getCurrentMask())},isBoundingBoxCulled:function(t){return!(!(this._mask&n.VIEW_FRUSTUM_CULLING)||this._frustum.containsBoundingBox(t))},isBoundingSphereCulled:function(t){return!(!(this._mask&n.VIEW_FRUSTUM_CULLING)||this._frustum.containsBoundingSphere(t))},isVerticesCulled:function(t){return!(!(this._mask&n.VIEW_FRUSTUM_CULLING)||this._frustum.containsVertices(t))}},n.NO_CULLING=0,n.VIEW_FRUSTUM_LEFT_CULLING=1,n.VIEW_FRUSTUM_RIGHT_CULLING=2,n.VIEW_FRUSTUM_TOP_CULLING=3,n.VIEW_FRUSTUM_BOTTOM_CULLING=4,n.NEAR_PLANE_CULLING=5,n.FAR_PLANE_CULLING=6,n.VIEW_FRUSTUM_SIDES_CULLING=n.VIEW_FRUSTUM_LEFT_CULLING|n.VIEW_FRUSTUM_RIGHT_CULLING|n.VIEW_FRUSTUM_BOTTOM_CULLING|n.VIEW_FRUSTUM_TOP_CULLING,n.VIEW_FRUSTUM_CULLING=n.VIEW_FRUSTUM_SIDES_CULLING|n.NEAR_PLANE_CULLING|n.FAR_PLANE_CULLING,n.DEFAULT_CULLING=n.VIEW_FRUSTUM_SIDES_CULLING,n.ENABLE_ALL_CULLING=n.VIEW_FRUSTUM_CULLING,t.exports=n},function(t,e,r){"use strict";var i=r(14),n=r(50),a=r(7),s=r(16).vec4,o=r(16).vec3,u=function(){this._clippingMask=0,this._planeList=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()],this._vertexList=[],this._maskStack=[],this._resultMask=0,this._maskStack.push(this._resultMask)};u.prototype=a.objectInherit(i.prototype,{getPlanes:function(){return this._planeList},setPlanes:function(t){this._planeList=t,this.setupMask()},clear:function(){if(this._clippingMask=0,this._planeList)for(var t=0,e=this._planeList.length;t<e;++t)n.init(this._planeList[t]);this._vertexList=[],this.setupMask()},setToUnitFrustum:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this._planeList.length=0,this._planeList.push(s.set(n.create(),1,0,0,1)),this._planeList.push(s.set(n.create(),-1,0,0,1)),this._planeList.push(s.set(n.create(),0,1,0,1)),this._planeList.push(s.set(n.create(),0,-1,0,1)),t&&this._planeList.push(s.set(n.create(),0,0,1,1)),e&&this._planeList.push(s.set(n.create(),0,0,-1,1)),this.setupMask()},setToBoundingBox:function(t){this._planeList.length=0,this._planeList.push(s.set(n.create(),1,0,0,-t.getMin()[0])),this._planeList.push(s.set(n.create(),-1,0,0,t.getMax()[0])),this._planeList.push(s.set(n.create(),0,1,0,-t.getMin()[1])),this._planeList.push(s.set(n.create(),0,-1,0,t.getMax()[1])),this._planeList.push(s.set(n.create(),0,0,1,-t.getMin()[2])),this._planeList.push(s.set(n.create(),0,0,-1,t.getMax()[2])),this.setupMask()},setAndTransformProvidingInverse:function(t,e){this._referenceVertexList=t._referenceVertexList;var r=t._maskStack[this._maskStack.length-1];if(0===r)return this._maskStack[this._maskStack.length-1]=0,this._resultMask=0,void(this._planeList.length=0);var i,a=1,s=0;for(i=0;i!==t._planeList.length;++i)r&a&&++s,a<<=1;this._planeList.length=s,this._resultMask=0,a=1;var o=0;for(i=0;i!==t._planeList.length;++i)r&a&&(this._planeList[o]=t._planeList[i],n.transformProvidingInverse(this._planeList[o++],e),this._resultMask=this._resultMask<<1|1),a<<=1;this._maskStack[this._maskStack.length-1]=this._resultMask},voidset:function(t){this._planeList=t,this.setupMask()},add:function(t){this._planeList.push(t),this.setupMask()},empty:function(){return 0===this._planeList.length},setReferenceVertexList:function(t){this._referenceVertexList=t},getReferenceVertexList:function(){return this._referenceVertexList},setupMask:function(t){this._resultMask=0;for(var e=void 0!==t?t:this._planeList.length,r=0;r<e;++r)this._resultMask=this._resultMask<<1|1;this._maskStack=[],this._maskStack.push(this._resultMask)},getCurrentMask:function(){return this._maskStack[this._maskStack.length-1]},setResultMask:function(t){this._resultMask=t},getResultMask:function(){return this._resultMask},getMaskStack:function(){return this._maskStack},pushCurrentMask:function(){this._maskStack.push(this._resultMask)},popCurrentMask:function(){return this._maskStack.pop()},containsVertex:function(t){if(!this._maskStack[this._maskStack.length-1])return!0;for(var e=1,r=0;r<this._planeList.length;++r){if(this._maskStack[this._maskStack.length-1]&e&&n.distanceToPlane(this._planeList[r],t)<0)return!1;e<<=1}return!0},containsVertices:function(t){if(!this._maskStack[this._maskStack.length-1])return!0;this._resultMask=this._maskStack[this._maskStack.length-1];for(var e=0;e<t.length;++e){for(var r=t[e],i=!1,a=1,s=0;!i&&s<this._planeList.length;++s)this._maskStack[this._maskStack.length-1]&a&&n.distanceToPlane(this._planeList[s],r)<0&&(i=!0),a<<=1;if(!i)return!0}return!1},containsBoundingSphere:function(t){if(!this._maskStack[this._maskStack.length-1]||!t.valid())return!0;this._resultMask=this._maskStack[this._maskStack.length-1];for(var e=1,r=0;r<this._planeList.length;++r){if(this._resultMask&e){var i=n.intersectsOrContainsBoundingSphere(this._planeList[r],t);if(n.OUTSIDE===i)return!1;n.INSIDE===i&&(this._resultMask^=e)}e<<=1}return!0},containsBoundingBox:function(t){if(!this._maskStack[this._maskStack.length-1])return!0;this._resultMask=this._maskStack[this._maskStack.length-1];for(var e=1,r=0;r<this._planeList.length;++r){if(this._resultMask&e){var i=n.intersectsOrContainsBoundingBox(this._planeList[r],t);if(n.OUTSIDE===i)return!1;n.INSIDE===i&&(this._resultMask^=e)}e<<=1}return!0},containsAllOfVertices:function(t){if(!this._maskStack[this._maskStack.length-1])return!1;this._resultMask=this._maskStack[this._maskStack.length-1];for(var e=1,r=0;r<this._planeList.length;++r){if(this._resultMask&e){var i=n.intersectsOrContainsVertices(this._planeList[r],t);if(i<1)return!1;this._resultMask^=e}e<<=1}return!0},containsAllOfBoundingSphere:function(t){if(!this._maskStack[this._maskStack.length-1])return!1;this._resultMask=this._maskStack[this._maskStack.length-1];for(var e=1,r=0;r<this._planeList.length;++r){if(this._resultMask&e){var i=n.intersectsOrContainsBoundingSphere(this._planeList[r],t);if(i<1)return!1;this._resultMask^=e}e<<=1}return!0},containsAllOfBoundingBox:function(t){if(!this._maskStack[this._maskStack.length-1])return!1;this._resultMask=this._maskStack[this._maskStack.length-1];for(var e=1,r=0;r<this._planeList.length;++r){if(this._resultMask&e){var i=n.intersectsOrContainsBoundingBox(this._planeList[r],t);if(i<1)return!1;this._resultMask^=e}e<<=1}return!0},transformProvidingInverse:function(t){if(this._maskStack[this._maskStack.length-1]){this._resultMask=this._maskStack[this._maskStack.length-1];for(var e=1,r=0;r<this._planeList.length;++r)this._resultMask&e&&n.transformProvidingInverse(this._planeList[r],t),e<<=1}},contains:function(t,e,r){if(this._maskStack[this._maskStack.length-1]){var i=[],a=[];i.push(t),i.push(e),i.push(r),i.push(t),this._resultMask=this._maskStack[this._maskStack.length-1];for(var s=1,u=0;u<this._planeList.length;++u){if(this._resultMask&s){for(var h=i[1],c=n.distanceToPlane(this._planeList[u],h),l=0;l<i.length;++l){var d=i[l],f=n.distanceToPlane(this._planeList[u],d);if(c>=0&&a.push(o.clone(h)),c*f<0){var p=c-f,g=c/p,_=o.add(o.create(),o.scale(o.create(),h,1-g),o.scale(o.create(),d,g));a.push(_)}c=f,h=d}if(c>=0&&a.push(o.clone(h)),a.length<=1)return!1;var m=i.slice();i=a.slice(),a=m}s<<=1}return!0}}}),t.exports=u},function(t,e,r){"use strict";var i=r(7),n=r(16).vec4,a=r(16).vec3,s=i.objectInherit(n,{INSIDE:1,INTERSECT:2,OUTSIDE:3,transformProvidingInverse:function(){var t=s.create();return function(e,r){var i=e[0],n=e[1],a=e[2],o=e[3];return t[0]=r[0]*i+r[1]*n+r[2]*a+r[3]*o,t[1]=r[4]*i+r[5]*n+r[6]*a+r[7]*o,t[2]=r[8]*i+r[9]*n+r[10]*a+r[11]*o,t[3]=r[12]*i+r[13]*n+r[14]*a+r[15]*o,s.normalizeEquation(t),s.copy(t,e),e}},normalizeEquation:function(t){var e=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e},getNormal:function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},setNormal:function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]},getDistance:function(t){return t[3]},setDistance:function(t,e){t[3]=e},distanceToPlane:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]},intersectsOrContainsBoundingSphere:function(t,e){if(!e.valid())return s.OUTSIDE;var r=e.center(),i=e.radius(),n=this.distanceToPlane(t,r);return n<-i?s.OUTSIDE:n<=i?s.INTERSECT:s.INSIDE},instersectsBoundingSphere:function(t,e){return this.intersectsOrContainsBoundingSphere(t,e)===s.INTERSECT},intersectsOrContainsBoundingBox:function(){var t=a.create();return function(e,r){var i=(e[0]>=0?1:0)|(e[1]>=0?2:0)|(e[2]>=0?4:0),n=7&~i;return this.distanceToPlane(e,r.corner(n,t))>0?s.INSIDE:this.distanceToPlane(e,r.corner(i,t))<0?s.OUTSIDE:s.INTERSECT}}(),intersectsBoundingBox:function(t,e,r){return this.intersectsOrContainsBoundingBox(t,e,r)===s.INTERSECT},intersectOrContainsVertices:function(t,e){for(var r=-1,i=0;i<e.length;i++){var n=this.distanceToPlane(t,e[i]);if(n<0){if(1===r)return s.INTERSECT;r=2}else{if(!(n>0))return s.INTERSECT;if(2===r)return s.INTERSECT;r=1}}return r>0?s.INSIDE:s.OUTSIDE},intersectVertices:function(t,e){return this.intersectOrContainsVertices(t,e)===s.INTERSECT}});t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(20),a=r(44),s=r(25),o=r(45),u=r(48),h=r(16).mat4,c=r(50),l=r(24),d=r(12),f=r(26),p=r(16).vec3,g=function(){this._modelViewMatrixStack=[],this._projectionMatrixStack=[],this._viewportStack=[],this._cullingSetStack=[],this._frustumVolume=-1,this._bbCornerFar=0,this._bbCornerNear=0,this._reservedMatrixStack=new l,this._reserveCullingSetStack=[new u],this._reserveCullingSetStack.current=0,this._cameraIndexStack=[],this._cameraModelViewIndexStack=[],this._cameraMatrixInverse=[],this._cameraMatrixInverseRoot=void 0};g.prototype=i.objectInherit(o.prototype,{_getReservedCullingSet:function(){var t=this._reserveCullingSetStack[this._reserveCullingSetStack.current++];return this._reserveCullingSetStack.current===this._reserveCullingSetStack.length&&this._reserveCullingSetStack.push(new u),t},reset:function(){this._modelViewMatrixStack.length=0,this._projectionMatrixStack.length=0,this._cullingSetStack.length=0,this._reservedMatrixStack.reset(),this._reserveCullingSetStack.current=0,this._cameraModelViewIndexStack.length=0,this._cameraIndexStack.length=0,this._cameraMatrixInverse.length=0,this._cameraMatrixInverseRoot=void 0},getProjectionMatrixStack:function(){return this._projectionMatrixStack},getCurrentProjectionMatrix:function(){return this._projectionMatrixStack[this._projectionMatrixStack.length-1]},getCurrentModelViewMatrix:function(){return this._modelViewMatrixStack[this._modelViewMatrixStack.length-1]},getCameraInverseMatrix:function(){if(!this._cameraIndexStack.length)return this._cameraMatrixInverseRoot;var t=this._cameraIndexStack[this._cameraIndexStack.length-1],e=this.getNodePath()[t],r=e.getInstanceID();if(void 0===this._cameraMatrixInverse[r]){var i=this._cameraModelViewIndexStack[this._cameraModelViewIndexStack.length-1],n=this._modelViewMatrixStack[i],a=this._reservedMatrixStack.get();h.invert(a,n),this._cameraMatrixInverse[r]=a}return this._cameraMatrixInverse[r]},getCurrentModelMatrix:function(){var t=this.getCameraInverseMatrix(),e=this._reservedMatrixStack.get(),r=h.mul(e,t,this.getCurrentModelViewMatrix());return r},getCurrentViewMatrix:function(){if(!this._cameraIndexStack.length)return this._modelViewMatrixStack[0];var t=this._cameraModelViewIndexStack[this._cameraModelViewIndexStack.length-1];return this._modelViewMatrixStack[t]},getViewport:function(){if(0!==this._viewportStack.length)return this._viewportStack[this._viewportStack.length-1]},getLookVectorLocal:function(t){var e=this.getCurrentModelViewMatrix();return p.set(t,-e[2],-e[6],-e[10])},pushViewport:function(t){this._viewportStack.push(t)},popViewport:function(){this._viewportStack.pop()},getFrustumPlanes:function(){var t=h.create();return function(e,r,i,n){h.mul(t,r,i);var a=!!n,s=e[0];s[0]=t[3]-t[0],s[1]=t[7]-t[4],s[2]=t[11]-t[8],s[3]=t[15]-t[12];var o=e[1];o[0]=t[3]+t[0],o[1]=t[7]+t[4],o[2]=t[11]+t[8],o[3]=t[15]+t[12];var u=e[2];u[0]=t[3]+t[1],u[1]=t[7]+t[5],u[2]=t[11]+t[9],u[3]=t[15]+t[13];var l=e[3];if(l[0]=t[3]-t[1],l[1]=t[7]-t[5],l[2]=t[11]-t[9],l[3]=t[15]-t[13],a){var d=e[4];d[0]=t[3]-t[2],d[1]=t[7]-t[6],d[2]=t[11]-t[10],d[3]=t[15]-t[14];var f=e[5];f[0]=t[3]+t[2],f[1]=t[7]+t[6],f[2]=t[11]+t[10],f[3]=t[15]+t[14]}for(var p=n?6:4,g=0;g<p;g++)c.normalizeEquation(e[g])}}(),pushCullingSet:function(){var t=this._getReservedCullingSet();this._enableFrustumCulling&&(h.getFrustumPlanes(t.getFrustum().getPlanes(),this.getCurrentProjectionMatrix(),this.getCurrentModelViewMatrix(),!1),t.getFrustum().setupMask(4)),this._cullingSetStack.push(t)},popCullingSet:function(){return this._cullingSetStack.pop()},getCurrentCullingSet:function(){return this._cullingSetStack[this._cullingSetStack.length-1]},pushCurrentMask:function(){var t=this.getCurrentCullingSet();t&&t.pushCurrentMask()},popCurrentMask:function(){var t=this.getCurrentCullingSet();t&&t.popCurrentMask()},isVerticesCulled:function(t){return!!this._enableFrustumCulling&&this.getCurrentCullingSet().isVerticesCulled(t)},isBoundingBoxCulled:function(t){return!!this._enableFrustumCulling&&(t.valid()&&this.getCurrentCullingSet().isBoundingBoxCulled(t))},isBoundingSphereCulled:function(t){return!!this._enableFrustumCulling&&(t.valid()&&this.getCurrentCullingSet().isBoundingSphereCulled(t))},isCulled:function(){var t=new n;
return function(e,r){if(!this._enableFrustumCulling)return!1;if(e.isCullingActive()){if(0===this.getCurrentCullingSet().getCurrentResultMask())return!1;var i=this._reservedMatrixStack.get();return h.identity(i),i=e instanceof d?s.computeLocalToWorld(r.slice(0,r.length-1),!0,i):s.computeLocalToWorld(r,!0,i),e.getBound().transformMat4(t,i),this.getCurrentCullingSet().isBoundingSphereCulled(t)}return this.getCurrentCullingSet().resetCullingMask(),!1}}(),pushModelViewMatrix:function(){var t=p.create();return function(e){var r=this.getNodePath(),i=r.length;if(i){var n=i-1;r[n].getTypeID()===a.getTypeID()&&r[n].getReferenceFrame()===f.ABSOLUTE_RF&&(this._cameraIndexStack.push(n),this._cameraModelViewIndexStack.push(this._modelViewMatrixStack.length))}else{var s=this._reservedMatrixStack.get();h.invert(s,e),this._cameraMatrixInverseRoot=s}this._modelViewMatrixStack.push(e),this.getLookVectorLocal(t),this._bbCornerFar=(t[0]>=0?1:0)|(t[1]>=0?2:0)|(t[2]>=0?4:0),this._bbCornerNear=7&~this._bbCornerFar}}(),popModelViewMatrix:function(){var t=p.create();return function(){var e=this.getNodePath(),r=e.length-1;this._cameraIndexStack.length&&r===this._cameraIndexStack[this._cameraIndexStack.length-1]&&(this._cameraIndexStack.pop(),this._cameraModelViewIndexStack.pop()),this._modelViewMatrixStack.pop(),0!==this._modelViewMatrixStack.length?this.getLookVectorLocal(t):p.set(t,0,0,-1),this._bbCornerFar=(t[0]>=0?1:0)|(t[1]>=0?2:0)|(t[2]>=0?4:0),this._bbCornerNear=7&~this._bbCornerFar}}(),pushProjectionMatrix:function(t){this._projectionMatrixStack.push(t),this._frustumVolume=-1,this.pushCullingSet()},popProjectionMatrix:function(){this._projectionMatrixStack.pop(),this._frustumVolume=-1,this.popCullingSet()}}),t.exports=g},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(17),s=r(23),o=r(45),u=r(51),h=r(16).mat4,c=r(53),l=r(6),d=r(54),f=r(55),p=r(8),g=r(28),_=r(56),m=r(57),v=r(58),b=r(13),x=r(60),y=r(61),S=r(62),T=r(44),M=r(26),A=r(16).vec3,w=r(63),C=r(69),E=r(65),R=r(70),N=function(){s.call(this,s.TRAVERSE_ACTIVE_CHILDREN),o.call(this),u.call(this),this._rootStateGraph=void 0,this._currentStateGraph=void 0,this._currentRenderBin=void 0,this._currentRenderStage=void 0,this._rootRenderStage=void 0,this._computedNear=Number.POSITIVE_INFINITY,this._computedFar=Number.NEGATIVE_INFINITY;var t=A.fromValues(0,0,-1);this._camera=void 0,this._bbCornerFar=(t[0]>=0?1:0)|(t[1]>=0?2:0)|(t[2]>=0?4:0),this._bbCornerNear=7&~this._bbCornerFar,this._reserveLeafStack=[new _],this._reserveLeafStackCurrent=0,this._reserveRenderStageStacks={},this._reserveCullSettingsStack=[new o],this._reserveCullSettingsStackCurrent=0,this._renderBinStack=[],this.visitorType=s.CULL_VISITOR,this._identityMatrix=h.create(),this._renderer=void 0,this._renderStageType=v,this._numCamera=0,this._numMatrixTransform=0,this._numProjection=0,this._numNode=0,this._numLightSource=0,this._numGeometry=0};N.prototype=n.objectInherit(u.prototype,n.objectInherit(s.prototype,{distance:function(t,e){return-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+e[14])},getComputedNear:function(){return this._computedNear},getComputedFar:function(){return this._computedFar},resetStats:function(){this._numCamera=0,this._numMatrixTransform=0,this._numProjection=0,this._numNode=0,this._numLightSource=0,this._numGeometry=0},handleCullCallbacksAndTraverse:function(t){var e=t.getCullCallback();e&&!e.cull(t,this)||this.traverse(t)},getCurrentCamera:function(){return this._currentRenderBin.getStage().getCamera()},updateCalculatedNearFar:function(){var t=A.create(),e=A.create();return function(r,i){var n,a,s=i.getBoundingBox();if(n=this.distance(s.corner(this._bbCornerNear,t),r),a=this.distance(s.corner(this._bbCornerFar,e),r),n>a){var o=n;n=a,a=o}return!(a<0)&&(n<this._computedNear&&(this._computedNear=n),a>this._computedFar&&(this._computedFar=a),!0)}}(),setStateGraph:function(t){this._rootStateGraph=t,this._currentStateGraph=t},setRenderStage:function(t){this._rootRenderStage=t,this._currentRenderBin=t},setRenderer:function(t){this._renderer=t},getRenderer:function(){return this._renderer},reset:function(){u.prototype.reset.call(this),this.resetRenderLeafStack(),this._reserveLeafStackCurrent=0,this.resetCullSettingsStack(),this._reserveCullSettingsStackCurrent=0;for(var t in this._reserveRenderStageStacks)this._reserveRenderStageStacks[t].reset();m.resetStack(),this._computedNear=Number.POSITIVE_INFINITY,this._computedFar=Number.NEGATIVE_INFINITY},getCurrentRenderBin:function(){return this._currentRenderBin},setCurrentRenderBin:function(t){this._currentRenderBin=t},addPositionedAttribute:function(t,e){var r=t?t:this._identityMatrix;this._currentRenderBin.getStage().positionedAttribute.push([r,e])},pushStateSet:function(t){if(this._currentStateGraph=this._currentStateGraph.findOrInsert(t),void 0!==t.getBinName()){var e=this._renderBinStack,r=this._currentRenderBin;e.push(r),this._currentRenderBin=r.getStage().findOrInsert(t.getBinNumber(),t.getBinName())}},popStateSet:function(){var t=this._currentStateGraph,e=t.getStateSet();if(this._currentStateGraph=t.parent,void 0!==e.getBinName()){var r=this._renderBinStack;0===r.length?this._currentRenderBin=this._currentRenderBin.getStage():this._currentRenderBin=r.pop()}},popProjectionMatrix:function(){if(this._computeNearFar===!0&&this._computedFar>=this._computedNear){var t=this.getCurrentProjectionMatrix();void 0!==this._clampProjectionMatrixCallback?this._clampProjectionMatrixCallback(t,this._computedNear,this._computedFar,this._nearFarRatio):this.clampProjectionMatrix(t,this._computedNear,this._computedFar,this._nearFarRatio)}u.prototype.popProjectionMatrix.call(this)},clampProjectionMatrix:function(t,e,r,n,a){var s=1e-6;if(r<e-s)return i.log("clampProjectionMatrix not applied, invalid depth range, znear = "+e+"  zfar = "+r,!1,!0),!1;var o,u;if(r<e+s){var h=.5*(e+r);e=h-s,r=h+s}if(Math.abs(t[3])<s&&Math.abs(t[7])<s&&Math.abs(t[11])<s){var c=.02*(r-e);c<1&&(c=1),o=e-c,u=r+c,e=o,r=u,t[10]=-2/(u-o),t[14]=-(u+o)/(u-o)}else{var l=1.02,d=.98;o=e*d,u=r*l;var f=r*n;o<f&&(o=f),e=o,r=u;var p=t[10],g=t[14],_=t[11],m=t[15],v=(-o*p+g)/(-o*_+m),b=(-u*p+g)/(-u*_+m),x=Math.abs(2/(v-b)),y=-(v+b)/2,S=y*x;t[2]=t[2]*x+t[3]*S,t[6]=t[6]*x+t[7]*S,t[10]=p*x+_*S,t[14]=g*x+m*S}return void 0!==a&&(a[0]=e,a[1]=r),!0},popCameraModelViewProjectionMatrix:function(){this.popModelViewMatrix(),this.popProjectionMatrix()},pushCameraModelViewProjectionMatrix:function(t,e,r){this.pushModelViewMatrix(e),this.pushProjectionMatrix(r)},apply:function(t){this[t.typeID](t)},createOrReuseRenderStage:function(t){var e,r=t?t.className():"RenderStage",i=t?t.constructor:v;return this._reserveRenderStageStacks[r]?e=this._reserveRenderStageStacks[r]:(e=new p.OsgObjectMemoryStack(i),this._reserveRenderStageStacks[r]=e),e.get().init()},createOrReuseRenderLeaf:function(){var t=this._reserveLeafStack[this._reserveLeafStackCurrent++];return this._reserveLeafStackCurrent===this._reserveLeafStack.length&&this._reserveLeafStack.push(new _),t},resetRenderLeafStack:function(){for(var t=0,e=this._reserveLeafStackCurrent;t<=e;t++)this._reserveLeafStack[t].reset()},createOrReuseCullSettings:function(){var t=this._reserveCullSettingsStack[this._reserveCullSettingsStackCurrent++];return this._reserveCullSettingsStackCurrent===this._reserveCullSettingsStack.length&&this._reserveCullSettingsStack.push(new o),t},resetCullSettingsStack:function(){for(var t=0,e=this._reserveCullSettingsStackCurrent;t<=e;t++)this._reserveCullSettingsStack[t].reset()},postPushGeometry:function(t,e){var r,i;e instanceof C?(i=e.getStateSetAnimation(),i&&t.pushStateSet(i),r=e.getSourceGeometry(),r instanceof R&&(i=r.getStateSetAnimation(),i&&t.pushStateSet(i))):e instanceof R&&(i=e.getStateSetAnimation(),i&&t.pushStateSet(i))},prePopGeometry:function(t,e){if(e instanceof C){var r=e.getSourceGeometry();r instanceof R&&r.getStateSetAnimation()&&t.popStateSet(),e.getStateSetAnimation()&&t.popStateSet()}else e instanceof R&&e.getStateSetAnimation()&&t.popStateSet()},pushLeaf:function(t,e){var r=this._currentStateGraph.leafs;0===r.length&&this._currentRenderBin.addStateGraph(this._currentStateGraph);var i=this.createOrReuseRenderLeaf();i.init(this._currentStateGraph,t,this.getCurrentProjectionMatrix(),this.getCurrentViewMatrix(),this.getCurrentModelViewMatrix(),this.getCurrentModelMatrix(),e),r.push(i)}})),N.prototype[T.typeID]=function(t){this._numCamera++;var e=t.getStateSet();e&&this.pushStateSet(e);var r=this._reservedMatrixStack.get(),i=this._reservedMatrixStack.get();if(t.getReferenceFrame()===M.RELATIVE_RF){var n=this.getCurrentProjectionMatrix();h.mul(i,n,t.getProjectionMatrix());var a=this.getCurrentModelViewMatrix();h.mul(r,a,t.getViewMatrix())}else h.copy(r,t.getViewMatrix()),h.copy(i,t.getProjectionMatrix());var s=this._computedNear,o=this._computedFar,u=this.createOrReuseCullSettings();if(u.setCullSettings(this),this._computedNear=Number.POSITIVE_INFINITY,this._computedFar=Number.NEGATIVE_INFINITY,this.setCullSettings(t),u.getSettingSourceOverrider()===this&&u.getEnableFrustumCulling()&&this.setEnableFrustumCulling(!0),this.pushCameraModelViewProjectionMatrix(t,r,i),t.getViewport()&&this.pushViewport(t.getViewport()),t.getRenderOrder()===T.NESTED_RENDER)this.handleCullCallbacksAndTraverse(t);else{var c=this.getCurrentRenderBin(),l=c.getStage(),d=this.createOrReuseRenderStage(this._rootRenderStage);d.setCamera(t),d.setClearDepth(t.getClearDepth()),d.setClearColor(t.getClearColor()),d.setClearMask(t.getClearMask());var f;f=void 0===t.getViewport()?l.getViewport():t.getViewport(),d.setViewport(f),this.setCurrentRenderBin(d),this.handleCullCallbacksAndTraverse(t),this.setCurrentRenderBin(c),t.getRenderOrder()===T.PRE_RENDER?this.getCurrentRenderBin().getStage().addPreRenderStage(d,t.renderOrderNum):this.getCurrentRenderBin().getStage().addPostRenderStage(d,t.renderOrderNum)}this.popCameraModelViewProjectionMatrix(t),t.getViewport()&&this.popViewport(),this.setCullSettings(u),this._computedNear=s,this._computedFar=o,e&&this.popStateSet()},N.prototype[c.typeID]=function(t){if(this._numMatrixTransform++,!this.isCulled(t,this.nodePath)){this.pushCurrentMask();var e=this._reservedMatrixStack.get(),r=this.getCurrentModelViewMatrix();h.copy(e,r),t.computeLocalToWorldMatrix(e),this.pushModelViewMatrix(e);var i=t.getStateSet();i&&this.pushStateSet(i),this.handleCullCallbacksAndTraverse(t),i&&this.popStateSet(),this.popModelViewMatrix(),this.popCurrentMask()}},N.prototype[d.typeID]=function(t){this._numProjection++;var e=this.getCurrentProjectionMatrix(),r=this._reservedMatrixStack.get();h.mul(r,e,t.getProjectionMatrix()),this.pushProjectionMatrix(r);var i=t.getStateSet();i&&this.pushStateSet(i),this.handleCullCallbacksAndTraverse(t),i&&this.popStateSet(),this.popProjectionMatrix()},N.prototype[b.typeID]=function(t){if(this._numNode++,!this.isCulled(t,this.nodePath)){this.pushCurrentMask();var e=t.getStateSet();e&&this.pushStateSet(e),this.handleCullCallbacksAndTraverse(t),e&&this.popStateSet(),this.popCurrentMask()}},N.prototype[l.typeID]=N.prototype[c.typeID],N.prototype[x.typeID]=N.prototype[b.typeID],N.prototype[y.typeID]=N.prototype[b.typeID],N.prototype[S.typeID]=N.prototype[b.typeID],N.prototype[f.typeID]=function(t){this._numLightSource++;var e=t.getStateSet();e&&this.pushStateSet(e);var r=t.getLight();r&&(t.getReferenceFrame()===M.RELATIVE_RF?this.addPositionedAttribute(this.getCurrentModelViewMatrix(),r):this.addPositionedAttribute(null,r)),this.handleCullCallbacksAndTraverse(t),e&&this.popStateSet()},N.prototype[g.typeID]=function(){var t=A.create(),e=!1;return function(r){this._numGeometry++;var n=this.getCurrentModelViewMatrix(),s=r.getBoundingBox();if(!this._computeNearFar||!s.valid()||this.updateCalculatedNearFar(n,r)){var o=r.getCullCallback();if(!o||o.cull(r,this)){var u=r.getStateSet();u&&this.pushStateSet(u),this.postPushGeometry(this,r);var h=0;s.valid()&&(h=this.distance(s.center(t),n)),a.isNaN(h)?e||(i.warn("warning geometry has a NaN depth, "+n+" center "+t),e=!0):this.pushLeaf(r,h),this.prePopGeometry(this,r),u&&this.popStateSet()}}}}(),N.prototype[w.typeID]=N.prototype[c.typeID],N.prototype[C.typeID]=N.prototype[g.typeID],N.prototype[R.typeID]=N.prototype[g.typeID],N.prototype[E.typeID]=N.prototype[c.typeID],t.exports=N},function(t,e,r){"use strict";var i=r(7),n=r(16).mat4,a=r(12),s=r(26),o=function(){a.call(this),this.matrix=n.create()};o.prototype=i.objectLibraryClass(i.objectInherit(a.prototype,{getMatrix:function(){return this.matrix},setMatrix:function(t){this.matrix=t,this.dirtyBound()},computeLocalToWorldMatrix:function(t){return this.referenceFrame===s.RELATIVE_RF?n.mul(t,t,this.matrix):n.copy(t,this.matrix),!0},computeWorldToLocalMatrix:function(){var t=n.create();return function(e){return n.invert(t,this.matrix),this.referenceFrame===s.RELATIVE_RF?n.mul(e,t,e):n.copy(e,t),!0}}()}),"osg","MatrixTransform"),i.setTypeID(o),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(13),a=r(16).mat4,s=function(){n.call(this),this.projection=a.create()};s.prototype=i.objectInherit(n.prototype,{getProjectionMatrix:function(){return this.projection},setProjectionMatrix:function(t){this.projection=t}}),i.setTypeID(s),t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(13),a=r(26),s=r(16).vec3,o=function(){n.call(this),this.setCullingActive(!1),this._light=void 0,this._referenceFrame=a.RELATIVE_RF};o.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{getLight:function(){return this._light},setLight:function(t){this._light=t},setReferenceFrame:function(t){this._referenceFrame=t},getReferenceFrame:function(){return this._referenceFrame},computeBoundingSphere:function(){var t=s.create();return function(e){if(n.prototype.computeBoundingSphere.call(this,e),void 0!==this._light&&this._referenceFrame===a.RELATIVE_RF){var r=this._light.getPosition();0!==r[3]&&e.expandByvec3(s.scale(t,r,1/r[3]))}return e}}()}),"osg","LightSource"),i.setTypeID(o),t.exports=o},function(t,e,r){"use strict";var i=r(9),n=function(t,e){this.modelUniform=e._uniformsCache[t.modelMatrix.getName()],this.viewUniform=e._uniformsCache[t.viewMatrix.getName()],this.apply=void 0,this.generateUniformsApplyMethods()};n.prototype={generateUniformsApplyMethods:function(){var t=["//generated by RenderLeaf\n"];t.push("var gl = state.getGraphicContext();"),t.push("var matrixModelViewChanged = state.applyModelViewMatrix( modelview, model );"),t.push("state.applyProjectionMatrix( projection );"),void 0!==this.modelUniform&&(t.push("if ( matrixModelViewChanged ) {"),t.push("    var modelMatrix = state.modelMatrix;"),t.push("    modelMatrix.setMatrix4( model );"),t.push("    modelMatrix.apply( gl, this.modelUniform);"),t.push("};")),void 0!==this.viewUniform&&(t.push("if ( matrixModelViewChanged ) {"),t.push("    var viewMatrix = state.viewMatrix;"),t.push("    viewMatrix.setMatrix4( view );"),t.push("    viewMatrix.apply( gl, this.viewUniform);"),t.push("};"));var e=new Function("state","modelview","model","view","projection","return function RenderLeafApplyMatrixUniformCache( state, modelview, model, view, projection ) { "+t.join("\n")+"}")();this.apply=e}};var a=function(){this._parent=void 0,this._geometry=void 0,this._depth=0,this._projection=void 0,this._view=void 0,this._model=void 0,this._modelView=void 0};a.prototype={reset:function(){this._parent=void 0,this._geometry=void 0,this._depth=0,this._projection=void 0,this._view=void 0,this._model=void 0,this._modelView=void 0},init:function(t,e,r,i,n,a,s){this._parent=t,this._geometry=e,this._depth=s,this._projection=r,this._view=i,this._model=a,this._modelView=n},drawGeometry:function(){return function(t){var e=t.getLastProgramApplied(),r=e.getInstanceID(),i=t.getCacheUniformsApplyRenderLeaf(),a=i[r];a||(a=new n(t,e),i[r]=a),a.apply(t,this._modelView,this._model,this._view,this._projection),this._geometry.drawImplementation(t)}}(),render:function(){var t=0,e=-1;return function(r,n){var a,s,o=this._parent,u=o.parent,h=o.stateset;void 0!==n?(a=n._parent,s=a.parent,s!==u?(i.moveStateGraph(r,s,u),r.applyStateSet(h)):o!==a?r.applyStateSet(h):r._stateSetStackChanged(t,e)&&r.applyStateSet(h)):(i.moveStateGraph(r,void 0,u),r.applyStateSet(h)),r._setStateSetsDrawID(++t),e=r.getStateSetStackSize(),this.drawGeometry(r)}}()},t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(11),a=r(14),s=r(17),o=function(t){a.call(this),this._leafs=[],this.positionedAttribute=[],this.stateGraphList=[],o.prototype.init.call(this,t)};o.SORT_BY_STATE=0,o.SORT_BACK_TO_FRONT=1,o.SORT_FRONT_TO_BACK=2,o.defaultSortMode=o.SORT_BY_STATE,o.BinPrototypes={RenderBin:function(){return o.getOrCreate().init()},DepthSortedBin:function(){return o.getOrCreate().init(o.SORT_BACK_TO_FRONT)}};var u=function(t,e){return e._depth-t._depth},h=function(t,e){return t._depth-e._depth},c=function(t,e){return t._binNum-e._binNum};o.prototype=i.objectLibraryClass(i.objectInherit(a.prototype,{init:function(t){return this._leafs.length=0,this.positionedAttribute.length=0,this._renderStage=void 0,this._bins={},this.stateGraphList.length=0,this._parent=void 0,this._binNum=0,this._sorted=!1,this._sortMode=void 0!==t?t:o.defaultSortMode,this._drawCallback=void 0,this},_createRenderBin:function(t){var e=o.BinPrototypes.RenderBin;return t&&o.BinPrototypes[t]&&(e=o.BinPrototypes[t]),e()},getStateGraphList:function(){return this.stateGraphList},copyLeavesFromStateGraphListToRenderLeafList:function(){this._leafs.splice(0,this._leafs.length);for(var t=!1,e=0,r=this.stateGraphList.length;e<r;e++)for(var i=this.stateGraphList[e].leafs,a=0,o=i.length;a<o;a++){var u=i[a];s.isNaN(u._depth)?t=!0:this._leafs.push(u)}t&&n.debug("warning: RenderBin::copyLeavesFromStateGraphListToRenderLeafList() detected NaN depth values, database may be corrupted."),this.stateGraphList.splice(0,this.stateGraphList.length)},getSortMode:function(){return this._sortMode},sortBackToFront:function(){this.copyLeavesFromStateGraphListToRenderLeafList(),this._leafs.sort(u)},sortFrontToBack:function(){this.copyLeavesFromStateGraphListToRenderLeafList(),this._leafs.sort(h)},sortImplementation:function(){var t=o;switch(this._sortMode){case t.SORT_BACK_TO_FRONT:this.sortBackToFront();break;case t.SORT_FRONT_TO_BACK:this.sortFrontToBack();break;case t.SORT_BY_STATE:}},sort:function(){if(!this._sorted){for(var t in this._bins)this._bins[t].sort();this.sortImplementation(),this._sorted=!0}},setParent:function(t){this._parent=t},getParent:function(){return this._parent},getBinNumber:function(){return this._binNum},findOrInsert:function(t,e){var r=this._bins[t];return r||(r=this._createRenderBin(e),r._parent=this,r._binNum=t,r._renderStage=this._renderStage,this._bins[t]=r),r},getStage:function(){return this._renderStage},addStateGraph:function(t){this.stateGraphList.push(t)},reset:function(){this.stateGraphList.length=0,this._bins={},this.positionedAttribute.length=0,this._leafs.length=0,this._sorted=!1},draw:function(t,e){var r=e;return r=this._drawCallback&&this._drawCallback.drawImplementation?this._drawCallback.drawImplementation(this,t,r):this.drawImplementation(t,r)},applyPositionedAttribute:function(t,e){for(var r=0,i=e.length;r<i;r++){var n=e[r],a=n[1],s=n[0];t.setGlobalDefaultAttribute(a),a.apply(t),a.applyPositionedUniform(s,t),t.haveAppliedAttribute(a)}},drawImplementation:function(t,e){var r=e,i=[];for(var n in this._bins)i.push(this._bins[n]);i.sort(c);for(var a,s=0,o=i.length;s<o&&(a=i[s],!(a.getBinNumber()>0));s++)r=a.draw(t,r);for(r=this.drawLeafs(t,r);s<o;s++)a=i[s],r=a.draw(t,r);return r},drawLeafs:function(t,e){for(var r,i=this.stateGraphList,n=this._leafs,a=e,s=0,o=n.length;s<o;s++)r=n[s],r.render(t,a),a=r;for(var u=0,h=i.length;u<h;u++)for(var c=i[u],l=0,d=c.leafs.length;l<d;l++)r=c.leafs[l],r.render(t,a),a=r;return a}}),"osg","RenderBin"),o.getOrCreate=function(){var t=o._reservedStack[o._reservedStackCurrent++];return o._reservedStackCurrent===o._reservedStack.length&&o._reservedStack.push(new o),t},o.resetStack=function(){o._reservedStackCurrent=0},o._reservedStack=[new o],o._reservedStackCurrent=0,t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(44),a=r(59),s=r(11),o=r(57),u=r(16).vec4,h=function(){o.call(this),this.clearColor=u.create(),this.preRenderList=[],this.postRenderList=[],h.prototype.init.call(this)};h.prototype=i.objectLibraryClass(i.objectInherit(o.prototype,{constructor:h,init:function(){return o.prototype.init.call(this),this.positionedAttribute.length=0,this.clearDepth=1,u.set(this.clearColor,0,0,0,1),this.clearMask=n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT,this.camera=void 0,this.viewport=void 0,this.preRenderList.length=0,this.postRenderList.length=0,this._renderStage=this,this},reset:function(){o.prototype.reset.call(this),this.preRenderList.length=0,this.postRenderList.length=0},setClearDepth:function(t){this.clearDepth=t},getClearDepth:function(){return this.clearDepth},setClearColor:function(t){u.copy(this.clearColor,t)},getClearColor:function(){return this.clearColor},setClearMask:function(t){this.clearMask=t},getClearMask:function(){return this.clearMask},setViewport:function(t){this.viewport=t},getViewport:function(){return this.viewport},setCamera:function(t){this.camera=t},getCamera:function(){return this.camera},getPositionedAttribute:function(){return this.positionedAttribute},getPreRenderStageList:function(){return this.preRenderList},getPostRenderStageList:function(){return this.postRenderList},addPreRenderStage:function(t,e){for(var r=0,i=this.preRenderList.length;r<i;r++){var n=this.preRenderList[r];if(e<n.order)break}r<this.preRenderList.length?this.preRenderList=this.preRenderList.splice(r,0,{order:e,renderStage:t}):this.preRenderList.push({order:e,renderStage:t})},addPostRenderStage:function(t,e){for(var r=0,i=this.postRenderList.length;r<i;r++){var n=this.postRenderList[r];if(e<n.order)break}r<this.postRenderList.length?this.postRenderList=this.postRenderList.splice(r,0,{order:e,renderStage:t}):this.postRenderList.push({order:e,renderStage:t})},drawPreRenderStages:function(t,e){for(var r=e,i=0,n=this.preRenderList.length;i<n;++i){var a=this.preRenderList[i].renderStage;r=a.draw(t,r)}return r},draw:function(t,e){this.camera&&this.camera.getInitialDrawCallback()&&this.camera.getInitialDrawCallback()(t);var r=this.drawPreRenderStages(t,e);return r=this.drawImplementation(t,r),r=this.drawPostRenderStages(t,r),this.camera&&this.camera.getFinalDrawCallback()&&this.camera.getFinalDrawCallback()(t),r},sort:function(){for(var t=0,e=this.preRenderList.length;t<e;++t)this.preRenderList[t].renderStage.sort();o.prototype.sort.call(this);for(var r=0,i=this.postRenderList.length;r<i;++r)this.postRenderList[r].renderStage.sort()},drawPostRenderStages:function(t,e){for(var r=e,i=0,n=this.postRenderList.length;i<n;++i){var a=this.postRenderList[i].renderStage;r=a.draw(t,r)}return r},applyCamera:function(t){var e=t.getGraphicContext();if(void 0===this.camera)return void e.bindFramebuffer(e.FRAMEBUFFER,null);var r=this.camera.getViewport(),i=this.camera.frameBufferObject;if(i||(i=new a,this.camera.frameBufferObject=i),i.isDirty()){var n,s,o=this.camera.getAttachments(),u=o[a.COLOR_ATTACHMENT0];u&&u.texture&&(n=u.texture.getWidth(),s=u.texture.getHeight());for(var h in o){u=o[h];var c={};c.attachment=u.attachment,void 0===u.texture?(c.format=u.format,c.width=void 0!==n?n:r.width(),c.height=void 0!==s?s:r.height()):(c.texture=u.texture,c.textureTarget=u.textureTarget,u.format&&(c.format=u.format)),i.setAttachment(c)}}i.apply(t)},drawImplementation:function(t,e){var r=t.getGraphicContext();if(this.applyCamera(t),void 0===this.viewport&&s.log("RenderStage does not have a valid viewport"),t.applyAttribute(this.viewport),this.camera){var i=this.camera.getStateSet()&&this.camera.getStateSet().getAttribute("Scissor");i&&t.applyAttribute(i)}0!==this.clearMask&&(this.clearMask&r.COLOR_BUFFER_BIT&&r.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.clearMask&r.DEPTH_BUFFER_BIT&&(r.depthMask(!0),r.clearDepth(this.clearDepth)),r.clear(this.clearMask)),0!==this.positionedAttribute.length&&this.applyPositionedAttribute(t,this.positionedAttribute);var n=o.prototype.drawImplementation.call(this,t,e);return n}}),"osg","RenderStage"),t.exports=h},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(35),s=r(22),o=r(10),u=r(29),h=function(){a.call(this),s.call(this),this._fbo=void 0,this._rbo=void 0,this._attachments=[],this._dirty=!0,this._hasMRT=u.instance().getWebGLExtension("WEBGL_draw_buffers")};h.COLOR_ATTACHMENT0=36064,h.DEPTH_ATTACHMENT=36096,h.DEPTH_COMPONENT16=33189,h._sDeletedGLFrameBufferCache=new window.Map,h.deleteGLFrameBuffer=function(t,e){h._sDeletedGLFrameBufferCache.has(t)||h._sDeletedGLFrameBufferCache.set(t,[]),h._sDeletedGLFrameBufferCache.get(t).push(e)},h.flushDeletedGLFrameBuffers=function(t,e){if(e<=0)return e;if(!h._sDeletedGLFrameBufferCache.has(t))return e;for(var r=0,i=o.instance().tick(),n=h._sDeletedGLFrameBufferCache.get(t),a=n.length,s=a-1;s>=0&&r<e;s--)t.deleteFramebuffer(n[s]),n.splice(s,1),r=o.instance().deltaS(i,o.instance().tick());return e-r},h.flushAllDeletedGLFrameBuffers=function(t){if(h._sDeletedGLFrameBufferCache.has(t))for(var e=h._sDeletedGLFrameBufferCache.get(t),r=e.length,i=r-1;i>=0;i--)t.deleteFramebuffer(e[i]),e.splice(i,1)},h._sDeletedGLRenderBufferCache=new window.Map,h.deleteGLRenderBuffer=function(t,e){h._sDeletedGLRenderBufferCache.has(t)||h._sDeletedGLRenderBufferCache.set(t,[]),h._sDeletedGLRenderBufferCache.get(t).push(e)},h.flushDeletedGLRenderBuffers=function(t,e){if(e<=0)return e;if(!h._sDeletedGLRenderBufferCache.has(t))return e;for(var r=0,i=o.instance().tick(),n=h._sDeletedGLRenderBufferCache.get(t),a=n.length,s=a-1;s>=0&&r<e;s--)t.deleteRenderbuffer(n[s]),n.splice(s,1),r=o.instance().deltaS(i,o.instance().tick());return e-r},h.flushAllDeletedGLRenderBuffers=function(t){if(h._sDeletedGLRenderBufferCache.has(t))for(var e=h._sDeletedGLRenderBufferCache.get(t),r=e.length,i=r-1;i>=0;i--)t.deleteRenderbuffer(e[i]),e.splice(i,1)},h.prototype=n.objectInherit(a.prototype,n.objectInherit(s.prototype,{attributeType:"FrameBufferObject",cloneType:function(){return new h},dirty:function(){this._dirty=!0},isDirty:function(){return this._dirty},setAttachment:function(t){this._attachments.push(t)},releaseGLObjects:function(){void 0!==this._fbo&&void 0!==this._gl&&h.deleteGLFrameBuffer(this._gl,this._fbo),this._fbo=void 0,void 0!==this._rbo&&void 0!==this._gl&&h.deleteGLRenderBuffer(this._gl,this._rbo),this._rbo=void 0},_reportFrameBufferError:function(t){switch(t){case 36054:i.debug("FRAMEBUFFER_INCOMPLETE_ATTACHMENT");break;case 36055:i.debug("FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");break;case 36057:i.debug("FRAMEBUFFER_INCOMPLETE_DIMENSIONS");break;case 36061:i.debug("FRAMEBUFFER_UNSUPPORTED");break;default:i.debug("FRAMEBUFFER unknown error "+t.toString(16))}},reset:function(){this.releaseGLObjects(),this._attachments=[]},getFrameBufferObject:function(){return this._fbo},createFrameBufferObject:function(t){this.setGraphicContext(t.getGraphicContext()),this._fbo=this._gl.createFramebuffer()},createRenderBuffer:function(t,e,r){var i=this._gl,n=i.createRenderbuffer();return i.bindRenderbuffer(i.RENDERBUFFER,n),i.renderbufferStorage(i.RENDERBUFFER,t,e,r),n},framebufferRenderBuffer:function(t,e){var r=this._gl;r.bindRenderbuffer(r.RENDERBUFFER,e),r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,e),void 0!==r.rawgl&&i.log("FBO: renderBuffer: "+this._fbo.trackedObject.defaultName)},framebufferTexture2D:function(t,e,r,n){var a=this._gl;if(t.applyTextureAttribute(1,n),n.isDirty()||!n.getTextureObject())return!1;var s=a.DRAW_FRAMEBUFFER||a.FRAMEBUFFER;return a.framebufferTexture2D(s,e,r,n.getTextureObject().id(),0),void 0!==a.rawgl&&i.log("FBO: texture: "+n.getName()+" : "+n.getTextureObject().id().trackedObject.defaultName+" fbo: "+this._fbo.trackedObject.defaultName),!0},bindFrameBufferObject:function(){var t=this._gl;t.bindFramebuffer(t.FRAMEBUFFER,this._fbo)},checkStatus:function(){var t=this._gl,e=t.checkFramebufferStatus(t.FRAMEBUFFER);e!==t.FRAMEBUFFER_COMPLETE&&this._reportFrameBufferError(e)},_checkAllowedSize:function(t,e){var r=u.instance().getWebGLParameter("MAX_RENDERBUFFER_SIZE");return!(0===t||0===e||e>r||t>r)||(i.error("width ("+t+") or height ("+t+') makes frame buffer not bindable. Max RenderBuffer is "'+r+'"'),!1)},apply:function(t){this._gl||this.setGraphicContext(t.getGraphicContext());var e=this._gl,r=this._attachments;if(0===r.length&&!this._fbo)return void e.bindFramebuffer(e.FRAMEBUFFER,null);if(!this.isDirty())return e.bindFramebuffer(e.FRAMEBUFFER,this._fbo),void(i.reportWebGLError===!0&&this.checkStatus());this._fbo||this.createFrameBufferObject(t),this.bindFrameBufferObject();for(var n=this._hasMRT?[]:void 0,a=!1,s=0,o=r.length;s<o;++s){var u=r[s];if(u.texture){var h=u.texture;if(!this._checkAllowedSize(h.getWidth(),h.getHeight()))return void this.releaseGLObjects();if(this._hasMRT&&u.attachment>=e.COLOR_ATTACHMENT0&&u.attachment<=e.COLOR_ATTACHMENT15&&n.push(u.attachment),!this.framebufferTexture2D(t,u.attachment,u.textureTarget,h))return void this.releaseGLObjects()}else{if(!this._checkAllowedSize(u.width,u.height))return void this.releaseGLObjects();this._rbo=this.createRenderBuffer(u.format,u.width,u.height),this.framebufferRenderBuffer(u.attachment,this._rbo),a=!0}}n&&n.length>0&&e.drawBuffers(n),this.checkStatus(),a&&e.bindRenderbuffer(e.RENDERBUFFER,null),this._dirty=!1}})),t.exports=h},function(t,e,r){"use strict";var i=r(7),n=r(13),a=r(23),s=r(16).mat4,o=r(16).vec2,u=r(16).vec3,h=r(20),c=function(){n.call(this),this._radius=-1,this._range=[],this._rangeMode=c.DISTANCE_FROM_EYE_POINT,this._userDefinedCenter=[],this._centerMode=c.USE_BOUNDING_SPHERE_CENTER};c.DISTANCE_FROM_EYE_POINT=0,c.PIXEL_SIZE_ON_SCREEN=1,c.USE_BOUNDING_SPHERE_CENTER=0,c.USER_DEFINED_CENTER=1,c.UNION_OF_BOUNDING_SPHERE_AND_USER_DEFINED=2,c.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{getRadius:function(){return this._radius},setRadius:function(t){this._radius=t},setCenter:function(t){this._centerMode!==c.UNION_OF_BOUNDING_SPHERE_AND_USER_DEFINED&&(this._centerMode=c.USER_DEFINED_CENTER),this._userDefinedCenter=t},getCenter:function(){return this._centerMode===c.USER_DEFINED_CENTER||this._centerMode===c.UNION_OF_BOUNDING_SPHERE_AND_USER_DEFINED?this._userDefinedCenter:this.getBound().center()},setCenterMode:function(t){this._centerMode=t},computeBoundingSphere:function(t){if(this._centerMode===c.USER_DEFINED_CENTER&&this._radius>=0)return t.set(this._userDefinedCenter,this._radius),t;if(this._centerMode===c.UNION_OF_BOUNDING_SPHERE_AND_USER_DEFINED&&this._radius>=0){t.set(this._userDefinedCenter,this._radius);var e=new h;return t.expandByBoundingSphere(n.prototype.computeBoundingSphere.call(this,e)),t}return n.prototype.computeBoundingSphere.call(this,t),t},projectBoundingSphere:function(){var t=u.create();return function(e,r,i){u.transformMat4(t,e.center(),r);var n=e.radius2(),a=t[2]*t[2],s=u.sqrLen(t),o=-Math.PI*i*i*n*Math.sqrt(Math.abs((s-n)/(n-a)))/(n-a);return o}}(),setRangeMode:function(t){this._rangeMode=t},addChildNode:function(t){if(n.prototype.addChild.call(this,t),this.children.length>this._range.length){var e=[],r=0;this._range.lenght>0&&(r=this._range[this._range.length-1][1]),e.push(o.fromValues(r,r)),this._range.push(e)}return!0},addChild:function(t,e,r){if(n.prototype.addChild.call(this,t),this.children.length>this._range.length){var i=[];i.push(o.fromValues(e,e)),this._range.push(i)}return this._range[this.children.length-1][0]=e,this._range[this.children.length-1][1]=r,!0},traverse:function(){var t=u.create(),e=u.create(),r=s.create();return function(i){var n=i.traversalMode;switch(n){case a.TRAVERSE_ALL_CHILDREN:for(var o=0;o<this.children.length;o++)this.children[o].accept(i);break;case a.TRAVERSE_ACTIVE_CHILDREN:var h=0,l=i.getCurrentModelViewMatrix();if(s.invert(r,l),this._rangeMode===c.DISTANCE_FROM_EYE_POINT){u.transformMat4(e,t,r);var d=u.distance(this.getBound().center(),e);h=d*i.getLODScale()}else{var f=i.getCurrentProjectionMatrix();
h=this.projectBoundingSphere(this.getBound(),l,f[0]),h=h*i.getViewport().width()*i.getViewport().width()*.25/i.getLODScale()}var p=this.children.length;this._range.length<p&&(p=this._range.length);for(var g=0;g<p;++g)this._range[g][0]<=h&&h<this._range[g][1]&&this.children[g].accept(i)}}}()}),"osg","Lod"),i.setTypeID(c),t.exports=c},function(t,e,r){"use strict";var i=r(7),n=r(13),a=r(23),s=function(){n.call(this),this._values=[]};s.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{addChild:function(t,e){return n.prototype.addChild.call(this,t),void 0===e&&(e=!0),this.children.length>this._values.length?this._values.push(e):this._values[this.children.length-1]=e,!0},setValue:function(t,e){t<this._values.length&&(this._values[t]=e)},getValue:function(t){if(t<this._values.length)return this._values[t]},setAllChildrenOff:function(){for(var t=0;t<this._values.length;++t)this._values[t]=!1},setAllChildrenOn:function(){for(var t=0;t<this._values.length;++t)this._values[t]=!0},traverse:function(){return function(t){var e=t.traversalMode;switch(e){case a.TRAVERSE_ALL_CHILDREN:for(var r=0;r<this.children.length;++r)this.children[r].accept(t);break;case a.TRAVERSE_ACTIVE_CHILDREN:var i=this.children.length;for(this._values.length<i&&(i=this._values.length),r=0;r<i;++r)this._values[r]===!0&&this.children[r].accept(t)}}}()}),"osg","Switch"),i.setTypeID(s),t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(60),a=r(23),s=r(16).mat4,o=r(16).vec3,u=function(){n.call(this),this._perRangeDataList=[],this._loading=!1,this._expiryTime=0,this._expiryFrame=0,this._centerMode=n.USER_DEFINED_CENTER,this._frameNumberOfLastTraversal=0,this._databasePath="",this._numChildrenThatCannotBeExpired=0},h=function(){this.filename="",this.function=void 0,this.loaded=!1,this.timeStamp=0,this.frameNumber=0,this.frameNumberOfLastTraversal=0,this.dbrequest=void 0};u.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{setRange:function(t,e,r){if(t>=this._range.length){var i=[];i.push([e,e]),this._range.push(i)}this._range[t][0]=e,this._range[t][1]=r},setExpiryTime:function(t){this._expiryTime=t},setDatabasePath:function(t){this._databasePath=t},getDatabasePath:function(){return this._databasePath},setFileName:function(t,e){if(t>=this._perRangeDataList.length){var r=new h;r.filename=e,this._perRangeDataList.push(r)}else this._perRangeDataList[t].filename=e},setFunction:function(t,e){if(t>=this._perRangeDataList.length){var r=new h;r.function=e,this._perRangeDataList.push(r)}else this._perRangeDataList[t].function=e},addChild:function(t,e,r){n.prototype.addChild.call(this,t,e,r),this._perRangeDataList.push(new h)},addChildNode:function(t){n.prototype.addChildNode.call(this,t)},setFrameNumberOfLastTraversal:function(t){this._frameNumberOfLastTraversal=t},getFrameNumberOfLastTraversal:function(){return this._frameNumberOfLastTraversal},setTimeStamp:function(t,e){this._perRangeDataList[t].timeStamp=e},setFrameNumber:function(t,e){this._perRangeDataList[t].frameNumber=e},setNumChildrenThatCannotBeExpired:function(t){this._numChildrenThatCannotBeExpired=t},getNumChildrenThatCannotBeExpired:function(){return this._numChildrenThatCannotBeExpired},getDatabaseRequest:function(t){return this._perRangeDataList[t].dbrequest},removeExpiredChildren:function(t,e,r){if(!(this.children.length<=this._numChildrenThatCannotBeExpired)){var i,n,a=this.children.length-1;i=this._perRangeDataList[a].timeStamp+this._expiryTime,n=this._perRangeDataList[a].frameNumber+this._expiryFrame,i<t&&n<e&&(this._perRangeDataList[a].filename.length>0||void 0!==this._perRangeDataList[a].function)&&(r.push(this.children[a]),this.removeChild(this.children[a]),this._perRangeDataList[a].loaded=!1,void 0!==this._perRangeDataList[a].dbrequest&&(this._perRangeDataList[a].dbrequest._groupExpired=!0))}},traverse:function(){var t=o.create(),e=o.create(),r=s.create();return function(i){var u=i.traversalMode,h=!1;switch(i.getVisitorType()===a.CULL_VISITOR&&(this._frameNumberOfLastTraversal=i.getFrameStamp().getFrameNumber(),h=!0),u){case a.TRAVERSE_ALL_CHILDREN:for(var c=0;c<this.children.length;c++)this.children[c].accept(i);break;case a.TRAVERSE_ACTIVE_CHILDREN:var l=0,d=i.getCurrentModelViewMatrix();if(s.invert(r,d),this._rangeMode===n.DISTANCE_FROM_EYE_POINT){o.transformMat4(e,t,r);var f=o.distance(this.getBound().center(),e);l=f*i.getLODScale()}else{var p=i.getCurrentProjectionMatrix();l=this.projectBoundingSphere(this.getBound(),d,p[0]),l=l*i.getViewport().width()*i.getViewport().width()*.25/i.getLODScale(),l<0&&(l=this._range[this._range.length-1][0])}for(var g=!1,_=-1,m=0;m<this._range.length;++m)this._range[m][0]<=l&&l<this._range[m][1]&&(m<this.children.length?(h&&(this._perRangeDataList[m].timeStamp=i.getFrameStamp().getSimulationTime(),this._perRangeDataList[m].frameNumber=i.getFrameStamp().getFrameNumber()),this.children[m].accept(i),_=m):g=!0);if(g){var v=this.children.length;if(v>0&&v-1!==_&&(h&&(this._perRangeDataList[v-1].timeStamp=i.getFrameStamp().getSimulationTime(),this._perRangeDataList[v-1].frameNumber=i.getFrameStamp().getFrameNumber()),this.children[v-1].accept(i)),v<this._perRangeDataList.length){var b=(this._range[v][0]-l)/(this._range[v][1]-this._range[v][0]);this._rangeMode===n.PIXEL_SIZE_ON_SCREEN&&(b=-b);var x=i.nodePath[i.nodePath.length-1];if(this._perRangeDataList[v].loaded===!1){this._perRangeDataList[v].loaded=!0;var y=i.getDatabaseRequestHandler();this._perRangeDataList[v].dbrequest=y.requestNodeFile(this._perRangeDataList[v].function,this._databasePath+this._perRangeDataList[v].filename,x,i.getFrameStamp().getSimulationTime(),b)}else void 0!==this._perRangeDataList[v].dbrequest?(this._perRangeDataList[v].dbrequest._timeStamp=i.getFrameStamp().getSimulationTime(),this._perRangeDataList[v].dbrequest._priority=b):this._perRangeDataList[v].loaded=!1}}}}}()}),"osg","PagedLOD"),i.setTypeID(u),t.exports=u},function(t,e,r){"use strict";var i=r(7),n=r(53),a=r(64),s=r(23),o=r(67),u=r(65),h=function(){s.call(this,s.TRAVERSE_ALL_CHILDREN)};h.prototype=i.objectInherit(s.prototype,{apply:function(t){if(t.getTypeID()===u.getTypeID()){var e=t.getUpdateCallback();if(e instanceof o){for(var r=e._stackedTransforms,i=0,n=r.length;i<n;i++){var a=r[i];a.resetToDefaultValue()}e.computeChannels()}}this.traverse(t)}});var c=new h,l=function(){n.call(this)};l.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{setDefaultUpdateCallback:function(){this.addUpdateCallback(new a)},setRestPose:function(){this.accept(c)}}),"osgAnimation","Skeleton"),i.setTypeID(l),t.exports=l},function(t,e,r){"use strict";var i=r(7),n=r(65),a=r(23),s=r(11),o=r(14),u=function(){a.call(this)};u.prototype=i.objectInherit(a.prototype,{apply:function(t){if(t.getTypeID()===n.getTypeID()){for(var e=!1,r=t.getChildren(),i=0,a=t.getChildren().length;i<a;i++){var o=r[i];if(o.getTypeID()===n.getTypeID()){if(e)return void s.warn("Warning: a Bone was found after a non-Bone child within a Skeleton. Children of a Bone must be ordered with all child Bones first for correct update order.")}else e=!0}this.traverse(t)}}});var h=function(t,e){var r=t instanceof n?0:1,i=e instanceof n?0:1;return r-i},c=function(){this._needValidate=!0};c.prototype=i.objectInherit(o.prototype,{needToValidate:function(){return this._needValidate},update:function(t,e){if(this._needValidate&&e.getVisitorType()===a.UPDATE_VISITOR&&t.className&&"Skeleton"===t.className()){for(var r=new u,i=t.getChildren(),n=0,s=i.length;n<s;n++){var o=i[n];o.accept(r)}i.sort(h),this._needValidate=!1}return!0}}),t.exports=c},function(t,e,r){"use strict";var i=r(7),n=r(16).vec3,a=r(15),s=r(16).mat4,o=r(53),u=r(66),h=function(t){void 0!==t&&this.setName(t),o.call(this),this._invBindInSkeletonSpace=s.create(),this._boneInSkeletonSpace=s.create(),this._boneBoundingBox=new a};h.prototype=i.objectLibraryClass(i.objectInherit(o.prototype,{getOrCreateDebugColor:function(){return this._boneColor?this._boneColor:(this._boneColor=n.fromValues(Math.random(),Math.random(),Math.random()),this._boneColor)},getBoneBoundingBox:function(){return this._boneBoundingBox},setBoneBoundingBox:function(t){this._boneBoundingBox=t},getMatrixInSkeletonSpace:function(){return this._boneInSkeletonSpace},getInvBindMatrixInSkeletonSpace:function(){return this._invBindInSkeletonSpace},setMatrixInSkeletonSpace:function(t){s.copy(this._boneInSkeletonSpace,t)},setInvBindMatrixInSkeletonSpace:function(t){s.copy(this._invBindInSkeletonSpace,t)},getBoneParent:function(){for(var t=this.getParents(),e=0,r=t.length;e<r;e++){var i=t[e].getTypeID();if(i===h.getTypeID())return t[e]}},setDefaultUpdateCallback:function(t){this.addUpdateCallback(new u(void 0!==t?t:this.getName()))}}),"osgAnimation","Bone"),i.setTypeID(h),t.exports=h},function(t,e,r){"use strict";var i=r(7),n=r(11),a=r(67),s=r(16).mat4,o=r(23),u=function(){a.call(this)};u.prototype=i.objectInherit(a.prototype,{update:function(t,e){if(e.getVisitorType()===o.UPDATE_VISITOR){if(t.className&&"Bone"!==t.className())return n.warn("Warning: UpdateBone set on non-Bone object."),!1;var r=t;a.prototype.update.call(this,t),r.setMatrix(r.getMatrix());var i=r.getMatrix(),u=r.getBoneParent();u?s.mul(r.getMatrixInSkeletonSpace(),u.getMatrixInSkeletonSpace(),i):r.setMatrixInSkeletonSpace(i)}return!0}}),t.exports=u},function(t,e,r){"use strict";var i=r(7),n=r(16).mat4,a=r(68),s=function(){a.call(this),this._stackedTransforms=[],this._matrix=n.create(),this._dirty=!1};s.prototype=i.objectInherit(a.prototype,{getStackedTransforms:function(){return this._stackedTransforms},computeChannels:function(){this._dirty=!0;var t=this._matrix;n.identity(t);for(var e=this._stackedTransforms,r=0,i=e.length;r<i;r++){var a=e[r];a.applyToMatrix(t)}},update:function(t){return n.copy(t.getMatrix(),this._matrix),this._dirty&&(t.dirtyBound(),this._dirty=!1),!0}}),t.exports=s},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(14),s=r(53),o=function(){a.call(this)};o.checkPathIsAnimated=function(t){for(var e=0,r=t.length;e<r;++e){var i=t[e];if(i instanceof s)for(var n=i.getUpdateCallbackList(),a=0,u=n.length;a<u;++a)if(n[a]instanceof o)return!0}return!1},o.prototype=n.objectInherit(a.prototype,{linkChannel:function(){},linkAnimation:function(t){var e=this.getName();if(0===e.length)return i.log("no name on an update callback, discard"),0;for(var r=0,n=t.getChannels(),a=0,s=n.length;a<s;a++){var o=n[a];o.getTargetName()===e&&(this.linkChannel(o),r++)}return r}}),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(16).vec3,a=r(28),s=r(11),o=r(16).mat4,u=r(21),h=r(70),c=r(72),l=r(74),d=r(68),f=r(25),p=function(){a.call(this),this._shape=null,this.addUpdateCallback(new c),this._root=void 0,this._pathToRoot=void 0,this._isAnimatedPath=!1,this._boneNameID={},this._matrixFromSkeletonToGeometry=o.create(),this._invMatrixFromSkeletonToGeometry=o.create(),this._rigTransformImplementation=new l,this._stateSetAnimation=new u,this._needToComputeMatrix=!0};p.prototype=i.objectLibraryClass(i.objectInherit(a.prototype,{getStateSetAnimation:function(){return this._stateSetAnimation},getSkeleton:function(){return this._root},setSkeleton:function(t){this._root=t},setPathToSkeleton:function(t){this._pathToRoot=t,this._isAnimatedPath=d.checkPathIsAnimated(t)},setNeedToComputeMatrix:function(t){this._needToComputeMatrix=t},getNeedToComputeMatrix:function(){return this._needToComputeMatrix},computeBoundingBox:function(t){t.init();var e=this.getVertexAttributeList().Vertex,r=this.getVertexAttributeList().Weights;if(e&&r&&e.getElements()&&e.getItemSize()>2){for(var i=r.getElements(),n=e.getElements(),a=e.getItemSize(),s=t.getMin(),o=t.getMax(),u=s[0],h=s[1],c=s[2],l=o[0],d=o[1],f=o[2],p=0,g=0,_=n.length;p<_;p+=a,g+=4)if(0===i[p]&&0===i[p+1]&&0===i[p+2]&&0===i[p+3]){var m=n[p],v=n[p+1],b=n[p+2];m<u&&(u=m),m>l&&(l=m),v<h&&(h=v),v>d&&(d=v),b<c&&(c=b),b>f&&(f=b)}s[0]=u,s[1]=h,s[2]=c,o[0]=l,o[1]=d,o[2]=f}return t},computeMatrixFromRootSkeleton:function(){return this._root?(o.identity(this._matrixFromSkeletonToGeometry),f.computeLocalToWorld(this._pathToRoot,!0,this._matrixFromSkeletonToGeometry),o.invert(this._invMatrixFromSkeletonToGeometry,this._matrixFromSkeletonToGeometry),void(this._isAnimatedPath||(this._needToComputeMatrix=!1))):void s.warn("Warning "+this.className()+".computeMatrixFromRootSkeleton if you have this message it means you miss to call buildTransformer( root ), or your RigGeometry ("+this.getName()+") is not attached to a Skeleton subgraph")},getMatrixFromSkeletonToGeometry:function(){return this._matrixFromSkeletonToGeometry},getInvMatrixFromSkeletonToGeometry:function(){return this._invMatrixFromSkeletonToGeometry},getSourceGeometry:function(){return this._geometry},setSourceGeometry:function(t){this._geometry=t},getBoneNameID:function(){return this._boneNameID},setBoneNameID:function(t){this._boneNameID=t},mergeChildrenVertexAttributeList:function(){this._geometry instanceof h&&this._geometry.mergeChildrenVertexAttributeList();var t=this._geometry.getVertexAttributeList();a.appendVertexAttributeToList(t,this.getVertexAttributeList())},mergeChildrenData:function(){this.mergeChildrenVertexAttributeList();var t=this._geometry.getPrimitiveSetList();this.getPrimitiveSetList().length=0;for(var e=0,r=t.length;e<r;e++)this.getPrimitiveSetList()[e]=t[e];this.getStateSet()&&console.error("A stateset in the rig is already present : "+this.getStateSet()),this.setStateSet(this._geometry.getStateSet())},update:function(){this._rigTransformImplementation.update(this)},computeTransformedVertex:function(t,e){e=e||n.create();var r=this.getVertexAttributeList(),i=r.Weights.getElements(),a=r.Bones.getElements(),s=0,o=0,u=0;if(this._geometry.computeTransformedVertex)this._geometry.computeTransformedVertex(t,e),s=e[0],o=e[1],u=e[2];else{var h=r.Vertex.getElements();s=h[3*t],o=h[3*t+1],u=h[3*t+2]}for(var c=4*t,l=this._rigTransformImplementation._skinningAttribute.getMatrixPalette(),d=0,f=0,p=0,g=0,_=0,m=0,v=0,b=0,x=0,y=0,S=0,T=0,M=0,A=!1,w=0;w<4;++w){var C=i[c+w];if(0!==C){var E=12*a[c+w];d+=l[E+0]*C,g+=l[E+1]*C,v+=l[E+2]*C,y+=l[E+3]*C,f+=l[E+4]*C,_+=l[E+5]*C,b+=l[E+6]*C,S+=l[E+7]*C,p+=l[E+8]*C,m+=l[E+9]*C,x+=l[E+10]*C,T+=l[E+11]*C,M+=C,A=!0}}A||(e[0]=s,e[1]=o,e[2]=u);var R=1/M;return e[0]=(d*s+g*o+v*u+y)*R,e[1]=(f*s+_*o+b*u+S)*R,e[2]=(p*s+m*o+x*u+T)*R,e},computeTransformedVertices:function(){for(var t=this.getVertexAttributeList(),e=this._geometry.computeTransformedVertices?this._geometry.computeTransformedVertices():t.Vertex.getElements(),r=t.Weights.getElements(),i=t.Bones.getElements(),n=this._riggedVerts||new Float32Array(e.length),a=this._rigTransformImplementation._skinningAttribute.getMatrixPalette(),s=0,o=0,u=e.length;s<u;s+=3,o+=4){var h,c=0,l=0,d=0,f=0,p=0,g=0,_=0,m=0,v=0,b=0,x=0,y=0,S=0,T=!1,M=r[o];0!==M&&(h=12*i[o],c+=a[h+0]*M,f+=a[h+1]*M,_+=a[h+2]*M,b+=a[h+3]*M,l+=a[h+4]*M,p+=a[h+5]*M,m+=a[h+6]*M,x+=a[h+7]*M,d+=a[h+8]*M,g+=a[h+9]*M,v+=a[h+10]*M,y+=a[h+11]*M,S+=M,T=!0),M=r[o+1],0!==M&&(h=12*i[o+1],c+=a[h+0]*M,f+=a[h+1]*M,_+=a[h+2]*M,b+=a[h+3]*M,l+=a[h+4]*M,p+=a[h+5]*M,m+=a[h+6]*M,x+=a[h+7]*M,d+=a[h+8]*M,g+=a[h+9]*M,v+=a[h+10]*M,y+=a[h+11]*M,S+=M,T=!0),M=r[o+2],0!==M&&(h=12*i[o+2],c+=a[h+0]*M,f+=a[h+1]*M,_+=a[h+2]*M,b+=a[h+3]*M,l+=a[h+4]*M,p+=a[h+5]*M,m+=a[h+6]*M,x+=a[h+7]*M,d+=a[h+8]*M,g+=a[h+9]*M,v+=a[h+10]*M,y+=a[h+11]*M,S+=M,T=!0),M=r[o+3],0!==M&&(h=12*i[o+3],c+=a[h+0]*M,f+=a[h+1]*M,_+=a[h+2]*M,b+=a[h+3]*M,l+=a[h+4]*M,p+=a[h+5]*M,m+=a[h+6]*M,x+=a[h+7]*M,d+=a[h+8]*M,g+=a[h+9]*M,v+=a[h+10]*M,y+=a[h+11]*M,S+=M,T=!0);var A=e[s],w=e[s+1],C=e[s+2];if(T){var E=1/S;n[s]=(c*A+f*w+_*C+b)*E,n[s+1]=(l*A+p*w+m*C+x)*E,n[s+2]=(d*A+g*w+v*C+y)*E}else n[s]=A,n[s+1]=w,n[s+2]=C}return n}}),"osgAnimation","RigGeometry"),i.setTypeID(p),t.exports=p},function(t,e,r){"use strict";var i=r(7),n=r(39),a=r(11),s=r(16).vec3,o=r(28),u=r(21),h=r(71),c=r(22),l=r(15),d=function(){o.call(this),this._shape=null,this._targets=[],this._stateSetAnimation=new u,this._targetWeights=new Float32Array(d.MAX_MORPH_GPU),this._morphAttribute=void 0,this._morphTargetNames=void 0,this._maxMorphGPU=d.MAX_MORPH_GPU,this._isInitialized=!1},f=d.EFFECTIVE_EPS=.05;d.MAX_MORPH_GPU=4,d.prototype=i.objectLibraryClass(i.objectInherit(o.prototype,{init:function(){return this._morphAttribute?void(this._isInitialized=!0):(this._morphAttribute=new h(Math.min(this._maxMorphGPU,this.getMorphTargets().length)),this.getStateSetAnimation().setAttributeAndModes(this._morphAttribute,c.ON),this._morphAttribute.setTargetWeights(this.getTargetsWeight()),this._targets[0]?(this._morphTargetNames=window.Object.keys(this._targets[0].getVertexAttributeList()),this._morphAttribute.copyTargetNames(this._morphTargetNames)):(this._morphTargetNames=[],a.error("No Targets in the MorphGeometry !")),this._isInitialized=!0,!0)},getMaximumPossibleMorphGPU:function(){return this._maxMorphGPU},setMaximumPossibleMorphGPU:function(t){this._maxMorphGPU=t,this._isInitialized=!1,this._morphAttribute&&this._morphAttribute.setNumTargets(t)},getMorphTargetNames:function(){return this._morphTargetNames},getStateSetAnimation:function(){return this._stateSetAnimation},getMorphTargets:function(){return this._targets},isInitialized:function(){return this._isInitialized},getTargetsWeight:function(){return this._targetWeights},computeBoundingBox:function(){var t=new l;return function(e){o.prototype.computeBoundingBox.call(this,e);for(var r=0,i=this._targets.length;r<i;r++)e.expandByBoundingBox(this._targets[r].computeBoundingBox(t));return e}}(),mergeChildrenVertexAttributeList:function(){for(var t=0,e=this._targets.length;t<e;t++){var r=this._targets[t],i=r.getVertexAttributeList();for(var a in i){var s=i[a];s&&!s.getBufferArray&&(i[a]=new n(s))}o.appendVertexAttributeToList(r.getVertexAttributeList(),this.getVertexAttributeList(),t)}},_computeEffectiveSumWeights:function(){for(var t=0,e=this._targetWeights,r=0,i=e.length;r<i;++r){var n=e[r];Math.abs(n)<f||(t+=n)}var a=1e-5;return Math.abs(t)>a?t:t<0?-a:a},computeTransformedVertex:function(t,e){e=e||s.create();var r=3*t,i=this._targetWeights,n=this.getVertexAttributeList(),a=n.Vertex.getElements(),o=1-this._computeEffectiveSumWeights();e[0]=o*a[r],e[1]=o*a[r+1],e[2]=o*a[r+2];for(var u=0,h=i.length;u<h;++u){var c=i[u];if(!(Math.abs(c)<f)){var l=n["Vertex_"+u].getElements();e[0]+=c*l[r],e[1]+=c*l[r+1],e[2]+=c*l[r+2]}}return e},computeTransformedVertices:function(){for(var t=this._targetWeights,e=this.getVertexAttributeList(),r=e.Vertex.getElements(),i=r.length,n=this._morphedVerts=this._morphedVerts||new Float32Array(i),a=1-this._computeEffectiveSumWeights(),s=0;s<i;++s)n[s]=a*r[s];for(var o=0,u=t.length;o<u;++o){var h=t[o];if(!(Math.abs(h)<f))for(var c=e["Vertex_"+o].getElements(),l=0;l<i;++l)n[l]+=h*c[l]}return n}}),"osgAnimation","MorphGeometry"),i.setTypeID(d),t.exports=d},function(t,e,r){"use strict";var i=r(7),n=r(22),a=r(33),s=function(t,e){n.call(this),this._nbTarget=t,this._enable=!e,this._targetNames={},this._hashNames="",this._hash=""};s.uniforms={},s.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"Morph",cloneType:function(){return new s(void 0,!0)},hasTarget:function(t){return!!this._targetNames[t]},copyTargetNames:function(t){for(var e=this._targetNames,r="",i=e.length=t.length,n=0;n<i;++n){var a=t[n];e[a]=!0,r+=a}this._hashNames=r,this._hash=""},getOrCreateUniforms:function(){var t=s,e=this.getNumTargets();return t.uniforms[e]?t.uniforms[e]:(t.uniforms[e]={uTargetWeights:a.createFloat4("uTargetWeights")},t.uniforms[e])},setNumTargets:function(t){this._nbTarget=t,this._hash=""},getNumTargets:function(){return this._nbTarget},setTargetWeights:function(t){this._targetWeights=t},getTargetWeights:function(){return this._targetWeights},isEnabled:function(){return this._enable},getHash:function(){return this._hash||(this._hash=this.getTypeMember()+this._hashNames+this.getNumTargets()+this.isEnabled()),this._hash},apply:function(){if(this._enable){var t=this.getOrCreateUniforms();t.uTargetWeights.setFloat4(this._targetWeights)}}}),"osgAnimation","MorphAttribute"),i.setTypeID(s),t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(11),a=r(14),s=r(73),o=function(){a.call(this)};o.prototype=i.objectInherit(a.prototype,{init:function(t){var e=new s;return t.getParents().length>1&&n.warn("A RigGeometry should not have multi parent ( "+t.getName()+" )"),t.getParents()[0].accept(e),e._root?(t.setSkeleton(e._root),void t.setPathToSkeleton(e._pathToRoot)):void n.warn("A RigGeometry did not find a parent skeleton for RigGeometry ( "+t.getName()+" )")},update:function(t){if(t&&"RigGeometry"!==t.className())return!0;var e=t;return e.getSkeleton()||0===e.getParents().length||this.init(e),!e.getSkeleton()||(e.getNeedToComputeMatrix()&&e.computeMatrixFromRootSkeleton(),e.update(),!0)}}),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(23),a=r(63),s=function(){n.call(this,n.TRAVERSE_PARENTS),this._root=void 0,this._pathToRoot=void 0};s.prototype=i.objectInherit(n.prototype,{apply:function(t){if(!this._root)return t.typeID===a.typeID?(this._root=t,void(this._pathToRoot=this.nodePath.slice(1))):void this.traverse(t)}}),t.exports=s},function(t,e,r){"use strict";var i=r(16).mat4,n=r(22),a=r(75),s=r(76),o=function(){this._isInitialized=!1,this._bones=[]};o.prototype={computeBonePalette:function(t,e){var r=this._bones;for(var i in t){var n=e[i],a=t[i];void 0!==n&&(r[n]=a)}return r},init:function(t){var e=new s;t.getSkeleton().accept(e);var r=e.getBoneMap();this.computeBonePalette(r,t._boneNameID);var i=3*this._bones.length,o=this._skinningAttribute=new a;return o.setMatrixPalette(new Float32Array(4*i)),t.getStateSetAnimation().setAttributeAndModes(o,n.ON),this._isInitialized=!0,!0},computeMatrixPalette:function(){var t=i.create();return function(e,r){for(var n=this._bones,a=this._skinningAttribute.getMatrixPalette(),s=0,o=0,u=n.length;o<u;o++){var h=n[o],c=h.getInvBindMatrixInSkeletonSpace(),l=h.getMatrixInSkeletonSpace();i.mul(t,l,c),i.mul(t,r,t),i.mul(t,t,e),a[s++]=t[0],a[s++]=t[4],a[s++]=t[8],a[s++]=t[12],a[s++]=t[1],a[s++]=t[5],a[s++]=t[9],a[s++]=t[13],a[s++]=t[2],a[s++]=t[6],a[s++]=t[10],a[s++]=t[14]}}}(),update:function(t){this._isInitialized||this.init(t),this.computeMatrixPalette(t.getMatrixFromSkeletonToGeometry(),t.getInvMatrixFromSkeletonToGeometry())}},t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(22),a=r(33),s=function(t,e){n.call(this),this._enable=!t,this._boneUniformSize=e};s.uniforms={},s.maxBoneUniformSize=1,s.maxBoneUniformAllowed=1/0,s.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"Skinning",cloneType:function(){return new s(!0)},getBoneUniformSize:function(){return void 0!==this._boneUniformSize?this._boneUniformSize:s.maxBoneUniformSize},getOrCreateUniforms:function(){var t=s,e=this.getBoneUniformSize();return t.uniforms[e]?t.uniforms[e]:(t.uniforms[e]={uBones:a.createFloat4Array("uBones",e)},t.uniforms[e])},setMatrixPalette:function(t){this._matrixPalette=t,void 0===this._boneUniformSize&&(s.maxBoneUniformSize=Math.max(s.maxBoneUniformSize,t.length/4),s.maxBoneUniformSize=Math.min(s.maxBoneUniformAllowed,s.maxBoneUniformSize))},getMatrixPalette:function(){return this._matrixPalette},isEnabled:function(){return this._enable},getHash:function(){return this.getTypeMember()+this.getBoneUniformSize()+this.isEnabled()},apply:function(){this._enable&&this.getOrCreateUniforms().uBones.getInternalArray().set(this._matrixPalette)}}),"osgAnimation","SkinningAttribute"),i.setTypeID(s),t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(23),a=r(11),s=r(65),o=function(){n.call(this,n.TRAVERSE_ALL_CHILDREN),this._boneMap={}};o.prototype=i.objectInherit(n.prototype,{apply:function(t){if(t.typeID===s.typeID){var e=t.getName();e?this._boneMap[e]=t:a.warn("found Bone without name")}this.traverse(t)},getBoneMap:function(){return this._boneMap}}),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(22),a=function(t,e,r,i){n.call(this),this._func=a.LESS,this._near=0,this._far=1,this._writeMask=!0,void 0!==t&&("string"==typeof t?this._func=a[t]:this._func=t),void 0!==e&&(this._near=e),void 0!==r&&(this._far=r),void 0!==i&&(this._writeMask=i)};a.DISABLE=0,a.NEVER=512,a.LESS=513,a.EQUAL=514,a.LEQUAL=515,a.GREATER=516,a.NOTEQUAL=517,a.GEQUAL=518,a.ALWAYS=519,a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"Depth",cloneType:function(){return new a},setRange:function(t,e){this._near=t,this._far=e},setWriteMask:function(t){this._writeMask=t},getWriteMask:function(){return this._writeMask},getFunc:function(){return this._func},apply:function(t){var e=t.getGraphicContext();0===this._func?e.disable(e.DEPTH_TEST):(e.enable(e.DEPTH_TEST),e.depthFunc(this._func),e.depthMask(this._writeMask),e.depthRange(this._near,this._far))}}),"osg","Depth"),t.exports=a},function(t,e){"use strict";var r=function(t,e,r){this._mode=t,this._first=e,this._arrayLengths=r.slice(0)};r.prototype={draw:function(t){for(var e=t.getGraphicContext(),r=this._mode,i=this._first,n=this._arrayLengths,a=0,s=n.length;a<s;a++){var o=n[a];e.drawArrays(r,i,o),i+=o}},getMode:function(){return this._mode},getNumIndices:function(){for(var t=0,e=this._arrayLengths,r=0,i=e.length;r<i;r++)t+=e[r];return t},getCount:function(){return this.getNumIndices()},getArrayLengths:function(){return this._arrayLengths},getFirst:function(){return this._first},setFirst:function(t){this._first=t}},t.exports=r},function(t,e,r){"use strict";var i=r(38),n=function(t,e,r){this.mode=t,void 0!==t&&("string"==typeof t&&(t=i[t]),this.mode=t),this.first=e,this.count=r};n.prototype={draw:function(t){if(0!==this.count){var e=t.getGraphicContext();e.drawArrays(this.mode,this.first,this.count)}},getMode:function(){return this.mode},setCount:function(t){this.count=t},getCount:function(){return this.count},setFirst:function(t){this.first=t},getFirst:function(){return this.first},getNumIndices:function(){return this.count},index:function(t){return this.first+t}},t.exports=n},function(t,e,r){"use strict";var i=r(16).mat4,n=r(16).vec3,a=function(){this._radiusEquator=a.WGS_84_RADIUS_EQUATOR,this._radiusPolar=a.WGS_84_RADIUS_POLAR,this.computeCoefficients()};a.WGS_84_RADIUS_EQUATOR=6378137,a.WGS_84_RADIUS_POLAR=6356752.3142,a.prototype={setRadiusEquator:function(t){this._radiusEquator=t,this.computeCoefficients()},getRadiusEquator:function(){return this._radiusEquator},setRadiusPolar:function(t){this._radiusPolar=t,this.computeCoefficients()},getRadiusPolar:function(){return this._radiusPolar},convertLatLongHeightToXYZ:function(t,e,r,i){var n=Math.sin(t),a=Math.cos(t),s=this._radiusEquator/Math.sqrt(1-this._eccentricitySquared*n*n),o=(s+r)*a*Math.cos(e),u=(s+r)*a*Math.sin(e),h=(s*(1-this._eccentricitySquared)+r)*n;return i[0]=o,i[1]=u,i[2]=h,i},convertXYZToLatLongHeight:function(t,e,r,i){var n=Math.sqrt(t*t+e*e),a=Math.atan2(r*this._radiusEquator,n*this._radiusPolar),s=(this._radiusEquator*this._radiusEquator-this._radiusPolar*this._radiusPolar)/(this._radiusPolar*this._radiusPolar),o=Math.sin(a),u=Math.cos(a),h=Math.atan((r+s*this._radiusPolar*o*o*o)/(n-this._eccentricitySquared*this._radiusEquator*u*u*u)),c=Math.atan2(e,t),l=Math.sin(h),d=this._radiusEquator/Math.sqrt(1-this._eccentricitySquared*l*l),f=Math.cos(h);0===f&&(f=1);var p=n/f-d;return i[0]=h,i[1]=c,i[2]=p,i},computeLocalUpVector:function(t,e,r){var i,a,s,o=this.convertXYZToLatLongHeight(t,e,r,n.create());return i=o[0],a=o[1],s=o[2],[Math.cos(a)*Math.cos(i),Math.sin(a)*Math.cos(i),Math.sin(i)]},isWGS84:function(){return this._radiusEquator===a.WGS_84_RADIUS_EQUATOR&&this._radiusPolar===a.WGS_84_RADIUS_POLAR},computeCoefficients:function(){var t=(this._radiusEquator-this._radiusPolar)/this._radiusEquator;this._eccentricitySquared=2*t-t*t},computeLocalToWorldTransformFromLatLongHeight:function(t,e,r,n){var a=this.convertLatLongHeightToXYZ(t,e,r,n);return i.fromTranslation(n,a),this.computeCoordinateFrame(t,e,n),n},computeLocalToWorldTransformFromXYZ:function(t,e,r){var a=this.convertXYZToLatLongHeight(t,e,r,n.create()),s=i.fromTranslation(i.create(),n.fromValues(t,e,r));return this.computeCoordinateFrame(a[0],a[1],s),s},computeCoordinateFrame:function(){var t=n.create(),e=n.create(),r=n.create();return function(a,s,o){t[0]=Math.cos(s)*Math.cos(a),t[1]=Math.sin(s)*Math.cos(a),t[2]=Math.sin(a),e[0]=-Math.sin(s),e[1]=-Math.cos(s),n.cross(r,t,e),i.set(o,e[0],e[1],e[2],0,r[0],r[1],r[2],0,t[0],t[1],t[2],0,0,0,0,1)}}()},t.exports=a},function(t,e){"use strict";var r=function(){this._frame=0,this._startSimulation=0,this._currentSimulation=0,this._deltaTime=0};r.prototype={setReferenceTime:function(t){this._startSimulation=t},getReferenceTime:function(){return this._startSimulation},setSimulationTime:function(t){this._currentSimulation=t},getSimulationTime:function(){return this._currentSimulation},setDeltaTime:function(t){this._deltaTime=t},getDeltaTime:function(){return this._deltaTime},setFrameNumber:function(t){this._frame=t},getFrameNumber:function(){return this._frame}},t.exports=r},function(t,e,r){"use strict";var i=r(83),n=r(7),a=r(34),s=function(t){a.call(this,t),this._canPlayDefered=void 0};s.PAUSE=0,s.PLAYING=1,s.prototype=n.objectLibraryClass(n.objectInherit(a.prototype,{isDirty:function(){return this._status===s.PLAYING},setImage:function(t){a.prototype.setImage.call(this,t),this._status=s.STOP,t.addEventListener("ended",function(){this._imageObject.loop||this.stop()}.bind(this),!0),this.dirty()},setLooping:function(t){this._imageObject.loop=t},play:function(){this._imageObject.play(),this._status=s.PLAYING},stop:function(){this._imageObject.pause(),this._status=s.PAUSE},whenReady:function(){return this._imageObject?(this._canPlayDefered||(this._canPlayDefered=i.defer(),this._imageObject.readyState>3?this._canPlayDefered.resolve(this):this._imageObject.addEventListener("canplaythrough",this._canPlayDefered.resolve.bind(this._canPlayDefered,this),!0)),this._canPlayDefered.promise):i.reject()}}),"osg","ImageStream"),n.setTypeID(s),t.exports=s},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_83__},function(t,e,r){"use strict";var i=r(7),n=r(16).vec3,a=r(15),s=r(85),o=r(11),u=function(t,e){this._bb=new a,this._first=t,this._second=e,this._nodeRayStart=n.create(),this._nodeRayEnd=n.create()},h=function(t){this._buildKdTree=t,this._numIndices=0};h.prototype={buildKdTreePoint:function(t){var e=this._buildKdTree._kdTree.getVertices(),r=3*t;this._buildKdTree._kdTree.addPoint(t),this._buildKdTree._primitiveIndices[this._numIndices]=this._numIndices;var i=this._buildKdTree._centers,n=3*this._numIndices;i[n]=e[r],i[n+1]=e[r+1],i[n+2]=e[r+2],this._numIndices++},buildKdTreeLine:function(t,e){if(t!==e){var r=this._buildKdTree._kdTree.getVertices(),i=3*t,n=3*e;this._buildKdTree._kdTree.addLine(t,e);var a=this._numIndices;this._buildKdTree._primitiveIndices[a]=a;var s=3*a,o=r[i],u=r[i+1],h=r[i+2],c=r[n],l=r[n+1],d=r[n+2],f=o<c?o:c,p=u<l?u:l,g=h<d?h:d,_=o>c?o:c,m=u>l?u:l,v=h>d?h:d,b=this._buildKdTree._centers;b[s]=.5*(f+_),b[s+1]=.5*(p+m),b[s+2]=.5*(g+v),this._numIndices++}},buildKdTreeTriangle:function(t,e,r){if(t!==e&&t!==r&&e!==r){var i=this._buildKdTree._kdTree.getVertices(),n=3*t,a=3*e,s=3*r;this._buildKdTree._kdTree.addTriangle(t,e,r);var o=this._numIndices;this._buildKdTree._primitiveIndices[o]=o;var u=3*o,h=i[n],c=i[n+1],l=i[n+2],d=i[a],f=i[a+1],p=i[a+2],g=i[s],_=i[s+1],m=i[s+2],v=h<d?h<g?h:g:d<g?d:g,b=c<f?c<_?c:_:f<_?f:_,x=l<p?l<m?l:m:p<m?p:m,y=h>d?h>g?h:g:d>g?d:g,S=c>f?c>_?c:_:f>_?f:_,T=l>p?l>m?l:m:p>m?p:m,M=this._buildKdTree._centers;M[u]=.5*(v+y),M[u+1]=.5*(b+S),M[u+2]=.5*(x+T),this._numIndices++}},apply:function(t){if(t.getAttributes().Vertex){var e=this,r=function(){return{operatorPoint:function(t){e.buildKdTreePoint(t)},operatorLine:function(t,r){e.buildKdTreeLine(t,r)},operatorTriangle:function(t,r,i){e.buildKdTreeTriangle(t,r,i)}}},i=new s(t,r);i.apply()}}};var c=function(t){this._kdTree=t,this._bb=new a,this._primitiveIndices=[],this._centers=[],this._axisOrder=n.create(),this._stackLength=0};c.prototype={build:function(t,e){var r=t._targetNumTrianglesPerLeaf,i=e.getVertexAttributeList().Vertex;if(!i)return!1;var n=i.getElements();
if(!n)return!1;var s=n.length/3;if(s<r)return!1;this._bb.copy(e.getBoundingBox()),this._kdTree.setVertices(n),this.computeDivisions(t),t._numVerticesProcessed+=s;var o=2*n.length;this._primitiveIndices=new Uint32Array(o),this._centers=new Float32Array(3*o);var c=new h(this);c.apply(e),this._primitiveIndices=this._primitiveIndices.subarray(0,c._numIndices),this._centers=this._centers.subarray(0,3*c._numIndices);var l=new u(-1,this._primitiveIndices.length);l._bb.copy(this._bb);var d=this._kdTree.addNode(l),f=new a;f.copy(this._bb),d=this.divide(t,f,d,0);for(var p=this._kdTree.getPrimitiveIndices(),g=new Uint32Array(p.length),_=this._primitiveIndices.length,m=0;m<_;++m)g[m]=p[this._primitiveIndices[m]];return this._kdTree.setPrimitiveIndices(g),this._kdTree.getNodes().length>0},computeDivisions:function(t){this._stackLength=t._maxNumLevels;var e=this._bb._max,r=this._bb._min,i=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2],s=this._axisOrder;s[0]=i>=n&&i>=a?0:n>=a?1:2,s[2]=i<n&&i<a?0:n<a?1:2;var o=s[0]+s[2];s[1]=3===o?0:2===o?1:2},divide:function(t,e,r,i){var n=this._kdTree,a=this._primitiveIndices,s=n.getNodes(),o=s[r],h=o._first,c=o._second,l=i<this._stackLength&&h<0&&c>t._targetNumTrianglesPerLeaf,d=-h-1,f=d+c-1;if(!l)return h<0&&this.computeNodeBox(o,d,f),r;if(h>=0)return r;for(var p=this._axisOrder[i%3],g=e._min[p],_=e._max[p],m=.5*(g+_),v=0,b=0,x=!1,y=d,S=f,T=this._centers;y<S;){for(;y<S&&T[3*a[y]+p]<=m;)++y;for(;y<S&&T[3*a[S]+p]>m;)--S;if(y<S){var M=a[y];a[y]=a[S],a[S]=M,++y,--S}}y===S&&(T[3*a[y]+p]<=m?++y:--S),S-d<=-1?(v=0,b=r,x=!0):f-y<=-1?(v=r,b=0,x=!0):(v=n.addNode(new u(-d-1,S-d+1)),b=n.addNode(new u(-y-1,f-y+1)));var A=e._max[p];e._max[p]=m;var w=0!==v?this.divide(t,e,v,i+1):0;e._max[p]=A,A=e._min[p],e._min[p]=m;var C=0!==b?this.divide(t,e,b,i+1):0;if(e._min[p]=A,!x){o._first=w,o._second=C,x=!0;var E=o._bb;E.init(),0!==w&&E.expandByBoundingBox(s[w]._bb),0!==C&&E.expandByBoundingBox(s[C]._bb)}return r},computeNodeBox:function(t,e,r){for(var i=1/0,n=1/0,a=1/0,s=-(1/0),o=-(1/0),u=-(1/0),h=this._kdTree.getVertexIndices(),c=this._kdTree.getPrimitiveIndices(),l=this._kdTree.getVertices(),d=e;d<=r;++d)for(var f=c[this._primitiveIndices[d]],p=h[f++],g=0;g<p;++g){var _=3*h[f++],m=l[_],v=l[_+1],b=l[_+2];m<i&&(i=m),v<n&&(n=v),b<a&&(a=b),m>s&&(s=m),v>o&&(o=v),b>u&&(u=b)}var x=1e-6,y=t._bb,S=y._min,T=y._max;S[0]=i-x,S[1]=n-x,S[2]=a-x,T[0]=s+x,T[1]=o+x,T[2]=u+x}};var l=function(){this._vertices=null,this._kdNodes=[],this._primitiveIndices=[],this._vertexIndices=[],this._triangles=null};l.prototype=i.objectLibraryClass({getVertices:function(){return this._vertices},setVertices:function(t){this._vertices=t},getTriangles:function(){return this._triangles},setTriangles:function(t){this._triangles=t},setPrimitiveIndices:function(t){this._primitiveIndices=t},getPrimitiveIndices:function(){return this._primitiveIndices},setVertexIndices:function(t){this._vertexIndices=t},getVertexIndices:function(){return this._vertexIndices},getNodes:function(){return this._kdNodes},addPoint:function(t){var e=this._vertexIndices.length;return this._primitiveIndices.push(e),this._vertexIndices.push(1),this._vertexIndices.push(t),e},addLine:function(t,e){var r=this._vertexIndices.length;return this._primitiveIndices.push(r),this._vertexIndices.push(2),this._vertexIndices.push(t),this._vertexIndices.push(e),r},addTriangle:function(t,e,r){var i=this._vertexIndices.length;return this._primitiveIndices.push(i),this._vertexIndices.push(3),this._vertexIndices.push(t),this._vertexIndices.push(e),this._vertexIndices.push(r),i},addQuad:function(t,e,r,i){var n=this._vertexIndices.length;return this._primitiveIndices.push(n),this._vertexIndices.push(3),this._vertexIndices.push(t),this._vertexIndices.push(e),this._vertexIndices.push(r),this._vertexIndices.push(i),n},addNode:function(t){return this._kdNodes.push(t),this._kdNodes.length-1},build:function(t,e){var r=new c(this);return r.build(t,e)},intersect:function(t,e){if(e._first<0)for(var r=-e._first-1,i=r+e._second,n=this._vertexIndices,a=r;a<i;++a){var s=this._primitiveIndices[a],u=n[s++];switch(u){case 1:t.intersectPoint(this._vertices,a,n[s]);break;case 2:t.intersectLine(this._vertices,a,n[s],n[s+1]);break;case 3:t.intersectTriangle(this._vertices,a,n[s],n[s+1],n[s+2]);break;default:o.warn("Warning: KdTree::intersect() encounted unsupported primitive size of "+u)}}else t.enter(e._bb)&&(e._first>0&&this.intersect(t,this._kdNodes[e._first]),e._second>0&&this.intersect(t,this._kdNodes[e._second]),t.leave())}},"osg","KdTree"),t.exports=l},function(t,e,r){"use strict";var i=r(38),n=r(37),a=r(79),s=function(t,e){this._geom=t,this._cb=e},o=s.functorDrawElements=[],u=s.functorDrawArrays=[];o[i.TRIANGLES]=function(t,e,r,i){for(var n=t+e,a=t;a<n;a+=3)i.operatorTriangle(r[a],r[a+1],r[a+2])},o[i.TRIANGLE_STRIP]=function(t,e,r,i){for(var n=2,a=t;n<e;++n,++a)n%2?i.operatorTriangle(r[a],r[a+2],r[a+1]):i.operatorTriangle(r[a],r[a+1],r[a+2])},o[i.TRIANGLE_FAN]=function(t,e,r,i){for(var n=r[t],a=2,s=t+1;a<e;++a,++s)i.operatorTriangle(n,r[s],r[s+1])},o[i.POINTS]=function(t,e,r,i){for(var n=t+e,a=t;a<n;++a)i.operatorPoint(r[a])},o[i.LINES]=function(t,e,r,i){for(var n=t+e,a=t;a<n;a+=2)i.operatorLine(r[a],r[a+1])},o[i.LINE_STRIP]=function(t,e,r,i){for(var n=t+e,a=t;a<n;++a)i.operatorLine(r[a],r[a+1])},o[i.LINE_LOOP]=function(t,e,r,i){for(var n=t+e,a=t;a<n;++a)i.operatorLine(r[a],r[a+1]);i.operatorLine(r[r.length-1],r[0])},u[i.TRIANGLES]=function(t,e,r){for(var i=2,n=t;i<e;i+=3,n+=3)r.operatorTriangle(n,n+1,n+2)},u[i.TRIANGLE_STRIP]=function(t,e,r){for(var i=2,n=t;i<e;++i,++n)i%2?r.operatorTriangle(n,n+2,n+1):r.operatorTriangle(n,n+1,n+2)},u[i.TRIANGLE_FAN]=function(t,e,r){for(var i=2,n=t+1;i<e;++i,++n)r.operatorTriangle(t,n,n+1)},u[i.POINTS]=function(t,e,r){for(var i=0,n=t;i<e;++i,++n)r.operatorPoint(n)},u[i.LINES]=function(t,e,r){for(var i=1,n=t;i<e;i+=2,n+=2)r.operatorLine(n,n+1)},u[i.LINE_STRIP]=function(t,e,r){for(var i=1,n=t;i<e;++i,++n)r.operatorLine(n,n+1)},u[i.LINE_LOOP]=function(t,e,r){for(var i=1,n=t;i<e;++i,++n)r.operatorLine(n,n+1);r.operatorLine(t+e-1,t)},s.prototype={apply:function(){var t=this._geom,e=t.getPrimitiveSetList();if(e)for(var r,i=this._cb(),s=e.length,h=0;h<s;h++){var c=e[h];if(c instanceof n){if(r=o[c.getMode()]){var l=c.indices.getElements();r(c.getFirst()/l.BYTES_PER_ELEMENT,c.getCount(),l,i)}}else c instanceof a&&(r=u[c.getMode()],r&&r(c.getFirst(),c.getCount(),i))}}},t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(23),a=r(84),s=function(t){n.call(this),this._buildOptions=void 0!==t?t:{_numVerticesProcessed:0,_targetNumTrianglesPerLeaf:50,_maxNumLevels:20}};s.prototype=i.objectInherit(n.prototype,{apply:function(t){if(t.getShape){var e=t.getShape();if(void 0===e){var r=new a;r.build(this._buildOptions,t)&&t.setShape(r)}}this.traverse(t)}}),t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(22),a=r(33),s=r(16).mat4,o=r(16).vec3,u=r(16).vec4,h=function(t,e){n.call(this);var r=void 0!==t?t:0;this._ambient=u.fromValues(.2,.2,.2,1),this._diffuse=u.fromValues(.8,.8,.8,1),this._specular=u.fromValues(.2,.2,.2,1),this._position=u.fromValues(0,0,1,0),this._direction=o.fromValues(0,0,-1),this._ground=u.fromValues(.2,.2,.2,-1),this._spotCutoff=180,this._spotBlend=.01,this._attenuation=u.fromValues(1,0,0,0),this._lightNumber=r,this._enable=!e};h.DIRECTION="DIRECTION",h.SPOT="SPOT",h.POINT="POINT",h.HEMI="HEMI",h.uniforms={},h.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"Light",cloneType:function(){return new h(this._lightNumber,!0)},getTypeMember:function(){return this.attributeType+this._lightNumber},getUniformName:function(t){var e=this.getType()+this._lightNumber.toString();return"u"+e+"_"+t},getHash:function(){return this.getTypeMember()+this.getLightType()+this.isEnabled().toString()},getOrCreateUniforms:function(){var t=h,e=this.getTypeMember();return t.uniforms[e]?t.uniforms[e]:(t.uniforms[e]={ambient:a.createFloat4(this.getUniformName("ambient")),diffuse:a.createFloat4(this.getUniformName("diffuse")),specular:a.createFloat4(this.getUniformName("specular")),attenuation:a.createFloat4(this.getUniformName("attenuation")),position:a.createFloat4(this.getUniformName("position")),direction:a.createFloat3(this.getUniformName("direction")),spotCutOff:a.createFloat1(this.getUniformName("spotCutOff")),spotBlend:a.createFloat1(this.getUniformName("spotBlend")),ground:a.createFloat4(this.getUniformName("ground")),matrix:a.createMatrix4(this.getUniformName("matrix")),invMatrix:a.createMatrix4(this.getUniformName("invMatrix"))},t.uniforms[e])},isEnabled:function(){return this._enable},setEnabled:function(t){this._enable=t},setAmbient:function(t){u.copy(this._ambient,t)},getAmbient:function(){return this._ambient},setDiffuse:function(t){u.copy(this._diffuse,t)},getDiffuse:function(){return this._diffuse},setSpecular:function(t){u.copy(this._specular,t)},getSpecular:function(){return this._specular},setPosition:function(t){u.copy(this._position,t)},getPosition:function(){return this._position},setDirection:function(t){o.copy(this._direction,t)},getDirection:function(){return this._direction},setSpotCutoff:function(t){this._spotCutoff=t},getSpotCutoff:function(){return this._spotCutoff},setSpotBlend:function(t){this._spotBlend=t},getSpotBlend:function(){return this._spotBlend},setGround:function(t){o.copy(this._ground,t)},getGround:function(){return this._ground},setConstantAttenuation:function(t){this._attenuation[0]=t},getConstantAttenuation:function(){return this._attenuation[0]},setLinearAttenuation:function(t){this._attenuation[1]=t},getLinearAttenuation:function(){return this._attenuation[1]},setQuadraticAttenuation:function(t){this._attenuation[2]=t},getQuadraticAttenuation:function(){return this._attenuation[2]},setLightType:function(t){return t===h.DIRECTION?this.setLightAsDirection():t===h.SPOT?this.setLightAsSpot():t===h.HEMI?this.setLightAsHemi():this.setLightAsPoint()},getLightType:function(){return this.isDirectionLight()?h.DIRECTION:this.isSpotLight()?h.SPOT:this.isHemiLight()?h.HEMI:h.POINT},setLightAsSpot:function(){u.set(this._position,0,0,0,1),o.set(this._direction,0,0,-1),this._ground[3]=-1,this._spotCutoff=90},setLightAsPoint:function(){u.set(this._position,0,0,0,1),o.set(this._direction,0,0,-1),this._ground[3]=-1},setLightAsDirection:function(){u.set(this._position,0,0,1,0),this._spotCutoff=180,this._ground[3]=-1},setLightAsHemi:function(){u.set(this._position,0,0,1,0),this._spotCutoff=180,this._ground[3]=1},setLightNumber:function(t){this._lightNumber=t},getLightNumber:function(){return this._lightNumber},isSpotLight:function(){return this._spotCutoff<180},isDirectionLight:function(){return 0===this._position[3]&&this._ground[3]===-1},isHemiLight:function(){return 1===this._ground[3]},applyPositionedUniform:function(t){var e=this.getOrCreateUniforms(),r=e.matrix.getInternalArray(),i=e.invMatrix.getInternalArray();s.copy(r,t),s.copy(i,t),i[12]=0,i[13]=0,i[14]=0,s.invert(i,i),s.transpose(i,i)},apply:function(){if(this._enable){var t=this.getOrCreateUniforms();if(t.position.setFloat4(this._position),this.isSpotLight()){var e=Math.cos(this._spotCutoff*Math.PI/180);t.spotCutOff.setFloat(e),t.spotBlend.setFloat((1-e)*this._spotBlend),t.direction.setFloat3(this._direction)}this.isHemiLight()&&t.ground.setFloat4(this._ground),t.attenuation.setFloat4(this._attenuation),t.diffuse.setFloat4(this._diffuse),t.specular.setFloat4(this._specular),t.ambient.setFloat4(this._ambient)}}}),"osg","Light"),i.setTypeID(h),t.exports=h},function(t,e,r){"use strict";var i=r(7),n=r(22),a=function(t){n.call(this),this.lineWidth=1,void 0!==t&&(this.lineWidth=t)};a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"LineWidth",cloneType:function(){return new a},apply:function(t){t.getGraphicContext().lineWidth(this.lineWidth)}}),"osg","LineWidth"),t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(22),a=r(16).vec4,s=r(33),o=function(){n.call(this),this._ambient=a.fromValues(.2,.2,.2,1),this._diffuse=a.fromValues(.8,.8,.8,1),this._specular=a.fromValues(0,0,0,1),this._emission=a.fromValues(0,0,0,1),this._shininess=12.5};o.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"Material",cloneType:function(){return new o},getParameterName:function(t){return"u"+this.getType()+"_"+t},getOrCreateUniforms:function(){var t=o;return t.uniforms?t.uniforms:(t.uniforms={ambient:s.createFloat4("uMaterialAmbient"),diffuse:s.createFloat4("uMaterialDiffuse"),specular:s.createFloat4("uMaterialSpecular"),emission:s.createFloat4("uMaterialEmission"),shininess:s.createFloat1("uMaterialShininess")},t.uniforms)},setEmission:function(t){a.copy(this._emission,t)},getEmission:function(){return this._emission},setAmbient:function(t){a.copy(this._ambient,t)},getAmbient:function(){return this._ambient},setSpecular:function(t){a.copy(this._specular,t)},getSpecular:function(){return this._specular},setDiffuse:function(t){a.copy(this._diffuse,t)},getDiffuse:function(){return this._diffuse},setShininess:function(t){this._shininess=t},getShininess:function(){return this._shininess},setTransparency:function(t){this._diffuse[3]=1-t},getTransparency:function(){return this._diffuse[3]},apply:function(){var t=this.getOrCreateUniforms();t.ambient.setFloat4(this._ambient),t.diffuse.setFloat4(this._diffuse),t.specular.setFloat4(this._specular),t.emission.setFloat4(this._emission),t.shininess.setFloat(this._shininess)}}),"osg","Material"),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(22),a=r(33),s=function(t){n.call(this),this._enable=!t,this._pointSize=1,this._circleShape=!1};s.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"PointSize",cloneType:function(){return new s(!0)},setCircleShape:function(t){this._circleShape=t},isCircleShape:function(){return this._circleShape},setEnabled:function(t){this._enable=t},isEnabled:function(){return this._enable},setPointSize:function(t){this._pointSize=t},getOrCreateUniforms:function(){var t=s;return t.uniforms?t.uniforms:(t.uniforms={pointSize:a.createFloat(1,"uPointSize")},t.uniforms)},getHash:function(){return this.getTypeMember()+(this.isEnabled()?"1":"0")+(this._circleShape?"1":"0")},apply:function(){if(this._enable){var t=this.getOrCreateUniforms();t.pointSize.setFloat(this._pointSize)}}}),"osg","PointSizeAttribute"),i.setTypeID(s),t.exports=s},function(t,e,r){"use strict";var i=r(16).vec3,n=r(38),a=r(37),s=r(79),o=function(t,e,r){this._geom=t,this._cb=e,this._vertices=r},u=o.functorDrawElements=[],h=o.functorDrawArrays=[];u[n.POINTS]=function(){var t=i.create();return function(e,r,i,n,a){for(var s=e+r,o=e;o<s;++o){var u=3*i[o];t[0]=a[u],t[1]=a[u+1],t[2]=a[u+2],n.operatorPoint(t)}}}(),u[n.LINES]=function(){var t=i.create(),e=i.create();return function(r,i,n,a,s){for(var o=r+i,u=r;u<o-1;u+=2){var h=3*n[u];t[0]=s[h],t[1]=s[h+1],t[2]=s[h+2],h=3*n[u+1],e[0]=s[h],e[1]=s[h+1],e[2]=s[h+2],a.operatorLine(t,e)}}}(),u[n.LINE_STRIP]=function(){var t=i.create(),e=i.create();return function(r,i,n,a,s){for(var o=r+i,u=r;u<o-1;++u){var h=3*n[u];t[0]=s[h],t[1]=s[h+1],t[2]=s[h+2],h=3*n[u+1],e[0]=s[h],e[1]=s[h+1],e[2]=s[h+2],a.operatorLine(t,e)}}}(),u[n.LINE_LOOP]=function(){var t=i.create(),e=i.create();return function(r,i,n,a,s){for(var o=r+i-1,u=r;u<o;++u){var h=3*n[u];t[0]=s[h],t[1]=s[h+1],t[2]=s[h+2],h=3*n[u+1],e[0]=s[h],e[1]=s[h+1],e[2]=s[h+2],a.operatorLine(t,e)}o=3*n[o],t[0]=s[o],t[1]=s[o+1],t[2]=s[o+2];var c=3*n[0];e[0]=s[c],e[1]=s[c+1],e[2]=s[c+2],a.operatorLine(t,e)}}(),u[n.TRIANGLES]=function(){var t=i.create(),e=i.create(),r=i.create();return function(i,n,a,s,o){for(var u=i+n,h=i;h<u;h+=3){var c=3*a[h];t[0]=o[c],t[1]=o[c+1],t[2]=o[c+2],c=3*a[h+1],e[0]=o[c],e[1]=o[c+1],e[2]=o[c+2],c=3*a[h+2],r[0]=o[c],r[1]=o[c+1],r[2]=o[c+2],s.operatorTriangle(t,e,r)}}}(),u[n.TRIANGLE_STRIP]=function(){var t=i.create(),e=i.create(),r=i.create();return function(i,n,a,s,o){for(var u=2,h=i;u<n;++u,++h){var c=3*a[h];t[0]=o[c],t[1]=o[c+1],t[2]=o[c+2],c=3*a[h+1],e[0]=o[c],e[1]=o[c+1],e[2]=o[c+2],c=3*a[h+2],r[0]=o[c],r[1]=o[c+1],r[2]=o[c+2],u%2?s.operatorTriangle(t,r,e):s.operatorTriangle(t,e,r)}}}(),u[n.TRIANGLE_FAN]=function(){var t=i.create(),e=i.create(),r=i.create();return function(i,n,a,s,o){for(var u=a[i],h=2,c=i+1;h<n;++h,++c){t[0]=o[u],t[1]=o[u+1],t[2]=o[u+2];var l=3*a[c];e[0]=o[l],e[1]=o[l+1],e[2]=o[l+2],l=3*a[c+1],r[0]=o[l],r[1]=o[l+1],r[2]=o[l+2],s.operatorTriangle(t,e,r)}}}(),h[n.POINTS]=function(){var t=i.create();return function(e,r,i,n){for(var a=e;a<e+r;++a){var s=3*a;t[0]=n[s],t[1]=n[s+1],t[2]=n[s+2],i.operatorPoint(t)}}}(),h[n.LINES]=function(){var t=i.create(),e=i.create();return function(r,i,n,a){for(var s=r;s<r+i-1;s+=2){var o=3*s;t[0]=a[o],t[1]=a[o+1],t[2]=a[o+2],o=3*(s+1),e[0]=a[o],e[1]=a[o+1],e[2]=a[o+2],n.operatorLine(t,e)}}}(),h[n.LINE_STRIP]=function(){var t=i.create(),e=i.create();return function(r,i,n,a){for(var s=r;s<r+i-1;++s){var o=3*s;t[0]=a[o],t[1]=a[o+1],t[2]=a[o+2],o=3*(s+1),e[0]=a[o],e[1]=a[o+1],e[2]=a[o+2],n.operatorLine(t,e)}}}(),h[n.LINE_LOOP]=function(){var t=i.create(),e=i.create();return function(r,i,n,a){for(var s=r+i-1,o=r;o<s;++o){var u=3*o;t[0]=a[u],t[1]=a[u+1],t[2]=a[u+2],u=3*(o+1),e[0]=a[u],e[1]=a[u+1],e[2]=a[u+2],n.operatorLine(t,e)}s*=3,t[0]=a[s],t[1]=a[s+1],t[2]=a[s+2],r*=3,e[0]=a[r],e[1]=a[r+1],e[2]=a[r+2],n.operatorLine(t,e)}}(),h[n.TRIANGLES]=function(){var t=i.create(),e=i.create(),r=i.create();return function(i,n,a,s){for(var o=i;o<i+n;o+=3){var u=3*o;t[0]=s[u],t[1]=s[u+1],t[2]=s[u+2],u=3*(o+1),e[0]=s[u],e[1]=s[u+1],e[2]=s[u+2],u=3*(o+2),r[0]=s[u],r[1]=s[u+1],r[2]=s[u+2],a.operatorTriangle(t,e,r)}}}(),h[n.TRIANGLE_STRIP]=function(){var t=i.create(),e=i.create(),r=i.create();return function(i,n,a,s){for(var o=2,u=i;o<n;++o,++u){var h=3*u;t[0]=s[h],t[1]=s[h+1],t[2]=s[h+2],h=3*(u+1),e[0]=s[h],e[1]=s[h+1],e[2]=s[h+2],h=3*(u+2),r[0]=s[h],r[1]=s[h+1],r[2]=s[h+2],o%2?a.operatorTriangle(t,r,e):a.operatorTriangle(t,e,r)}}}(),h[n.TRIANGLE_FAN]=function(){var t=i.create(),e=i.create(),r=i.create();return function(i,n,a,s){for(var o=2,u=i+1;o<n;++o,++u){t[0]=s[i],t[1]=s[i+1],t[2]=s[i+2];var h=3*u;e[0]=s[h],e[1]=s[h+1],e[2]=s[h+2],h=3*(u+1),r[0]=s[h],r[1]=s[h+1],r[2]=s[h+2],a.operatorTriangle(t,e,r)}}}(),o.prototype={apply:function(){var t=this._geom,e=t.getPrimitiveSetList();if(e)for(var r,i=this._cb(),n=this._vertices,o=e.length,c=0;c<o;c++){var l=e[c];if(l instanceof a){if(r=u[l.getMode()]){var d=l.indices.getElements();r(l.getFirst()/d.BYTES_PER_ELEMENT,l.getCount(),d,i,n)}}else l instanceof s&&(r=h[l.getMode()],r&&r(l.getFirst(),l.getCount(),i,n))}}},t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(11),a=r(35),s=r(22),o=r(93),u=r(10),h=new o,c=function(t,e){a.call(this),s.call(this),this._program=null,this._nullProgram=!0,this._vertex=void 0,this._fragment=void 0,this._uniformsCache=void 0,this._attributesCache=void 0,this._activeUniforms=void 0,this._foreignUniforms=void 0,this._trackAttributes=void 0,t&&this.setVertexShader(t),e&&this.setFragmentShader(e),this._dirty=!0},l=function(t){var e,r,i,n={},a=t.match(/attribute\s+\w+\s+\w+/g);if(null!==a)for(e=0,r=a.length;e<r;e++)i=a[e].match(/attribute\s+\w+\s+(\w+)/)[1],n[i]=!0;else for(a=t.match(/in\s+\w+\s+\w+\s*;/g),e=0,r=a.length;e<r;e++)i=a[e].match(/in\s+\w+\s+(\w+)\s*;/)[1],n[i]=!0;return n};c._sDeletedGLProgramCache=new window.Map,c.deleteGLProgram=function(t,e){c._sDeletedGLProgramCache.has(t)||c._sDeletedGLProgramCache.set(t,[]),c._sDeletedGLProgramCache.get(t).push(e)},c.flushDeletedGLPrograms=function(t,e){if(e<=0)return e;if(!c._sDeletedGLProgramCache.has(t))return e;for(var r=0,i=u.instance().tick(),n=c._sDeletedGLProgramCache.get(t),a=n.length,s=a-1;s>=0&&r<e;s--)t.deleteProgram(n[s]),n.splice(s,1),r=u.instance().deltaS(i,u.instance().tick());return e-r},c.flushAllDeletedGLPrograms=function(t){if(c._sDeletedGLProgramCache.has(t))for(var e=c._sDeletedGLProgramCache.get(t),r=e.length,i=r-1;i>=0;i--)t.deleteProgram(e[i]),e.splice(i,1)},c.prototype=i.objectLibraryClass(i.objectInherit(a.prototype,i.objectInherit(s.prototype,{attributeType:"Program",cloneType:function(){return new c},setVertexShader:function(t){this._vertex=t,this._nullProgram=!1,t.setText(h.processShader(t.getText()))},setFragmentShader:function(t){this._fragment=t,this._nullProgram=!1,t.setText(h.processShader(t.getText()))},getVertexShader:function(){return this._vertex},getFragmentShader:function(){return this._fragment},getProgram:function(){return this._program},setActiveUniforms:function(t){this._activeUniforms=t},getActiveUniforms:function(){return this._activeUniforms},setForeignUniforms:function(t){this._foreignUniforms=t},getForeignUniforms:function(){return this._foreignUniforms},setUniformsCache:function(t){this._uniformsCache=t},getUniformsCache:function(){return this._uniformsCache},setAttributesCache:function(t){this._attributesCache=t},getAttributesCache:function(){return this._attributesCache},setTrackAttributes:function(t){this._trackAttributes=t},getTrackAttributes:function(){return this._trackAttributes},releaseGLObjects:function(){void 0!==this._vertex&&this._vertex.releaseGLObjects(),void 0!==this._fragment&&this._fragment.releaseGLObjects(),null!==this._program&&(void 0!==this._gl&&c.deleteGLProgram(this._gl,this._program),this._program=void 0)},apply:function(t){if(!this._nullProgram){this._gl||this.setGraphicContext(t.getGraphicContext());var e=this._gl;if(!this._program||this._dirty){var r;this._vertex.shader||(r=this._vertex.compile(e)),this._fragment.shader||(r=this._fragment.compile(e));var a=l(this._vertex.getText());if(r&&(this._program=e.createProgram(),a.Vertex&&e.bindAttribLocation(this._program,0,"Vertex"),e.attachShader(this._program,this._vertex.shader),e.attachShader(this._program,this._fragment.shader),i.timeStamp("osgjs.metrics:linkShader"),e.linkProgram(this._program),!e.getProgramParameter(this._program,e.LINK_STATUS)&&!e.isContextLost())){var s=e.getProgramInfoLog(this._program);n.errorFold(s,"can't link program\nvertex shader:\n"+this._vertex.text+"\n fragment shader:\n"+this._fragment.text);var o=void 0!==e.rawgl?e.rawgl:e;void 0!==o&&void 0!==o.getExtension&&(o=o.getExtension("WEBGL_debug_shaders")),o&&"Failed to create D3D shaders.\n"===s&&(n.error(o.getTranslatedShaderSource(this._vertex.shader)),n.error(o.getTranslatedShaderSource(this._fragment.shader))),r=!1}if(!r){var u=e.createProgram();this._vertex.failSafe(e,this._vertex.getText()),this._fragment.failSafe(e,this._fragment.getText()),e.attachShader(u,this._vertex.shader),e.attachShader(u,this._fragment.shader),e.linkProgram(u),e.validateProgram(u),n.warn("FailSafe shader Activated "),this._program=u}this._uniformsCache={},this._attributesCache={},this.cacheUniformList(e,this._vertex.text),this.cacheUniformList(e,this._fragment.text),this.cacheAttributeList(e,window.Object.keys(a)),this._dirty=!1}t.applyProgram(this._program)}},cacheUniformList:function(t,e){var r=e.match(/uniform\s+\w+\s+\w+((\s)?\[(.*?)\])?/g),i=this._uniformsCache;if(null!==r)for(var n=0,a=r.length;n<a;n++){var s=r[n].match(/uniform\s+\w+\s+(\w+)/)[1],o=r[n].match(/uniform\s+\w+\s+(\w+)(\s?\[.*?\])?/)[1],u=t.getUniformLocation(this._program,s);void 0!==u&&null!==u&&void 0===i[o]&&(i[o]=u)}},cacheAttributeList:function(t,e){for(var r=this._attributesCache,i=0,n=e.length;i<n;i++){var a=e[i],s=t.getAttribLocation(this._program,a);s!==-1&&void 0!==s&&void 0===r[a]&&(r[a]=s)}}})),"osg","Program"),t.exports=c},function(t,e,r){"use strict";var i=r(11),n=r(94),a=r(102),s=r(29),o=function(t){if(!t){if(o.instance)return o.instance;o.instance=this}return this.addShaders(n),this.addShaders(a),this};o.prototype={_shadersText:{},_shadersList:{},_globalDefaultprecision:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif",_debugLines:!1,_includeR:/#pragma include "([^"]+)"/g,_includeCondR:/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,_defineR:/\#define\s+([a-zA-Z_0-9]+)/,_precisionR:/precision\s+(high|low|medium)p\s+float/,addShaders:function(t){for(var e in t)this._shadersList[e]=e,this._shadersText[e]=t[e]},instrumentShaderlines:function(t,e){return"\n#line 0 "+e+"\n"+t},getShaderTextPure:function(t){var e=this._shadersText[t];return e||(i.error("shader file/text: "+t+" not registered"),e=""),e},getShader:function(t,e,r,i){var n=this.getShaderTextPure(t);return this.processShader(n,e,r,i)},preprocess:function(t,e,r,i){var n=this;return t.replace(this._includeCondR,function(t,a){var s=a.split(" "),o=s[0].replace(/"/g,"");if(s.length>1&&i){for(var u=!1,h=i.map(function(t){return n._defineR.test(t)&&t.replace(/\s+/g," ").split(" ")[1]}),c=1;c<s.length&&!u;c++)for(var l=s[c].replace(/"/g,""),d=0;d<h.length&&!u;d++)if(h[d]!==!1&&h[d]===l){u=!0;break}if(!u)return""}if(r.indexOf(o)!==-1)return"";var f=this.getShaderTextPure(o);return r.push(o),this._debugLines&&(f=this.instrumentShaderlines(f,e)),e++,f=this.preprocess(f,e,r,i)}.bind(this))},_getSortedUnique:function(){var t=function(t,e,r){return!e||t!==r[e-1]};return function(e){return e&&e.sort().filter(t)}}(),_convertExtensionsToWebGL2:function(){var t=function(t,e){return"core_"+e},e=function(t,e){return"#define "+e},r="(GL_EXT_shader_texture_lod|GL_OES_standard_derivatives|GL_EXT_draw_buffers|GL_EXT_frag_depth)",i=new RegExp("#\\s*extension\\s+"+r+".*","g"),n=new RegExp(r,"g");return function(r){return r=r.replace(i,e),r=r.replace(n,t)}}(),_convertToWebGL2:function(){var t=[],e=function(e,r){var i="glFragData_"+r;return t[r]="layout(location = "+r+") out vec4 "+i+";",i};return function(r,i){return r?(r=r.replace(/attribute\s+/g,"in "),r=r.replace(/varying\s+/g,i?"in ":"out "),r=r.replace(/(texture2D|textureCube)\s*\(/g,"texture("),r=r.replace(/(textureCubeLodEXT)\s*\(/g,"textureLod("),r=this._convertExtensionsToWebGL2(r),i&&(t.length=0,r=r.replace(/gl_FragData\s*\[\s*(\d+)\s*\]/g,e),t.length||t.push("out vec4 glFragColor_0;"),r=r.replace(/gl_FragColor/g,"glFragColor_0"),r=r.replace(/void\s+main\s*\(/g,t.join("\n")+"\nvoid main(")),r):r}}(),_hasVersion:function(t){var e=t.match(/^#(.*)$/m);return e&&e[0].indexOf("version")!==-1},processShader:function(t,e,r,i){if(this._hasVersion(t))return t;var n=[],a=t,o=0;this._debugLines&&(a=this.instrumentShaderlines(a,o),o++),e=this._getSortedUnique(e),r=this._getSortedUnique(r);var u=this.preprocess(a,o,n,e,i),h=u.indexOf("gl_Position")===-1,c=s.instance().isWebGL2(),l=c?"#version 300 es":"#version 100";l+="\n";var d=r?r.join("\n")+"\n":"",f=e?e.join("\n")+"\n":"";c&&(d=this._convertExtensionsToWebGL2(d),f=this._convertToWebGL2(f,h),u=this._convertToWebGL2(u,h));var p="";return this._globalDefaultprecision&&!this._precisionR.test(u)&&(p=this._globalDefaultprecision+"\n"),l+d+p+f+u}},t.exports=o},function(t,e,r){"use strict";var i=r(95),n=r(96),a=r(97),s=r(98),o=r(99),u=r(100),h=r(101);t.exports={"functions.glsl":i,"lights.glsl":n,"skinning.glsl":a,"textures.glsl":s,"colorEncode.glsl":o,"noise.glsl":u,"billboard.glsl":h}},function(t,e){t.exports="// the approximation :\n// http://chilliant.blogspot.fr/2012/08/srgb-approximations-for-hlsl.html\n// introduced slightly darker colors and more slight banding in the darks.\n// The reference implementation (or even a single pow approx) did not introduced these effects.\n\n// so for now we stick with the reference implementation :\n// https://www.khronos.org/registry/gles/extensions/EXT/EXT_sRGB.txt\n// with the slight changes :\n// - we always assume the color is >= 0.0 (so no check)\n// - unlike the previous approximation, linear to srgb is monotonic so we don't need to check if the color is > 1\n\n#define LIN_SRGB(x) x < 0.0031308 ? x * 12.92 : 1.055 * pow(x, 1.0/2.4) - 0.055\nfloat linearTosRGB(const in float c) {\n    return LIN_SRGB(c);\n}\nvec3 linearTosRGB(const in vec3 c) {\n    return vec3(LIN_SRGB(c.r), LIN_SRGB(c.g), LIN_SRGB(c.b));\n}\nvec4 linearTosRGB(const in vec4 c) {\n    return vec4(LIN_SRGB(c.r), LIN_SRGB(c.g), LIN_SRGB(c.b), c.a);\n}\n\n#define SRGB_LIN(x) x < 0.04045 ? x * (1.0 / 12.92) : pow((x + 0.055) * (1.0 / 1.055), 2.4)\nfloat sRGBToLinear(const in float c) {\n    return SRGB_LIN(c);\n}\nvec3 sRGBToLinear(const in vec3 c) {\n    return vec3(SRGB_LIN(c.r), SRGB_LIN(c.g), SRGB_LIN(c.b));\n}\nvec4 sRGBToLinear(const in vec4 c) {\n    return vec4(SRGB_LIN(c.r), SRGB_LIN(c.g), SRGB_LIN(c.b), c.a);\n}\n\n//http://graphicrants.blogspot.fr/2009/04/rgbm-color-encoding.html\nvec3 RGBMToRGB( const in vec4 rgba ) {\n    const float maxRange = 8.0;\n    return rgba.rgb * maxRange * rgba.a;\n}\n\nconst mat3 LUVInverse = mat3( 6.0013,    -2.700,   -1.7995,\n                              -1.332,    3.1029,   -5.7720,\n                              0.3007,    -1.088,    5.6268 );\n\nvec3 LUVToRGB( const in vec4 vLogLuv ) {\n    float Le = vLogLuv.z * 255.0 + vLogLuv.w;\n    vec3 Xp_Y_XYZp;\n    Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n    Xp_Y_XYZp.z = Xp_Y_XYZp.y / vLogLuv.y;\n    Xp_Y_XYZp.x = vLogLuv.x * Xp_Y_XYZp.z;\n    vec3 vRGB = LUVInverse * Xp_Y_XYZp;\n    return max(vRGB, 0.0);\n}\n\n// http://graphicrants.blogspot.fr/2009/04/rgbm-color-encoding.html\nvec4 encodeRGBM(const in vec3 col, const in float range) {\n    if(range <= 0.0)\n        return vec4(col, 1.0);\n    vec4 rgbm;\n    vec3 color = col / range;\n    rgbm.a = clamp( max( max( color.r, color.g ), max( color.b, 1e-6 ) ), 0.0, 1.0 );\n    rgbm.a = ceil( rgbm.a * 255.0 ) / 255.0;\n    rgbm.rgb = color / rgbm.a;\n    return rgbm;\n}\n\nvec3 decodeRGBM(const in vec4 col, const in float range) {\n    if(range <= 0.0)\n        return col.rgb;\n    return range * col.rgb * col.a;\n}"},function(t,e){t.exports="////////////////\n// ATTENUATION\n/////////////\nfloat getLightAttenuation(const in float dist, const in vec4 lightAttenuation) {\n    // lightAttenuation(constantEnabled, linearEnabled, quadraticEnabled)\n    // TODO find a vector alu instead of 4 scalar\n    float constant = lightAttenuation.x;\n    float linear = lightAttenuation.y*dist;\n    float quadratic = lightAttenuation.z*dist*dist;\n    return 1.0 / ( constant + linear + quadratic );\n}\n//\n// LIGHTING EQUATION TERMS\n///\nvoid specularCookTorrance(const in vec3 n, const in vec3 l, const in vec3 v, const in float hard, const in vec3 materialSpecular, const in vec3 lightSpecular, out vec3 specularContrib) {\n    vec3 h = normalize(v + l);\n    float nh = dot(n, h);\n    float specfac = 0.0;\n\n    if(nh > 0.0) {\n        float nv = max( dot(n, v), 0.0 );\n        float i = pow(nh, hard);\n        i = i / (0.1 + nv);\n        specfac = i;\n    }\n    // ugly way to fake an energy conservation (mainly to avoid super bright stuffs with low glossiness)\n    float att = hard > 100.0 ? 1.0 : smoothstep(0.0, 1.0, hard * 0.01);\n    specularContrib = specfac*materialSpecular*lightSpecular*att;\n}\n\nvoid lambert(const in float ndl,  const in vec3 materialDiffuse, const in vec3 lightDiffuse, out vec3 diffuseContrib) {\n    diffuseContrib = ndl*materialDiffuse*lightDiffuse;\n}\n////////////////////////\n/// Main func\n///////////////////////\n\n/// for each light\n//direction, dist, NDL, attenuation, compute diffuse, compute specular\n\nvec3 computeSpotLightShading(\n    const in vec3 normal,\n    const in vec3 eyeVector,\n\n    const in vec3 materialDiffuse,\n    const in vec3 materialSpecular,\n    const in float materialShininess,\n\n    const in vec3 lightDiffuse,\n    const in vec3 lightSpecular,\n    const in vec3  lightSpotDirection,\n    const in vec4  lightAttenuation,\n    const in vec4  lightSpotPosition,\n    const in float lightCosSpotCutoff,\n    const in float lightSpotBlend,\n    const in mat4 lightMatrix,\n    const in mat4 lightInvMatrix,\n\n    out bool lighted) {\n\n    lighted = false;\n    vec3 eyeLightPos = vec3(lightMatrix * lightSpotPosition);\n    vec3 eyeLightDir = eyeLightPos - vViewVertex.xyz;\n    // compute dist\n    float dist = length(eyeLightDir);\n    // compute attenuation\n    float attenuation = getLightAttenuation(dist, lightAttenuation);\n    if (attenuation != 0.0) {\n        // compute direction\n        eyeLightDir = dist > 0.0 ? eyeLightDir / dist :  vec3( 0.0, 1.0, 0.0 );\n        if (lightCosSpotCutoff > 0.0) {\n            //compute lightSpotBlend\n            vec3 lightSpotDirectionEye = normalize(mat3(vec3(lightInvMatrix[0]), vec3(lightInvMatrix[1]), vec3(lightInvMatrix[2]))*lightSpotDirection);\n\n            float cosCurAngle = dot(-eyeLightDir, lightSpotDirectionEye);\n            float diffAngle = cosCurAngle - lightCosSpotCutoff;\n            float spot = 1.0;\n            if ( diffAngle < 0.0 ) {\n                spot = 0.0;\n            } else if ( lightSpotBlend > 0.0 ) {\n                spot = cosCurAngle * smoothstep(0.0, 1.0, (cosCurAngle - lightCosSpotCutoff) / (lightSpotBlend));\n            }\n\n            if (spot > 0.0) {\n                // compute NdL\n                float NdotL = dot(eyeLightDir, normal);\n                if (NdotL > 0.0) {\n                    lighted = true;\n                    vec3 diffuseContrib;\n                    lambert(NdotL, materialDiffuse, lightDiffuse, diffuseContrib);\n                    vec3 specularContrib;\n                    specularCookTorrance(normal, eyeLightDir, eyeVector, materialShininess, materialSpecular, lightSpecular, specularContrib);\n                    return spot * attenuation * (diffuseContrib + specularContrib);\n                }\n            }\n        }\n    }\n\n    return vec3(0.0);\n}\n\nvec3 computePointLightShading(\n    const in vec3 normal,\n    const in vec3 eyeVector,\n\n    const in vec3 materialDiffuse,\n    const in vec3 materialSpecular,\n    const in float materialShininess,\n\n    const in vec3 lightDiffuse,\n    const in vec3 lightSpecular,\n    const in vec4 lightPosition,\n    const in vec4 lightAttenuation,\n    const in mat4 lightMatrix,\n\n    out bool lighted) {\n\n    lighted = false;\n    vec3 eyeLightPos =  vec3(lightMatrix * lightPosition);\n    vec3 eyeLightDir = eyeLightPos - vViewVertex.xyz;\n    float dist = length(eyeLightDir);\n    // compute dist\n    // compute attenuation\n    float attenuation = getLightAttenuation(dist, lightAttenuation);\n    if (attenuation != 0.0) {\n        // compute direction\n        eyeLightDir = dist > 0.0 ? eyeLightDir / dist :  vec3( 0.0, 1.0, 0.0 );\n        // compute NdL\n        float NdotL = dot(eyeLightDir, normal);\n        if (NdotL > 0.0) {\n            lighted = true;\n            vec3 diffuseContrib;\n            lambert(NdotL, materialDiffuse, lightDiffuse, diffuseContrib);\n            vec3 specularContrib;\n            specularCookTorrance(normal, eyeLightDir, eyeVector, materialShininess, materialSpecular, lightSpecular, specularContrib);\n            return attenuation * (diffuseContrib + specularContrib);\n        }\n    }\n\n    return vec3(0.0);\n}\n\nvec3 computeSunLightShading(\n\n    const in vec3 normal,\n    const in vec3 eyeVector,\n\n    const in vec3 materialDiffuse,\n    const in vec3 materialSpecular,\n    const in float materialShininess,\n\n    const in vec3 lightDiffuse,\n    const in vec3 lightSpecular,\n    const in vec4 lightPosition,\n    const in mat4 lightMatrix,\n\n    out bool lighted) {\n\n    lighted = false; \n    vec3 eyeLightDir = normalize( vec3(lightMatrix * lightPosition ) );\n    // compute NdL   // compute NdL\n    float NdotL = dot(eyeLightDir, normal);\n    if (NdotL > 0.0) {\n        lighted = true;\n        vec3 diffuseContrib;\n        lambert(NdotL, materialDiffuse, lightDiffuse, diffuseContrib);\n        vec3 specularContrib;\n        specularCookTorrance(normal, eyeLightDir, eyeVector, materialShininess, materialSpecular, lightSpecular, specularContrib);\n        return (diffuseContrib + specularContrib);\n    }\n\n    return vec3(0.0);\n}\n\nvec3 computeHemiLightShading(\n\n    const in vec3 normal,\n    const in vec3 eyeVector,\n\n    const in vec3 materialDiffuse,\n    const in vec3 materialSpecular,\n    const in float materialShininess,\n\n    const in vec3 lightDiffuse,\n    const in vec3 lightGround,\n    const in vec4 lightPosition,\n    const in mat4 lightMatrix,\n\n    out bool lighted) {\n\n    lighted = false;\n    vec3 eyeLightDir = normalize( vec3(lightMatrix * lightPosition ) );\n    float NdotL = dot(eyeLightDir, normal);\n    float weight = 0.5 * NdotL + 0.5;\n    vec3 diffuseContrib = materialDiffuse * mix(lightGround, lightDiffuse, weight);\n\n    // same cook-torrance as above for sky/ground\n    float skyWeight = 0.5 * dot(normal, normalize(eyeVector + eyeLightDir)) + 0.5;\n    float gndWeight = 0.5 * dot(normal, normalize(eyeVector - eyeLightDir)) + 0.5;\n    float skySpec = pow(skyWeight, materialShininess);\n    float skyGround = pow(gndWeight, materialShininess);\n    float divisor = (0.1 + max( dot(normal, eyeVector), 0.0 ));\n    float att = materialShininess > 100.0 ? 1.0 : smoothstep(0.0, 1.0, materialShininess * 0.01);\n    vec3 specularContrib = lightDiffuse * materialSpecular * weight * att * (skySpec + skyGround) / divisor;\n\n    return diffuseContrib + specularContrib;\n}\n";
},function(t,e){t.exports="//////////////////////////////\n// OPTIMIZED VERSION (NO IF)\n//////////////////////////////\nmat4 skeletalTransform( const in vec4 weightsVec, const in vec4 bonesIdx ) {\n    mat4 outMat_1;\n    mat4 tmpMat_2;\n    highp ivec4 tmpvar_3;\n    tmpvar_3 = (3 * ivec4(bonesIdx));\n    tmpMat_2 = mat4(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0);\n    vec4 tmpvar_4;\n    tmpvar_4 = -(abs(weightsVec));\n    tmpMat_2[0] = uBones[tmpvar_3.x];\n    tmpMat_2[1] = uBones[(tmpvar_3.x + 1)];\n    tmpMat_2[2] = uBones[(tmpvar_3.x + 2)];\n    outMat_1 = ((float(\n    ((tmpvar_4.x + tmpvar_4.y) >= -((tmpvar_4.z + tmpvar_4.w)))\n    ) * mat4(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0)) + (weightsVec.x * tmpMat_2));\n    tmpMat_2[0] = uBones[tmpvar_3.y];\n    tmpMat_2[1] = uBones[(tmpvar_3.y + 1)];\n    tmpMat_2[2] = uBones[(tmpvar_3.y + 2)];\n    outMat_1 = (outMat_1 + (weightsVec.y * tmpMat_2));\n    tmpMat_2[0] = uBones[tmpvar_3.z];\n    tmpMat_2[1] = uBones[(tmpvar_3.z + 1)];\n    tmpMat_2[2] = uBones[(tmpvar_3.z + 2)];\n    outMat_1 = (outMat_1 + (weightsVec.z * tmpMat_2));\n    tmpMat_2[0] = uBones[tmpvar_3.w];\n    tmpMat_2[1] = uBones[(tmpvar_3.w + 1)];\n    tmpMat_2[2] = uBones[(tmpvar_3.w + 2)];\n    outMat_1 = (outMat_1 + (weightsVec.w * tmpMat_2));\n\n    return outMat_1;\n}\n\n//////////////////////////////\n// UN-OPTIMIZED VERSION (WITH IF)\n//////////////////////////////\n\n// //http://http.developer.nvidia.com/GPUGems/gpugems_ch04.html\n// mat4 getMat4FromVec4( const int index, inout mat4 myMat ) {\n//     // We have to use a global variable because we can't access dynamically\n//     // matrix is transpose so we should do vec * matrix\n//     myMat[0] = uBones[ index ];\n//     myMat[1] = uBones[ index + 1];\n//     myMat[2] = uBones[ index + 2];\n//     return myMat;\n// }\n\n// mat4 skeletalTransform( const in vec4 weightsVec, const in vec4 bonesIdx ) {\n//     ivec4 idx =  3 * ivec4(bonesIdx);\n//     mat4 tmpMat = mat4(1.0);\n//     mat4 outMat = mat4(0.0);\n\n//     // we handle negative weights\n//     if(all(equal(weightsVec, vec4(0.0)))) return tmpMat;\n\n//     if(weightsVec.x != 0.0) outMat += weightsVec.x * getMat4FromVec4( idx.x, tmpMat );\n//     if(weightsVec.y != 0.0) outMat += weightsVec.y * getMat4FromVec4( idx.y, tmpMat );\n//     if(weightsVec.z != 0.0) outMat += weightsVec.z * getMat4FromVec4( idx.z, tmpMat );\n//     if(weightsVec.w != 0.0) outMat += weightsVec.w * getMat4FromVec4( idx.w, tmpMat );\n//     return outMat;\n// }\n\n//////////////////////////////\n// UN-OPTIMIZED VERSION (NO IF)\n//////////////////////////////\n\n// mat4 skeletalTransform( const in vec4 weightsVec, const in vec4 bonesIdx ) {\n//     ivec4 idx =  3 * ivec4(bonesIdx);\n//     mat4 tmpMat = mat4(1.0);\n\n//     // if sum is 0, return identity\n//     vec4 absWeights = -abs(weightsVec);\n//     mat4 outMat = step(0.0, absWeights.x + absWeights.y + absWeights.z + absWeights.w) * tmpMat;\n\n//     // we handle negative weights\n//     // outMat[3][3] += weightsVec.x + weightsVec.y + weightsVec.z + weightsVec.w;\n\n//     tmpMat[0] = uBones[ idx.x ];\n//     tmpMat[1] = uBones[ idx.x + 1];\n//     tmpMat[2] = uBones[ idx.x + 2];\n//     outMat += weightsVec.x * tmpMat;\n\n//     tmpMat[0] = uBones[ idx.y ];\n//     tmpMat[1] = uBones[ idx.y + 1];\n//     tmpMat[2] = uBones[ idx.y + 2];\n//     outMat += weightsVec.y * tmpMat;\n\n//     tmpMat[0] = uBones[ idx.z ];\n//     tmpMat[1] = uBones[ idx.z + 1];\n//     tmpMat[2] = uBones[ idx.z + 2];\n//     outMat += weightsVec.z * tmpMat;\n\n//     tmpMat[0] = uBones[ idx.w ];\n//     tmpMat[1] = uBones[ idx.w + 1];\n//     tmpMat[2] = uBones[ idx.w + 2];\n//     outMat += weightsVec.w * tmpMat;\n\n//     return outMat;\n// }\n"},function(t,e){t.exports="vec3 textureRGB(const in sampler2D tex, const in vec2 uv) {\n    return texture2D(tex, uv.xy ).rgb;\n}\n\nvec4 textureRGBA(const in sampler2D tex, const in vec2 uv) {\n    return texture2D(tex, uv.xy ).rgba;\n}\n\nfloat textureIntensity(const in sampler2D tex, const in vec2 uv) {\n    return texture2D(tex, uv).r;\n}\n\nfloat textureAlpha(const in sampler2D tex, const in vec2 uv) {\n    return texture2D(tex, uv.xy ).a;\n}\n"},function(t,e){t.exports="\nfloat decodeFloatRGBA( vec4 rgba ) {\n    return dot( rgba, vec4(1.0, 1.0/255.0, 1.0/65025.0, 1.0/16581375.0) );\n}\n\nvec4 encodeFloatRGBA( float v ) {\n    vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * v;\n    enc = fract(enc);\n    enc -= enc.yzww * vec4(1.0/255.0,1.0/255.0,1.0/255.0,0.0);\n    return enc;\n}\n\nvec2 decodeHalfFloatRGBA( vec4 rgba ) {\n    return vec2(rgba.x + (rgba.y / 255.0), rgba.z + (rgba.w / 255.0));\n}\n\nvec4 encodeHalfFloatRGBA( vec2 v ) {\n    const vec2 bias = vec2(1.0 / 255.0, 0.0);\n    vec4 enc;\n    enc.xy = vec2(v.x, fract(v.x * 255.0));\n    enc.xy = enc.xy - (enc.yy * bias);\n\n    enc.zw = vec2(v.y, fract(v.y * 255.0));\n    enc.zw = enc.zw - (enc.ww * bias);\n    return enc;\n}\n"},function(t,e){t.exports='#pragma include "hash.glsl"\n\n//// noise glsl\n\n// Based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise2D(const in vec2 x) {\n    vec2 i = floor(x);\n    vec2 f = fract(x);\n\n    // Four corners in 2D of a tile\n    float a = hash21(i);\n    float b = hash21(i + vec2(1.0, 0.0));\n    float c = hash21(i + vec2(0.0, 1.0));\n    float d = hash21(i + vec2(1.0, 1.0));\n\n    vec2 u = f * f * (3.0 - 2.0 * f);\n    return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;\n}\n\n//// end noise glsl\n'},function(t,e){t.exports="vec3 getScale( const in mat4 matrix ) {\n      // Only working with positive scales.\n      float xs = matrix[0][0] * matrix[0][1] * matrix[0][2] * matrix[0][3] < 0. ? -1. : 1.;\n      float ys = matrix[1][0] * matrix[1][1] * matrix[1][2] * matrix[1][3] < 0. ? -1. : 1.;\n      float zs = matrix[2][0] * matrix[2][1] * matrix[2][2] * matrix[2][3] < 0. ? -1. : 1.;\n      vec3 scale;\n      scale.x = xs * sqrt( matrix[0][0] * matrix[0][0] + matrix[0][1] * matrix[0][1] + matrix[0][2] * matrix[0][2]);\n      scale.y = ys * sqrt( matrix[1][0] * matrix[1][0] + matrix[1][1] * matrix[1][1] + matrix[1][2] * matrix[1][2]);\n      scale.z = zs * sqrt( matrix[2][0] * matrix[2][0] + matrix[2][1] * matrix[2][1] + matrix[2][2] * matrix[2][2]);\n      return scale;\n}\n\nvec4 billboard( const in vec3 vertex, const in mat4 modelViewMatrix, const in mat4 projectionMatrix ) {\n      vec3 scale = getScale( modelViewMatrix );\n      return projectionMatrix * ( vec4( scale.x* vertex.x , scale.y * vertex.y, scale.z * vertex.z, 1.0 ) + vec4( modelViewMatrix[ 3 ].xyz, 0.0 ) );\n}\n"},function(t,e,r){"use strict";var i=r(103),n=r(104),a=r(105),s=r(106),o=r(107),u=r(108),h=r(109);t.exports={"shadowsCastFrag.glsl":i,"shadowsReceive.glsl":n,"shadowsReceiveMain.glsl":a,"shadowLinearSoft.glsl":s,"pcf.glsl":o,"tapPCF.glsl":u,"hash.glsl":h}},function(t,e){t.exports='\n#pragma include "colorEncode.glsl"\n\n\nvec4 computeShadowDepth(const in vec4 fragEye,\n                        const in vec4 shadowRange){\n    // distance to camera\n    float depth =  -fragEye.z * fragEye.w;\n    // most precision near 0, make sure we are near 0 and in  [0,1]\n    depth = (depth - shadowRange.x ) * shadowRange.w;\n\n    vec4 outputFrag;\n\n#if defined (_FLOATTEX) \n    outputFrag = vec4(depth, 0.0, 0.0, 1.0);\n#else\n    outputFrag = encodeFloatRGBA(depth);\n#endif\n\n    return outputFrag;\n}\n'},function(t,e){t.exports='//begin shadows\n\n#pragma include "colorEncode.glsl"\n\n// end Float codec\nfloat getSingleFloatFromTex(const in sampler2D depths, const in vec2 uv){\n#ifndef _FLOATTEX\n    return  decodeFloatRGBA(texture2D(depths, uv));\n#else\n    return texture2D(depths, uv).x;\n#endif\n}\n\nvec2 getDoubleFloatFromTex(const in sampler2D depths, const in vec2 uv){\n#ifndef _FLOATTEX\n    return decodeHalfFloatRGBA(texture2D(depths, uv));\n#else\n    return texture2D(depths, uv).xy;\n#endif\n}\n\nvec4 getQuadFloatFromTex(const in sampler2D depths, const in vec2 uv){\n    return texture2D(depths, uv).xyzw;\n}\n// end Float codec\n\n#pragma include "pcf.glsl" '},function(t,e){t.exports="// 0 for early out\nbool earlyOut = false;\n\n// Calculate shadow amount\nfloat shadow = 1.0;\n\nif(!lighted) {\n    shadow = 0.0;\n    earlyOut = true;\n}\n\nif (depthRange.x == depthRange.y) {\n    earlyOut = true;\n}\n\nvec4 shadowVertexEye;\nvec4 shadowNormalEye;\nfloat shadowReceiverZ = 0.0;\nvec4 shadowVertexProjected;\nvec2 shadowUV;\nfloat N_Dot_L;\n\nif(!earlyOut) {\n\n    shadowVertexEye =  shadowViewMatrix *  vec4(vertexWorld, 1.0);\n\n    vec3 shadowLightDir = vec3(0.0, 0.0, 1.0); // in shadow view light is camera\n    vec4 normalFront = vec4(normalWorld, 0.0);\n    shadowNormalEye =  shadowViewMatrix * normalFront;\n    N_Dot_L = dot(shadowNormalEye.xyz, shadowLightDir);\n\n    if(!earlyOut) {\n\n#ifdef _NORMAL_OFFSET\n\n        // http://www.dissidentlogic.com/old/images/NormalOffsetShadows/GDC_Poster_NormalOffset.png\n        float normalOffsetScale = clamp(1.0  - N_Dot_L, 0.0 , 1.0);\n\n        normalOffsetScale *= abs((shadowVertexEye.z - depthRange.x) * depthRange.w) * max(shadowProjectionMatrix[0][0], shadowProjectionMatrix[1][1]);\n\n        normalOffsetScale *= normalBias*depthRange.w;\n\n        shadowNormalEye =  shadowViewMatrix *  (normalFront * normalOffsetScale);\n\n        shadowVertexProjected = shadowProjectionMatrix * (shadowVertexEye + shadowNormalEye);\n\n#else\n\n        shadowVertexProjected = shadowProjectionMatrix * shadowVertexEye;\n\n#endif\n\n        if (shadowVertexProjected.w < 0.0) {\n            earlyOut = true; // notably behind camera\n        }\n\n    }\n\n\n\n\n    if(!earlyOut) {\n\n        shadowUV.xy = shadowVertexProjected.xy / shadowVertexProjected.w;\n        shadowUV.xy = shadowUV.xy * 0.5 + 0.5;// mad like\n\n        if(any(bvec4 ( shadowUV.x > 1., shadowUV.x < 0., shadowUV.y > 1., shadowUV.y < 0.))) {\n            earlyOut = true;// limits of light frustum\n        }\n\n        // most precision near 0, make sure we are near 0 and in [0,1]\n        shadowReceiverZ = - shadowVertexEye.z;\n        shadowReceiverZ =  (shadowReceiverZ - depthRange.x)* depthRange.w;\n\n        if(shadowReceiverZ < 0.0) {\n            earlyOut = true; // notably behind camera\n        }\n\n    }\n}\n\n\n\n\n\n\n// pcf pbias to add on offset\nvec2 shadowBiasPCF = vec2 (0.);\n\n#ifdef GL_OES_standard_derivatives\n\n\n//#define _RECEIVERPLANEDEPTHBIAS\n#ifdef _RECEIVERPLANEDEPTHBIAS\nvec2 biasUV;\n\nvec3 texCoordDY = dFdx(shadowVertexEye.xyz);\nvec3 texCoordDX = dFdy(shadowVertexEye.xyz);\n\nbiasUV.x = texCoordDY.y * texCoordDX.z - texCoordDX.y * texCoordDY.z;\nbiasUV.y = texCoordDX.x * texCoordDY.z - texCoordDY.x * texCoordDX.z;\nbiasUV *= 1.0 / ((texCoordDX.x * texCoordDY.y) - (texCoordDX.y * texCoordDY.x));\n\n// Static depth biasing to make up for incorrect fractional sampling on the shadow map grid\nfloat fractionalSamplingError = dot(vec2(1.0, 1.0) * shadowTextureSize.zw, abs(biasUV));\nfloat receiverDepthBias = min(fractionalSamplingError, 0.01);\n\nshadowBiasPCF.x = biasUV.x;\nshadowBiasPCF.y = biasUV.y;\n\n\nshadowReceiverZ += receiverDepthBias;\n\n#else\n\nshadowBiasPCF.x = clamp(dFdx(shadowReceiverZ)* shadowTextureSize.z, -1.0, 1.0 );\nshadowBiasPCF.y = clamp(dFdy(shadowReceiverZ)* shadowTextureSize.w, -1.0, 1.0 );\n\n#endif\n#endif\n\n\nvec4 clampDimension;\n\n#ifdef _ATLAS_SHADOW\n\nshadowUV.xy  = ((shadowUV.xy * shadowMapSize.zw ) + shadowMapSize.xy) / shadowTextureSize.xy;\n\n// clamp uv bias/filters by half pixel to avoid point filter on border\nclampDimension.xy = shadowMapSize.xy + vec2(0.5);\nclampDimension.zw = (shadowMapSize.xy + shadowMapSize.zw) - vec2(0.5);\n\nclampDimension = clampDimension / (shadowTextureSize.xyxy);\n\n\n#else\n\nclampDimension = vec4(0.0, 0.0, 1.0, 1.0);\n\n#endif\n\n\n// now that derivatives is done\n// and we don't access any mipmapped/texgrad texture\n// we can early out\n// see http://teknicool.tumblr.com/post/77263472964/glsl-dynamic-branching-and-texture-samplers\nif (earlyOut) {\n    // empty statement because of weird gpu intel bug\n} else {\n\n\n// depth bias: fighting shadow acne (depth imprecsion z-fighting)\nfloat shadowBias = 0.0;\n\n\n\n\n// cosTheta is dot( n, l ), clamped between 0 and 1\n//float shadowBias = 0.005*tan(acos(N_Dot_L));\n// same but 4 cycles instead of 15\nshadowBias += 0.05 *  sqrt( 1. -  N_Dot_L*N_Dot_L) / clamp(N_Dot_L, 0.0005,  1.0);\n\n//That makes sure that plane perpendicular to light doesn't flicker due to\n//selfshadowing and 1 = dot(Normal, Light) using a min bias\nshadowBias = clamp(shadowBias, 0.00005,  2.0*bias);\n\n// shadowZ must be clamped to [0,1]\n// otherwise it's not comparable to\n// shadow caster depth map\n// which is clamped to [0,1]\n// Not doing that makes ALL shadowReceiver > 1.0 black\n// because they ALL becomes behind any point in Caster depth map\nshadowReceiverZ = clamp(shadowReceiverZ, 0., 1. - shadowBias);\n\nshadowReceiverZ -= shadowBias;\n\n// Now computes Shadow\n\nshadow = getShadowPCF(tex, shadowTextureSize, shadowUV, shadowReceiverZ, shadowBiasPCF, clampDimension);\n\n}\n\nreturn shadow;\n"},function(t,e){t.exports="\n// simulation of texture2Dshadow glsl call on HW\n// http://codeflow.org/entries/2013/feb/15/soft-shadow-mapping/\nfloat texture2DCompare(const in sampler2D depths, const in vec2 uv, const in float compare, const in vec4 clampDimension){\n\n    float depth = getSingleFloatFromTex(depths, clamp(uv, clampDimension.xy, clampDimension.zw));\n    return step(compare, depth);\n\n}\n\n// simulates linear fetch like texture2d shadow\nfloat texture2DShadowLerp(const in sampler2D depths, const in vec4 size, const in vec2 uv, const in float compare, const in vec4 clampDimension){\n\n    vec2 f = fract(uv*size.xy+0.5);\n    vec2 centroidUV = floor(uv*size.xy+0.5)*size.zw;\n\n    float lb = texture2DCompare(depths, centroidUV+size.zw*vec2(0.0, 0.0), compare, clampDimension);\n    float lt = texture2DCompare(depths, centroidUV+size.zw*vec2(0.0, 1.0), compare, clampDimension);\n    float rb = texture2DCompare(depths, centroidUV+size.zw*vec2(1.0, 0.0), compare, clampDimension);\n    float rt = texture2DCompare(depths, centroidUV+size.zw*vec2(1.0, 1.0), compare, clampDimension);\n    float a = mix(lb, lt, f.y);\n    float b = mix(rb, rt, f.y);\n    float c = mix(a, b, f.x);\n    return c;\n\n}\n"},function(t,e){t.exports='\n#pragma include "tapPCF.glsl"\n\n#ifdef _ATLAS_SHADOW\n\nfloat computeShadow(const in bool lighted,\n                    const in sampler2D tex,\n                    const in vec4 shadowMapSize,\n                    const in vec4 shadowTextureSize,\n                    const in mat4 shadowProjectionMatrix,\n                    const in mat4 shadowViewMatrix,\n                    const in vec4 depthRange,\n                    const in vec3 normalWorld,\n                    const in vec3 vertexWorld,                    \n                    const in float bias\n#ifdef _NORMAL_OFFSET\n                    ,const in float normalBias\n#endif //_NORMAL_OFFSET\n                    \n    )\n#else\n    \nfloat computeShadow(const in bool lighted,\n                    const in sampler2D tex,\n                    const in vec4 shadowTextureSize,\n                    const in mat4 shadowProjectionMatrix,\n                    const in mat4 shadowViewMatrix,\n                    const in vec4 depthRange,\n                    const in vec3 normalWorld,\n                    const in vec3 vertexWorld,\n                    const in float bias\n#ifdef _NORMAL_OFFSET\n                    ,const in float normalBias\n#endif //_NORMAL_OFFSET\n\n   )\n    \n#endif\n{\n                        \n    #pragma include "shadowsReceiveMain.glsl"\n\n}\n\n'},function(t,e){t.exports='\n#pragma include "shadowLinearSoft.glsl"\n\nfloat getShadowPCF(const in sampler2D depths, const in vec4 size, const in vec2 uv, const in float compare, const in vec2 biasPCF, const in vec4 clampDimension)\n{\n\n     float res = 0.0;\n     res += texture2DShadowLerp(depths, size,   uv + biasPCF, compare, clampDimension);\n\n#if defined(_PCFx1)\n\n#else\n\n    float dx0 = -size.z;\n    float dy0 = -size.w;\n    float dx1 = size.z;\n    float dy1 = size.w;\n\n#define TSF(o1,o2) texture2DShadowLerp(depths, size, uv + vec2(o1, o2) + biasPCF,  compare, clampDimension)\n\n    res += TSF(dx0, dx0);\n    res += TSF(dx0, .0);\n    res += TSF(dx0, dx1);\n\n#if defined(_PCFx4)\n\n    res /=4.0;\n\n#elif defined(_PCFx9)\n    res += TSF(.0, dx0);\n    res += TSF(.0, dx1);\n\n    res += TSF(dx1, dx0);\n    res += TSF(dx1, .0);\n    res += TSF(dx1, dx1);\n\n\n    res /=9.0;\n\n#elif defined(_PCFx25)\n\n    float dx02 = -2.0*size.z;\n    float dy02 = -2.0*size.w;\n    float dx2 = 2.0*size.z;\n    float dy2 = 2.0*size.w;\n\n    // complete row above\n    res += TSF(dx0, dx02);\n    res += TSF(dx0, dx2);\n\n    res += TSF(.0, dx02);\n    res += TSF(.0, dx2);\n\n    res += TSF(dx1, dx02);\n    res += TSF(dx1, dx2);\n\n    // two new col\n    res += TSF(dx02, dx02);\n    res += TSF(dx02, dx0);\n    res += TSF(dx02, .0);\n    res += TSF(dx02, dx1);\n    res += TSF(dx02, dx2);\n\n    res += TSF(dx2, dx02);\n    res += TSF(dx2, dx0);\n    res += TSF(dx2, .0);\n    res += TSF(dx2, dx1);\n    res += TSF(dx2, dx2);\n\n\n    res/=25.0;\n\n#endif\n\n#undef TSF\n\n#endif\n    return res;\n}\n/////// end Tap\n'},function(t,e){t.exports="//// hash glsl\n\n// Dave Hoskins: hash without sin\n//https://www.shadertoy.com/view/4djSRW\n#define MOD2 vec2(443.8975,397.2973)\n//----------------------------------------------------------------------------------------\n//  1 out, 1 in...\n//note: normalized uniform random, [0;1[\nfloat hash11(const in float p)\n{\n    vec2 p2 = fract(vec2(p) * MOD2);\n    p2 += dot(p2.yx, p2.xy+19.19);\n    return fract(p2.x * p2.y);\n}\n//note: normalized uniform random, [0;1[\n//  2 out, 1 in...\nfloat hash21(const in vec2 p)\n{\n    vec2 p2 = fract(p * MOD2);\n    p2 += dot(p2.yx, p2.xy+19.19);\n    return fract(p2.x * p2.y);\n}\n\n\n// Based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\n// using Sin\n//  1 out, 1 in...\nfloat hashSin11( const in float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n\n//note: normalized uniform random, [0;1[\n//  2 out, 1 in...\nfloat hashSin21( const in vec2 n ) {\n    return fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453);\n}\n\n// note: [-1;1]\n// iq: https://www.shadertoy.com/view/Xsl3Dl\n// note: value noise\n//  2 out, 2 in...\nvec2 hashSin22( const in vec2 n )\n{\n    return fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* vec2(43758.5453,35458.5734));\n}\n//  3 out, 3 in...\nvec3 hashSin33( in vec3 p )\n{\n    p = vec3( dot(p,vec3(127.1,311.7, 74.7)),\n              dot(p,vec3(269.5,183.3,246.1)),\n              dot(p,vec3(113.5,271.9,124.6)));\n    return fract(sin(p)*43758.5453123);\n}\n\n// Returns a random number based on a vec3 and an int.\nfloat hashSin41(const in vec4 seed){\n    return fract(sin(dot(seed, vec4(12.9898,78.233,45.164,94.673)) * 43758.5453));\n}\n\n/////// end hash\n"},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(10),s=r(35),o=function(t,e){s.call(this);var r=t;"string"==typeof t&&(r=o[t]),this.type=r,this.setText(e)};o.VERTEX_SHADER=35633,o.FRAGMENT_SHADER=35632;var u="\n#define SHADER_NAME FailSafe";o.VS_DBG="#define _DEBUG 1\n#ifdef _DEBUG\nattribute vec3 Vertex;uniform mat4 uModelViewMatrix;uniform mat4 uProjectionMatrix;void main(void) {  gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(Vertex, 1.0);}\n",o.FS_DBG="#define _DEBUG 1\n#ifdef _DEBUG\n precision lowp float; void main(void) { gl_FragColor = vec4(1.0, 0.6, 0.6, 1.0);}\n",o._sDeletedGLShaderCache=new window.Map,o.deleteGLShader=function(t,e){o._sDeletedGLShaderCache.has(t)||o._sDeletedGLShaderCache.set(t,[]),o._sDeletedGLShaderCache.get(t).push(e)},o.flushDeletedGLShaders=function(t,e){if(e<=0)return e;if(!o._sDeletedGLShaderCache.has(t))return e;for(var r=0,i=a.instance().tick(),n=o._sDeletedGLShaderCache.get(t),s=n.length,u=s-1;u>=0&&r<e;u--)t.deleteShader(n[u]),n.splice(u,1),r=a.instance().deltaS(i,a.instance().tick());return e-r},o.flushAllDeletedGLShaders=function(t){if(o._sDeletedGLShaderCache.has(t))for(var e=o._sDeletedGLShaderCache.get(t),r=e.length,i=r-1;i>=0;i--)t.deleteShader(e[i]),e.splice(i,1)},o.prototype=n.objectInherit(s.prototype,{setText:function(t){this.text=t},getText:function(){return this.text},failSafe:function(t,e){this.shader=t.createShader(this.type);var r=e.match(/#define[\s]+SHADER_NAME[\s]+([\S]+)(\n|$)/);r=r?r[1]:"";var i=this.type===o.VERTEX_SHADER?o.VS_DBG:o.FS_DBG;i+=u+r+"\n#else\n"+e+"\n#endif\n",t.shaderSource(this.shader,i),t.compileShader(this.shader)},processErrors:function(t,e){var r=/ERROR: [\d]+:([\d]+): (.+)/gim,n=e.split("\n"),a=n.length;if(0!==a){var s,o;if(null===r.exec(t)&&(r=/Shader compilation errors\n\((\d+)\, \d+\): (.+)/gim),null===r.exec(t))return void i.error(t);for(r.lastIndex=0;null!==(o=r.exec(t));){o.index===r.lastIndex&&r.lastIndex++;var u=parseInt(o[1],10);if(!(u>a)){i.error("ERROR "+o[2]+" in line "+u);var h=Math.max(0,u-7),c=Math.max(0,u-2);for(s=h;s<=c;s++)i.warn(n[s].replace(/^[ \t]+/g,""));for(c=Math.max(0,u-1),i.error(n[c].replace(/^[ \t]+/g,"")),h=Math.min(a,u),c=Math.min(a,u+5),s=h;s<c;s++)i.warn(n[s].replace(/^[ \t]+/g,""))}}}},compile:function(t){this._gl||this.setGraphicContext(t),this.shader=t.createShader(this.type);var e=this.text;if(o.enableGLSLOptimizer&&o.glslOptimizer){var r=this.type===o.VERTEX_SHADER?"vertex":"fragment";i.infoFold(r+" shader before optimization",e);var a=o.glslOptimizer(e,"2",this.type===o.VERTEX_SHADER);a.indexOf("Error:")!==-1?i.error(a):a.length<=1?i.warnFold("glsl optimizer returned an empty shader, the original will be used",e):(i.infoFold(r+" shader after optimization",a),e=a)}if(t.shaderSource(this.shader,e),n.timeStamp("osgjs.metrics:compileShader"),t.compileShader(this.shader),!t.getShaderParameter(this.shader,t.COMPILE_STATUS)&&!t.isContextLost()){var s=t.getShaderInfoLog(this.shader);this.processErrors(s,e);for(var u=e,h=u.split("\n"),c="\n",l=0,d=h.length;l<d;++l)c+=l+" "+h[l]+"\n";return i.errorFold("can't compile shader",c),!1}return!0},releaseGLObjects:function(){void 0!==this._gl&&o.deleteGLShader(this._gl,this.shader),this.shader=void 0}}),t.exports=o},function(t,e,r){"use strict";var i=r(16).vec3,n=r(40),a=r(28),s=r(38),o=r(79),u=r(37),h=r(92),c=r(110),l=r(7),d=function(t,e,r,i,o,h){var c,d,f,p=void 0!==t?t:0,g=void 0!==e?e:0,_=void 0!==r?r:0,m=void 0!==i?i:1,v=void 0!==o?o:1,b=void 0!==h?h:1,x=new a;c=m/2,d=v/2,f=b/2;var y=new l.Float32Array(72),S=new l.Float32Array(48),T=new l.Float32Array(72);y[0]=p-c,y[1]=g-d,y[2]=_+f,T[0]=0,T[1]=-1,T[2]=0,S[0]=0,S[1]=1,y[3]=p-c,y[4]=g-d,y[5]=_-f,T[3]=0,T[4]=-1,T[5]=0,S[2]=0,S[3]=0,y[6]=p+c,y[7]=g-d,y[8]=_-f,T[6]=0,T[7]=-1,T[8]=0,S[4]=1,S[5]=0,y[9]=p+c,y[10]=g-d,y[11]=_+f,T[9]=0,T[10]=-1,T[11]=0,S[6]=1,S[7]=1,y[12]=p+c,y[13]=g+d,y[14]=_+f,T[12]=0,T[13]=1,T[14]=0,S[8]=0,S[9]=1,y[15]=p+c,y[16]=g+d,y[17]=_-f,T[15]=0,T[16]=1,T[17]=0,S[10]=0,S[11]=0,y[18]=p-c,y[19]=g+d,y[20]=_-f,T[18]=0,T[19]=1,T[20]=0,S[12]=1,S[13]=0,y[21]=p-c,y[22]=g+d,y[23]=_+f,T[21]=0,T[22]=1,T[23]=0,S[14]=1,S[15]=1,y[24]=p+c,y[25]=g-d,y[26]=_+f,T[24]=1,T[25]=0,T[26]=0,S[16]=0,S[17]=1,y[27]=p+c,y[28]=g-d,y[29]=_-f,T[27]=1,T[28]=0,T[29]=0,S[18]=0,S[19]=0,y[30]=p+c,y[31]=g+d,y[32]=_-f,T[30]=1,T[31]=0,T[32]=0,S[20]=1,S[21]=0,y[33]=p+c,y[34]=g+d,y[35]=_+f,T[33]=1,T[34]=0,T[35]=0,S[22]=1,S[23]=1,y[36]=p-c,y[37]=g+d,y[38]=_+f,T[36]=-1,T[37]=0,T[38]=0,S[24]=0,S[25]=1,y[39]=p-c,y[40]=g+d,y[41]=_-f,T[39]=-1,T[40]=0,T[41]=0,S[26]=0,S[27]=0,y[42]=p-c,y[43]=g-d,y[44]=_-f,T[42]=-1,T[43]=0,T[44]=0,S[28]=1,S[29]=0,y[45]=p-c,y[46]=g-d,y[47]=_+f,T[45]=-1,T[46]=0,T[47]=0,S[30]=1,S[31]=1,y[48]=p-c,y[49]=g+d,y[50]=_+f,T[48]=0,T[49]=0,T[50]=1,S[32]=0,S[33]=1,y[51]=p-c,y[52]=g-d,y[53]=_+f,T[51]=0,T[52]=0,T[53]=1,S[34]=0,S[35]=0,y[54]=p+c,y[55]=g-d,y[56]=_+f,T[54]=0,T[55]=0,T[56]=1,S[36]=1,S[37]=0,y[57]=p+c,y[58]=g+d,y[59]=_+f,T[57]=0,T[58]=0,T[59]=1,S[38]=1,S[39]=1,y[60]=p+c,y[61]=g+d,y[62]=_-f,T[60]=0,T[61]=0,T[62]=-1,S[40]=0,S[41]=1,y[63]=p+c,y[64]=g-d,y[65]=_-f,T[63]=0,T[64]=0,T[65]=-1,S[42]=0,S[43]=0,y[66]=p-c,y[67]=g-d,y[68]=_-f,T[66]=0,T[67]=0,T[68]=-1,S[44]=1,S[45]=0,y[69]=p-c,y[70]=g+d,y[71]=_-f,T[69]=0,T[70]=0,T[71]=-1,S[46]=1,S[47]=1;var M=new l.Uint16Array(36);M[0]=0,M[1]=1,M[2]=2,M[3]=0,M[4]=2,M[5]=3,M[6]=4,M[7]=5,M[8]=6,M[9]=4,M[10]=6,M[11]=7,M[12]=8,M[13]=9,M[14]=10,M[15]=8,M[16]=10,M[17]=11,M[18]=12,M[19]=13,M[20]=14,M[21]=12,M[22]=14,M[23]=15,M[24]=16,M[25]=17,M[26]=18,M[27]=16,M[28]=18,M[29]=19,M[30]=20,M[31]=21,M[32]=22,M[33]=20,M[34]=22,M[35]=23,x.getAttributes().Vertex=new n(n.ARRAY_BUFFER,y,3),x.getAttributes().Normal=new n(n.ARRAY_BUFFER,T,3),x.getAttributes().TexCoord0=new n(n.ARRAY_BUFFER,S,2);var A=new u(s.TRIANGLES,new n(n.ELEMENT_ARRAY_BUFFER,M,1));return x.getPrimitives().push(A),x},f=function(){var t=new a,e=new l.Float32Array([-1,-1,-1,4,4,-1]),r=new l.Float32Array([-1,-1,-1,4,4,-1]),i=new l.Uint16Array(3);i[0]=2,i[1]=1,i[2]=0,t.getAttributes().Vertex=new n(n.ARRAY_BUFFER,r,2),t.getAttributes().TexCoord0=new n(n.ARRAY_BUFFER,e,2);var o=new u(s.TRIANGLES,new n(n.ELEMENT_ARRAY_BUFFER,i,1));return t.getPrimitives().push(o),function(){return t}}(),p=function(t,e,r,o,h,c,d,f,p,g,_,m,v){void 0===m&&void 0===v&&(m=g,v=_,g=0,_=0);var b=new a,x=new l.Float32Array(12);x[0]=t+d,x[1]=e+f,x[2]=r+p,x[3]=t,x[4]=e,x[5]=r,x[6]=t+o,x[7]=e+h,x[8]=r+c,x[9]=t+o+d,x[10]=e+h+f,x[11]=r+c+p,void 0===m&&(m=1),void 0===v&&(v=1);var y=new l.Float32Array(8);y[0]=g,y[1]=v,y[2]=g,y[3]=_,y[4]=m,y[5]=_,y[6]=m,y[7]=v;var S=i.fromValues(o,h,c);i.cross(S,S,i.fromValues(d,f,p)),i.normalize(S,S);var T=new l.Float32Array(12);T[0]=S[0],T[1]=S[1],T[2]=S[2],T[3]=S[0],T[4]=S[1],T[5]=S[2],T[6]=S[0],T[7]=S[1],T[8]=S[2],T[9]=S[0],T[10]=S[1],T[11]=S[2];var M=new l.Uint16Array(6);M[0]=0,M[1]=1,M[2]=2,M[3]=0,M[4]=2,M[5]=3,b.getAttributes().Vertex=new n(n.ARRAY_BUFFER,x,3),b.getAttributes().Normal=new n(n.ARRAY_BUFFER,T,3),b.getAttributes().TexCoord0=new n(n.ARRAY_BUFFER,y,2);var A=new u(s.TRIANGLES,new n(n.ELEMENT_ARRAY_BUFFER,M,1));return b.getPrimitives().push(A),b},g=function(t){void 0===t&&(t=1),void 0===g.getShader&&(g.getShader=function(){if(void 0===g.getShader.program){var t=["#ifdef GL_ES","precision highp float;","#endif","attribute vec3 Vertex;","attribute vec4 Color;","uniform mat4 uModelViewMatrix;","uniform mat4 uProjectionMatrix;","","varying vec4 vColor;","","void main(void) {","  gl_Position = uProjectionMatrix * (uModelViewMatrix * vec4(Vertex, 1.0));","  vColor = Color;","}"].join("\n"),e=["#ifdef GL_ES","precision highp float;","#endif","varying vec4 vColor;","void main(void) {","gl_FragColor = vColor;","}"].join("\n"),r=new h(new c("VERTEX_SHADER",t),new c("FRAGMENT_SHADER",e));g.getShader.program=r}return g.getShader.program});var e=new a,r=new l.Float32Array(18);r[3]=t,r[10]=t,r[17]=t;var i=new l.Float32Array(24);i[0]=i[3]=1,i[4]=i[7]=1,i[9]=i[11]=1,i[13]=i[15]=1,i[18]=i[19]=1,i[22]=i[23]=1,e.getAttributes().Vertex=new n(n.ARRAY_BUFFER,r,3),e.getAttributes().Color=new n(n.ARRAY_BUFFER,i,4);var u=new o(s.LINES,0,6);return e.getPrimitives().push(u),e.getOrCreateStateSet().setAttributeAndModes(g.getShader()),e},_=function(t,e,r,h,c,d,f){t=t||1,h=void 0!==h?h:0,c=void 0!==c?c:2*Math.PI,d=void 0!==d?d:0,f=void 0!==f?f:Math.PI;for(var p=Math.max(3,Math.floor(e)||8),g=Math.max(2,Math.floor(r)||6),_=p*g/3>=65536,m=_?p*g*6:p*g*4,v=new l.Float32Array(3*m),b=new l.Float32Array(3*m),x=new l.Float32Array(2*m),y=_?void 0:new l.Uint16Array(p*g*6),S=0,T=0,M=new l.Float32Array(3),A=new l.Float32Array(3),w=new l.Float32Array(3),C=new l.Float32Array(3),E=new l.Float32Array(3),R=new l.Float32Array(3),N=new l.Float32Array(3),I=new l.Float32Array(3),k=new l.Float32Array(2),O=new l.Float32Array(2),P=new l.Float32Array(2),L=new l.Float32Array(2),F=function(e,r,n,a,s){n[0]=-t*Math.cos(h+e*c)*Math.sin(d+r*f),n[1]=t*Math.cos(d+r*f),n[2]=t*Math.sin(h+e*c)*Math.sin(d+r*f),i.normalize(a,n),s[0]=e,s[1]=1-r},V=0;V<g;V++)for(var D=0;D<p;D++){F((D+1)/p,V/g,M,E,k),F(D/p,V/g,A,R,O),F(D/p,(V+1)/g,w,N,P),F((D+1)/p,(V+1)/g,C,I,L);var B=3*S;v[B]=M[0],v[B+1]=M[1],v[B+2]=M[2],v[B+3]=A[0],v[B+4]=A[1],v[B+5]=A[2],v[B+6]=w[0],v[B+7]=w[1],v[B+8]=w[2],b[B]=E[0],b[B+1]=E[1],b[B+2]=E[2],b[B+3]=R[0],b[B+4]=R[1],b[B+5]=R[2],b[B+6]=N[0],b[B+7]=N[1],b[B+8]=N[2];var U=2*S;if(x[U]=k[0],x[U+1]=k[1],x[U+2]=O[0],x[U+3]=O[1],x[U+4]=P[0],x[U+5]=P[1],S+=3,_)B=3*S,v[B]=M[0],v[B+1]=M[1],v[B+2]=M[2],v[B+3]=w[0],v[B+4]=w[1],v[B+5]=w[2],v[B+6]=C[0],v[B+7]=C[1],v[B+8]=C[2],b[B]=E[0],b[B+1]=E[1],b[B+2]=E[2],b[B+3]=N[0],b[B+4]=N[1],b[B+5]=N[2],b[B+6]=I[0],b[B+7]=I[1],b[B+8]=I[2],U=2*S,x[U]=k[0],x[U+1]=k[1],x[U+2]=P[0],x[U+3]=P[1],x[U+4]=L[0],x[U+5]=L[1],S+=3;else{B=3*S,v[B]=C[0],v[B+1]=C[1],v[B+2]=C[2],b[B]=I[0],b[B+1]=I[1],b[B+2]=I[2],U=2*S,x[U]=L[0],x[U+1]=L[1];var G=3*T,j=S-3;y[G]=j,y[G+1]=j+1,y[G+2]=j+2,y[G+3]=j,y[G+4]=j+2,y[G+5]=j+3,T+=2,S+=1}}var z=new a;return z.getAttributes().Vertex=new n("ARRAY_BUFFER",v,3),z.getAttributes().Normal=new n("ARRAY_BUFFER",b,3),z.getAttributes().TexCoord0=new n("ARRAY_BUFFER",x,2),_?z.getPrimitives().push(new o(s.TRIANGLES,0,v.length/3)):z.getPrimitives().push(new u(s.TRIANGLES,new n("ELEMENT_ARRAY_BUFFER",y,1))),z},m=function(t,e,r,i,u,h,c,l,d,f,p){t=void 0!==t?t:-.5,e=void 0!==e?e:-.5,r=void 0!==r?r:0,i=void 0!==i?i:1,u=void 0!==u?u:0,h=void 0!==h?h:0,c=void 0!==c?c:0,l=void 0!==l?l:1,d=void 0!==d?d:0,f=void 0!==f?f:5,p=void 0!==p?p:f,f+=2,p+=2;var g=new a,_=new Float32Array(2*(f+p)*3),m=0,v=0,b=i/(f-1),x=u/(f-1),y=h/(f-1),S=t+i+c,T=e+u+l,M=r+h+d;for(m=0;m<f;++m)v=6*m,_[v]=t+b*m,_[v+1]=e+x*m,_[v+2]=r+y*m,_[v+3]=S-b*(f-m-1),_[v+4]=T-x*(f-m-1),_[v+5]=M-y*(f-m-1);for(b=c/(p-1),x=l/(p-1),y=d/(p-1),m=0;m<p;++m)v=6*(f+m),_[v]=t+b*m,_[v+1]=e+x*m,_[v+2]=r+y*m,_[v+3]=S-b*(p-m-1),_[v+4]=T-x*(p-m-1),_[v+5]=M-y*(p-m-1);g.getAttributes().Vertex=new n(n.ARRAY_BUFFER,_,3);var A=new o(s.LINES,0,2*(f+p));return g.getPrimitives().push(A),g},v=function(t){var e=new a,r=new Float32Array([-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5]);e.getAttributes().Vertex=new n(n.ARRAY_BUFFER,r,3),t||(t=[1,0,0,1]);for(var i=new l.Float32Array(32),o=0;o<8;o++)for(var h=0;h<4;h++)i[3*o+h]=t[h];e.getAttributes().Color=new n(n.ARRAY_BUFFER,i,4);var c=new l.Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);return e.getPrimitives().push(new u(s.LINES,new n("ELEMENT_ARRAY_BUFFER",c,1))),e};t.exports={createTexturedBoxGeometry:d,createTexturedQuadGeometry:p,createTexturedSphereGeometry:_,createTexturedFullScreenFakeQuadGeometry:f,createAxisGeometry:g,createTexturedSphere:_,createGridGeometry:m,createBoundingBoxGeometry:v}},function(t,e){"use strict";var r=function(){this.globalDefault=void 0,this.lastApplied=void 0,this.asChanged=!1,this._values=[],this._back=void 0};r.prototype={empty:function(){return 0===this._values.length},values:function(){return this._values},back:function(){return this._back},push:function(t){this._values.push(t),this._back=t},pop:function(){var t=this._values.pop();return this._back=this._values[this._values.length-1],t}},t.exports=r},function(t,e,r){"use strict";var i=r(16).mat4,n=r(16).mat3,a=r(11),s=r(14),o=r(92),u=r(22),h=r(112),c=r(33),l=r(7),d=r(29),f=[void 0,function(t,e){return t[0]===e[0]||(e[0]=t[0],!1)},function(t,e){return t[0]===e[0]&&t[1]===e[1]||(e[0]=t[0],e[1]=t[1],!1)},function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(e[0]=t[0],e[1]=t[1],e[2]=t[2],!1)},function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],!1)}],p=function(t){s.call(this),this._graphicContext=void 0,this._shaderGeneratorProxy=t,void 0===t&&console.break(),this._currentVAO=null,this._currentIndexVBO=null,this.vertexAttribList=[],this.stateSets=new h,this._shaderGeneratorNames=new h,
this.uniforms={},this.textureAttributeMapList=[],this.attributeMap={},this.projectionMatrix=c.createMatrix4(i.create(),"uProjectionMatrix"),this.modelMatrix=c.createMatrix4(i.create(),"uModelMatrix"),this.viewMatrix=c.createMatrix4(i.create(),"uViewMatrix"),this.modelViewMatrix=c.createMatrix4(i.create(),"uModelViewMatrix"),this.modelNormalMatrix=c.createMatrix3(n.create(),"uModelNormalMatrix"),this.modelViewNormalMatrix=c.createMatrix3(n.create(),"uModelViewNormalMatrix");var e=new h;e.globalDefault=c.createFloat1(0,"uArrayColorEnabled"),this.uniforms.ArrayColorEnabled=e,this._previousColorAttribPair={},this.vertexAttribMap={},this.vertexAttribMap._disable=[],this.vertexAttribMap._keys=[],this._frameStamp=void 0,this._programCommonUniformsCache={},this._modelViewMatrix=void 0,this._projectionMatrix=void 0,this._program=void 0,this.applyAttribute(new o),this._numPushStateSet=0,this._numApply=0,this._programUniformCache=[],this._cacheUniformId=0};p.prototype=l.objectLibraryClass(l.objectInherit(s.prototype,{getCacheUniformsApplyRenderLeaf:function(){return this._programCommonUniformsCache},setGraphicContext:function(t){this._graphicContext=t,this._extVAO=d.instance(t).getWebGLExtension("OES_vertex_array_object")},getGraphicContext:function(){return this._graphicContext},getShaderGeneratorProxy:function(){return this._shaderGeneratorProxy},pushCheckOverride:function(t,e,r){0===t.values().length?t.push(this.getObjectPair(e,r)):t.back().value&u.OVERRIDE&&!(r&u.PROTECTED)?t.push(t.back()):t.push(this.getObjectPair(e,r))},pushStateSet:function(t){if(this._numPushStateSet++,this.stateSets.push(t),t.attributeMap&&this.pushAttributeMap(this.attributeMap,t.attributeMap),t.textureAttributeMapList)for(var e=t.textureAttributeMapList,r=0,i=e.length;r<i;r++)if(e[r]){var n=this.getOrCreateTextureAttributeMap(r);this.pushAttributeMap(n,e[r])}t.uniforms&&this.pushUniformsList(this.uniforms,t.uniforms);var a=t.getShaderGeneratorPair();a&&this.pushCheckOverride(this._shaderGeneratorNames,a.getShaderGeneratorName(),a.getValue())},getStateSetStackSize:function(){return this.stateSets.values().length},insertStateSet:function(){var t=[];return function(e,r){t.length=0;for(var i=this.getStateSetStackSize();i>e;)t.push(this.stateSets.back()),this.popStateSet(),i--;this.pushStateSet(r);for(var n=t.length-1;n>=0;n--)this.pushStateSet(t[n])}}(),removeStateSet:function(){var t=[];return function(e){var r=this.getStateSetStackSize();if(e>=r)return void a.warn("Warning State:removeStateSet "+e+" out of range");for(t.length=0;r-1>e;)t.push(this.stateSets.back()),this.popStateSet(),r--;this.popStateSet();for(var i=t.length-1;i>=0;i--)this.pushStateSet(t[i])}}(),resetCacheFrame:function(){this._modelViewMatrix=this._projectionMatrix=void 0},resetStats:function(){this._numApply=0,this._numPushStateSet=0},applyProgram:function(t){this._program!==t&&(this._program=t,this.getGraphicContext().useProgram(t))},applyModelViewMatrix:function(){var t=n.create();return function(e,r){if(this._modelViewMatrix===e)return!1;var i=this.getLastProgramApplied(),a=i.getUniformsCache(),s=this.modelViewMatrix,o=a.uModelViewMatrix,u=this.getGraphicContext();o&&(s.setMatrix4(e),s.apply(u,o));var h;if(this._modelViewMatrix){for(var c=this._modelViewMatrix,l=0;l<11;l++)if(e[l]!==c[l]){h=!0;break}}else h=!0;return h&&(s=this.modelViewNormalMatrix,o=a.uModelViewNormalMatrix,o&&(n.normalFromMat4(t,e),s.setMatrix3(t),s.apply(u,o)),o=a.uModelNormalMatrix,o&&(n.normalFromMat4(t,r),s.setMatrix3(t),s.apply(u,o))),this._modelViewMatrix=e,!0}}(),applyProjectionMatrix:function(t){if(this._projectionMatrix!==t){this._projectionMatrix=t;var e=this.getLastProgramApplied(),r=this.projectionMatrix,i=e.getUniformsCache()[r.getName()];i&&(r.setMatrix4(t),r.apply(this.getGraphicContext(),i))}},applyStateSet:function(t){this.pushStateSet(t),this.apply(),this.popStateSet()},popAllStateSets:function(){for(;this.stateSets.values().length;)this.popStateSet()},popStateSet:function(){if(!this.stateSets.empty()){var t=this.stateSets.pop();if(t.attributeMap&&this.popAttributeMap(this.attributeMap,t.attributeMap),t.textureAttributeMapList)for(var e=t.textureAttributeMapList,r=0,i=e.length;r<i;r++)e[r]&&this.popAttributeMap(this.textureAttributeMapList[r],e[r]);t.uniforms&&this.popUniformsList(this.uniforms,t.uniforms),t.getShaderGeneratorPair()&&this._shaderGeneratorNames.pop()}},_createAttributeStack:function(t,e,r){var i=new h;return t[e]=i,t[e].globalDefault=r,i},haveAppliedAttribute:function(t){var e=t.getTypeMember(),r=this.attributeMap[e];r||(r=this._createAttributeStack(this.attributeMap,e,t.cloneType())),r.lastApplied=t,r.asChanged=!0},applyAttribute:function(t){var e=t.getTypeMember(),r=this.attributeMap,i=r[e];i||(i=this._createAttributeStack(this.attributeMap,e,t.cloneType())),i.lastApplied!==t&&(t.apply&&t.apply(this),i.lastApplied=t,i.asChanged=!0)},applyTextureAttribute:function(t,e){var r=this.getGraphicContext();r.activeTexture(r.TEXTURE0+t);var i=e.getTypeMember();this.textureAttributeMapList[t]||(this.textureAttributeMapList[t]={});var n=this.getOrCreateTextureAttributeMap(t),a=n[i];a||(a=this._createAttributeStack(n,i,e.cloneType())),a.lastApplied!==e&&(e.apply&&e.apply(this,t),a.lastApplied=e,a.asChanged=!0)},getLastProgramApplied:function(){return this.attributeMap.Program.lastApplied},applyDefault:function(){this.popAllStateSets(),this.applyAttributeMap(this.attributeMap),this.applyTextureAttributeMapList(this.textureAttributeMapList)},apply:function(){var t=this.getLastProgramApplied();this.applyAttributeMap(this.attributeMap),this.applyTextureAttributeMapList(this.textureAttributeMapList);var e=this._generateAndApplyProgram();e?this._applyGeneratedProgramUniforms(this.attributeMap.Program.lastApplied):this._applyCustomProgramUniforms(this.attributeMap.Program.lastApplied),t!==this.getLastProgramApplied()&&(this._modelViewMatrix=void 0,this._projectionMatrix=void 0)},applyAttributeMap:function(t){var e;for(var r in t)if(e=t[r],e&&e.asChanged){var i;i=0===e.values().length?e.globalDefault:e.back().object,a.assert(r===i.getTypeMember(),"State:applyAttributeMap attribute key "+r+" !== "+i.getTypeMember()),e.lastApplied!==i&&(i.apply&&i.apply(this),e.lastApplied=i),e.asChanged=!1}},getObjectPair:function(t,e){return{object:t,value:e}},pushUniformsList:function(t,e){var r,i;for(var n in e){var a=e[n];i=a.getUniform(),r=i.getName(),t[r]||this._createAttributeStack(t,r,i),this.pushCheckOverride(t[r],i,a.getValue())}},popUniformsList:function(t,e){for(var r in e)t[r].pop()},_applyTextureAttributeStack:function(t,e,r){var i;i=0===r.values().length?r.globalDefault:r.back().object,r.lastApplied!==i&&(t.activeTexture(t.TEXTURE0+e),i.apply(this,e),r.lastApplied=i),r.asChanged=!1},applyTextureAttributeMapList:function(t){for(var e,r=this._graphicContext,i=0,n=t.length;i<n;i++)if(e=t[i])for(var a in e){var s=e[a];s&&s.asChanged&&this._applyTextureAttributeStack(r,i,s)}},setGlobalDefaultAttribute:function(t){var e=t.getTypeMember(),r=this.attributeMap;void 0===r[e]?this._createAttributeStack(r,e,t):r[e].globalDefault=t},getGlobalDefaultAttribute:function(t){var e=this.attributeMap;if(void 0!==e[t])return e[t].globalDefault},setGlobalDefaultTextureAttribute:function(t,e){var r=this.getOrCreateTextureAttributeMap(t),i=e.getTypeMember();void 0===r[i]?this._createAttributeStack(r,i,e):r[i].globalDefault=e},getGlobalDefaultTextureAttribute:function(t,e){var r=this.getOrCreateTextureAttributeMap(t),i=r[e];return i.globalDefault},getOrCreateTextureAttributeMap:function(t){return this.textureAttributeMapList[t]||(this.textureAttributeMapList[t]={}),this.textureAttributeMapList[t]},pushAttributeMap:function(t,e){for(var r in e){var i=e[r],n=i.getAttribute();void 0===t[r]&&this._createAttributeStack(t,r,n.cloneType());var a=t[r];this.pushCheckOverride(a,n,i.getValue()),a.asChanged=!0}},popAttributeMap:function(t,e){for(var r in e){var i=t[r];i.pop(),i.asChanged=!0}},setIndexArray:function(t){var e=this._graphicContext;this._currentIndexVBO!==t&&(t.bind(e),this._currentIndexVBO=t),t.isDirty()&&t.compile(e)},lazyDisablingOfVertexAttributes:function(){for(var t=this.vertexAttribMap._keys,e=0,r=t.length;e<r;e++){var i=t[e];this.vertexAttribMap[i]&&(this.vertexAttribMap._disable[i]=!0)}},enableVertexColor:function(){var t=this.attributeMap.Program.lastApplied;if(t.getUniformsCache().uArrayColorEnabled&&t.getAttributesCache().Color){var e=this.uniforms.ArrayColorEnabled.globalDefault,r=this._previousColorAttribPair[t.getInstanceID()];r||(e.setFloat(1),e.apply(this.getGraphicContext(),t.getUniformsCache().uArrayColorEnabled),this._previousColorAttribPair[t.getInstanceID()]=!0)}},disableVertexColor:function(){var t=this.attributeMap.Program.lastApplied;if(t.getUniformsCache().uArrayColorEnabled&&t.getAttributesCache().Color){var e=this.uniforms.ArrayColorEnabled.globalDefault,r=this._previousColorAttribPair[t.getInstanceID()];r&&(e.setFloat(0),e.apply(this.getGraphicContext(),t.getUniformsCache().uArrayColorEnabled),this._previousColorAttribPair[t.getInstanceID()]=!1)}},applyDisablingOfVertexAttributes:function(){for(var t=this.vertexAttribMap._keys,e=0,r=t.length;e<r;e++)if(this.vertexAttribMap._disable[t[e]]===!0){var i=t[e];this._graphicContext.disableVertexAttribArray(i),this.vertexAttribMap._disable[i]=!1,this.vertexAttribMap[i]=!1}},clearVertexAttribCache:function(){for(var t=this.vertexAttribMap,e=t._keys,r=0,i=e.length;r<i;r++){var n=e[r];t[n]=void 0,t._disable[n]=!1}this.vertexAttribMap._disable.length=0,this.vertexAttribMap._keys.length=0},setVertexArrayObject:function(t){return this._currentVAO!==t&&(this._graphicContext.bindVertexArray(t),this._currentVAO=t,t||this.clearVertexAttribCache(),this._currentIndexVBO=void 0,!0)},setVertexAttribArray:function(t,e,r){var i=this.vertexAttribMap;i._disable[t]=!1;var n=this._graphicContext,a=!1;e.isDirty()&&(e.bind(n),e.compile(n),a=!0);var s=i[t];s!==e&&(a||e.bind(n),s||(n.enableVertexAttribArray(t),void 0===s&&i._keys.push(t)),i[t]=e,n.vertexAttribPointer(t,e.getItemSize(),e.getType(),r,0,0))},_getActiveUniformsFromProgramAttributes:function(t,e){var r=this.attributeMap,i=t.getTrackAttributes().attributeKeys;if(i.length>0)for(var n=0,a=i.length;n<a;n++){var s=i[n],o=r[s];if(void 0!==o){var u=o.globalDefault;if(void 0!==u.getOrCreateUniforms){var h=u.getOrCreateUniforms();for(var c in h)e.push(h[c])}}}},_getActiveUniformsFromProgramTextureAttributes:function(t,e){var r=t.getTrackAttributes().textureAttributeKeys;if(void 0!==r)for(var i=0,n=r.length;i<n;i++){var a=r[i];if(void 0!==a){var s=this.textureAttributeMapList[i];if(void 0!==s)for(var o=0,u=a.length;o<u;o++){var h=a[o],c=s[h];if(void 0!==c){var l=c.globalDefault;if(void 0!==l.getOrCreateUniforms){var d=l.getOrCreateUniforms();for(var f in d)e.push(d[f])}}}}}},_cacheUniformsForCustomProgram:function(t,e){this._getActiveUniformsFromProgramAttributes(t,e),this._getActiveUniformsFromProgramTextureAttributes(t,e);for(var r=this._graphicContext,i={},n=0,a=e.length;n<a;n++){var s=e[n],o=s.getName(),u=r.getUniformLocation(t._program,o);void 0!==u&&null!==u&&(i[o]=s)}t.trackUniforms=i},_applyCustomProgramUniforms:function(){var t=[];return function(e){t.length=0,void 0!==e.getTrackAttributes()&&void 0===e.trackUniforms&&this._cacheUniformsForCustomProgram(e,t);var r,i=e.getUniformsCache(),n=this.uniforms;e.trackUniforms&&(r=e.trackUniforms);var a;for(var s in i){var o=i[s],u=n[s];void 0===u?void 0!==r&&(a=r[s],void 0!==a&&a.apply(this._graphicContext,o)):(a=0===u.values().length?u.globalDefault:u.back().object,a.apply(this._graphicContext,o))}}}(),_generateAndApplyProgram:function(){var t=this.attributeMap;if(void 0===t.Program||0===t.Program.values().length||t.Program.back().value===u.OFF){var e=this._shaderGeneratorNames.back(),r=this._shaderGeneratorProxy.getShaderGenerator(e?e.object:void 0),i=r.getOrCreateProgram(this);return this.applyAttribute(i),i}},_computeForeignUniforms:function(t,e){var r=t,i=[];for(var n in t){var a=r[n];void 0!==a&&void 0===e[n]&&n!==this.modelViewMatrix.getName()&&n!==this.modelMatrix.getName()&&n!==this.viewMatrix.getName()&&n!==this.projectionMatrix.getName()&&n!==this.modelViewNormalMatrix.getName()&&n!==this.modelNormalMatrix.getName()&&"uArrayColorEnabled"!==n&&i.push(n)}return i},_removeUniformsNotRequiredByProgram:function(t,e){for(var r in t){var i=e[r];void 0!==i&&null!==i||delete t[r]}},_cacheUniformsForGeneratedProgram:function(t){var e=this._computeForeignUniforms(t.getUniformsCache(),t.getActiveUniforms());t.setForeignUniforms(e),this._removeUniformsNotRequiredByProgram(t.getActiveUniforms(),t.getUniformsCache())},_copyUniformEntry:function(t){var e,r=t.getInternalArray();return r.length<16&&(e=new r.constructor(r.length)),e},_initUniformCache:function(t){var e,r,i,n,a,s,o=t.getActiveUniforms(),u=t.getForeignUniforms(),h=this.uniforms,c=[],l=[];if(t._cacheUniformId=this._cacheUniformId++,this._programUniformCache[t._cacheUniformId]={},u.length)for(i=c,e=0,r=u.length;e<r;e++){n=u[e];var d=h[n];d&&(s=d.globalDefault,a=this._copyUniformEntry(s),i.push(a))}for(var f in o)s=o[f],a=this._copyUniformEntry(s),l.push(a);this._programUniformCache[t._cacheUniformId].foreign=c,this._programUniformCache[t._cacheUniformId].active=l},_checkCacheAndApplyUniform:function(t,e,r,i,n){var a,s=t.getInternalArray(),o=s.length;if(o<=4){var u=e[r];a=f[o](s,u)}else a=!1;if(!a){var h=i[n];t.apply(this._graphicContext,h)}},_applyGeneratedProgramUniforms:function(t){var e=t.getForeignUniforms();e||(this._cacheUniformsForGeneratedProgram(t),e=t.getForeignUniforms(),this._initUniformCache(t));var r,i,n,s=t.getUniformsCache(),o=t.getActiveUniforms(),u=this._programUniformCache[t._cacheUniformId].active,h=this._programUniformCache[t._cacheUniformId].foreign,c=0;for(n in o)i=o[n],this._checkCacheAndApplyUniform(i,u,c,s,n),c++;var l=this.uniforms;for(c=0,r=e.length;c<r;c++){n=e[c];var d=l[n];d?0===d.values().length?(i=d.globalDefault,a.warn("Uniform Default Not attached to a StateSet in Scene Hierarchy: "+d.globalDefault.getName())):i=d.back().object:a.error("Uniform name not in the scene hierarchy! : "+n),this._checkCacheAndApplyUniform(i,h,c,s,n)}},_setStateSetsDrawID:function(t){for(var e=this.stateSets.values(),r=0,i=e.length;r<i;r++)e[r].setDrawID(t)},_stateSetStackChanged:function(t,e){var r=this.stateSets.values(),i=r.length;if(e!==i)return!0;for(var n=0;n<i;n++)if(t!==r[n].getDrawID())return!0;return!1}}),"osg","State"),t.exports=p},function(t,e,r){"use strict";var i=r(7),n=r(34),a=r(11),s=r(32),o=function(){s.call(this),this._images={};for(var t=0;t<6;t++)this._images[s.TEXTURE_CUBE_MAP_POSITIVE_X+t]=new n};o.prototype=i.objectLibraryClass(i.objectInherit(s.prototype,{setDefaultParameters:function(){s.prototype.setDefaultParameters.call(this),this._textureTarget=s.TEXTURE_CUBE_MAP,this._flipY=!1},cloneType:function(){return new o},setImage:function(t,e,r){var i=t;"string"==typeof i&&(i=s[i]),this._images[i].setImage(e,r),this.setImageFormat(r),this.setTextureSize(this._images[i].getWidth(),this._images[i].getHeight()),this._textureNull=!1,this.dirty()},getImage:function(t){return this._images[t].getImage()},initCubemapContent:function(t){var e=this._internalFormat;return this.applyTexImage2D(t,t.TEXTURE_CUBE_MAP_POSITIVE_X,0,e,this._textureWidth,this._textureHeight,0,e,this._type,null),this.applyTexImage2D(t,t.TEXTURE_CUBE_MAP_NEGATIVE_X,0,e,this._textureWidth,this._textureHeight,0,e,this._type,null),this.applyTexImage2D(t,t.TEXTURE_CUBE_MAP_POSITIVE_Y,0,e,this._textureWidth,this._textureHeight,0,e,this._type,null),this.applyTexImage2D(t,t.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,e,this._textureWidth,this._textureHeight,0,e,this._type,null),this.applyTexImage2D(t,t.TEXTURE_CUBE_MAP_POSITIVE_Z,0,e,this._textureWidth,this._textureHeight,0,e,this._type,null),this.applyTexImage2D(t,t.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,e,this._textureWidth,this._textureHeight,0,e,this._type,null),!0},generateMipmap:function(t,e){if(this.hasMipmapFilter()){if(this._images[s.TEXTURE_CUBE_MAP_POSITIVE_X].hasMipmap())for(var r=0;r<6;r++){var i=this._images[s.TEXTURE_CUBE_MAP_POSITIVE_X+r];i.hasMipmap()||a.error("mipmap not set correctly for TextureCubemap");for(var n=this._internalFormat,o=1;o<i.getMipmap().length;o++){var u=i.getMipmap()[o].getWidth();this.applyTexImage2D(t,t.TEXTURE_CUBE_MAP_POSITIVE_X+r,o,n,u,u,0,n,this._type,i.getMipmap()[o].getImage())}}else t.generateMipmap(e);this._dirtyMipmap=!1}},applyImageTarget:function(t,e,r){var i=this._images[r];return i.getImage()&&i.isReady()?i.isDirty()?(this.setTextureSize(i.getWidth(),i.getHeight()),i.setDirty(!1),i.isTypedArray()?this.applyTexImage2D(t,r,0,e,this._textureWidth,this._textureHeight,0,e,this._type,i.getImage()):this.applyTexImage2D(t,r,0,e,e,this._type,i.getImage()),!this._unrefImageDataAfterApply||this.hasMipmap()&&i.hasMipmap()||i.release(),1):1:0},initCubemapContentImage:function(t){var e=this._internalFormat,r=0;return r+=this.applyImageTarget(t,e,t.TEXTURE_CUBE_MAP_POSITIVE_X),r+=this.applyImageTarget(t,e,t.TEXTURE_CUBE_MAP_NEGATIVE_X),r+=this.applyImageTarget(t,e,t.TEXTURE_CUBE_MAP_POSITIVE_Y),r+=this.applyImageTarget(t,e,t.TEXTURE_CUBE_MAP_NEGATIVE_Y),r+=this.applyImageTarget(t,e,t.TEXTURE_CUBE_MAP_POSITIVE_Z),r+=this.applyImageTarget(t,e,t.TEXTURE_CUBE_MAP_NEGATIVE_Z),6===r},apply:function(t){var e=t.getGraphicContext();if(this._dirtyTextureObject&&this.releaseGLObjects(),void 0===this._textureObject||this.isDirty())if(this._textureNull)e.bindTexture(this._textureTarget,null);else{this._textureObject||(this.computeTextureFormat(),this.init(t)),this._textureObject.bind(e);var r;r=this._images[s.TEXTURE_CUBE_MAP_POSITIVE_X].getImage()?this.initCubemapContentImage(e):this.initCubemapContent(e),r&&(this._dirty=!1,this.applyFilterParameter(e,this._textureTarget),this.generateMipmap(e,this._textureTarget))}else this._textureObject.bind(e),this.isDirtyMipmap()&&this.generateMipmap(e,this._textureTarget)}}),"osg","TextureCubeMap"),i.setTypeID(o),t.exports=o},function(t,e,r){"use strict";var i=r(38),n=r(37),a=r(79),s=function(){},o=s.functorDrawElements=[],u=s.functorDrawArrays=[];o[i.TRIANGLES]=function(t,e,r,i){for(var n=t+e,a=t;a<n;a+=3)i(r[a],r[a+1],r[a+2])},o[i.TRIANGLE_STRIP]=function(t,e,r,i){for(var n=2,a=t;n<e;++n,++a)n%2?i(r[a],r[a+2],r[a+1]):i(r[a],r[a+1],r[a+2])},o[i.TRIANGLE_FAN]=function(t,e,r,i){for(var n=r[t],a=2,s=t+1;a<e;++a,++s)i(n,r[s],r[s+1])},u[i.TRIANGLES]=function(t,e,r){for(var i=2,n=t;i<e;i+=3,n+=3)r(n,n+1,n+2)},u[i.TRIANGLE_STRIP]=function(t,e,r){for(var i=2,n=t;i<e;++i,++n)i%2?r(n,n+2,n+1):r(n,n+1,n+2)},u[i.TRIANGLE_FAN]=function(t,e,r){for(var i=2,n=t+1;i<e;++i,++n)r(t,n,n+1)},s.prototype={init:function(t,e){this._geom=t,this._cb=e},apply:function(){var t=this._geom,e=t.getPrimitiveSetList();if(e)for(var r,i=this._cb,s=e.length,h=0;h<s;h++){var c=e[h];if(c instanceof n){if(r=o[c.getMode()]){var l=c.indices.getElements();r(c.getFirst()/l.BYTES_PER_ELEMENT,c.getCount(),l,i)}}else c instanceof a&&(r=u[c.getMode()],r&&r(c.getFirst(),c.getCount(),i))}}},t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(23),a=function(){n.call(this),this.visitorType=n.UPDATE_VISITOR,this._numUpdateCallback=0};a.prototype=i.objectInherit(n.prototype,{resetStats:function(){this._numUpdateCallback=0},apply:function(t){var e=t.getStateSet();if(e&&e.requiresUpdateTraversal()){var r=e.getUpdateCallbackList(),i=r.length;if(i){this._numUpdateCallback+=i;for(var n=0,a=i;n<a;n++)r[n].update(e,this)}}for(var s=t.getUpdateCallbackList(),o=s.length,u=0;u<o;u++)if(this._numUpdateCallback++,!s[u].update(t,this))return;t.getNumChildrenRequiringUpdateTraversal()>0&&this.traverse(t)}}),t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(22),a=r(16).mat4,s=r(16).vec3,o=function(t,e,r,i){n.call(this),this._x=void 0!==t?t:0,this._y=void 0!==e?e:0,this._width=void 0!==r?r:800,this._height=void 0!==i?i:600};o.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"Viewport",cloneType:function(){return new o},apply:function(t){var e=t.getGraphicContext();e.viewport(this._x,this._y,this._width,this._height)},setViewport:function(t,e,r,i){this._x=t,this._y=e,this._width=r,this._height=i},x:function(){return this._x},y:function(){return this._y},width:function(){return this._width},height:function(){return this._height},computeWindowMatrix:function(){var t=a.create(),e=a.create(),r=s.create();return function(i){a.fromTranslation(t,s.ONE),a.fromScaling(e,[.5*this._width,.5*this._height,.5]);var n=a.fromTranslation(i,s.set(r,this._x,this._y,0));return a.mul(n,n,a.mul(e,e,t))}}()}),"osg","Viewport"),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(22),a=function(t,e,r,i){n.call(this),this._x=void 0!==t?t:-1,this._y=void 0!==e?e:-1,this._width=void 0!==r?r:-1,this._height=void 0!==i?i:-1};a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"Scissor",cloneType:function(){return new a},apply:function(t){var e=t.getGraphicContext();this._x!==-1?(e.enable(e.SCISSOR_TEST),e.scissor(this._x,this._y,this._width,this._height)):e.disable(e.SCISSOR_TEST)},setScissor:function(t,e,r,i){this._x=t,this._y=e,this._width=r,this._height=i},x:function(){return this._x},y:function(){return this._y},width:function(){return this._width},height:function(){return this._height}}),"osg","Scissor"),t.exports=a},function(t,e,r){"use strict";var i=r(11),n=r(29),a=function(t){if(this._enabled=!1,t){var e=n.instance(t).getDisjointTimerQuery();if(!e)return this;if(t.getQueryParameter||(t.getQueryParameter=e.getQueryObjectEXT.bind(e)),this._hasTimeElapsed=t.getQuery(e.TIME_ELAPSED_EXT,e.QUERY_COUNTER_BITS_EXT)>=30,this._hasTimeStamp=t.getQuery(e.TIMESTAMP_EXT,e.QUERY_COUNTER_BITS_EXT)>=30,!this._hasTimeElapsed&&!this._hasTimeStamp)return this;this._hasTimeStamp||i.debug("Warning: do not use interleaved GPU query"),this._ext=e,this._gl=t,this._enabled=!0}this._frameAverageCount=10,this._glQueries=[],this._queriesByID={},this._userQueries=[],this._queryCount=0,this._nbOpened=0};a.FRAME_COUNT=0,a.instance=function(t){return a._instance?t&&a._instance.getContext()!==t&&a._instance.setContext(t):a._instance=new a(t),a._instance},a.prototype={getContext:function(){return this._gl},setContext:function(t){this._gl=t},setFrameAverageCount:function(t){this._frameAverageCount=t},clearQueries:function(){for(var t=this._glQueries,e=0,r=t.length;e<r;++e){var i=t[e];this._gl.deleteQuery(i._pollingStartQuery),i._pollingEndQuery&&this._gl.deleteQuery(i)}this._userQueries.length=0,this._glQueries.length=0,this._queriesByID={}},supportTimeStamp:function(){return this._hasTimeStamp},enable:function(){this._enabled=!!this._ext},disable:function(){this._enabled=!1},isEnabled:function(){return this._enabled},setCallback:function(t){this._callback=t},createUserQuery:function(t){var e;return e=this._hasTimeStamp?this.createGLQuery():{_startIndex:0,_endIndex:0},e._id=t,e._frame=a.FRAME_COUNT,e._isOpened=!0,e._siblings=[],e},createGLQuery:function(){var t={};return t._isWaiting=!1,t._pollingStartQuery=void 0,t._pollingEndQuery=void 0,t._averageTimer=0,t._resultCount=0,this._hasTimeStamp&&(t._pollingEndQuery=this._gl.createQuery()),t._pollingStartQuery=this._gl.createQuery(),this._glQueries.push(t),t},getOrCreateLastGLQuery:function(){var t=this._glQueries[this._queryCount-1];return t?t:t=this._glQueries[this._queryCount-1]=this.createGLQuery()},beginCurrentQuery:function(){if(0!==this._nbOpened){this._queryCount++;var t=this.getOrCreateLastGLQuery();t._isWaiting||this._gl.beginQuery(this._ext.TIME_ELAPSED_EXT,t._pollingStartQuery)}},endCurrentQuery:function(){0!==this._nbOpened&&(this.getOrCreateLastGLQuery()._isWaiting||this._gl.endQuery(this._ext.TIME_ELAPSED_EXT))},getAvailableQueryByID:function(t){var e=this._queriesByID[t];if(!e)return e=this._queriesByID[t]=this.createUserQuery(t),this._userQueries.push(e),e;if(e._frame===a.FRAME_COUNT){if(e._isOpened)return e;for(var r=e._siblings,i=0,n=r.length;i<n;++i){var s=r[i];if(s._frame!==a.FRAME_COUNT||s._isOpened)return s._frame=a.FRAME_COUNT,s}var o=this.createUserQuery();return r.push(o),o}return e._frame=a.FRAME_COUNT,e},start:function(t){if(this._enabled){var e=this.getAvailableQueryByID(t);e._isOpened=!0,this._hasTimeStamp?e._isWaiting||this._ext.queryCounterEXT(e._pollingStartQuery,this._ext.TIMESTAMP_EXT):(this.endCurrentQuery(),this._nbOpened++,e._startIndex=this._queryCount,this.beginCurrentQuery())}},end:function(t){if(this._enabled){var e=this.getAvailableQueryByID(t);e._isOpened=!1,this._hasTimeStamp?e._isWaiting||this._ext.queryCounterEXT(e._pollingEndQuery,this._ext.TIMESTAMP_EXT):(this.endCurrentQuery(),e._endIndex=this._queryCount,this._nbOpened--,this.beginCurrentQuery())}},computeQueryAverageTime:function(t){for(var e=0,r=this._glQueries,i=t._startIndex;i<t._endIndex;++i){var n=r[i]._averageTimer;if(n<0)return-1;e+=n}return e},computeFullAverageTime:function(t){var e=this.computeQueryAverageTime(t);if(e<0)return-1;for(var r=t._siblings,i=0,n=r.length;i<n;++i){var s=r[i];if(s._frame===a.FRAME_COUNT-1){var o=this.computeQueryAverageTime(s);if(o<0)return-1;e+=o}}return e},pollQueries:function(){if(a.FRAME_COUNT++,this._queryCount=0,this._nbOpened=0,this._enabled&&this._callback){var t,e=this._glQueries,r=e.length,i=this._gl.getParameter(this._ext.GPU_DISJOINT_EXT);if(i)for(t=0;t<r;++t)e[t]._isWaiting=!1;else{for(t=0;t<r;++t)this.pollQuery(e[t]);var n=this._userQueries,s=n.length;for(t=0;t<s;++t){var o=n[t],u=this.computeFullAverageTime(o);u>0&&this._callback(u,o._id)}}}},pollQuery:function(t){t._isWaiting=!1;var e=this._hasTimeStamp?t._pollingEndQuery:t._pollingStartQuery,r=this._gl.getQueryParameter(e,this._gl.QUERY_RESULT_AVAILABLE);if(!r)return t._isWaiting=!0,0;var i;if(this._hasTimeStamp){var n=this._gl.getQueryParameter(t._pollingStartQuery,this._gl.QUERY_RESULT),a=this._gl.getQueryParameter(e,this._gl.QUERY_RESULT);i=a-n}else i=this._gl.getQueryParameter(e,this._gl.QUERY_RESULT);return t._resultCount++,t._resultCount>this._frameAverageCount&&(t._averageTimer=0,t._resultCount=1),t._averageTimer=t._averageTimer+(i-t._averageTimer)/t._resultCount,t._averageTimer}},t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(121),a=r(75),s=r(68),o=r(125),u=r(65),h=r(122),c=r(127),l=r(129),d=r(126),f=r(71),p=r(70),g=r(69),_=r(63),m=r(130),v=r(131),b=r(132),x=r(133),y=r(134),S=r(66),T=r(67),M=r(128),A=r(64),w={};i.objectMix(w,l),i.objectMix(w,d),w.Animation=n,w.SkinningAttribute=a,w.AnimationUpdateCallback=s,w.BasicAnimationManager=o,w.Bone=u,w.Channel=h,w.CollectAnimationUpdateCallbackVisitor=c,w.MorphAttribute=f,w.MorphGeometry=p,w.RigGeometry=g,w.Skeleton=_,w.StackedMatrix=m,w.StackedQuaternion=v,w.StackedRotateAxis=b,w.StackedScale=x,w.StackedTranslate=y,w.UpdateBone=S,w.UpdateMatrixTransform=T,w.UpdateMorph=M,w.UpdateSkeleton=A,t.exports=w},function(t,e,r){"use strict";var i=r(122),n=0,a=function(t,e){for(var r=1/0,i=-(1/0),a=0;a<t.length;a++)r=Math.min(r,t[a].start),i=Math.max(i,t[a].end);var s=i-r,o=e||"animation"+n.toString();return n++,{channels:t,duration:s,name:o,start:r}},s=function(t){for(var e=[],r=0;r<t.channels.length;r++){var n=i.createInstanceChannel(t.channels[r]);e.push(n)}return{channels:e,duration:t.duration,start:0,name:t.name,firstKeyTime:t.start}},o=function(){};o.createAnimation=a,o.createInstanceAnimation=s,t.exports=o},function(t,e,r){"use strict";var i=r(16).vec3,n=r(16).quat,a=r(123),s=r(124),o={},u=function(t,e,r,i,n,a){var s=r[0],o=r[r.length-1];return a.start=s,a.keys=e,a.end=o,a.times=r,a.type=t,a.duration=o-s,a.target=i,a.name=n,a},h=function(t,e,r,i,n){return u(s.Vec3,t,e,r,i,n||{})},c=function(t,e,r,i,n){return u(s.Float,t,e,r,i,n||{})},l=function(t,e,r,i,n){return u(s.Quat,t,e,r,i,n||{})},d=function(t,e,r,i,n){return u(s.QuatSlerp,t,e,r,i,n||{})},f=function(t,e,r,i,n){return u(s.FloatCubicBezier,t,e,r,i,n||{})},p=function(t,e,r,i,n){return u(s.Vec3CubicBezier,t,e,r,i,n||{})},g={create:function(){return 0}},_={create:function(){return i.create32()}},m={create:function(){return n.create32()}},v=function(t,e){return{channel:e,value:t.create(),targetID:a.InvalidTargetID,weight:1,key:0,start:0,end:0}},b=function(t){return v(_,t)},x=function(t){return v(m,t)},y=function(t){return v(g,t)},S=function(t){return v(g,t)},T=function(t){return v(_,t)},M=function(t){return o[t.type](t)};o.createInstanceChannel=M,o.createInstanceVec3Channel=b,o.createInstanceQuatChannel=x,o.createInstanceQuatSlerpChannel=x,o.createInstanceFloatChannel=y,o.createInstanceFloatCubicBezierChannel=S,o.createInstanceVec3CubicBezierChannel=T,o.createVec3Channel=h,o.createQuatChannel=l,o.createQuatSlerpChannel=d,o.createFloatChannel=c,o.createFloatCubicBezierChannel=f,o.createVec3CubicBezierChannel=p,o[s.Vec3]=b,o[s.Quat]=x,o[s.QuatSlerp]=x,o[s.Float]=y,o[s.FloatCubicBezier]=S,o[s.Vec3CubicBezier]=T,o.ChannelType=s,t.exports=o},function(t,e,r){"use strict";var i=r(16).mat4,n=r(16).quat,a=r(16).vec3,s=r(124),o={};o.InvalidTargetID=-1;var u=function(t,e,r){return{type:t,id:o.InvalidTargetID,channels:[],value:e,defaultValue:r}},h=function(t){return u(s.Quat,n.copy(n.create(),t),n.copy(n.create(),t))},c=function(t){return u(s.Matrix,i.copy(i.create(),t),i.copy(i.create(),t))},l=function(t){return u(s.Vec3,a.copy(a.create(),t),a.copy(a.create(),t))},d=function(t){return u(s.Float,t,t)};o.createQuatTarget=h,o.createVec3Target=l,o.createFloatTarget=d,o.createMatrixTarget=c,t.exports=o},function(t,e){"use strict";t.exports={Vec3:0,Quat:1,Float:2,FloatCubicBezier:3,Vec3CubicBezier:4,QuatSlerp:5,Matrix:6,Count:7}},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(14),s=r(16).quat,o=r(16).vec3,u=r(16).mat4,h=r(122),c=r(121),l=r(126),d=r(127),f=r(123),p=r(128),g={lerp:function(t,e,r){return t+(e-t)*r},init:function(){return 0},copy:function(t){return t},create:function(){return 0}},_=[];_[h.ChannelType.Float]=1,_[h.ChannelType.FloatCubicBezier]=1,_[h.ChannelType.Vec3]=3,_[h.ChannelType.Vec3CubicBezier]=3,_[h.ChannelType.Quat]=4,_[h.ChannelType.QuatSlerp]=4,_[h.ChannelType.Matrix]=16;var m=[];m.length=h.ChannelType.Count,m[h.ChannelType.Vec3]=o,m[h.ChannelType.Quat]=s,m[h.ChannelType.QuatSlerp]=s,m[h.ChannelType.Float]=g,m[h.ChannelType.FloatCubicBezier]=g,m[h.ChannelType.Vec3CubicBezier]=o,m[h.ChannelType.Matrix]=u;var v=function(){a.call(this),this._simulationTime=0,this._pauseTime=0,this._timeFactor=1,this._startTime=0,this._instanceAnimations={},this._startAnimations={},this._targets=[],this._targetsMap={},this._targetsByTypes=[],this._targetsByTypes.length=h.ChannelType.Count;for(var t=0,e=this._targetsByTypes.length;t<e;t++)this._targetsByTypes[t]=[];this._activeAnimations={},this._activeAnimationList=[],this._activeChannelsByTypes=[],this._activeChannelsByTypes.length=h.ChannelType.Count;for(var r=0,i=this._activeChannelsByTypes.length;r<i;r++)this._activeChannelsByTypes[r]=[];this._animationsUpdateCallback={},this._animationsUpdateCallbackArray=[],this._animationsToRegister=[],this._pause=!1,this._dirty=!1,this._seekTime=-1};v.prototype=n.objectInherit(a.prototype,{init:function(t){this._simulationTime=0,this._pauseTime=0,this._timeFactor=1,this._startTime=0,this._instanceAnimations={},this._startAnimations={},this._resetTargets(),this._activeAnimations={},this._activeAnimationList.length=0;for(var e=0,r=this._activeChannelsByTypes.length;e<r;e++)this._activeChannelsByTypes[e].length=0;this._animationsUpdateCallback={},this._animationsUpdateCallbackArray.length=0,this._pause=!1,this._seekTime=-1,this.addAnimations(t)},addAnimations:function(t){var e=this._addAnimation(t);Array.prototype.push.apply(this._animationsToRegister,e),this._dirty=!0,this._registerAnimations()},update:function(t,e){this._dirty&&(this._findAnimationUpdateCallback(t),this._registerTargetFoundInAnimationCallback(),this._registerAnimations());var r=e.getFrameStamp().getSimulationTime();return this._seekTime!==-1&&(this._pauseTime=-this._seekTime+this._startTime+r),this._seekTime=-1,this._pause?this._pauseTime=r-this._simulationTime+this._startTime:this._simulationTime=this._startTime+(r-this._pauseTime),this.updateManager(this._simulationTime*this._timeFactor),
!0},updateManager:function(t){this._processStartAnimation(t);for(var e=h.ChannelType.Count,r=0;r<e;r++){var i=this._activeChannelsByTypes[r];this._updateChannelsType(t,i,l[r])}for(var n=0;n<e;n++){var a=this._targetsByTypes[n];this._updateTargetType(a,m[n])}for(var s=0,o=this._animationsUpdateCallbackArray.length;s<o;s++){var u=this._animationsUpdateCallbackArray[s];u.computeChannels()}this._removeFinishedAnimation(t)},togglePause:function(){this._pause=!this._pause,this._pause||(this._seekTime=this._simulationTime)},getSimulationTime:function(){return this._simulationTime},setSimulationTime:function(t){this._simulationTime=t},setSeekTime:function(t){this._simulationTime=t,this._seekTime=t},stopAnimation:function(t){for(var e=this._activeAnimationList,r=0,i=e.length;r<i;++r)if(e[r].name===t)return this._removeActiveChannels(this._instanceAnimations[t]),this._activeAnimations[t]=void 0,void e.splice(r,1)},stopAllAnimation:function(){for(var t=this._activeAnimationList,e=0,r=t.length;e<r;++e){var i=t[e].name;this._removeActiveChannels(this._instanceAnimations[i]),this._activeAnimations[i]=void 0}t.length=0},setTimeFactor:function(t){var e=t/this._timeFactor;this._startTime+=(this._simulationTime-this._simulationTime*e)/e,this._timeFactor=t,this._pause&&(this._simulationTime+=(this._simulationTime-this._simulationTime*e)/e)},getTimeFactor:function(){return this._timeFactor},isPlaying:function(t){return!!this._activeAnimations[t]},playAnimationObject:function(t){var e=this._instanceAnimations[t.name];return e?void(this.isPlaying(t.name)||(e.priority=void 0===t.priority?0:t.priority,e.weight=void 0===t.weight?1:t.weight,e.loop=void 0===t.loop||t.loop,this._startAnimations[e.name]=e)):void i.info("no animation "+t.name+" found")},playAnimation:function(t,e,r,i){var n;return n="object"==typeof t?t:{name:t,priority:r,weight:i,loop:e},this.playAnimationObject(n)},getAnimations:function(){return this._instanceAnimations},_registerAnimations:function(){if(this._targets.length){for(var t=0,e=this._animationsToRegister.length;t<e;t++){var r=this._animationsToRegister[t];this._registerInstanceAnimation(r)}this._animationsToRegister.length=0,this._dirty=!1}},_registerInstanceAnimation:function(t){for(var e=t.channels,r=0,n=e.length;r<n;r++){var a=e[r],s=a.channel.target,o=a.channel.name,u=s+"."+o;this._targetMap[u]?a.targetID=this._targetMap[u].id:i.warn("registerInstanceAnimation did not find targetName ("+u+") in the scene graph")}return!0},_findAnimationUpdateCallback:function(t){var e=new d;t.accept(e),this._animationsUpdateCallback=e.getAnimationUpdateCallbackMap()},_registerTargetFoundInAnimationCallback:function(){this._resetTargets();var t,e,r,n=0,a=this._targetMap,s=this._targets,o=function(t,e,r){if(a[t])e!==a[t]&&i.warn("detected differents target instance with the same name ("+r+")");else{a[t]=e,e.id=n++,s.push(e);var o=e.type;this._targetsByTypes[o].push(e)}}.bind(this);for(var u in this._animationsUpdateCallback){var h=this._animationsUpdateCallback[u];if(h.getStackedTransforms&&h.getStackedTransforms().length){this._animationsUpdateCallbackArray.push(h);for(var c=h.getStackedTransforms(),l=0,d=c.length;l<d;l++){var f=c[l];t=f.getTarget(),e=f.getName(),r=h.getName()+"."+e,o(r,t,e)}}else if(h instanceof p)for(var g=0,_=h.getNumTarget();g<_;g++)e=h.getTargetName(g),r=e+"."+g,t=h.getTarget(g),o(r,t,e)}},_addAnimation:function(t){for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r],a=n.name;if(!this._instanceAnimations[a]){var s=c.createInstanceAnimation(n);this._instanceAnimations[a]=s,e.push(s)}}return e},_addActiveChannels:function(t,e){for(var r=e.channels,i=0,n=r.length;i<n;i++){var a=r[i],s=a.channel.type;a.t=t,a.instanceAnimation=e;var o=a.targetID;o!==f.InvalidTargetID&&(this._activeChannelsByTypes[s].push(a),this._targets[o].channels.push(a))}},_removeActiveChannels:function(t){for(var e=t.channels,r=0,i=e.length;r<i;r++){var n=e[r],a=n.channel.type,s=n.targetID;if(s!==f.InvalidTargetID){var o=this._targets[s].channels,u=o.indexOf(n);o.splice(u,1);var h=this._activeChannelsByTypes[a],c=h.indexOf(n);h.splice(c,1)}}},_updateTargetType:function(t,e){for(var r=0,i=t.length;r<i;r++){var n=t[r],a=n.channels,s=a.length;if(0===s)n.value=e.copy(n.defaultValue,n.value);else if(1===s)n.value=e.copy(a[0].value,n.value);else{n.value=e.init(n.value);for(var o=0,u=0,h=a.length;u<h;u++){var c=a[u],l=c.weight;if(o+=l,0!==o&&0!==l){var d=l/o;n.value=e.lerp(n.value,n.value,c.value,d)}}}}},_updateChannelsType:function(t,e,r){for(var i=0,n=e.length;i<n;i++){var a=e[i],s=a.instanceAnimation,o=s.loop,u=t-a.t;o&&s.duration>0&&(u%=s.duration),r(u+s.firstKeyTime,a)}},_removeFinishedAnimation:function(t){for(var e=this._activeAnimationList,r=0;r<e.length;){var i=e[r],n=i.name;t>i.end&&i.loop===!1?(this._removeActiveChannels(i),this._activeAnimations[n]=void 0,e.splice(r,1)):r++}},_addActiveAnimation:function(t,e){this._activeAnimations[e.name]=e;var r=this._instanceAnimations[e.name];r.start=t,r.end=t+r.duration,this._addActiveChannels(t,r),this._activeAnimationList.push(r)},_processStartAnimation:function(t){if(this._targets.length){var e;for(e in this._startAnimations){var r=this._startAnimations[e],i=r.name;this.isPlaying(i)||this._addActiveAnimation(t,r)}void 0!==e&&(this._startAnimations={})}},_resetTargets:function(){this._targetMap={},this._targets.length=0;for(var t=0,e=this._targetsByTypes.length;t<e;t++)this._targetsByTypes[t].length=0},resetAllStackedTransforms:function(){for(var t=this._animationsUpdateCallbackArray,e=0,r=t.length;e<r;e++){for(var i=t[e].getStackedTransforms(),n=0,a=i.length;n<a;n++)i[n].resetToDefaultValue();t[e].computeChannels()}},setAnimationLerpEndStart:function(t,e){var r=t.channels;void 0===t.originalDuration&&(t.originalDuration=t.duration),t.duration=t.originalDuration+e;for(var i=t.firstKeyTime,n=t.originalDuration,a=0,s=r.length;a<s;++a){var o=r[a].channel;if(!(Math.abs(o.start-i)>.01||Math.abs(o.duration-n)>.01)){void 0===o.originalEnd&&(o.originalEnd=o.end),o.end=o.originalEnd+e;var u=_[o.type],h=o.times.buffer.byteLength/4;if(0===e)o.keys=new Float32Array(o.keys.buffer,0,(h-1)*u),o.times=new Float32Array(o.times.buffer,0,h-1);else{o.keys=new Float32Array(o.keys.buffer,0,h*u);for(var c=(h-1)*u,l=0;l<u;++l)o.keys[c+l]=o.keys[l];o.times=new Float32Array(o.times.buffer,0,h),o.times[h-1]=o.times[h-2]+e}}}}}),v.TypeToSize=_,t.exports=v},function(t,e,r){"use strict";var i=r(16).vec3,n=r(16).quat,a=r(122),s=function(t,e,r){r[0]=e[t++],r[1]=e[t++],r[2]=e[t++]},o=function(t,e,r){r[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++]},u=function(t,e){var r=e.channel,i=e.value,n=r.start,a=r.end,o=r.keys,u=r.times;if(t>=a)return e.key=0,void s(o.length-3,o,i);if(t<=n)return e.key=0,void s(0,o,i);var h=e.key;if(t>u[h])for(;u[h+1]<t;)h++;else if(t<u[h])for(;u[h]>t;)h--;var c=u[h],l=u[h+1],d=3*h,f=o[d++],p=o[d++],g=o[d++],_=o[d++],m=o[d++],v=o[d++],b=(t-c)/(l-c);i[0]=f+(_-f)*b,i[1]=p+(m-p)*b,i[2]=g+(v-g)*b,e.key=h},h=function(){var t=n.create32(),e=n.create32();return function(r,i){var a=i.channel,s=i.value,u=a.start,h=a.end,c=a.keys,l=a.times;if(r>=h)return i.key=0,void o(c.length-4,c,s);if(r<=u)return i.key=0,void o(0,c,s);var d=i.key;if(r>l[d])for(;l[d+1]<r;)d++;else if(r<l[d])for(;l[d]>r;)d--;var f=l[d],p=l[d+1],g=4*d;t[0]=c[g++],t[1]=c[g++],t[2]=c[g++],t[3]=c[g++],e[0]=c[g++],e[1]=c[g++],e[2]=c[g++],e[3]=c[g++];var _=(r-f)/(p-f);n.nlerp(s,t,e,_),i.key=d}}(),c=function(){var t=n.create32(),e=n.create32();return function(r,i){var a=i.channel,s=i.value,u=a.start,h=a.end,c=a.keys,l=a.times;if(r>=h)return i.key=0,void o(c.length-4,c,s);if(r<=u)return i.key=0,void o(0,c,s);var d=i.key;if(r>l[d])for(;l[d+1]<r;)d++;else if(r<l[d])for(;l[d]>r;)d--;var f=l[d],p=l[d+1],g=4*d;t[0]=c[g++],t[1]=c[g++],t[2]=c[g++],t[3]=c[g++],e[0]=c[g++],e[1]=c[g++],e[2]=c[g++],e[3]=c[g++];var _=(r-f)/(p-f);n.slerp(s,t,e,_),i.key=d}}(),l=function(t,e){var r=e.channel,i=e.value,n=r.start,a=r.end,s=r.keys,o=r.times;if(t>=a)return e.key=0,void(e.value=s[s.length-1]);if(t<=n)return e.key=0,void(e.value=s[0]);var u=e.key;if(t>o[u])for(;o[u+1]<t;)u++;else if(t<o[u])for(;o[u]>t;)u--;var h=o[u],c=o[u+1],l=u,d=s[l++],f=s[l++],p=(t-h)/(c-h);i=d+(f-d)*p,e.key=u,e.value=i},d=function(t,e){var r=e.channel,i=e.value,n=r.start,a=r.end,s=r.keys,o=r.times;if(t>=a)return e.key=0,void(e.value=s[s.length-3]);if(t<=n)return e.key=0,void(e.value=s[0]);var u=e.key;if(t>o[u])for(;o[u+1]<t;)u++;else if(t<o[u])for(;o[u]>t;)u--;var h=(t-o[u])/(o[u+1]-o[u]),c=1-h,l=c*c,d=l*c,f=h*h,p=3*u,g=s[p]*d,_=s[p+1]*(3*h*l),m=s[p+2]*(3*f*c),v=s[p+3]*(f*h);i=g+_+m+v,e.key=u,e.value=i},f=function(){var t=i.create(),e=i.create(),r=i.create(),n=i.create();return function(a,o){var u=o.channel,h=o.value,c=u.start,l=u.end,d=u.keys,f=u.times;if(a>=l)return o.key=0,void s(d.length-9,d,h);if(a<=c)return o.key=0,void s(0,d,h);var p=o.key;if(a>f[p])for(;f[p+1]<a;)p++;else if(a<f[p])for(;f[p]>a;)p--;var g=(a-f[p])/(f[p+1]-f[p]),_=1-g,m=_*_,v=m*_,b=g*g,x=9*p;i.scale(t,i.set(t,d[x++],d[x++],d[x++]),v),i.scale(e,i.set(e,d[x++],d[x++],d[x++]),3*g*m),i.scale(r,i.set(r,d[x++],d[x++],d[x++]),3*b*_),i.scale(n,i.set(n,d[x++],d[x++],d[x++]),b*g),h[0]=t[0]+e[0]+r[0]+n[0],h[1]=t[1]+e[1]+r[1]+n[1],h[2]=t[2]+e[2]+r[2]+n[2],o.key=p}}(),p=a.ChannelType,g={};g[p.Vec3]=u,g[p.Quat]=h,g[p.QuatSlerp]=c,g[p.Float]=l,g[p.FloatCubicBezier]=d,g[p.Vec3CubicBezier]=f,g.Vec3LerpInterpolator=u,g.QuatLerpInterpolator=h,g.QuatSlerpInterpolator=c,g.FloatLerpInterpolator=l,g.FloatCubicBezierInterpolator=d,g.Vec3CubicBezierInterpolator=f,t.exports=g},function(t,e,r){"use strict";var i=r(7),n=r(23),a=r(68),s=function(){n.call(this),this._animationUpdateCallback={}};s.prototype=i.objectInherit(n.prototype,{getAnimationUpdateCallbackMap:function(){return this._animationUpdateCallback},apply:function(t){for(var e=t.getUpdateCallbackList(),r=0,i=e.length;r<i;r++){var n=e[r];n instanceof a&&(this._animationUpdateCallback[n.getInstanceID()]=n)}this.traverse(t)}}),t.exports=s},function(t,e,r){"use strict";var i=r(7),n=r(40),a=r(69),s=r(68),o=r(123),u=r(70),h=function(){s.call(this),this._targets=[],this._targetNames=[],this._morphs=[],this._weights=new Float32Array(u.MAX_MORPH_GPU),this._indexMap=new Uint32Array(u.MAX_MORPH_GPU),this._gpuMorphed=[],this._maxMorphGPU=-1},c=u.EFFECTIVE_EPS,l=function(t,e){return Math.abs(e.value)-Math.abs(t.value)};h.prototype=i.objectInherit(s.prototype,{init:function(t){this._maxMorphGPU=u.MAX_MORPH_GPU,this._morphs.length=0;for(var e=t.getChildren(),r=0,i=e.length;r<i;r++){var n,s=e[r];s instanceof u?n=s:s instanceof a&&s.getSourceGeometry()instanceof u&&(n=s.getSourceGeometry()),n&&n.getName()===this.getName()&&(n.isInitialized()||n.init(),this._morphs.push(n),this._maxMorphGPU=Math.min(this._maxMorphGPU,n.getMaximumPossibleMorphGPU()))}},isInitialized:function(){var t=this._morphs,e=t.length;if(!e)return!1;for(var r=0;r<e;++r)if(!t[r].isInitialized())return!1;return!0},getNumTarget:function(){return this._targets.length},getTarget:function(t){return this._targets[t]},getTargetName:function(t){return this._targetNames[t]},addTarget:function(t,e){this._targets[e]=o.createFloatTarget(0),this._targetNames[e]=t},_remapBufferArrays:function(){for(var t=this._indexMap,e=this._morphs,r=0;r<this._maxMorphGPU;++r)for(var i=t[r],n="_"+r,a="_"+i,s=0,o=e.length;s<o;++s)for(var u=e[s],h=u.getVertexAttributeList(),c=u.getMorphTargetNames(),l=0,d=c.length;l<d;++l){var f=c[l];h[f+n].setBufferArray(h[f+a].getInitialBufferArray())}},_mergeExtraMorphTarget:function(t,e,r){var i=0,a=this._gpuMorphed,s=t[e],o=s.getElements().length,u=o/s.getItemSize(),h=s.getItemSize();s._cpuMorph=s._cpuMorph||new n(n.ARRAY_BUFFER,new Float32Array(o),h);var l=s._cpuMorph.getElements();for(i=0;i<o;++i)l[i]=0;for(var d=this._targets,f=0,p=d.length;f<p;++f)if(a[f]!==!0){var g=d[f].value;if(!(Math.abs(g)<c)){g/=r;var _=t[e+"_"+f].getInitialBufferArray().getElements();for(i=0;i<u;++i){var m=i*h;l[m]+=g*_[m],l[m+1]+=g*_[m+1],l[m+2]+=g*_[m+2]}}}t[e+"_"+(this._maxMorphGPU-1)].setBufferArray(s._cpuMorph),s._cpuMorph.dirty()},_computeExtraWeightsSum:function(){for(var t=this._gpuMorphed,e=0,r=this._targets,i=0,n=r.length;i<n;++i)if(t[i]!==!0){var a=r[i].value;Math.abs(a)<c||(e+=a)}var s=1e-5;return Math.abs(e)>s?e:e<0?-s:s},_morphBufferArrayCPU:function(){for(var t=this._weights[this._maxMorphGPU-1]=this._computeExtraWeightsSum(),e={},r=this._morphs,i=0,n=r.length;i<n;++i)for(var a=r[i],s=a.getVertexAttributeList(),o=a.getMorphTargetNames(),u=0,h=o.length;u<h;++u){var c=o[u],l=s[c];l&&!e[l.getInstanceID()]&&(e[l.getInstanceID()]=!0,this._mergeExtraMorphTarget(s,c,t))}},updateWeights:function(){if(0!==this._maxMorphGPU){var t=0,e=this._targets,r=e.length,i=this._weights;if(i[0]=i[1]=i[2]=i[3]=0,r<=this._maxMorphGPU)for(t=0;t<r;++t)i[t]=e[t].value;else{var n=this._indexMap;n[0]=n[1]=n[2]=n[3]=0;var a=this._gpuMorphed;for(a.length=r,t=0;t<r;++t)a[t]=!1;var s=e.slice(0).sort(l);for(t=0;t<this._maxMorphGPU;++t){var o=e.indexOf(s[t]);a[o]=!0,n[t]=o,i[t]=s[t].value}var u=Math.abs(s[this._maxMorphGPU].value)>=c;a[n[this._maxMorphGPU-1]]=!u,this._remapBufferArrays(),u&&this._morphBufferArrayCPU()}}},update:function(t){this.isInitialized()||this.init(t),this.updateWeights();for(var e=this._weights,r=Math.min(this._maxMorphGPU,this._targets.length),i=this._morphs,n=0,a=i.length;n<a;++n)for(var s=i[n].getTargetsWeight(),o=0;o<r;o++)s[o]=e[o];return!0}}),t.exports=h},function(t,e){"use strict";var r=function(t){return-(t*(t-2))},i=function(t){return t*t},n=function(t){return t-=1,t*t*t+1},a=function(t){return t*t*t},s=function(t){return t-=1,-(t*t*t*t-1)},o=function(t){return t*t*t*t},u=function(t){return Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},h=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};t.exports={easeOutQuad:r,easeInQuad:i,easeOutCubic:n,easeInCubic:a,easeOutQuart:s,easeInQuart:o,easeOutElastic:u,easeOutBounce:h,EaseOutQuad:r,EaseInQuad:i,EaseOutCubic:n,EaseInCubic:a,EaseOutQuart:s,EaseInQuart:o,EaseOutElastic:u,EaseOutBounce:h}},function(t,e,r){"use strict";var i=r(7),n=r(14),a=r(16).mat4,s=r(123),o=function(t,e){n.call(this),this._target=s.createMatrixTarget(e||a.IDENTITY),t&&this.setName(t)};o.prototype=i.objectInherit(n.prototype,{init:function(t){this.setMatrix(t),a.copy(this._target.defaultValue,t)},getTarget:function(){return this._target},getMatrix:function(){return this._target.value},setMatrix:function(t){a.copy(this._target.value,t)},resetToDefaultValue:function(){this.setMatrix(this._target.defaultValue)},applyToMatrix:function(t){a.mul(t,t,this._target.value)}}),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(14),a=r(16).mat4,s=r(16).quat,o=r(123),u=s.create(),h=function(t,e){n.call(this),this._target=o.createQuatTarget(e||u),t&&this.setName(t)};h.prototype=i.objectInherit(n.prototype,{init:function(t){this.setQuaternion(t),s.copy(this._target.defaultValue,t)},setQuaternion:function(t){s.copy(this._target.value,t)},getTarget:function(){return this._target},resetToDefaultValue:function(){this.setQuaternion(this._target.defaultValue)},applyToMatrix:function(){var t=a.create();return function(e){var r=t;a.fromQuat(r,this._target.value),a.mul(e,e,r)}}()}),t.exports=h},function(t,e,r){"use strict";var i=r(7),n=r(14),a=r(16).mat4,s=r(16).vec3,o=r(16).quat,u=r(123),h=function(t,e,r){n.call(this),this._axis=s.fromValues(0,0,1),e&&s.copy(this._axis,e),this._target=u.createFloatTarget("number"==typeof r?r:0),t&&this.setName(t)};h.prototype=i.objectInherit(n.prototype,{init:function(t,e){this.setAxis(t),this.setAngle(e),this._target.defaultValue=e},setAxis:function(t){s.copy(this._axis,t)},setAngle:function(t){this._target.value=t},getTarget:function(){return this._target},resetToDefaultValue:function(){this.setAngle(this._target.defaultValue)},applyToMatrix:function(){var t=a.create(),e=o.create();return function(r){var i=this._axis,n=e,s=t,u=this._target.value;o.setAxisAngle(n,i,u),a.fromQuat(s,n),a.mul(r,r,s)}}()}),t.exports=h},function(t,e,r){"use strict";var i=r(7),n=r(14),a=r(16).mat4,s=r(16).vec3,o=r(123),u=function(t,e){n.call(this),this._target=o.createVec3Target(e||s.ONE),t&&this.setName(t)};u.prototype=i.objectInherit(n.prototype,{init:function(t){this.setScale(t),s.copy(this._target.defaultValue,t)},setScale:function(t){s.copy(this._target.value,t)},getTarget:function(){return this._target},resetToDefaultValue:function(){this.setScale(this._target.defaultValue)},applyToMatrix:function(t){var e=this._target.value;a.scale(t,t,e)}}),t.exports=u},function(t,e,r){"use strict";var i=r(7),n=r(14),a=r(16).vec3,s=r(16).mat4,o=r(123),u=function(t,e){n.call(this),this._target=o.createVec3Target(e||a.ZERO),t&&this.setName(t)};u.prototype=i.objectInherit(n.prototype,{init:function(t){this.setTranslate(t),a.copy(this._target.defaultValue,t)},setTranslate:function(t){a.copy(this._target.value,t)},getTarget:function(){return this._target},resetToDefaultValue:function(){this.setTranslate(this._target.defaultValue)},applyToMatrix:function(t){s.translate(t,t,this._target.value)}}),t.exports=u},function(t,e,r){"use strict";var i=r(7),n=r(136),a=r(141),s=r(143),o=r(144),u=r(145),h=r(146),c=r(142),l=r(148),d={};d.Input=n,i.objectMix(d,a),d.DatabasePager=s,d.ObjectWrapper.serializers.osg=o,d.ObjectWrapper.serializers.osgAnimation=u,d.ObjectWrapper.serializers.osgText=h,d.Registry=c,d.FileHelper=l,d.requestFile=r(137);var f=r(139);i.objectMix(d,f),t.exports=d},function(t,e,r){"use strict";var i=r(83),n=r(7),a=r(3),s=r(137),o=r(138),u=r(139),h=r(11),c=r(34),l=r(40),d=r(79),f=r(78),p=r(37),g=r(38),_=function(t,e){this._json=t;var r=e;void 0===r&&(r={}),this._identifierMap=r,this._objectRegistry={},this._cacheReadObject={},this.setOptions(n.objectMix({},o))};_.imageFallback||(_.imageFallback=function(){var t=new window.Image;return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2P8DwQACgAD/il4QJ8AAAAASUVORK5CYII=",t}()),_.prototype={clone:function(){var t=new _;return t._objectRegistry=this._objectRegistry,t._cacheReadObject=this._cacheReadObject,t},setOptions:function(t){this._defaultOptions=t},getOptions:function(){return this._defaultOptions},setProgressXHRCallback:function(t){this._defaultOptions.progressXHRCallback=t},setReadNodeURLCallback:function(t){this._defaultOptions.readNodeURL=t},registerObject:function(t,e){this._objectRegistry[t]=e},getJSON:function(){return this._json},setJSON:function(t){return this._json=t,this},setPrefixURL:function(t){this._defaultOptions.prefixURL=t},getPrefixURL:function(){return this._defaultOptions.prefixURL},setDatabasePath:function(t){this._defaultOptions.databasePath=t},getDatabasePath:function(){return this._defaultOptions.databasePath},computeURL:function(t){return"string"==typeof this._defaultOptions.prefixURL&&this._defaultOptions.prefixURL.length>0?this._defaultOptions.prefixURL+t:t},requestFile:function(t,e){return s(t,e)},getObjectWrapper:function(t){if(this._objectRegistry[t])return new this._objectRegistry[t];for(var e=a,r=t.split("."),i=0,n=r.length;i<n;i++){var s=e[r[i]];if(void 0===s)return;e=s}return this._objectRegistry[t]=e,new e},fetchImage:function(t,e,r,i){var n="data:image/",a=e.substring(0,n.length)===n,s=new window.Image;return s.onerror=function(){h.warn("warning use white texture as fallback instead of "+e),t.setImage(_.imageFallback),i&&i.resolve(t)},!a&&r.imageCrossOrigin&&(s.crossOrigin=r.imageCrossOrigin),s.onload=function(){i?(r.imageOnload&&r.imageOnload.call(t),i.resolve(t)):r.imageOnload&&r.imageOnload.call(t)},t.setURL(e),t.setImage(s),s.src=e,t},readImageURL:function(t,e){if(void 0===e&&(e=this._defaultOptions),e.readImageURL)return e.readImageURL.call(this,t,e);"data:image"!==t.substr(0,10)&&(t=this.computeURL(t));var r=new c;if(e.imageLoadingUsePromise!==!0)return this.fetchImage(r,t,e);var n=i.defer();return this.fetchImage(r,t,e,n),n.promise},readNodeURL:function(t,e){var a=e;if(void 0===a&&(a=this._defaultOptions),a.readNodeURL)return a.readNodeURL.call(this,t,a);t=this.computeURL(t);var s=i.defer();if(a=n.objectMix({},a),!a.prefixURL){var o=this.getPrefixURL(),c=t.lastIndexOf("/");c!==-1&&(o=t.substring(0,c+1)),a.prefixURL=o}var l=this,d=r(141),f=function(e){d.parseSceneGraph(e,a).then(function(e){s.resolve(e),h.log("loaded "+t)}).catch(s.reject.bind(s))},p=function(t){function e(t){return t.length<2?"0"+t:t}function r(t){for(var r="",i=0,n=t.length;i<n;++i)r+="%"+e(t[i].toString(16));return r=decodeURIComponent(r)}var i=t;u.isGunzipBuffer(t)&&(i=u.gunzip(t));var n=new Uint8Array(i),a=r(n);return a},g=l.requestFile(t);return g.then(function(e){var r;try{r=JSON.parse(e)}catch(e){h.error("cant parse url "+t+" try to gunzip")}if(r)return f(r);var i=l.requestFile(t,{responseType:"arraybuffer"});return i.then(function(t){var e=p(t);r=JSON.parse(e),f(r)}).catch(function(e){h.error("cant read file "+t+" status "+e),s.reject()}).done(),!0}).catch(function(e){h.error("cant get file "+t+" status "+e),s.reject()}).done(),s.promise},_unzipTypedArray:function(t){var e=new Uint8Array(t);if(31===e[0]&&139===e[1]){var i=r(140);i||h.error("osg failed to use a gunzip.min.js to uncompress a gz file.\n You can add this vendors to enable this feature or adds the good header in your gzip file served by your server");var n=new i.Gunzip(e),a=n.decompress();return a.buffer}return t},readBinaryArrayURL:function(t,e){if(void 0===e&&(e=this._defaultOptions),e.readBinaryArrayURL)return e.readBinaryArrayURL.call(this,t,e);if(t=this.computeURL(t),void 0!==this._identifierMap[t])return this._identifierMap[t];var r=i.defer(),n=this.requestFile(t,{responseType:"arraybuffer",progress:this._defaultOptions.progressXHRCallback});return this._identifierMap[t]=r.promise,n.then(function(t){r.resolve(this._unzipTypedArray(t))}.bind(this)),r.promise},initializeBufferArray:function(t,e,r,a){if(void 0===a&&(a=this.getOptions()),a.initializeBufferArray)return a.initializeBufferArray.call(this,t,e,r);var s=t.File,o=i.defer();return this.readBinaryArrayURL(s).then(function(i){var a,s;!function(){var t=new Uint8Array([18,52]),e=new Uint16Array(t.buffer);s="1234"===e[0].toString(16)}();var u=0;void 0!==t.Offset&&(u=t.Offset);var c=n[e].BYTES_PER_ELEMENT,l=t.Size,d=r.getItemSize(),f=l*c*d;if(s){h.log("big endian detected");var p=n[e],g=new p(l*d),_=new DataView(i,u,f),m=0,v=g.length;if("Uint16Array"===e)for(;m<v;m++)g[m]=_.getUint16(m*c,!0);else if("Float32Array"===e)for(;m<v;m++)g[m]=_.getFloat32(m*c,!0);a=g,_=null}else a=new n[e](i,u,d*l);r.setElements(a),o.resolve(r)}).catch(function(){h.warn("Can't read binary array URL")}),o.promise},readBufferArray:function(t){var e,r=this.getJSON(),a=r.UniqueID;if(void 0!==a&&(e=this._identifierMap[a],void 0!==e))return e;if(void 0===t&&(t=this.getOptions()),t.readBufferArray)return t.readBufferArray.call(this);if(!r.Elements&&!r.Array||!r.ItemSize||!r.Type)return i.reject();var s;if(r.Elements)s=i.resolve(new l(l[r.Type],r.Elements,r.ItemSize));else if(r.Array){var o=new l(l[r.Type]);o.setItemSize(r.ItemSize);var u,c;if(r.Array.Float32Array?(u=r.Array.Float32Array,c="Float32Array"):r.Array.Uint16Array?(u=r.Array.Uint16Array,c="Uint16Array"):r.Array.Uint8Array&&(u=r.Array.Uint8Array,c="Uint8Array"),void 0===u)return h.warn("Typed Array "+window.Object.keys(r.Array)[0]),i.reject();u.File?s=this.initializeBufferArray(u,c,o):u.Elements&&(o.setElements(new n[c](u.Elements)),s=i.resolve(o))}return void 0!==a&&(this._identifierMap[a]=s),s},readUserDataContainer:function(){var t,e=this.getJSON(),r=e.UniqueID;return void 0!==r&&(t=this._identifierMap[r],void 0!==t)?t.Values:(this._identifierMap[r]=e,e.Values)},readPrimitiveSet:function(){var t,e,r,n,a,s,o=this.getJSON(),u=i.defer(),c=o.DrawElementUShort||o.DrawElementUByte||o.DrawElementUInt||o.DrawElementsUShort||o.DrawElementsUByte||o.DrawElementsUInt||void 0;if(c){if(t=c.UniqueID,void 0!==t&&(e=this._identifierMap[t],void 0!==e))return e;var l=c.Indices,_=o;n=c.Mode,n=n?g[n]:g.TRIANGLES,r=new p(n),this.setJSON(l),this.readBufferArray().then(function(t){r.setIndices(t),u.resolve(r)}).catch(function(){h.warn("Error buffer array")}),this.setJSON(_)}var m=o.DrawArray||o.DrawArrays;if(m){if(t=m.UniqueID,void 0!==t&&(e=this._identifierMap[t],void 0!==e))return e;n=m.Mode||m.mode,a=void 0!==m.First?m.First:m.first,s=void 0!==m.Count?m.Count:m.count;var v=new d(g[n],a,s);u.resolve(v)}var b=o.DrawArrayLengths||void 0;if(b){if(t=b.UniqueID,void 0!==t&&(e=this._identifierMap[t],void 0!==e))return e;n=b.Mode,a=b.First;var x=b.ArrayLengths,y=new f(g[n],a,x);u.resolve(y)}return void 0!==t&&(this._identifierMap[t]=u.promise),u.promise},readObject:function(){var t=this.getJSON(),e=window.Object.keys(t)[0];if(!e)return h.warn("can't find property for object "+t),i.reject();var n,a=t[e].UniqueID;if(void 0!==a&&(n=this._identifierMap[a],void 0!==n))return n;var s=this.getObjectWrapper(e);if(!s)return h.warn("can't instanciate object "+e),i.reject();var o=r(141),u=o.ObjectWrapper.serializers;if(this._cacheReadObject[e])u=this._cacheReadObject[e];else{for(var c=e.split("."),l=0,d=c.length;l<d;l++){var f=u[c[l]];if(void 0===f)return h.warn("can't find function to read object "+e+" - undefined"),i.reject();u=f}this._cacheReadObject[e]=u}var p=u(this.setJSON(t[e]),s);return void 0!==a&&(this._identifierMap[a]=p,s._uniqueID=a),p}},t.exports=_},function(t,e,r){var i=r(83),n=function(t,e){var r=i.defer(),n=new XMLHttpRequest;return n.open("GET",t,!0),e&&e.responseType&&(n.responseType=e.responseType),e&&e.progress&&n.addEventListener("progress",e.progress,!1),n.addEventListener("error",function(){r.reject()},!1),n.addEventListener("load",function(){"arraybuffer"===n.responseType||"blob"===n.responseType?r.resolve(n.response):r.resolve(n.responseText)}),n.send(null),r.promise},a=function(t,e){var r=Promise.defer(),i=new window.FileReader;return i.onload=function(t){if("blob"===e.responseType){var i=new window.Image;i.src=t.target.result,r.resolve(i)}else r.resolve(t.target.result)},e&&e.responseType?"arraybuffer"===e.responseType?i.readAsArrayBuffer(t):"string"===e.responseType?i.readAsText(t):i.readAsDataURL(t):i.readAsText(t),r.promise},s=function(t,e){return"string"==typeof t?n(t,e):a(t,e)};t.exports=s},function(t,e){"use strict";var r={prefixURL:"",databasePath:"",progressXHRCallback:void 0,readNodeURL:void 0,readImageURL:void 0,readBinaryArrayURL:void 0,imageLoadingUsePromise:!0,imageOnload:void 0,imageCrossOrigin:void 0};t.exports=r},function(t,e,r){var i=r(11),n=function(t){var e=new Uint8Array(t);return 31===e[0]&&139===e[1]},a=function(t){var e=new Uint8Array(t),n=r(140);n||i.error("osg failed to use a gunzip.min.js to uncompress a gz file.\n You can add this vendors to enable this feature or get it at https://github.com/imaya/zlib.js/blob/master/bin/gunzip.min.js");var a=new n.Gunzip(e),s=a.decompress();return s.buffer};t.exports={isGunzipBuffer:n,gunzip:a}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_140__},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(33),s=r(43),o=r(28),u=r(40),h=r(38),c=r(79),l=r(37),d=r(21),f=r(13),p=r(16).mat4,g=r(53),_=r(54),m=r(142),v={};v.ObjectWrapper={},v.ObjectWrapper.serializers={},v.readImage=function(t,e){return v.registry().readImageURL(t,e)},v.readImageURL=v.readImage,v.readBinaryArrayURL=function(t,e){return v.registry().readBinaryArrayURL(t,e)},v.readNodeURL=function(t,e){var r=t.substr(t.lastIndexOf(".")+1),i=m.instance().getReaderWriterForExtension(r);return void 0!==i?i.readNodeURL(t,e):v.registry().readNodeURL(t,e)},v.registry=function(){var t=r(136);return void 0===v.registry._input&&(v.registry._input=new t),v.registry._input},v.parseSceneGraph=function(t,e){if(!(void 0!==t.Version&&t.Version>0)){n.time("osgjs.metric:ReaderParser.parseSceneGraphDeprecated");var r=v.parseSceneGraphDeprecated(t);return n.timeEnd("osgjs.metric:ReaderParser.parseSceneGraphDeprecated"),r}n.time("osgjs.metric:ReaderParser.parseSceneGraph");var a;for(var s in t)if("Generator"!==s&&"Version"!==s){a=s;break}if(a){var o={};o[a]=t[a];var u=v.registry().clone();u.setJSON(o);var h=n.objectMix(n.objectMix({},v.registry().getOptions()),e||{});u.setOptions(h);var c=u.readObject();return n.timeEnd("osgjs.metric:ReaderParser.parseSceneGraph"),c}i.log("can't parse scenegraph "+t)},v.parseSceneGraphDeprecated=function(t){var e,m=function(t,e){var r=e[t];return void 0===r&&(r=e[t.toLowerCase()]),r},b=function(t,e){var r=m("Name",e);r&&void 0!==t.setName&&t.setName(r)},x=function(t,e){b(t,e),t.setAmbient(m("Ambient",e)),t.setDiffuse(m("Diffuse",e)),t.setEmission(m("Emission",e)),t.setSpecular(m("Specular",e)),t.setShininess(m("Shininess",e))},y=function(t,e){b(t,e),t.setSourceRGB(e.SourceRGB),t.setSourceAlpha(e.SourceAlpha),t.setDestinationRGB(e.DestinationRGB),t.setDestinationAlpha(e.DestinationAlpha)},S=function(t,e){var r=e.MagFilter||e.mag_filter||void 0;r&&t.setMagFilter(r);var n=e.MinFilter||e.min_filter||void 0;n&&t.setMinFilter(n);var a=e.WrapT||e.wrap_t||void 0;a&&t.setWrapT(a);var s=e.WrapS||e.wrap_s||void 0;s&&t.setWrapS(s);var o=m("File",e);v.readImage(o).then(function(e){t.setImage(e)}).catch(function(){i.log("Can't read image")})},T=function(t,e){b(t,e);var n=m("Textures",e)||m("TextureAttributeList",e)||void 0;if(n)for(var o=0,u=n.length;o<u;o++){var h=m("File",n[o]);if(h){var c=r(32),l=new c;S(l,n[o]),t.setTextureAttributeAndModes(o,l),t.addUniform(a.createInt1(o,"Texture"+o))}else i.log("no texture on unit "+o+" skip it")}var d=m("BlendFunc",e);if(d){var f=new s;y(f,d),t.setAttributeAndModes(f)}var p=m("Material",e);if(p){var g=r(89),_=new g;x(_,p),t.setAttributeAndModes(_)}},M=t.children,A=t._primitives||t.primitives||t.Primitives||void 0,w=t._attributes||t.attributes||t.Attributes||void 0;if(A||w){var C=new o;b(C,t),C.stateset=t.stateset,t=C;for(var E=0,R=A.length;E<R;E++){var N=A[E].mode;if(A[E].indices){var I=A[E].indices;I=new u(u[I.type],I.elements,I.itemSize),N=N?h[N]:"TRIANGLES",C.getPrimitiveSetList().push(new l(N,I))}else{N=h[N];var k=A[E].first,O=A[E].count;C.getPrimitiveSetList().push(new c(N,k,O))}}for(var P in w){var L=w[P];C.getVertexAttributeList()[P]=new u(L.type,L.elements,L.itemSize)}}var F=m("StateSet",t);if(F){var V=new d;T(V,F),t.stateset=V}var D=t.matrix||t.Matrix||void 0;D&&(e=new g,b(e,t),n.extend(e,t),p.copy(e.getMatrix(),D),t=e);var B=t.projection||t.Projection||void 0;if(B&&(e=new _,b(e,t),n.extend(e,t),p.copy(e.setProjectionMatrix(),B),t=e),void 0===t.typeID&&(e=new f,b(e,t),n.extend(e,t),t=e),M){t.children=[];for(var U=0,G=M.length;U<G;U++)t.addChild(v.parseSceneGraphDeprecated(M[U]))}return t},t.exports=v},function(t,e,r){"use strict";var i=r(11),n={instance:function(){return n._instance||(n._instance=n,n._instance.plugins=new window.Map),n._instance},addReaderWriter:function(t,e){void 0!==n.instance().plugins.get(t)&&i.warn("the '"+t+"' plugin already exists"),n.instance().plugins.set(t,e)},getReaderWriterForExtension:function(t){return n.instance().plugins.get(t)}};t.exports=n},function(t,e,r){"use strict";var i=r(83),n=r(7),a=r(23),s=r(62),o=r(10),u=function(){this._pendingRequests=[],this._pendingNodes=[],this._loading=!1,this._progressCallback=void 0,this._lastCB=!0,this._activePagedLODList=new Set,this._childrenToRemoveList=new Set,this._downloadingRequestsNumber=0,this._maxRequestsPerFrame=10,this._acceptNewRequests=!0,this._targetMaximumNumberOfPagedLOD=75},h=function(){this._loadedModel=void 0,this._group=void 0,this._url=void 0,this._function=void 0,this._timeStamp=0,this._groupExpired=!1,this._priority=0},c=function(t,e){a.call(this,a.TRAVERSE_ALL_CHILDREN),this._activePagedLODList=t,this._frameNumber=e};c.prototype=n.objectInherit(a.prototype,{apply:function(t){t.getTypeID()===s.getTypeID()&&(t.setFrameNumberOfLastTraversal(this._frameNumber),this._activePagedLODList.add(t)),this.traverse(t)}});var l=function(){a.call(this,a.TRAVERSE_ALL_CHILDREN)};l.prototype=n.objectInherit(a.prototype,{apply:function(t){t.releaseGLObjects(),this.traverse(t)}});var d=function(){a.call(this,a.TRAVERSE_ALL_CHILDREN),this._childrenList=[];
};d.prototype=n.objectInherit(a.prototype,{apply:function(t){t.getTypeID()===s.getTypeID()&&(this._childrenList.push(t),this._markRequestsExpired(t)),this.traverse(t)},removeExpiredChildrenAndFindPagedLODs:function(t,e,r,i){if(!t.children.length)return!1;var n=i.length;t.removeExpiredChildren(e,r,i);for(var a=n;a<i.length;a++)i[a].accept(this);return n!==i.length},_markRequestsExpired:function(t){for(var e,r=t._perRangeDataList.length,i=0;i<r;i++)e=t.getDatabaseRequest(i),void 0!==e&&(e._groupExpired=!0,e._loadedModel=null)}}),u.prototype=n.objectLibraryClass({setTargetMaximumNumberOfPageLOD:function(t){this._targetMaximumNumberOfPagedLOD=t},getTargetMaximumNumberOfPageLOD:function(){return this._targetMaximumNumberOfPagedLOD},setAcceptNewDatabaseRequests:function(t){this._acceptNewRequests=t},getAcceptNewDatabaseRequests:function(){return this._acceptNewRequests},reset:function(){this._pendingRequests=[],this._pendingNodes=[],this._loading=!1,this._lastCB=!0,this._activePagedLODList.clear(),this._childrenToRemoveList.clear(),this._downloadingRequestsNumber=0,this._maxRequestsPerFrame=10,this._acceptNewRequests=!0,this._targetMaximumNumberOfPagedLOD=75},updateSceneGraph:function(t){void 0!==this._progressCallback&&this.executeProgressCallback(),this.removeExpiredSubgraphs(t,.0025),this.takeRequests(),this.addLoadedDataToSceneGraph(t,.005)},executeProgressCallback:function(){this._pendingRequests.length>0||this._pendingNodes.length>0?(this._progressCallback(this._pendingRequests.length+this._downloadingRequestsNumber,this._pendingNodes.length),this._lastCB=!1):this._lastCB||(this._progressCallback(this._pendingRequests.length+this._downloadingRequestsNumber,this._pendingNodes.length),this._lastCB=!0)},setMaxRequestsPerFrame:function(t){this._maxRequestsPerFrame=t},getMaxRequestsPerFrame:function(){return this._maxRequestsPerFrame},getRequestListSize:function(){return this._pendingRequests.length+this._downloadingRequestsNumber},setProgressCallback:function(t){this._progressCallback=t},addLoadedDataToSceneGraph:function(t,e){if(e<=0)return 0;var r=0,i=o.instance().tick();this._pendingNodes.sort(function(t,e){return e._timeStamp-t._timeStamp});for(var n=0;n<this._pendingNodes.length;n++){if(r>e)return 0;var a=this._pendingNodes.shift(),s=t.getFrameNumber(),u=t.getSimulationTime();if(a._groupExpired===!1){var h=a._group;h.setTimeStamp(h.children.length,u),h.setFrameNumber(h.children.length,s),h.addChildNode(a._loadedModel),this._activePagedLODList.has(h)?this.registerPagedLODs(a._loadedModel,s):this.registerPagedLODs(h,s)}else a._loadedModel=void 0,a=void 0;r=o.instance().deltaS(i,o.instance().tick())}return e-=r},isLoading:function(){return this._loading},registerPagedLODs:function(t,e){t&&t.accept(new c(this._activePagedLODList,e))},requestNodeFile:function(t,e,r,i,n){if(this._acceptNewRequests){var a=new h;return a._group=r,a._function=t,a._url=e,a._timeStamp=i,a._priority=n,this._pendingRequests.push(a),a}},takeRequests:function(){if(this._pendingRequests.length){var t=Math.min(this._maxRequestsPerFrame,this._pendingRequests.length);this._pendingRequests.sort(function(t,e){var r=t._timeStamp-e._timeStamp;return 0===r&&(r=t._priority-e._priority),r});for(var e=0;e<t;e++)this._downloadingRequestsNumber++,this.processRequest(this._pendingRequests.shift())}},processRequest:function(t){this._loading=!0;var e=this;return t._groupExpired?(e._downloadingRequestsNumber--,void(this._loading=!1)):void(void 0!==t._function?this.loadNodeFromFunction(t._function,t._group).then(function(r){e._downloadingRequestsNumber--,t._loadedModel=r,e._pendingNodes.push(t),e._loading=!1}):""!==t._url&&this.loadNodeFromURL(t._url).then(function(r){e._downloadingRequestsNumber--,t._loadedModel=r,e._pendingNodes.push(t),e._loading=!1}))},loadNodeFromFunction:function(t,e){var r=t(e);return r?r&&r.then?r:i.resolve(r):i.reject()},loadNodeFromURL:function(t){var e=r(141);return e.readNodeURL(t)},releaseGLExpiredSubgraphs:function(t){if(t<=0)return 0;var e=0,r=o.instance().tick(),i=this;return this._childrenToRemoveList.forEach(function(n){e>t||(i._childrenToRemoveList.delete(n),n.accept(new l),n.removeChildren(),n=null,e=o.instance().deltaS(r,o.instance().tick()))}),t-=e},removeExpiredSubgraphs:function(t,e){if(0===t.getFrameNumber())return 0;var r=this._activePagedLODList.size-this._targetMaximumNumberOfPagedLOD,i=t.getSimulationTime()-.1,n=t.getFrameNumber()-1;return r>0&&(e=this.removeExpiredChildren(r,i,n,e)),e},removeExpiredChildren:function(t,e,r,i){var n=0,a=o.instance().tick(),s=this,u=[],h=new d;return this._activePagedLODList.forEach(function(c){if(n>i)return 0;if(t<0)return i;if(r<c.getFrameNumberOfLastTraversal())return i;h.removeExpiredChildrenAndFindPagedLODs(c,e,r,u);for(var l=0;l<h._childrenList.length;l++)s._activePagedLODList.delete(h._childrenList[l]),t--;for(l=0;l<u.length;l++)s._childrenToRemoveList.add(u[l]);h._childrenList.length=0,u.length=0,n=o.instance().deltaS(a,o.instance().tick())}),i-=n}},"osgDB","DatabasePager"),t.exports=u},function(t,e,r){"use strict";var i=r(83),n=r(26),a={};a.Object=function(t,e){var r=t.getJSON();if(r.Name&&e.setName(r.Name),r.UserDataContainer){var i=t.setJSON(r.UserDataContainer).readUserDataContainer();void 0!==i&&e.setUserData(i)}return e},a.Node=function(t,e){var r=t.getJSON();a.Object(t,e);var n=[];if(r.UpdateCallbacks)for(var s=e.addUpdateCallback.bind(e),o=0,u=r.UpdateCallbacks.length;o<u;o++){var h=t.setJSON(r.UpdateCallbacks[o]).readObject();n.push(h),h.then(s)}if(r.StateSet){var c=t.setJSON(r.StateSet).readObject();n.push(c),c.then(e.setStateSet.bind(e))}var l=[];if(r.Children)for(var d=0,f=r.Children.length;d<f;d++)l.push(t.setJSON(r.Children[d]).readObject());return i.all(n).then(function(){return i.all(l).then(function(t){for(var r=t.length,i=0;i<r;i++)e.addChild(t[i]);return e})})},a.StateSet=function(t,e){var r=t.getJSON();a.Object(t,e),void 0!==r.RenderingHint&&e.setRenderingHint(r.RenderingHint);var n=[],s=function(r){var i=t.setJSON(r).readObject();i.isRejected()||(n.push(i),i.then(e.setAttributeAndModes.bind(e)))};if(void 0!==r.AttributeList)for(var o=0,u=r.AttributeList.length;o<u;o++)s(r.AttributeList[o]);var h=function(r,i){var a=t.setJSON(i).readObject();a.isRejected()||(n.push(a),a.then(e.setTextureAttributeAndModes.bind(e,r)))};if(r.TextureAttributeList)for(var c=r.TextureAttributeList,l=0,d=c.length;l<d;l++)for(var f=c[l],p=0,g=f.length;p<g;p++)h(l,f[p]);return i.all(n).then(function(){return e})},a.Material=function(t,e){var r=t.getJSON();return r.Diffuse&&r.Emission&&r.Specular&&void 0!==r.Shininess?(a.Object(t,e),e.setAmbient(r.Ambient),e.setDiffuse(r.Diffuse),e.setEmission(r.Emission),e.setSpecular(r.Specular),e.setShininess(r.Shininess),i.resolve(e)):i.reject()},a.BlendFunc=function(t,e){var r=t.getJSON();return r.SourceRGB&&r.SourceAlpha&&r.DestinationRGB&&r.DestinationAlpha?(a.Object(t,e),e.setSourceRGB(r.SourceRGB),e.setSourceAlpha(r.SourceAlpha),e.setDestinationRGB(r.DestinationRGB),e.setDestinationAlpha(r.DestinationAlpha),i.resolve(e)):i.reject()},a.CullFace=function(t,e){var r=t.getJSON();return void 0===r.Mode?i.reject():(a.Object(t,e),e.setMode(r.Mode),i.resolve(e))},a.BlendColor=function(t,e){var r=t.getJSON();return r.ConstantColor?(a.Object(t,e),e.setConstantColor(r.ConstantColor),i.resolve(e)):i.reject()},a.Light=function(t,e){var r=t.getJSON();return r.Ambient&&r.Diffuse&&r.Direction&&r.Position&&r.Specular&&void 0!==r.LightNum&&void 0!==r.SpotCutoff&&void 0!==r.LinearAttenuation&&void 0!==r.ConstantAttenuation&&void 0!==r.QuadraticAttenuation?(a.Object(t,e),e.setAmbient(r.Ambient),e.setConstantAttenuation(r.ConstantAttenuation),e.setDiffuse(r.Diffuse),e.setDirection(r.Direction),e.setLightNumber(r.LightNum),e.setLinearAttenuation(r.LinearAttenuation),e.setPosition(r.Position),e.setQuadraticAttenuation(r.QuadraticAttenuation),e.setSpecular(r.Specular),e.setSpotCutoff(r.SpotCutoff),e.setSpotBlend(.01),void 0!==r.SpotExponent&&e.setSpotBlend(r.SpotExponent/128),i.resolve(e)):i.reject()},a.Texture=function(t,e){var r=t.getJSON();a.Object(t,e),r.MinFilter&&e.setMinFilter(r.MinFilter),r.MagFilter&&e.setMagFilter(r.MagFilter),r.WrapT&&e.setWrapT(r.WrapT),r.WrapS&&e.setWrapS(r.WrapS);var i=r.File;return void 0===i&&(i="no-image-provided"),t.readImageURL(i).then(function(t){return e.setImage(t),e})},a.Projection=function(t,e){var r=t.getJSON();if(!r.Matrix)return i.reject();var n=a.Node(t,e);return e.setMatrix(r.Matrix),n},a.MatrixTransform=function(t,e){var r=t.getJSON();if(!r.Matrix)return i.reject();var n=a.Node(t,e);return e.setMatrix(r.Matrix),n},a.LightSource=function(t,e){var r=t.getJSON();if(!r.Light)return i.reject();var s=a.Node(t,e);return i.all([t.setJSON(r.Light).readObject(),s]).then(function(t){var i=t[0];return e.setLight(i),"ABSOLUTE_RF"===r.ReferenceFrame&&e.setReferenceFrame(n.ABSOLUTE_RF),e})},a.functionSortAttributes=function(t,e){return t.indexOf("TexCoord")!==-1&&e.indexOf("TexCoord")!==-1?parseInt(t.substr(8),10)-parseInt(e.substr(8),10):t<e?-1:t>e?1:0},a.Geometry=function(t,e){var r=t.getJSON();if(!r.VertexAttributeList)return i.reject();r.PrimitiveSetList=r.PrimitiveSetList||[];var n=[];n.push(a.Node(t,e));var s=e.getPrimitives(),o=s.push.bind(s),u=0,h=r.PrimitiveSetList.length;for(u=0;u<h;u++){var c=t.setJSON(r.PrimitiveSetList[u]).readPrimitiveSet();n.push(c),c.then(o)}var l=function(t,e){this.getVertexAttributeList()[t]=e},d=r.VertexAttributeList,f=window.Object.keys(d);for(f.sort(a.functionSortAttributes),h=f.length,u=0;u<h;u++){var p=f[u],g=t.setJSON(d[p]).readBufferArray();n.push(g),g.then(l.bind(e,p))}return i.all(n).then(function(){return e})},a.PagedLOD=function(t,e){var r=t.getJSON();a.Object(t,e),"USE_BOUNDING_SPHERE_CENTER"===r.CenterMode?e.setCenterMode(0):"UNION_OF_BOUNDING_SPHERE_AND_USER_DEFINED"===r.CenterMode&&e.setCenterMode(2),e.setCenter([r.UserCenter[0],r.UserCenter[1],r.UserCenter[2]]),e.setRadius(r.UserCenter[3]),"PIXEL_SIZE_ON_SCREEN"===r.RangeMode&&e.setRangeMode(1);for(var n,s=r.RangeList,o=0;o<window.Object.keys(s).length;o++){n="Range "+o;var u=s[n];e.setRange(o,u[0],u[1])}for(s=r.RangeDataList,o=0;o<window.Object.keys(s).length;o++)n="File "+o,e.setFileName(o,s[n]);e.setDatabasePath(t.getDatabasePath());var h=[];if(r.Children)for(var c=0,l=r.Children.length;c<l;c++)h.push(t.setJSON(r.Children[c]).readObject());return i.all(h).then(function(t){var r=t.length;for(o=0;o<r;o++)e.addChildNode(t[o]);return e})},t.exports=a},function(t,e,r){"use strict";var i=r(83),n=r(11),a=r(144),s=r(122),o=r(121),u=r(141),h=r(130),c=r(133),l=r(70),d=r(28),f={},p=function(){},g=u.registry();g.registerObject("osgAnimation.Vec3LerpChannel",p),g.registerObject("osgAnimation.FloatLerpChannel",p),g.registerObject("osgAnimation.QuatSlerpChannel",p),g.registerObject("osgAnimation.QuatLerpChannel",p),g.registerObject("osgAnimation.FloatCubicBezierChannel",p),g.registerObject("osgAnimation.Vec3CubicBezierChannel",p),g.registerObject("osgAnimation.StackedMatrixElement",h),g.registerObject("osgAnimation.StackedScaleElement",c),f.Animation=function(t){var e=t.getJSON();if(void 0===e.Name||!e.Channels||0===e.Channels.length)return i.reject();for(var r=[],n=0,a=e.Channels.length;n<a;n++){var s=t.setJSON(e.Channels[n]).readObject();r.push(s)}return i.all(r).then(function(t){return o.createAnimation(t,e.Name)})},f.StandardVec3Channel=function(t,e,r){var n=t.getJSON();if(!(void 0!==n.TargetName&&n.KeyFrames&&n.Name&&n.KeyFrames.Time&&n.KeyFrames.Key&&3===n.KeyFrames.Key.length))return i.reject();var a=t.setJSON(n.KeyFrames.Time).readBufferArray(),s=t.setJSON(n.KeyFrames.Key[0]).readBufferArray(),o=t.setJSON(n.KeyFrames.Key[1]).readBufferArray(),u=t.setJSON(n.KeyFrames.Key[2]).readBufferArray();return i.all([a,s,o,u]).then(function(t){for(var i=t[0].getElements(),a=t[1].getElements(),s=t[2].getElements(),o=t[3].getElements(),u=i.length,h=new Float32Array(new ArrayBuffer(4*(u+1)*3),0,3*u),c=new Float32Array(new ArrayBuffer(4*(u+1)),0,u),l=0;l<u;l++){var d=3*l;c[l]=i[l],h[d++]=a[l],h[d++]=s[l],h[d]=o[l]}return r(h,c,n.TargetName,n.Name,e),e})},f.StandardQuatChannel=function(t,e,r){var n=t.getJSON();if(!(void 0!==n.TargetName&&n.KeyFrames&&n.Name&&n.KeyFrames.Time&&n.KeyFrames.Key&&4===n.KeyFrames.Key.length))return i.reject();var a=t.setJSON(n.KeyFrames.Time).readBufferArray(),s=t.setJSON(n.KeyFrames.Key[0]).readBufferArray(),o=t.setJSON(n.KeyFrames.Key[1]).readBufferArray(),u=t.setJSON(n.KeyFrames.Key[2]).readBufferArray(),h=t.setJSON(n.KeyFrames.Key[3]).readBufferArray();return i.all([a,s,o,u,h]).then(function(t){for(var i=t[0].getElements(),a=t[1].getElements(),s=t[2].getElements(),o=t[3].getElements(),u=t[4].getElements(),h=i.length,c=new Float32Array(new ArrayBuffer(4*(h+1)*4),0,4*h),l=new Float32Array(new ArrayBuffer(4*(h+1)),0,h),d=0;d<h;d++){var f=4*d;l[d]=i[d],c[f++]=a[d],c[f++]=s[d],c[f++]=o[d],c[f]=u[d]}return r(c,l,n.TargetName,n.Name,e),e})},f.StandardFloatChannel=function(t,e,r){var n=t.getJSON();if(!(void 0!==n.TargetName&&n.KeyFrames&&n.Name&&n.KeyFrames.Time&&n.KeyFrames.Key))return i.reject();var a=t.setJSON(n.KeyFrames.Time).readBufferArray(),s=t.setJSON(n.KeyFrames.Key).readBufferArray();return i.all([a,s]).then(function(t){for(var i=t[0].getElements(),a=t[1].getElements(),s=i.length,o=new Float32Array(new ArrayBuffer(4*(s+1)),0,s),u=new Float32Array(new ArrayBuffer(4*(s+1)),0,s),h=0;h<s;h++)u[h]=i[h],o[h]=a[h];return r(o,u,n.TargetName,n.Name,e),e})},f.Vec3LerpChannel=function(t,e){return f.StandardVec3Channel(t,e,s.createVec3Channel)},f.QuatLerpChannel=function(t,e){return f.StandardQuatChannel(t,e,s.createQuatChannel)},f.QuatSlerpChannel=function(t,e){return f.StandardQuatChannel(t,e,s.createQuatChannel)},f.FloatLerpChannel=function(t,e){return f.StandardFloatChannel(t,e,s.createFloatChannel)},f.FloatCubicBezierChannel=function(t,e){var r=t.getJSON();if(!(void 0!==r.TargetName&&r.KeyFrames&&r.Name&&r.KeyFrames.Time&&r.KeyFrames.Position&&r.KeyFrames.ControlPointOut&&r.KeyFrames.ControlPointIn))return i.reject();for(var n=[],a=window.Object.keys(r.KeyFrames),o=0;o<a.length;o++)n.push(t.setJSON(r.KeyFrames[a[o]]).readBufferArray());return i.all(n).then(function(t){for(var i=t[0].getElements(),n=t[1].getElements(),a=t[2].getElements(),o=t[3].getElements(),u=o.length,h=new Float32Array(new ArrayBuffer(4*(u+1)*3),0,3*u),c=new Float32Array(new ArrayBuffer(4*(u+1)),0,u),l=0;l<u;l++){var d=3*l;c[l]=o[l],h[d++]=a[l],h[d++]=i[l],h[d]=n[l]}return s.createFloatCubicBezierChannel(h,c,r.TargetName,r.Name,e),e})},f.Vec3CubicBezierChannel=function(t,e){var r=t.getJSON();if(!(void 0!==r.TargetName&&r.KeyFrames&&r.Name&&r.KeyFrames.Time&&r.KeyFrames.Position&&r.KeyFrames.ControlPointOut&&r.KeyFrames.ControlPointIn&&3===r.KeyFrames.Position.length&&3===r.KeyFrames.ControlPointIn.length&&3===r.KeyFrames.ControlPointOut.length))return i.reject();for(var n=[],a=window.Object.keys(r.KeyFrames),o=0;o<a.length;o++){var u=a[o],h=r.KeyFrames[u];"Time"!==u?(n.push(t.setJSON(h[0]).readBufferArray()),n.push(t.setJSON(h[1]).readBufferArray()),n.push(t.setJSON(h[2]).readBufferArray())):n.push(t.setJSON(h).readBufferArray())}return i.all(n).then(function(t){for(var i=t[0].getElements(),n=t[1].getElements(),a=t[2].getElements(),o=t[3].getElements(),u=t[4].getElements(),h=t[5].getElements(),c=t[6].getElements(),l=t[7].getElements(),d=t[8].getElements(),f=t[9].getElements(),p=f.length,g=new Float32Array(new ArrayBuffer(4*(p+1)*9),0,9*p),_=new Float32Array(new ArrayBuffer(4*(p+1)),0,p),m=0;m<p;m++){var v=9*m;_[m]=f[m],g[v++]=c[m],g[v++]=l[m],g[v++]=d[m],g[v++]=i[m],g[v++]=n[m],g[v++]=a[m],g[v++]=o[m],g[v++]=u[m],g[v]=h[m]}return s.createVec3CubicBezierChannel(g,_,r.TargetName,r.Name,e),e})},f.BasicAnimationManager=function(t,e){var r=t.getJSON();if(!r.Animations)return i.reject();a.Object(t,e);for(var s=[],o=0,u=r.Animations.length;o<u;o++){var h=t.setJSON(r.Animations[o]).readObject();h.isRejected()?n.warn("An Animation failed on the parsing!"):s.push(h)}return i.all(s).then(function(t){return e.init(t),e})},f.UpdateMatrixTransform=function(t,e){var r=t.getJSON();if(/*!jsonObj.Name ||*/!r.StackedTransforms)return i.reject();a.Object(t,e);for(var n=[],s=0,o=r.StackedTransforms.length;s<o;s++)n.push(t.setJSON(r.StackedTransforms[s]).readObject());return i.all(n).then(function(t){for(var r=e.getStackedTransforms(),i=0,n=t.length;i<n;i++)r.push(t[i]);return e.computeChannels(),e})},f.StackedTranslate=function(t,e){var r=t.getJSON();return r.Name&&r.Translate?(a.Object(t,e),e.init(r.Translate),i.resolve(e)):i.reject()},f.StackedQuaternion=function(t,e){var r=t.getJSON();return r.Name&&r.Quaternion?(a.Object(t,e),e.init(r.Quaternion),i.resolve(e)):i.reject()},f.StackedRotateAxis=function(t,e){var r=t.getJSON();return r.Axis&&void 0!==r.Angle?(a.Object(t,e),e.init(r.Axis,r.Angle),i.resolve(e)):i.reject()},f.StackedMatrix=function(t,e){var r=t.getJSON();return r.Name&&r.Matrix?(a.Object(t,e),e.init(r.Matrix),i.resolve(e)):i.reject()},f.StackedScale=function(t,e){var r=t.getJSON();return r.Name&&r.Scale?(a.Object(t,e),e.init(r.Scale),i.resolve(e)):i.reject()},f.Bone=function(t,e){var r=t.getJSON();if(!r.InvBindMatrixInSkeletonSpace)return i.reject();var n=a.MatrixTransform(t,e);if(e.setInvBindMatrixInSkeletonSpace(r.InvBindMatrixInSkeletonSpace),r.BoundingBox){var s=e.getBoneBoundingBox();s.setMax(r.BoundingBox.max),s.setMin(r.BoundingBox.min)}return n},f.UpdateBone=f.UpdateMatrixTransform,f.UpdateSkeleton=function(t,e){return a.Object(t,e),i.resolve(e)},f.Skeleton=a.MatrixTransform,f.RigGeometry=function(t,e){var r=t.getJSON();if(!r.SourceGeometry)return i.reject();r.BoneMap||n.warn("No boneMap found in a RigGeometry !");var s=a.Geometry(t,e);e._boneNameID=r.BoneMap;var o,u=r.SourceGeometry["osg.Geometry"];return u?(t.setJSON(u),e.setSourceGeometry(new d),o=a.Geometry(t,e.getSourceGeometry())):(u=r.SourceGeometry["osgAnimation.MorphGeometry"],u?(t.setJSON(u),e.setSourceGeometry(new l),o=f.MorphGeometry(t,e.getSourceGeometry())):n.warn("SourceGeometry type no recognized")),void 0===e._uniqueID&&(e._uniqueID=u.UniqueID),i.all([s,o]).then(function(){return e.mergeChildrenData(),e})},f.MorphGeometry=function(t,e){var r=t.getJSON();if(!r.MorphTargets)return i.reject();var n=r.MorphTargets,s=[];s.push(a.Geometry(t,e));for(var o=0,u=n.length;o<u;o++)s.push(t.setJSON(n[o]).readObject());return i.all(s).then(function(t){for(var e=t[0],r=e.getMorphTargets(),i=1,n=t.length;i<n;i++)r.push(t[i]);return e.mergeChildrenVertexAttributeList(),e})},f.UpdateMorph=function(t,e){var r=t.getJSON();if(!r.TargetMap)return i.reject();a.Object(t,e);for(var n=window.Object.keys(r.TargetMap),s=0,o=n.length;s<o;s++){var u=n[s];e.addTarget(r.TargetMap[u],parseInt(u,10))}return i.resolve(e)},f.StackedMatrixElement=f.StackedMatrix,f.StackedScaleElement=f.StackedScale,t.exports=f},function(t,e,r){"use strict";var i=r(83),n=r(144),a=r(11),s=r(147),o={};o.Text=function(t,e){var r=t.getJSON();if(!r.Text)return i.reject();var o=n.Node(t,e);if(e.setColor(r.Color),e.setText(r.Text),e.setAutoRotateToScreen(r.AutoRotateToScreen),e.setPosition(r.Position),e.setCharacterSize(r.CharacterSize),"VERTICAL"===r.Layout)return a.error("Vertical Alignment not supported"),i.reject();var u=r.Alignment;return r.Alignment.indexOf("BASE_LINE")>-1&&("LEFT_BASE_LINE"===r.Alignment?u=s.LEFT_CENTER:"CENTER_BASE_LINE"===r.Alignment?u=s.CENTER_CENTER:"RIGHT_BASE_LINE"===r.Alignment?u=s.RIGHT_CENTER:"LEFT_BOTTOM_BASE_LINE"===r.Alignment?u=s.LEFT_BOTTOM:"CENTER_BOTTOM_BASE_LINE"===r.Alignment?u=s.CENTER_BOTTOM:"RIGHT_BOTTOM_BASE_LINE"===r.Alignment&&(u=s.RIGHT_BOTTOM),a.log("Base line alignments not supported, alignment converted")),e.setAlignment(u),e.setLayout(r.Layout),o},t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(16).vec3,a=r(16).vec4,s=r(16).mat4,o=r(6),u=r(53),h=r(111),c=r(32),l=r(43),d=r(16).quat,f=r(23),p=r(13),g=function(t){o.call(this),this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"),this._matrixTransform=new u,this.addChild(this._matrixTransform),this._text="",void 0!==t&&(this._text=t),this._font="monospace",this._color=a.fromValues(0,0,0,1),this._fillStyle="rgba( 0, 0, 0, 1 )",this._context.textAlign="center",this._textX=void 0,this._context.baseLine="middle",this._textY=void 0,this._characterSize=1,this._characterSizeMode=g.OBJECT_COORDS,this._fontSize=32,this._geometry=void 0,this._autoRotateToScreen=!1,this._position=n.create(),this._layout=g.LEFT_TO_RIGHT,this._alignment=g.CENTER_CENTER,this._forcePowerOfTwo=!1,this._texture=new c,this.drawText(),this._dirty=!1,this._previousModelView=s.create()};g.OBJECT_COORDS=0,g.SCREEN_COORDS=1,g.OBJECT_COORDS_WITH_MAXIMUM_SCREEN_SIZE_CAPPED_BY_FONT_HEIGHT=2,g.LEFT_TO_RIGHT="ltr",g.RIGHT_TO_LEFT="rtl",g.LEFT_TOP=0,g.LEFT_CENTER=1,g.LEFT_BOTTOM=2,g.CENTER_TOP=3,g.CENTER_CENTER=4,g.CENTER_BOTTOM=5,g.RIGHT_TOP=6,g.RIGHT_CENTER=7,g.RIGHT_BOTTOM=8,g.prototype=i.objectLibraryClass(i.objectInherit(o.prototype,{drawText:function(){if(void 0!==this._geometry&&(this._matrixTransform.removeChild(this._geometry),this._geometry.releaseGLObjects()),this._text){this.setTextProperties(),this._canvas.width=this._context.measureText(this._text).width,this._canvas.height=2*this._fontSize,this._forcePowerOfTwo&&(this._canvas.width=this._nextPowerOfTwo(this._canvas.width),this._canvas.height=this._nextPowerOfTwo(this._canvas.height)),this.setTextProperties(),this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._context.fillText(this._text,this._textX,this._textY);var t=this._canvas.width/this._canvas.height,e=this._characterSize*t;this._geometry=h.createTexturedQuadGeometry(-e/2,-this._characterSize/2,0,e,0,0,0,this._characterSize,0),this._texture.setTextureSize(this._canvas.width,this._canvas.height),this._texture.setMinFilter("LINEAR"),this._texture.setMagFilter("LINEAR"),this._texture.setImage(this._canvas);var r=this._geometry.getOrCreateStateSet();r.setTextureAttributeAndModes(0,this._texture),r.setRenderingHint("TRANSPARENT_BIN"),r.setAttributeAndModes(new l(l.ONE,l.ONE_MINUS_SRC_ALPHA)),this._matrixTransform.addChild(this._geometry),this.dirtyBound()}},setText:function(t){this._text=t,this._dirty=!0},getText:function(){return this._text},setFont:function(t){this._font=t,this._dirty=!0},setColor:function(t){this._color=t,this._fillStyle="rgba("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+","+t[3]+")",this._context.fillStyle=this._fillStyle,this._context.fillText(this._text,this._textX,this._textY)},getColor:function(){return this._color},setCharacterSize:function(t){this._characterSize=t,this._characterSizeMode!==g.OBJECT_COORDS&&(s.fromScaling(this._matrixTransform.getMatrix(),[this._characterSize,this._characterSize,this._characterSize]),this._characterSizeMode===g.OBJECT_COORDS_WITH_MAXIMUM_SCREEN_SIZE_CAPPED_BY_FONT_HEIGHT&&this.setMaximumScale(this._characterSize)),this._dirty=!0},getCharacterSize:function(){return this._characterSize},setCharacterSizeMode:function(t){this._characterSizeMode=t,this._characterSizeMode!==g.OBJECT_COORDS?(s.fromScaling(this._matrixTransform.getMatrix(),[this._characterSize,this._characterSize,this._characterSize]),this.setAutoScaleToScreen(!0),this.setMaximumScale(Number.MAX_VALUE),this._characterSizeMode===g.OBJECT_COORDS_WITH_MAXIMUM_SCREEN_SIZE_CAPPED_BY_FONT_HEIGHT&&this.setMaximumScale(this._characterSize)):(this._matrixTransform.setMatrix(s.create()),this.setAutoScaleToScreen(!1)),this._dirty=!0},getCharacterSizeMode:function(){return this._characterSizeMode},setFontResolution:function(t){this._fontSize=t,this._dirty=!0},getFontResolution:function(){return this._fontSize},setPosition:function(t){this._position=t,s.fromTranslation(this.getMatrix(),t)},getPosition:function(){return this._position},setTextProperties:function(){this._context.fillStyle=this._fillStyle,this._setAlignmentValues(this._alignment),this._context.font=this._fontSize+"px "+this._font,this._context.direction=this._layout},setAutoRotateToScreen:function(t){o.prototype.setAutoRotateToScreen.call(this,t),this._dirty=!0},getAutoRotateToScreen:function(){return this._autoRotateToScreen},setLayout:function(t){"string"==typeof t?this._layout=g[t]:this._layout=t,this._dirty=!0},getLayout:function(){return this._layout},setAlignment:function(t){"string"==typeof t?this._alignment=g[t]:this._alignment=t,this._dirty=!0},getAlignment:function(){return this._alignment},accept:function(){return function(t){if(this._dirty&&(this.drawText(),this._dirty=!1),t.getVisitorType()===f.CULL_VISITOR){var e=t.getViewport().width(),r=t.getViewport().height(),i=t.getCurrentProjectionMatrix(),o=t.getCurrentModelViewMatrix(),u=this._position,h=this._firstTimeToInitEyePoint;if(this._firstTimeToInitEyePoint||(s.exactEquals(o,this._previousModelView)?e!==this._previousWidth||r!==this._previousHeight?h=!0:s.exactEquals(i,this._previousProjection)?n.exactEquals(u,this._previousPosition)||(h=!0):h=!0:h=!0),this._firstTimeToInitEyePoint=!1,h){if(this._autoScaleToScreen){var c=t.getViewport(),l=this.computePixelSizeVector(c,i,o),g=a.fromValues(this._position[0],this._position[1],this._position[2],1),_=a.dot(g,l);_=.48/_;var m=1/_;if(this._autoScaleTransitionWidthRatio>0){var v,b,x;if(this._minimumScale>0){var y=this._minimumScale,S=this._maximumScale<Number.MAX_VALUE?this._minimumScale+(this._maximumScale-this._minimumScale)*this._autoScaleTransitionWidthRatio:this._minimumScale*(1+this._autoScaleTransitionWidthRatio);v=1/(4*(S-y)),b=1-2*v*S,x=y+b*b/(4*v);var T=-b/(2*v);m<T?m=this._minimumScale:m<S&&(m=x+b*m+v*(m*m))}if(this._maximumScale<Number.MAX_VALUE){var M=this._maximumScale,A=this._minimumScale>0?this._maximumScale+(this._minimumScale-this._maximumScale)*this._autoScaleTransitionWidthRatio:this._maximumScale*(1-this._autoScaleTransitionWidthRatio);v=1/(4*(A-M)),b=1-2*v*A,x=M+b*b/(4*v);var w=-b/(2*v);m>w?m=this._maximumScale:m>A&&(m=x+b*m+v*(m*m))}}this.setScale(m)}if(this._autoRotateToScreen){var C=d.create(),E=t.getCurrentModelViewMatrix();s.getRotation(C,E),this.setRotation(d.invert(C,C))}this._previousWidth=e,this._previousHeight=r,n.copy(this._previousPosition,u),s.copy(this._previousProjection,i),s.copy(this._previousModelView,o)}}p.prototype.accept.call(this,t)}}(),_setAlignmentValues:function(t){switch(t){case g.LEFT_TOP:this._context.textAlign="left",this._textX=0,this._context.textBaseline="top",this._textY=0;break;case g.LEFT_CENTER:this._context.textAlign="left",this._textX=0,this._context.textBaseline="middle",this._textY=this._canvas.height/2;break;case g.LEFT_BOTTOM:this._context.textAlign="left",this._textX=0,this._context.textBaseline="bottom",this._textY=this._canvas.height;break;case g.CENTER_TOP:this._context.textAlign="center",this._textX=this._canvas.width/2,this._context.textBaseline="top",this._textY=0;break;case g.CENTER_CENTER:this._context.textAlign="center",this._textX=this._canvas.width/2,this._context.textBaseline="middle",this._textY=this._canvas.height/2;break;case g.CENTER_BOTTOM:this._context.textAlign="center",this._textX=this._canvas.width/2,this._context.textBaseline="bottom",this._textY=this._canvas.height;break;case g.RIGHT_TOP:this._context.textAlign="right",this._textX=this._canvas.width,this._context.textBaseline="top",this._textY=0;break;case g.RIGHT_CENTER:this._context.textAlign="right",this._textX=this._canvas.width,this._context.textBaseline="middle",this._textY=this._canvas.height/2;break;case g.RIGHT_BOTTOM:this._context.textAlign="right",this._textX=this._canvas.width,this._context.textBaseline="bottom",this._textY=this._canvas.height}},setForcePowerOfTwo:function(t){this._forcePowerOfTwo=t},getForcePowerOfTwo:function(){return this._forcePowerOfTwo},_nextPowerOfTwo:function(t){var e=t;return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}}),"osgText","Text"),t.exports=g},function(t,e,r){"use strict";var i=r(83),n=r(141),a=r(142),s=r(137),o=r(11),u={readFileList:function(t){var e,r,o=new window.Map,h=[];for(r=0;r<t.length;++r){var c=t[r].name.substr(t[r].name.lastIndexOf(".")+1),l=a.instance().getReaderWriterForExtension(c);void 0===l&&"osgjs"!==c||(e=t[r].name);var d=u.getTypeForExtension(c);h.push(s(t[r],{responseType:d}))}return i.all(h).then(function(i){for(r=0;r<i.length;++r)o.set(t[r].name,i[r]);return n.readNodeURL(e,{filesMap:o})})},init:function(){u._typesMap=new window.Map,u._typesMap.set("bin","arraybuffer"),u._typesMap.set("b3dm","arraybuffer"),u._typesMap.set("glb","arraybuffer"),u._typesMap.set("zip","arraybuffer"),u._typesMap.set("png","blob"),u._typesMap.set("jpg","blob"),u._typesMap.set("jpeg","blob"),u._typesMap.set("gif","blob"),u._typesMap.set("json","string"),u._typesMap.set("gltf","string"),u._typesMap.set("osgjs","string")},addTypeForExtension:function(t,e){u._typesMap||u.init(),void 0!==u._typesMap.get(e)&&o.warn("the '"+e+"' already has a type"),u._typesMap.set(e,t)},getTypeForExtension:function(t){return u._typesMap||u.init(),this._typesMap.get(t)}};t.exports=u},function(t,e,r){"use strict";var i=r(150),n=r(151),a=r(159),s=r(170),o=r(171),u=r(162),h=r(172),c=r(174),l=r(173),d=r(152),f=r(160),p=r(161),g=r(163),_=r(164),m=r(165),v=r(166),b=r(168),x=r(175),y=r(167),S={};i.NO_MOUSEEVENTS=!0,S.CADManipulator=n,S.getCADManipulatorStandardMouseKeyboardController=function(){return a},S.getCADManipulatorHammerController=function(){return s},S.FirstPersonManipulator=o,S.getFirstPersonDeviceOrientationController=function(){return u},S.getFirstPersonManipulatorHammerController=function(){return h},S.getFirstPersonStandardMouseKeyboardControllerClass=function(){return c},S.getFirstPersonWebVRControllerClass=function(){return l},S.Manipulator=d,S.OrbitManipulator=f,S.getOrbitManipulatorDeviceOrientationController=function(){return p},S.getOrbitManipulatorGamePadController=function(){return g},S.getOrbitManipulatorHammerController=function(){return _},S.getOrbitManipulatorLeapMotionController=function(){return m},S.getOrbitManipulatorStandardMouseKeyboardController=function(){return v},S.getOrbitManipulatorWebVRController=function(){return b},S.SwitchManipulator=x,S.OrbitManipulator.Rotate=y.ROTATE,S.OrbitManipulator.Pan=y.PAN,S.OrbitManipulator.Zoom=y.ZOOM,t.exports=S},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_150__},function(t,e,r){"use strict";var i=r(7),n=r(152),a=r(153),s=r(154),o=r(157),u=r(25),h=r(16).mat4,c=r(16).vec2,l=r(16).vec3,d=r(16).quat,f=r(159),p=r(170),g=r(169),_=r(156),m=function(){n.call(this),this._tmpHomePosition=l.create(),this._intersectionVisitor=new a,this._lineSegmentIntersector=new s,this._polytopeIntersector=void 0,this._usePolytopeIntersector=!1,this._dimensionMask=_.ALL_PRIMITIVES,this.init()};m.Interpolator=function(){this._current=c.create(),this._target=c.create(),this._delta=c.create(),this._reset=!1,this.reset(),this._width=void 0,this._height=void 0},m.Interpolator.prototype={setWidth:function(t){this._width=t},setHeight:function(t){this._height=t},reset:function(){for(var t=0,e=this._current.length;t<e;t++)this._current[t]=this._target[t]=0;this._reset=!0},update:function(){var t,e;return t=void 0===this._width?0:(this._target[0]-this._current[0])/this._width,this._delta[0]=t,this._current[0]=this._target[0],e=void 0===this._height?0:(this._target[1]-this._current[1])/this._height,this._delta[1]=e,this._current[1]=this._target[1],this._delta},set:function(){for(var t=0,e=this._current.length;t<e;t++)this._current[t]=this._target[t]=arguments[t];this._reset=!1},isReset:function(){return this._reset},getCurrent:function(){return this._current},setTarget:function(){for(var t=0,e=this._target.length;t<e;t++)this._reset?this._target[t]=this._current[t]=arguments[t]:this._target[t]=arguments[t];this._reset=!1},addTarget:function(){for(var t=0;t<arguments.length;t++)this._target[t]+=arguments[t]},getTarget:function(){return this._target},getDelta:function(){return this._delta}},m.AvailableControllerList=["StandardMouseKeyboard","Hammer"],m.ControllerList=["StandardMouseKeyboard","Hammer"],m.prototype=i.objectInherit(n.prototype,{init:function(){this._distance=25,this._target=l.create(),
this._upz=l.fromValues(0,0,1),this._right=l.fromValues(1,0,0),l.init(this._target);var t=h.fromRotation(h.create(),-Math.PI,this._upz),e=h.fromRotation(h.create(),Math.PI/10,this._right);this._rotation=h.create(),h.mul(this._rotation,t,e),this._time=0,this._rotate=new m.Interpolator,this._pan=new m.Interpolator,this._zoom=new g(1),this._panFactor=1.5,this._rotateFactor=1,this._zoomFactor=1,this._inverseMatrix=h.create(),this._homeEye=void 0,this._homeCenter=void 0,this._homeUp=l.fromValues(0,0,1),this._orientation=d.create(),this._pivotPoint=l.create(),this._eye=void 0,this._zoomDir=l.create();var r=this;m.ControllerList.forEach(function(t){void 0!==m[t]&&(r._controllerList[t]=new m[t](r))})},setViewer:function(t){this._viewer=t},reset:function(){this.init()},setNode:function(t){this._node=t},setPivotPoint:function(t){l.copy(this._pivotPoint,t)},setTarget:function(){var t=l.create();return function(e){l.copy(this._target,e),this.getEyePosition(t),this._distance=l.distance(e,t)}}(),setEyePosition:function(t){l.copy(this._eye,t),this._distance=l.distance(this._target,t)},setHomePosition:function(t,e,r){this._homeEye=t,this._homeCenter=e,this._homeUp=r},computeHomePosition:function(){var t=l.create(),e=l.create(),r=l.create(),i=h.create();return function(n){var a=this.getHomeBound(n);if(a){this.setDistance(this.getHomeDistance(a)),this.setTarget(a.center()),this.setPivotPoint(a.center()),void 0===this._homeEye&&(this._homeEye=l.create(),this.getEyePosition(this._homeEye)),void 0===this._homeCenter&&(this._homeCenter=l.create(),l.copy(this._homeCenter,a.center())),void 0===this._eye&&(this._eye=l.create()),l.copy(this._eye,this._homeEye),l.copy(this._target,this._homeCenter),l.copy(this._upz,this._homeUp),h.copy(i,this._rotation);var s=this._target,o=this._eye;l.sub(t,s,o),l.normalize(t,t),l.cross(e,t,this._upz),l.normalize(e,e),l.cross(r,e,t),l.normalize(r,r),i[0]=e[0],i[1]=r[0],i[2]=-t[0],i[3]=0,i[4]=e[1],i[5]=r[1],i[6]=-t[1],i[7]=0,i[8]=e[2],i[9]=r[2],i[10]=-t[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,h.getRotation(this._orientation,i),d.invert(this._orientation,this._orientation)}}}(),setZoomFactor:function(t){this._zoomFactor=t},setRotateFactor:function(t){this._rotateFactor=t},setPanFactor:function(t){this._panFactor=t},setDistance:function(t){this._distance=t},setUsePolytopeIntersector:function(t){this._usePolytopeIntersector=t},getUsePolytopeIntersector:function(){return this._usePolytopeIntersector},getDistance:function(){return this._distance},zoom:function(t){this._distance=t},getRotateInterpolator:function(){return this._rotate},getPanInterpolator:function(){return this._pan},getZoomInterpolator:function(){return this._zoom},getIntersectionVisitor:function(){return this._intersectionVisitor},getLineSegmentIntersector:function(){return this._lineSegmentIntersector},getOrCreatePolytopeIntersector:function(){return void 0===this._polytopeIntersector&&(this._polytopeIntersector=new o,this._polytopeIntersector.setIntersectionLimit(_.LIMIT_ONE_PER_DRAWABLE),this._polytopeIntersector.setDimensionMask(_.POINT_PRIMITIVES|_.LINE_PRIMITIVES)),this._polytopeIntersector},getTarget:function(t){return l.copy(t,this._target),t},getEyePosition:function(t){void 0===this._eye?this.computeEyePosition(this._target,this._distance,t):l.copy(t,this._eye)},computeEyePosition:function(){var t=l.create(),e=h.create();return function(r,i,n){h.invert(e,this._rotation),t[1]=i,l.transformMat4(n,t,e),l.add(n,r,n)}}(),computePan:function(){var t=l.create(),e=l.create(),r=l.create();return function(i,n,a){var s=l.length(l.sub(r,this._eye,this._pivotPoint))/this._panFactor;s<10&&(s=10),t[0]=i*s/2,t[1]=n*s/2,t[2]=0,l.transformMat4(e,t,a),l.add(this._eye,this._eye,e)}}(),computeZoom:function(){var t=l.create(),e=l.create();return function(r){var i=r*this._zoomFactor;l.sub(t,this._pivotPoint,this._eye),l.add(this._eye,this._eye,l.scale(e,t,i))}}(),computeRotation:function(){var t=l.create(),e=l.create(),r=l.create(),i=l.create(),n=d.create(),a=d.create(),s=d.create(),o=l.create(),u=l.create();return function(h,c){l.transformQuat(e,this._right,this._orientation),l.normalize(t,e),l.sub(r,this._eye,this._pivotPoint);var f=l.dot(t,r);l.sub(i,r,l.scale(u,t,f));var p=l.fromValues(-i[0],-i[1],0),g=Math.atan2(-i[2],l.length(p));c=Math.max(-Math.PI/2+.01,Math.min(Math.PI/2-.01,g+c))-g,d.setAxisAngle(n,e,c*this._rotateFactor),d.setAxisAngle(a,this._upz,h*this._rotateFactor),d.mul(s,a,n),l.transformQuat(o,r,s),l.add(this._eye,o,this._pivotPoint),d.mul(this._orientation,a,this._orientation),l.transformQuat(e,this._right,this._orientation),d.setAxisAngle(n,e,c*this._rotateFactor),d.mul(this._orientation,n,this._orientation)}}(),update:function(){var t=h.create(),e=h.create();return function(r){var i=r.getFrameStamp().getDeltaTime(),n=10,a=this._rotate.update();this.computeRotation(-a[0]*n,a[1]*n),h.fromQuat(t,this._orientation);var s=this._pan.update();this.computePan(-s[0]*n,-s[1]*n,t),a=this._zoom.update(i),this.computeZoom(-a[0]/10),h.fromTranslation(e,this._eye),h.mul(this._inverseMatrix,e,t),h.invert(this._inverseMatrix,this._inverseMatrix)}}(),getInverseMatrix:function(){return this._inverseMatrix},computeIntersections:function(){var t=[],e=l.create();return function(r){var i=this._camera.getView(),n=this._camera,a=n.getViewport().width(),s=n.getViewport().height();this._rotate.setWidth(a),this._rotate.setHeight(s),this._pan.setWidth(a),this._pan.setHeight(s);var o,h;if(0!==(this._dimensionMask&_.TRIANGLE_PRIMITIVES)&&(t=i.computeIntersections(r[0],r[1]),t.length>0&&(o=t[0].point,t[0].nodepath.shift(),h=u.computeLocalToWorld(t[0].nodepath),l.transformMat4(e,o,h),this.setPivotPoint(e))),0===t.length&&this._usePolytopeIntersector){var c=this.getOrCreatePolytopeIntersector();c.reset(),c.setPolytopeFromWindowCoordinates(r[0]-5,r[1]-5,r[0]+5,r[1]+5);var d=this._intersectionVisitor;d.setIntersector(c),i.getCamera().accept(d),t=c.getIntersections(),t.sort(function(t,e){return t._distance-e._distance}),t.length>0&&(o=t[0]._center,t[0].nodePath.shift(),h=u.computeLocalToWorld(t[0].nodePath),l.transformMat4(e,o,h),this.setPivotPoint(e))}}}(),getPositionRelativeToCanvas:function(){var t=c.create(),e=c.create();return function(r,i){var n=this._camera._graphicContext.canvas;this.getOffsetRect(n,t);var a=n.width/n.clientWidth,s=n.height/n.clientHeight;return e[0]=(r-t[1])*a,e[1]=(n.clientHeight-(i-t[0]))*s,e}}(),getCanvasCenter:function(){var t=c.create(),e=c.create();return function(){var r=this._camera.getGraphicContext().canvas;this.getOffsetRect(r,t);var i=r.width/r.clientWidth,n=r.height/r.clientHeight;return e[0]=r.clientWidth/2*i,e[1]=r.clientHeight/2*n,e}}(),getOffsetRect:function(t,e){var r=t.getBoundingClientRect(),i=document.body,n=document.documentElement,a=window.pageYOffset||n.scrollTop||i.scrollTop,s=window.pageXOffset||n.scrollLeft||i.scrollLeft,o=n.clientTop||i.clientTop||0,u=n.clientLeft||i.clientLeft||0,h=r.top+a-o,c=r.left+s-u;return e[0]=Math.round(h),e[1]=Math.round(c),e}}),m.StandardMouseKeyboard=f,m.Hammer=p,t.exports=m},function(t,e,r){"use strict";var i=r(20),n=r(16).mat4,a=function(t){this._boundStrategy=t,void 0===this._boundStrategy&&(this._boundStrategy=a.COMPUTE_HOME_USING_SPHERE),this._controllerList={},this._inverseMatrix=n.create(),this._camera=void 0,this._node=void 0,this._frustum={},this._computeBoundNodeMaskOverride=-1};a.prototype={setCamera:function(t){this._camera=t},getCamera:function(){return this._camera},setNode:function(t){this._node=t},setComputeBoundNodeMaskOverride:function(t){this._computeBoundNodeMaskOverride=t},getComputeBoundNodeMaskOverride:function(){return this._computeBoundNodeMaskOverride},getHomeBound:function(t){var e=this._node;if(e){var n=void 0!==t?t:this._boundStrategy;if(n&a.COMPUTE_HOME_USING_BBOX){var s=new i,o=null;if(this._computeBoundNodeMaskOverride===-1)o=e.getBoundingBox();else{var u=r(27),h=new u;h.setNodeMaskOverride(this._computeBoundNodeMaskOverride),h.reset(),h.apply(e),o=h.getBoundingBox()}if(o.valid()&&s.expandByBoundingBox(o),n&a.COMPUTE_HOME_USING_SPHERE){var c=e.getBound();if(c.radius()<s.radius())return c}return s}return e.getBound()}},getHomeDistance:function(t){var e=this._frustum,r=t.radius();if(this._camera&&n.getFrustum(e,this._camera.getProjectionMatrix())){var i=Math.abs(e.right-e.left)/e.zNear/2,a=Math.abs(e.top-e.bottom)/e.zNear/2;r/=Math.sin(Math.atan2(a<i?a:i,1))}else r*=1.5;return r},update:function(){},getInverseMatrix:function(){return this._inverseMatrix},getControllerList:function(){return this._controllerList}},a.COMPUTE_HOME_USING_SPHERE=1,a.COMPUTE_HOME_USING_BBOX=2,t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(23),a=r(16).mat4,s=r(24),o=r(26),u=function(){n.call(this),this._intersector=void 0,this._projectionStack=[a.IDENTITY],this._modelStack=[a.IDENTITY],this._viewStack=[a.IDENTITY],this._windowStack=[a.IDENTITY],this.reset()};u.prototype=i.objectInherit(n.prototype,{reset:function(){u._reservedMatrixStack.reset()},setIntersector:function(t){this._intersector=t},getIntersector:function(){return this._intersector},pushModelMatrix:function(t){this._modelStack.push(t)},getModelMatrix:function(){return this._modelStack.length?this._modelStack[this._modelStack.length-1]:void 0},popModelMatrix:function(){return this._modelStack.pop()},pushViewMatrix:function(t){this._viewStack.push(t)},getViewMatrix:function(){return this._viewStack.length?this._viewStack[this._viewStack.length-1]:void 0},popViewMatrix:function(){return this._viewStack.pop()},pushProjectionMatrix:function(t){this._projectionStack.push(t)},getProjectionMatrix:function(){return this._projectionStack.length?this._projectionStack[this._projectionStack.length-1]:void 0},popProjectionMatrix:function(){return this._projectionStack.pop()},pushWindowMatrix:function(t){this._windowStack.push(t)},pushWindowMatrixUsingViewport:function(t){this._windowStack.push(t.computeWindowMatrix(u._reservedMatrixStack.get()))},getWindowMatrix:function(){return this._windowStack.length?this._windowStack[this._windowStack.length-1]:void 0},popWindowMatrix:function(){return this._windowStack.pop()},getTransformation:function(){var t=a.create64();return function(){return a.copy(t,this.getWindowMatrix()||a.IDENTITY),a.mul(t,t,this.getProjectionMatrix()||a.IDENTITY),a.mul(t,t,this.getViewMatrix()||a.IDENTITY),a.mul(t,t,this.getModelMatrix()||a.IDENTITY),t}}(),enter:function(t){return this._intersector.enter(t)},apply:function(t){t.getViewMatrix?this.applyCamera(t):t.getMatrix?this.applyTransform(t):this.applyNode(t)},applyCamera:function(t){var e=t.getViewport();void 0!==e&&this.pushWindowMatrixUsingViewport(e);var r,i,n;t.getReferenceFrame()===o.RELATIVE_RF&&this.getViewMatrix()&&this.getProjectionMatrix()?(r=a.mul(u._reservedMatrixStack.get(),this.getProjectionMatrix(),t.getProjectionMatrix()),i=this.getViewMatrix(),n=a.mul(u._reservedMatrixStack.get(),this.getModelMatrix(),t.getViewMatrix())):(r=t.getProjectionMatrix(),i=t.getViewMatrix(),n=a.identity(u._reservedMatrixStack.get())),this.pushProjectionMatrix(r),this.pushViewMatrix(i),this.pushModelMatrix(n),this._intersector.setCurrentTransformation(this.getTransformation()),this.traverse(t),this.popModelMatrix(),this.popViewMatrix(),this.popProjectionMatrix(),void 0!==e&&this.popWindowMatrix(),this._intersector.setCurrentTransformation(this.getTransformation())},applyNode:function(t){if(this.enter(t)){if(t.getPrimitiveSetList)return void this._intersector.intersect(this,t);t.traverse&&this.traverse(t),this.leave()}},leave:function(){this._intersector.leave()},applyTransform:function(t){if(this.enter(t)){if(t.getReferenceFrame()===o.ABSOLUTE_RF){var e=u._reservedMatrixStack.get();this.pushViewMatrix(a.identity(e)),this.pushModelMatrix(t.getMatrix())}else if(this._modelStack.length>0){var r=a.copy(u._reservedMatrixStack.get(),this.getModelMatrix());a.mul(r,r,t.getMatrix()),this.pushModelMatrix(r)}else this.pushModelMatrix(t.getMatrix());this._intersector.setCurrentTransformation(this.getTransformation()),this.traverse(t),this.popModelMatrix(),t.getReferenceFrame()===o.ABSOLUTE_RF&&this.popViewMatrix(),this._intersector.setCurrentTransformation(this.getTransformation()),this.leave()}}}),u._reservedMatrixStack=new s,t.exports=u},function(t,e,r){"use strict";var i=r(16).vec3,n=r(16).mat4,a=r(155),s=r(156),o=function(){this._lineSegIntersector=void 0,this._intersectionVisitor=void 0,this._geometry=void 0,this._vertices=[],this._limitOneIntersection=!1},u=function(){this._start=i.create(),this._end=i.create(),this._iStart=i.create(),this._iEnd=i.create(),this._intersections=[],this._intersectionLimit=s.NO_LIMIT};u.prototype={set:function(t,e){i.copy(this._start,t),i.copy(this._iStart,t),i.copy(this._end,e),i.copy(this._iEnd,e)},setStart:function(t){i.copy(this._start,t),i.copy(this._iStart,t)},setEnd:function(t){i.copy(this._end,t),i.copy(this._iEnd,t)},reset:function(){this._intersections=[]},enter:function(t){return!t.isCullingActive()||this.intersects(t.getBound())},setIntersectionLimit:function(t){this._intersectionLimit=t},getIntersectionLimit:function(){return this._intersectionLimit},leave:function(){},intersects:function(){var t=i.create(),e=i.create();return function(r){if(!r.valid())return!1;i.sub(t,this._iStart,r.center());var n=i.sqrLen(t)-r.radius2();if(n<=0)return!0;i.sub(e,this._iEnd,this._iStart);var a=i.sqrLen(e),s=2*i.dot(t,e),o=s*s-4*a*n;if(o<0)return!1;o=Math.sqrt(o);var u=.5/a,h=(-s-o)*u,c=(-s+o)*u;return!(h<=0&&c<=0)&&!(h>1&&c>1)}}(),intersect:function(){var t=new o,e=new a;return function(r,i){t._lineSegIntersector=this,t._intersectionVisitor=r,i.getPrimitives&&(t._geometry=i,t._vertices=i.getVertexAttributeList()),t._limitOneIntersection=this._intersectionLimit===s.LIMIT_ONE_PER_DRAWABLE||this._intersectionLimit===s.LIMIT_ONE,e.reset(),e.set(this._iStart,this._iEnd,t);var n=i.getShape();if(n)return n.intersect(e,n.getNodes()[0]);if(i.computeTransformedVertices){var a=i.getVertexAttributeList(),o=a.Vertex.getElements();a.Vertex._elements=i.computeTransformedVertices(),e.apply(i),a.Vertex._elements=o}else e.apply(i)}}(),getIntersections:function(){return this._intersections},setCurrentTransformation:function(t){n.invert(t,t),i.transformMat4(this._iStart,this._start,t),i.transformMat4(this._iEnd,this._end,t)}},t.exports=u},function(t,e,r){"use strict";var i=r(16).vec3,n=r(16).mat4,a=r(25),s=r(115),o=function(t,e,r,i,n,a){this._intersectionPoints=[],this._primitiveIndex=void 0,this._distance=0,this._maxDistance=0,this._nodePath=void 0,this._drawable=void 0,this._matrix=void 0,this._localIntersectionPoint=void 0,this._localIntersectionNormal=void 0,this._numIntersectionPoints=0,this._backface=void 0,this._i1=t,this._i2=e,this._i3=r,this._r1=i,this._r2=n,this._r3=a},u=function(){this._settings=void 0,this._primitiveIndex=0,this._d=i.create(),this._length=0,this._invLength=0,this._start=i.create(),this._end=i.create(),this._startEndStack=[],this._dInvX=i.create(),this._dInvY=i.create(),this._dInvZ=i.create(),this._hit=!1};u.prototype={reset:function(){this._startEndStack=[],this._hit=!1},set:function(t,e,r){this._settings=r,this._start=t,this._end=e,this._startEndStack.push([t,e]),i.sub(this._d,e,t),this._length=i.length(this._d),this._invLength=0!==this._length?1/this._length:0,i.scale(this._d,this._d,this._invLength),0!==this._d[0]&&i.scale(this._dInvX,this._d,1/this._d[0]),0!==this._d[1]&&i.scale(this._dInvY,this._d,1/this._d[1]),0!==this._d[2]&&i.scale(this._dInvZ,this._d,1/this._d[2])},enter:function(t){var e=t._min,r=e[0],n=e[1],a=e[2],s=t._max,o=s[0],u=s[1],h=s[2],c=this._dInvX,l=this._dInvY,d=this._dInvZ,f=this._startEndStack[this._startEndStack.length-1],p=i.clone(f[0]),g=i.clone(f[1]);if(p[0]<=g[0]){if(g[0]<r)return!1;if(p[0]>o)return!1;p[0]<r&&i.scaleAndAdd(p,p,c,r-p[0]),g[0]>o&&i.scaleAndAdd(g,p,c,o-p[0])}else{if(p[0]<r)return!1;if(g[0]>o)return!1;g[0]<r&&i.scaleAndAdd(g,p,c,r-p[0]),p[0]>o&&i.scaleAndAdd(p,p,c,o-p[0])}if(p[1]<=g[1]){if(g[1]<n)return!1;if(p[1]>u)return!1;p[1]<n&&i.scaleAndAdd(p,p,l,n-p[1]),g[1]>u&&i.scaleAndAdd(g,p,l,u-p[1])}else{if(p[1]<n)return!1;if(g[1]>u)return!1;g[1]<n&&i.scaleAndAdd(g,p,l,n-p[1]),p[1]>u&&i.scaleAndAdd(p,p,l,u-p[1])}if(p[2]<=g[2]){if(g[2]<a)return!1;if(p[2]>h)return!1;p[2]<a&&i.scaleAndAdd(p,p,d,a-p[2]),g[2]>h&&i.scaleAndAdd(g,p,d,h-p[2])}else{if(p[2]<a)return!1;if(g[2]>h)return!1;g[2]<a&&i.scaleAndAdd(g,p,d,a-p[2]),p[2]>h&&i.scaleAndAdd(p,p,d,h-p[2])}return this._startEndStack.push([p,g]),!0},isBackFace:function(){var t=n.create();return function(e,r){n.identity(t),a.computeLocalToWorld(r,!0,t);var i=n.determinant(t);return i*e<0}}(),intersect:function(){var t=i.create(),e=i.create(),r=i.create(),n=i.create(),a=i.create(),s=i.create(),u=1e-20;return function(h,c,l,d,f,p){if(!this._settings._limitOneIntersection||!this._hit){i.sub(e,l,h),i.sub(r,c,h),i.cross(a,this._d,e);var g=i.dot(a,r);if(!(g>-u&&g<u)){var _=1/g;i.sub(n,this._start,h);var m=i.dot(a,n)*_;if(!(m<0||m>1)){i.cross(s,n,r);var v=i.dot(s,this._d)*_;if(!(v<0||m+v>1)){var b=i.dot(s,e)*_;if(!(b<u||b>this._length)){var x=1-m-v,y=m,S=v,T=b*this._invLength,M=h[0]*x+c[0]*y+l[0]*S,A=h[1]*x+c[1]*y+l[1]*S,w=h[2]*x+c[2]*y+l[2]*S;i.cross(t,r,e),i.normalize(t,t);var C=new o(d,f,p,x,y,S);C._ratio=T,C._matrix=this._settings._intersectionVisitor.getModelMatrix(),C._nodePath=this._settings._intersectionVisitor.getNodePath().slice(),C._drawable=this._settings._drawable,C._primitiveIndex=this._primitiveIndex,C._backface=this.isBackFace(g,C._nodePath),C._localIntersectionPoint=i.fromValues(M,A,w),C._localIntersectionNormal=t,this._settings._lineSegIntersector.getIntersections().push(C),this._hit=!0}}}}}}}(),operatorPoint:function(){this._primitiveIndex++},operatorLine:function(){this._primitiveIndex++},operatorTriangle:function(t,e,r){this._settings._limitOneIntersection&&this._hit||this.intersect(t,e,r)},intersectPoint:function(){},intersectLine:function(){},intersectTriangle:function(){var t=i.create(),e=i.create(),r=i.create();return function(n,a,s,o,u){this._settings._limitOneIntersection&&this._hit||(this._primitiveIndex=a,i.set(t,n[3*s],n[3*s+1],n[3*s+2]),i.set(e,n[3*o],n[3*o+1],n[3*o+2]),i.set(r,n[3*u],n[3*u+1],n[3*u+2]),this.intersect(t,e,r,s,o,u))}}(),leave:function(){this._startEndStack.pop()},apply:function(){var t=i.create(),e=i.create(),r=i.create(),n=new s;return function(i){if(i.getAttributes().Vertex){var a=i.getAttributes().Vertex.getElements(),s=this,o=function(i,n,o){if(i!==n&&i!==o&&n!==o){var u=3*i;t[0]=a[u],t[1]=a[u+1],t[2]=a[u+2],u=3*n,e[0]=a[u],e[1]=a[u+1],e[2]=a[u+2],u=3*o,r[0]=a[u],r[1]=a[u+1],r[2]=a[u+2],s.intersect(t,e,r,i,n,o)}};n.init(i,o),n.apply()}}}()},t.exports=u},function(t,e){"use strict";t.exports={NO_LIMIT:0,LIMIT_ONE_PER_DRAWABLE:1,LIMIT_ONE:2,POINT_PRIMITIVES:1,LINE_PRIMITIVES:2,TRIANGLE_PRIMITIVES:4,ALL_PRIMITIVES:7}},function(t,e,r){"use strict";var i=r(16).vec4,n=r(16).vec3,a=r(49),s=r(158),o=r(50),u=r(156),h=function(){this._polytopeIntersector=void 0,this._intersectionVisitor=void 0,this._geometry=void 0,this._vertices=[],this._limitOneIntersection=!1,this._primitiveMask=u.ALL_PRIMITIVES},c=function(){this._intersections=[],this._index=0,this._polytope=new a,this._iPolytope=new a,this._referencePlane=i.create(),this._iReferencePlane=i.create(),this._intersectionLimit=u.NO_LIMIT,this._primitiveMask=u.ALL_PRIMITIVES},l=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3];t[0]=r[0]*i+r[1]*n+r[2]*a+r[3]*s,t[1]=r[4]*i+r[5]*n+r[6]*a+r[7]*s,t[2]=r[8]*i+r[9]*n+r[10]*a+r[11]*s,t[3]=r[12]*i+r[13]*n+r[14]*a+r[15]*s};c.prototype={setPolytope:function(t){this._polytope.setPlanes(t);for(var e=[],r=0;r<t.length;++r){var n=t[r];e[r]=i.copy(this._iPolytope.getPlanes()[r]||o.create(),n)}this._iPolytope.setPlanes(e),i.copy(this._referencePlane,t[t.length-1]),i.copy(this._iReferencePlane,this._referencePlane)},getPolytope:function(){return this._iPolytope},getPrimitiveMask:function(){return this._primitiveMask},leave:function(){},setPolytopeFromWindowCoordinates:function(t,e,r,n){this.setPolytope([i.fromValues(1,0,0,-t),i.fromValues(-1,0,0,r),i.fromValues(0,1,0,-e),i.fromValues(0,-1,0,n),i.fromValues(0,0,1,0)])},setPrimitiveMask:function(t){this._primitiveMask=t},reset:function(){this._intersections.length=0},enter:function(t){return!this.reachedLimit()&&(!t.isCullingActive()||this._iPolytope.containsBoundingSphere(t.getBound()))},reachedLimit:function(){return this._intersectionLimit===u.LIMIT_ONE&&this._intersections.length>0},intersect:function(t,e){if(this.reachedLimit())return!1;if(this._iPolytope.containsBoundingBox(e.getBoundingBox())){var r=new h;r._intersectionVisitor=t,r._referencePlane=this._iReferencePlane,r._polytopeIntersector=this,r._limitOneIntersection=this._intersectionLimit===u.LIMIT_ONE_PER_DRAWABLE||this._intersectionLimit===u.LIMIT_ONE,r._primitiveMask=this._primitiveMask,r._geometry=e;var i=e.getShape(),n=new s(r);i?i.intersect(n,i.getNodes()[0]):n.apply(e)}},insertIntersection:function(t){this._intersections.push(t)},getIntersections:function(){return this._intersections},setIntersectionLimit:function(t){this._intersectionLimit=t},setCurrentTransformation:function(t){for(var e=this._polytope.getPlanes(),r=this._iPolytope.getPlanes(),a=0,s=e.length;a<s;a++){var o=r[a]=r[a]||i.create();l(o,e[a],t),i.scale(o,o,1/n.len(o))}l(this._iReferencePlane,this._referencePlane,t),i.scale(this._iReferencePlane,this._iReferencePlane,1/n.len(this._iReferencePlane))}},t.exports=c},function(t,e,r){"use strict";var i=r(16).vec3,n=r(91),a=r(50),s=r(156),o=function(){this._intersectionPoints=[],this._primitiveIndex=void 0,this._distance=0,this._maxDistance=0,this._nodePath=void 0,this._drawable=void 0,this._matrix=void 0,this._localIntersectionPoint=void 0,this._numIntersectionPoints=0},u=function(t){this._src=[],this._dest=[],this._settings=t,this._primitiveIndex=0,this._hit=!1,this._maxNumIntersectionsPoints=6,this._primitiveMask=s.ALL_PRIMITIVES};u.prototype={enter:function(t){return!!this._settings._polytopeIntersector.getPolytope().containsBoundingBox(t)&&(this._settings._polytopeIntersector.getPolytope().pushCurrentMask(),!0)},leave:function(){this._settings._polytopeIntersector.getPolytope().popCurrentMask()},addIntersection:function(){var t=function(t){for(var e={},r=[],i=t.length,n=0,a=0;a<i;a++){var s=t[a];1!==e[s]&&(e[s]=1,r[n++]=s)}return r};this._src=t(this._src);for(var e=i.create(),r=-Number.MAX_VALUE,n=this._settings._referencePlane,s=0;s<this._src.length;++s){i.add(e,e,this._src[s]);var u=a.distanceToPlane(n,this._src[s]);u>r&&(r=u)}i.scale(e,e,1/this._src.length);var h=new o;for(h._primitiveIndex=this._primitiveIndex,h._distance=a.distanceToPlane(n,e),h._maxDistance=r,h._nodePath=this._settings._intersectionVisitor.getNodePath().slice(),h._drawable=this._settings._geometry,h._matrix=this._settings._intersectionVisitor.getModelMatrix(),h._localIntersectionPoint=i.clone(e),h._numIntersectionPoints=this._src.length<this._maxNumIntersectionsPoints?this._src.length:this._maxNumIntersectionsPoints,s=0;s<h._numIntersectionPoints;++s)h._intersectionPoints.push(i.clone(this._src[s]));this._settings._polytopeIntersector.insertIntersection(h),this._hit=!0},contains:function(){var t=this._settings._polytopeIntersector.getPolytope(),e=t.getPlanes(),r=t.getCurrentMask();if(!r)return!0;for(var n=1,s=0;s<e.length;++s){if(r&n){this._dest=[];for(var o=e[s],u=this._src[1],h=a.distanceToPlane(o,u),c=0;c<this._src.length;++c){var l=this._src[c],d=a.distanceToPlane(o,l);if(h>=0&&this._dest.push(i.clone(u)),h*d<0){var f=h-d,p=h/f,g=i.add(i.create(),i.scale(i.create(),u,1-p),i.scale(i.create(),l,p));this._dest.push(g)}h=d,u=l}if(h>=0&&this._dest.push(i.clone(u)),this._dest.length<=1)return!1;var _=this._src.slice();this._src=this._dest.slice(),this._dest=_}n<<=1}return!0},containsPoint:function(t){return!!this._settings._polytopeIntersector.getPolytope().containsVertex(t)&&(this._src=[],this._src[0]=t,!0)},containsLine:function(t,e){return this._src=[],this._src[0]=t,this._src[1]=e,this.contains()},containsTriangle:function(t,e,r){return this._src=[],this._src[0]=t,this._src[1]=e,this._src[2]=r,this.contains()},operatorPoint:function(t){if(!(this._settings._limitOneIntersection&&this._hit||0===(this._settings._primitiveMask&s.POINT_PRIMITIVES))){this._primitiveIndex++;var e,r=this._settings._polytopeIntersector.getPolytope(),i=r.getPlanes(),n=r.getCurrentMask();if(n)for(var o=1,u=0,h=i.length;u<h;++u)if(n&o&&(e=a.distanceToPlane(i[u],t),e<0))return;this._src[0]=t,this.addIntersection()}},operatorLine:function(t,e){this._settings._limitOneIntersection&&this._hit||0!==(this._settings._primitiveMask&s.LINE_PRIMITIVES)&&(this._primitiveIndex++,this._src=[],this._src[0]=t,this._src[1]=e,this._src[2]=t,this.contains()&&this.addIntersection())},operatorTriangle:function(t,e,r){this._settings._limitOneIntersection&&this._hit||0!==(this._settings._primitiveMask&s.TRIANGLE_PRIMITIVES)&&(this._primitiveIndex++,this._src=[],this._src[0]=t,this._src[1]=e,this._src[2]=r,this._src[3]=t,this.contains()&&this.addIntersection())},intersectPoint:function(){var t=i.create();return function(e,r,n){this._settings._limitOneIntersection&&this._hit||0!==(this._settings._primitiveMask&s.POINT_PRIMITIVES)&&(i.set(t,e[3*n],e[3*n+1],e[3*n+2]),this.containsPoint(t)&&(this._primitiveIndex=r,this.addIntersection()))}}(),intersectLine:function(){var t=i.create(),e=i.create();return function(r,n,a,o){this._settings._limitOneIntersection&&this._hit||0!==(this._settings._primitiveMask&s.LINE_PRIMITIVES)&&(i.set(t,r[3*a],r[3*a+1],r[3*a+2]),i.set(e,r[3*o],r[3*o+1],r[3*o+2]),this.containsLine(t,e)&&(this._primitiveIndex=n,this.addIntersection()))}}(),intersectTriangle:function(){var t=i.create(),e=i.create(),r=i.create();return function(n,a,o,u,h){this._settings._limitOneIntersection&&this._hit||0!==(this._settings._primitiveMask&s.TRIANGLE_PRIMITIVES)&&(i.set(t,n[3*o],n[3*o+1],n[3*o+2]),i.set(e,n[3*u],n[3*u+1],n[3*u+2]),i.set(r,n[3*h],n[3*h+1],n[3*h+2]),this.containsTriangle(t,e,r)&&(this._primitiveIndex=a,this.addIntersection()))}}(),apply:function(t){if(t.getAttributes().Vertex){var e=t.getAttributes().Vertex.getElements(),r=this,i=function(){return{operatorPoint:function(t){r.operatorPoint(t)},operatorLine:function(t,e){r.operatorLine(t,e)},operatorTriangle:function(t,e,i){r.operatorTriangle(t,e,i)}}},a=new n(t,i,e);a.apply()}}},t.exports=u},function(t,e,r){"use strict";var i=r(160),n=function(t){this._manipulator=t,this._timer=!1,this.init()};n.prototype={init:function(){this.releaseButton(),this._rotateKey=65,this._zoomKey=83,this._panKey=68,this._mode=void 0},getMode:function(){return this._mode},setMode:function(t){this._mode=t},setEventProxy:function(t){this._eventProxy=t},setManipulator:function(t){this._manipulator=t},setDimensionMask:function(t){this._dimensionMask=t},mousemove:function(t){if(this._buttonup!==!0){var e=this._manipulator,r=e.getPositionRelativeToCanvas(t.clientX,t.clientY);if(isNaN(r[0])===!1&&isNaN(r[1])===!1){var n=this.getMode();if(n===i.Rotate)e.getRotateInterpolator().setTarget(r[0],r[1]);else if(n===i.Pan)e.getPanInterpolator().setTarget(r[0],r[1]);else if(n===i.Zoom){var a=e.getZoomInterpolator();e.computeIntersections(r),a.isReset()&&(a.setStart(r[1]),a.set(0));var s=r[1]-a.getStart();a.setStart(r[1]);var o=a.getTarget()[0];a.setTarget(o-s/20)}}t.preventDefault()}},mousedown:function(t){var e=this._manipulator,r=this.getMode();void 0===r&&(0===t.button?t.shiftKey?this.setMode(i.Pan):t.ctrlKey?this.setMode(i.Zoom):this.setMode(i.Rotate):this.setMode(i.Pan)),this.pushButton();var n=e.getPositionRelativeToCanvas(t.clientX,t.clientY);e.computeIntersections(n),r=this.getMode(),r===i.Rotate?(e.getRotateInterpolator().reset(),e.getRotateInterpolator().set(n[0],n[1])):r===i.Pan?(e.getPanInterpolator().reset(),e.getPanInterpolator().set(n[0],n[1])):r===i.Zoom&&(e.getZoomInterpolator().setStart(n[1]),e.getZoomInterpolator().set(0))},mouseup:function(){this.releaseButton(),this.setMode(void 0)},mousewheel:function(t,e){var r=this._manipulator,i=r.getZoomInterpolator().getTarget()[0]-e;r.getZoomInterpolator().setTarget(i);var n;if(this._timer===!1){this._timer=!0;var a=this;clearTimeout(n),n=setTimeout(function(){a._timer=!1},200);var s=r.getPositionRelativeToCanvas(t.clientX,t.clientY);r.computeIntersections(s)}},dblclick:function(t){var e=this._manipulator;t.preventDefault(),e.getZoomInterpolator().set(0);var r=e.getZoomInterpolator().getTarget()[0]-10;e.getZoomInterpolator().setTarget(r);var i=e.getPositionRelativeToCanvas(t.clientX,t.clientY);e.computeIntersections(i)},pushButton:function(){this._buttonup=!1},releaseButton:function(){this._buttonup=!0},keydown:function(t){32===t.keyCode?(this._manipulator.computeHomePosition(),t.preventDefault()):t.keyCode===this._panKey&&this.getMode()!==i.Pan?(this.setMode(i.Pan),this._manipulator.getPanInterpolator().reset(),this.pushButton(),t.preventDefault()):t.keyCode===this._zoomKey&&this.getMode()!==i.Zoom?(this.setMode(i.Zoom),this._manipulator.getZoomInterpolator().reset(),this.pushButton(),t.preventDefault()):t.keyCode===this._rotateKey&&this.getMode()!==i.Rotate&&(this.setMode(i.Rotate),this._manipulator.getRotateInterpolator().reset(),this.pushButton(),t.preventDefault())},keyup:function(t){t.keyCode===this._panKey?this.mouseup(t):t.keyCode===this._rotateKey?this.mouseup(t):t.keyCode===this._rotateKey&&this.mouseup(t),this.setMode(void 0)}},t.exports=n},function(t,e,r){"use strict";var i=r(7),n=r(16).vec3,a=r(16).mat4,s=r(152),o=r(161),u=r(163),h=r(164),c=r(165),l=r(166),d=r(168),f=r(169),p=function(t){s.call(this,t),this._homePosition=n.create(),this._frustum={},this.init()};p.AvailableControllerList=["StandardMouseKeyboard","LeapMotion","GamePad","Hammer","DeviceOrientation","WebVR"],p.ControllerList=["StandardMouseKeyboard","LeapMotion","GamePad","Hammer","DeviceOrientation","WebVR"];var g=2*Math.PI,_=function(t,e){return t<e+1e-5};p.prototype=i.objectInherit(s.prototype,{init:function(){this._distance=25,this._target=n.create(),this._upz=n.fromValues(0,0,1),n.init(this._target);var t=a.fromRotation(a.create(),-Math.PI,this._upz),e=a.fromRotation(a.create(),Math.PI/10,n.fromValues(1,0,0));this._rotation=a.create(),a.mul(this._rotation,t,e),this._time=0,this._vrMatrix=a.create(),this._rotate=new f(2),this._pan=new f(2),this._zoom=new f(1),this._minSpeed=1e-4,this._scaleMouseMotion=1,this._inverseMatrix=a.create(),this._autoPushTarget=!0,this._limitPitchUp=.5*Math.PI*.9,this._limitPitchDown=-this._limitPitchUp,this._limitYawLeft=-Math.PI,this._limitYawRight=-this._limitYawLeft,this._limitZoomIn=1e-4,this._limitZoomOut=1/0;var r=this;p.ControllerList.forEach(function(t){void 0!==p[t]&&(r._controllerList[t]=new p[t](r))})},setLimitPitchUp:function(t){this._limitPitchUp=t},setLimitPitchDown:function(t){this._limitPitchDown=t},setLimitYawLeft:function(t){this._limitYawLeft=t},setLimitYawRight:function(t){this._limitYawRight=t},setLimitZoomOut:function(t){this._limitZoomOut=t},setLimitZoomIn:function(t){this._limitZoomIn=t},setDelay:function(t){this._rotate.setDelay(t),this._pan.setDelay(t),this._zoom.setDelay(t)},reset:function(){this.init()},setTarget:function(t){n.copy(this._target,t);var e=n.create();this.getEyePosition(e),this._distance=n.distance(t,e)},setEyePosition:function(){var t=n.create(),e=n.create(),r=n.create();return function(i){var a=this._rotation,s=this._target;n.sub(t,i,s),n.normalize(t,t),n.cross(e,t,this._upz),n.normalize(e,e),n.cross(r,e,t),n.normalize(r,r),a[0]=e[0],a[1]=t[0],a[2]=r[0],a[3]=0,a[4]=e[1],a[5]=t[1],a[6]=r[1],a[7]=0,a[8]=e[2],a[9]=t[2],a[10]=r[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this._distance=n.distance(s,i)}}(),computeHomePosition:function(t){var e=this.getHomeBound(t);e&&e.valid()&&(this.setDistance(this.getHomeDistance(e)),this.setTarget(e.center()))},getHomePosition:function(){if(void 0!==this._node){var t=this._target,e=this.getDistance();this.computeEyePosition(t,e,this._homePosition)}return this._homePosition},setMinSpeed:function(t){this._minSpeed=t},getMinSpeed:function(){return this._minSpeed},setDistance:function(t){this._distance=t;
},getDistance:function(){return this._distance},getSpeedFactor:function(){return Math.max(this._distance,this._minSpeed)},computePan:function(){var t=a.create(),e=n.create(),r=n.create();return function(i,s){var o=this._camera.getProjectionMatrix(),u=1===o[15]?1:2/o[5],h=this.getSpeedFactor()*u;s*=h,i*=h,a.invert(t,this._rotation),e[0]=t[0],e[1]=t[1],e[2]=t[2],n.normalize(e,e),r[0]=t[8],r[1]=t[9],r[2]=t[10],n.normalize(r,r),n.scale(e,e,-i),n.scale(r,r,s),n.add(this._target,this._target,e),n.add(this._target,this._target,r)}}(),computeRotation:function(){var t=n.fromValues(1,0,0);return function(e,r){var i=Math.atan(-this._rotation[6]/this._rotation[5])+r/10;i=Math.min(Math.max(i,this._limitPitchDown),this._limitPitchUp);var n=e/10,s=Math.atan2(this._rotation[4],this._rotation[0]),o=this._computeYaw(s,n,this._limitYawLeft,this._limitYawRight);a.fromRotation(this._rotation,-i,t),a.rotate(this._rotation,this._rotation,-o,this._upz)}}(),_computeYaw:function(t,e,r,i){var n=t+e;if(i!==Math.PI||r!==-Math.PI){if(i<r&&(n>Math.PI&&(t-=g,n-=g),n<-Math.PI&&(t+=g,n+=g)),0===e){var a=!1;a=r>i?n<r&&n>i:n<r||n>i,a&&(n=Math.abs(n-r)>Math.abs(n-i)?i:r)}e>0&&_(t,i)&&n>i?n=i:e<0&&_(r,t)&&n<r&&(n=r)}return n},computeZoom:function(t){this.zoom(t)},setAutoPushTarget:function(t){this._autoPushTarget=t},zoom:function(){var t=n.create();return function(e){var r=this._distance+this.getSpeedFactor()*(e-1);this._autoPushTarget&&r<this._limitZoomIn&&(n.sub(t,this._target,this.getEyePosition(t)),n.normalize(t,t),n.scale(t,t,this._limitZoomIn-r),n.add(this._target,this._target,t)),this._distance=Math.max(this._limitZoomIn,Math.min(this._limitZoomOut,r))}}(),getRotateInterpolator:function(){return this._rotate},getPanInterpolator:function(){return this._pan},getZoomInterpolator:function(){return this._zoom},getTarget:function(t){return n.copy(t,this._target)},getEyePosition:function(t){return this.computeEyePosition(this._target,this._distance,t),t},computeEyePosition:function(){var t=n.create(),e=a.create();return function(r,i,s){a.invert(e,this._rotation),t[1]=i,n.transformMat4(s,t,e),n.add(s,r,s)}}(),update:function(){var t=n.create();return function(e){var r,i=e.getFrameStamp().getDeltaTime(),s=.1;r=this._rotate.update(i),this.computeRotation(-r[0]*s*this._scaleMouseMotion,-r[1]*s*this._scaleMouseMotion);var o=.002;r=this._pan.update(i),this.computePan(-r[0]*o,-r[1]*o),r=this._zoom.update(i),this.computeZoom(1+r[0]/10);var u=this._target,h=this._distance;a.invert(this._inverseMatrix,this._rotation),a.mul(this._inverseMatrix,this._vrMatrix,this._inverseMatrix),n.set(t,0,h,0),n.transformMat4(t,t,this._inverseMatrix),a.lookAt(this._inverseMatrix,n.add(t,u,t),u,this._upz)}}(),setPoseVR:function(t){a.fromQuat(this._vrMatrix,t)}}),p.DeviceOrientation=o,p.GamePad=u,p.Hammer=h,p.LeapMotion=c,p.WebVR=d,p.StandardMouseKeyboard=l,t.exports=p},function(t,e,r){"use strict";var i=r(16).quat,n=r(16).vec3,a=r(162),s=function(t){this._manipulator=t,this.init()};s.prototype={init:function(){this._stepFactor=1,this._quat=i.create(),this._pos=n.create()},update:function(t,e){a.computeQuaternion(this._quat,t,e),this._manipulator.setPoseVR(this._quat,this._pos)}},t.exports=s},function(t,e,r){"use strict";var i=r(16).quat,n=r(16).vec3,a=Math.PI/180,s=function(t,e,r,i,n){var a=Math.cos(e/2),s=Math.cos(r/2),o=Math.cos(i/2),u=Math.sin(e/2),h=Math.sin(r/2),c=Math.sin(i/2);return"XYZ"===n?(t[0]=u*s*o+a*h*c,t[1]=a*h*o-u*s*c,t[2]=a*s*c+u*h*o,t[3]=a*s*o-u*h*c):"YXZ"===n?(t[0]=u*s*o+a*h*c,t[1]=a*h*o-u*s*c,t[2]=a*s*c-u*h*o,t[3]=a*s*o+u*h*c):"ZXY"===n?(t[0]=u*s*o-a*h*c,t[1]=a*h*o+u*s*c,t[2]=a*s*c+u*h*o,t[3]=a*s*o-u*h*c):"ZYX"===n?(t[0]=u*s*o-a*h*c,t[1]=a*h*o+u*s*c,t[2]=a*s*c-u*h*o,t[3]=a*s*o+u*h*c):"YZX"===n?(t[0]=u*s*o+a*h*c,t[1]=a*h*o+u*s*c,t[2]=a*s*c-u*h*o,t[3]=a*s*o-u*h*c):"XZY"===n&&(t[0]=u*s*o-a*h*c,t[1]=a*h*o-u*s*c,t[2]=a*s*c+u*h*o,t[3]=a*s*o+u*h*c),t},o=function(t){this._manipulator=t,this.init()};o.computeQuaternion=function(){var t=i.create(),e=i.fromValues(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(r,n,o){var u=n.alpha*a,h=n.beta*a,c=n.gamma*a,l=o*a;s(r,h,u,-c,"YXZ");var d=-l/2;t[1]=Math.sin(d),t[3]=Math.cos(d),i.mul(r,r,t),i.mul(r,r,e);var f=r[1];return r[1]=-r[2],r[2]=f,r}}(),o.prototype={init:function(){this._stepFactor=1,this._quat=i.create(),this._pos=n.create()},update:function(t,e){o.computeQuaternion(this._quat,t,e),this._manipulator.setPoseVR(this._quat,this._pos)}},t.exports=o},function(t,e,r){"use strict";var i=r(16).vec2,n=function(t){this._manipulator=t,this.init()};n.prototype={init:function(){this._delay=.15,this._threshold=.08,this._mode=0,this._padFactor=10,this._zoomFactor=.5,this._rotateFactor=5},addPan:function(t,e,r){t.setDelay(this._delay),t.addTarget(e*this._padFactor,r*this._padFactor)},addZoom:function(t,e){t.setDelay(this._delay),t.addTarget(e*this._zoomFactor)},addRotate:function(t,e,r){t.setDelay(this._delay),t.addTarget(e*this._rotateFactor,r*this._rotateFactor)},gamepadaxes:function(t){var e=.005,r=this._manipulator.getRotateInterpolator(),i=this._manipulator.getZoomInterpolator(),n=this._manipulator.getPanInterpolator();4===t.length?((Math.abs(t[0])>e||Math.abs(t[1])>e)&&this.addRotate(r,-t[0],t[1]),Math.abs(t[3])>e&&this.addZoom(i,-t[3])):t.length>=5&&((Math.abs(t[0])>e||Math.abs(t[1])>e)&&this.addPan(n,-t[0],t[1]),Math.abs(t[2])>e&&this.addZoom(i,-t[2]),(Math.abs(t[3])>e||Math.abs(t[4])>e)&&this.addRotate(r,t[4],t[3]))},gamepadbuttondown:function(t){if(t.button>=12&&t.button<=15){var e=this._manipulator.getPanInterpolator(),r=e.getTarget(),n={12:i.fromValues(0,-1),13:i.fromValues(0,1),14:i.fromValues(-1,0),15:i.fromValues(1,0)}[t.button];e.setDelay(this._delay),e.setTarget(r[0]-10*n[0],r[1]+10*n[1])}},update:function(t){if(t){var e=t.axes,r=t.buttons;this.gamepadaxes(e);for(var i=function(){},n=0;n<r.length;n++)r[n]&&this.gamepadbuttondown({preventDefault:i,gamepad:t,button:n},!!r[n])}}},t.exports=n},function(t,e,r){"use strict";var i=r(11),n=r(17),a=function(t){this._manipulator=t,this.init()};a.prototype={init:function(){this._panFactorX=1,this._panFactorY=-this._panFactorX,this._rotateFactorX=.6,this._rotateFactorY=-this._rotateFactorX,this._zoomFactor=5,this._lastScale=0,this._nbPointerLast=0,this._delay=.15,this._transformStarted=!1,this._dragStarted=!1},setEventProxy:function(t){if(void 0!==t&&(void 0===t||t!==this._eventProxy)){this._eventProxy=t;var e=this,r=t,a=function(t){return void 0!==t.pointers?t.pointers.length:1},s=function(t){return"touches "+a(t)+" distance "+t.distance+" x "+t.deltaX+" y "+t.deltaY};r.get("pinch").set({threshold:.1}),r.get("pan").set({threshold:0,pointers:0}),r.get("pinch").recognizeWith(r.get("pan")),this._cbPanStart=function(t){var r=e._manipulator;r&&!e._transformStarted&&"mouse"!==t.pointerType&&(e._dragStarted=!0,e._nbPointerLast=a(t),2===e._nbPointerLast?(r.getPanInterpolator().reset(),r.getPanInterpolator().set(t.center.x*e._panFactorX,t.center.y*e._panFactorY)):(r.getRotateInterpolator().reset(),r.getRotateInterpolator().set(t.center.x*e._rotateFactorX,t.center.y*e._rotateFactorY)),i.debug("drag start, "+s(t)))},this._cbPanMove=function(t){var r=e._manipulator;if(r&&e._dragStarted&&"mouse"!==t.pointerType){var n=a(t);e._nbPointerLast!==n&&(2===n?r.getPanInterpolator().reset():r.getRotateInterpolator().reset(),e._nbPointerLast=n),2===n?(r.getPanInterpolator().setTarget(t.center.x*e._panFactorX,t.center.y*e._panFactorY),i.debug("pan, "+s(t))):(r.getRotateInterpolator().setDelay(e._delay),r.getRotateInterpolator().setTarget(t.center.x*e._rotateFactorX,t.center.y*e._rotateFactorY),i.debug("rotate, "+s(t)))}},this._cbPanEnd=function(t){var r=e._manipulator;r&&e._dragStarted&&"mouse"!==t.pointerType&&(e._dragStarted=!1,i.debug("drag end, "+s(t)))},this._cbPinchStart=function(t){var r=e._manipulator;r&&"mouse"!==t.pointerType&&(e._transformStarted=!0,e._lastScale=t.scale,r.getZoomInterpolator().reset(),r.getZoomInterpolator().set(e._lastScale),t.preventDefault(),i.debug("zoom start, "+s(t)))},this._cbPinchEnd=function(t){"mouse"!==t.pointerType&&(e._transformStarted=!1,i.debug("zoom end, "+s(t)))},this._cbPinchInOut=function(t){var r=e._manipulator;if(r&&e._transformStarted&&"mouse"!==t.pointerType){var a=t.scale>e._lastScale?e._zoomFactor:3*e._zoomFactor,o=0,u=.5;a*=n.smoothStep(o,u,-Math.abs(t.velocity)+(o+u));var h=(t.scale-e._lastScale)*a;e._lastScale=t.scale,r.getZoomInterpolator().setTarget(r.getZoomInterpolator().getTarget()[0]-h),i.debug("zoom, "+s(t))}},r.on("panstart ",this._cbPanStart),r.on("panmove",this._cbPanMove),r.on("panend",this._cbPanEnd),r.on("pinchstart",this._cbPinchStart),r.on("pinchend",this._cbPinchEnd),r.on("pinchin pinchout",this._cbPinchInOut)}},removeEventProxy:function(t){t&&this._eventProxy&&(t.off("panstart ",this._cbPanStart),t.off("panmove",this._cbPanMove),t.off("panend",this._cbPanEnd),t.off("pinchstart",this._cbPinchStart),t.off("pinchend",this._cbPinchEnd),t.off("pinchin pinchout",this._cbPinchInOut))},setManipulator:function(t){this._manipulator=t}},t.exports=a},function(t,e,r){"use strict";var i=r(11),n=r(16).vec3,a=r(16).vec2,s=function(t){this._manipulator=t,this.init()},o={rotate:{dtx:-1.44,dty:-1.08,dtz:-.1,delay:.05,method:"getRotateInterpolator"},pan:{dtx:-1.44,dty:-1.08,delay:.05,method:"getPanInterpolator"},zoom:{dtx:0,dty:-.5,delay:.05,method:"getZoomInterpolator"},"zoom-twohands":{dtx:-.05,dty:0,delay:.05,method:"getZoomInterpolator"}};s.prototype={init:function(){this._virtualCursor=a.fromValues(0,0),this._targetPosition=a.fromValues(0,0),this._previousFrame=void 0,this._displacement=a.fromValues(0,0),this._top=a.fromValues(0,1),this._motion=a.fromValues(0,0),this._delay=.05,this._threshold=.08,this._directionDotThreshold=.5,this._mode="rotate"},update:function(t){if(this._previousFrame||(this._previousFrame=t),0!==t.fingers.length){var e=this._previousFrame.translation(t);if(this._previousFrame=t,0!==t.hands.length&&!(Math.abs(e[0])<this._threshold&&Math.abs(e[1])<this._threshold)){var r=this._mode,a=0;if(t.gestures.length>0)for(var s=0;s<t.gestures.length;s++){var u=t.gestures[s];if("circle"===u.type)return void this._manipulator.computeHomePosition()}if(1===t.hands.length)t.hands[0].fingers.length>=3?(r="zoom",a=t.hands[0].palmPosition[1]/10,a=Math.max(a-4,.01)):r=t.hands[0].fingers.length>1?"pan":"rotate";else if(2===t.hands.length){var h=Math.abs(n.dot(t.hands[0].palmNormal,this._top)),c=Math.abs(n.dot(t.hands[1].palmNormal,this._top));h<this._directionDotThreshold&&c<this._directionDotThreshold?r="zoom-twohands":(r=void 0,this._handsDistanceOld=void 0)}var l=this._manipulator.getZoomInterpolator();if(void 0!==r){if(r!==this._mode)return i.info("Switch to mode "+r),this._motion[0]=0,this._motion[1]=0,this._mode=r,void("zoom"!==r&&"zoom-twohands"!==r||l.isReset()&&(l.setStart(1),l.set(0)));var d,f,p;d=o[r].dtx,f=o[r].dty,p=o[r].dtz,this._motion[0]+=e[0]*d,this._motion[1]+=e[1]*f;var g=o[r].delay,_=o[r].method;if(this._manipulator[_]().setDelay(g),"zoom"===r)i.log(a),l.setTarget(a);else if("zoom-twohands"===r){var m=n.distance(t.hands[1].palmPosition,t.hands[0].palmPosition);if(void 0!==this._handsDistanceOld){var v=d*(m-this._handsDistanceOld);a=l._target,a[0]+=v}this._handsDistanceOld=m}else"rotate"===r&&(a=l._target[0],a+=e[2]*p,a=Math.max(a,.01),l.setTarget(a)),this._manipulator[_]().addTarget(this._motion[0],this._motion[1]);this._motion[1]=this._motion[0]=0}}}}},t.exports=s},function(t,e,r){"use strict";var i=r(17),n=r(167),a=function(t){this._manipulator=t,this.init()};a.prototype={init:function(){this.releaseButton(),this._rotateKey=65,this._zoomKey=83,this._panKey=68,this._mode=void 0,this._delay=.15},getMode:function(){return this._mode},setMode:function(t){this._mode=t},setEventProxy:function(t){this._eventProxy=t},setManipulator:function(t){this._manipulator=t},mousemove:function(t){if(this._buttonup!==!0){var e=this._eventProxy.getPositionRelativeToCanvas(t),r=this._manipulator;if(i.isNaN(e[0])===!1&&i.isNaN(e[1])===!1){var a=this.getMode();if(a===n.ROTATE)r.getRotateInterpolator().setDelay(this._delay),r.getRotateInterpolator().setTarget(e[0],e[1]);else if(a===n.PAN)r.getPanInterpolator().setTarget(e[0],e[1]);else if(a===n.ZOOM){var s=r.getZoomInterpolator();s.isReset()&&(s.setStart(e[1]),s.set(0));var o=e[1]-s.getStart();s.setStart(e[1]);var u=s.getTarget()[0];s.setTarget(u-o/20)}}t.preventDefault()}},mousedown:function(t){var e=this._manipulator,r=this.getMode();void 0===r&&(0===t.button?t.shiftKey?this.setMode(n.PAN):t.ctrlKey?this.setMode(n.ZOOM):this.setMode(n.ROTATE):2===t.button&&t.ctrlKey?this.setMode(n.ZOOM):this.setMode(n.PAN)),this.pushButton();var i=this._eventProxy.getPositionRelativeToCanvas(t);r=this.getMode(),r===n.ROTATE?(e.getRotateInterpolator().reset(),e.getRotateInterpolator().set(i[0],i[1])):r===n.PAN?(e.getPanInterpolator().reset(),e.getPanInterpolator().set(i[0],i[1])):r===n.ZOOM&&(e.getZoomInterpolator().setStart(i[1]),e.getZoomInterpolator().set(0))},mouseup:function(){this.releaseButton(),this.setMode(void 0)},mouseout:function(){this.releaseButton(),this.setMode(void 0)},mousewheel:function(t,e){var r=this._manipulator,i=r.getZoomInterpolator().getTarget()[0]-e;r.getZoomInterpolator().setTarget(i)},pushButton:function(){this._buttonup=!1},releaseButton:function(){this._buttonup=!0},keydown:function(t){32===t.keyCode?(this._manipulator.computeHomePosition(),t.preventDefault()):t.keyCode===this._panKey&&this.getMode()!==n.PAN?(this.setMode(n.PAN),this._manipulator.getPanInterpolator().reset(),this.pushButton(),t.preventDefault()):t.keyCode===this._zoomKey&&this.getMode()!==n.ZOOM?(this.setMode(n.ZOOM),this._manipulator.getZoomInterpolator().reset(),this.pushButton(),t.preventDefault()):t.keyCode===this._rotateKey&&this.getMode()!==n.ROTATE&&(this.setMode(n.ROTATE),this._manipulator.getRotateInterpolator().reset(),this.pushButton(),t.preventDefault())},keyup:function(t){t.keyCode===this._panKey?this.mouseup(t):t.keyCode===this._rotateKey?this.mouseup(t):t.keyCode===this._rotateKey&&this.mouseup(t),this.setMode(void 0)}},t.exports=a},function(t,e){"use strict";t.exports={ROTATE:0,PAN:1,ZOOM:2}},function(t,e){"use strict";var r=function(t){this._manipulator=t,this.init()};r.prototype={init:function(){},update:function(t,e){this._manipulator.setPoseVR(t,e)}},t.exports=r},function(t,e){var r=function(t,e){this._current=new Float32Array(t),this._target=new Float32Array(t),this._delta=new Float32Array(t),this._delay=void 0!==e?e:.15,this._reset=!1,this._start=0,this.reset()};r.prototype={setDelay:function(t){this._delay=t},reset:function(){for(var t=0,e=this._current.length;t<e;t++)this._current[t]=this._target[t]=0;this._reset=!0},update:function(t){for(var e=Math.min(1,this._delay*t*60),r=0,i=this._current.length;r<i;r++){var n=(this._target[r]-this._current[r])*e;this._delta[r]=n,this._current[r]+=n}return this._delta},set:function(){for(var t=0,e=this._current.length;t<e;t++)this._current[t]=this._target[t]=arguments[t];this._reset=!1},isReset:function(){return this._reset},getCurrent:function(){return this._current},setTarget:function(){for(var t=0,e=this._target.length;t<e;t++)this._reset?this._target[t]=this._current[t]=arguments[t]:this._target[t]=arguments[t];this._reset=!1},addTarget:function(){for(var t=0;t<arguments.length;t++)this._target[t]+=arguments[t]},getTarget:function(){return this._target},getDelta:function(){return this._delta},getStart:function(){return this._start},setStart:function(t){this._start=t}},t.exports=r},function(t,e,r){"use strict";var i=r(11),n=function(t){this._manipulator=t,this._timer=!1,this.init()};n.prototype={init:function(){this._panFactorX=1,this._panFactorY=-this._panFactorX,this._rotateFactorX=.6,this._rotateFactorY=-this._rotateFactorX,this._zoomFactor=5,this._lastScale=0,this._nbPointerLast=0,this._lastPos=void 0},setEventProxy:function(t){if(void 0!==t&&(void 0===t||t!==this._eventProxy)){this._eventProxy=t;var e=this,r=t,n=function(t){return void 0!==t.pointers?t.pointers.length:1},a=function(t){return"touches "+n(t)+" distance "+t.distance+" x "+t.deltaX+" y "+t.deltaY};r.get("pinch").set({threshold:.1}),r.get("pan").set({threshold:0,pointers:0}),r.get("pinch").recognizeWith(r.get("pan")),r.get("tap").set({taps:2,posThreshold:300}),this._cbPanStart=function(t){var r=e._manipulator;if(r&&!e._transformStarted&&"mouse"!==t.pointerType){var s=t;e._dragStarted=!0,e._nbPointerLast=n(s);var o;2===e._nbPointerLast?(o=r.getPositionRelativeToCanvas(t.center.x,t.center.y),e._lastPos=o):o=void 0===e._lastPos?r.getCanvasCenter():e._lastPos,r.computeIntersections(o),2===e._nbPointerLast?(r.getPanInterpolator().reset(),r.getPanInterpolator().set(t.center.x*e._panFactorX,t.center.y*e._panFactorY)):r.getRotateInterpolator().reset(),i.debug("drag start, "+a(s))}},this._cbPanMove=function(t){var r=e._manipulator;if(r&&e._dragStarted&&"mouse"!==t.pointerType){var s=t,o=n(s);e._nbPointerLast!==o&&(2===o?r.getPanInterpolator().reset():r.getRotateInterpolator().reset(),e._nbPointerLast=o),2===o?(r.getPanInterpolator().setTarget(t.center.x*e._panFactorX,t.center.y*e._panFactorY),i.debug("pan, "+a(s))):(r.getRotateInterpolator().setTarget(t.center.x*e._rotateFactorX,t.center.y*e._rotateFactorY),i.debug("rotate, "+a(s)))}},this._cbPanEnd=function(t){var r=e._manipulator;if(r&&e._dragStarted&&"mouse"!==t.pointerType){e._dragStarted=!1;var n=t;i.debug("drag end, "+a(n))}},this._cbPinchStart=function(t){var r=e._manipulator;if(r&&"mouse"!==t.pointerType){e._transformStarted=!0;var n=t;e._lastScale=n.scale,r.getZoomInterpolator().reset(),r.getZoomInterpolator().set(e._lastScale),t.preventDefault(),i.debug("zoom start, "+a(n))}},this._cbPinchEnd=function(t){"mouse"!==t.pointerType&&(e._transformStarted=!1,i.debug("zoom end, "+a(t)))},this._cbPinchInOut=function(t){var r=e._manipulator;if(r&&e._transformStarted&&"mouse"!==t.pointerType){var n=t,s=n.scale>e._lastScale?e._zoomFactor:4*e._zoomFactor,o=(n.scale-e._lastScale)*s;e._lastScale=n.scale,r.getZoomInterpolator().setTarget(r.getZoomInterpolator().getTarget()[0]-o),i.debug("zoom, "+a(n))}},this._cbDoubleTap=function(t){var r=e._manipulator;if(r&&"mouse"!==t.pointerType){var n=t,s=r.getPositionRelativeToCanvas(t.center.x,t.center.y);e._lastPos=s,r.getZoomInterpolator().set(0);var o=r.getZoomInterpolator().getTarget()[0]-10;r.getZoomInterpolator().setTarget(o),i.debug("tap, "+a(n))}},r.on("panstart ",this._cbPanStart),r.on("panmove",this._cbPanMove),r.on("panend",this._cbPanEnd),r.on("pinchstart",this._cbPinchStart),r.on("pinchend",this._cbPinchEnd),r.on("pinchin pinchout",this._cbPinchInOut),r.on("tap",this._cbDoubleTap)}},removeEventProxy:function(t){t&&this._eventProxy&&(t.off("panstart ",this._cbPanStart),t.off("panmove",this._cbPanMove),t.off("panend",this._cbPanEnd),t.off("pinchstart",this._cbPinchStart),t.off("pinchend",this._cbPinchEnd),t.off("pinchin pinchout",this._cbPinchInOut),t.off("tap",this._cbDoubleTap))},setManipulator:function(t){this._manipulator=t}},t.exports=n},function(t,e,r){"use strict";var i=r(7),n=r(152),a=r(16).mat4,s=r(16).vec2,o=r(16).vec3,u=r(16).quat,h=r(162),c=r(172),l=r(173),d=r(174),f=r(169),p=function(t){n.call(this,t),this.init()};p.AvailableControllerList=["StandardMouseKeyboard","WebVR","DeviceOrientation","Hammer"],p.ControllerList=["StandardMouseKeyboard","WebVR","DeviceOrientation","Hammer"],p.prototype=i.objectInherit(n.prototype,{computeHomePosition:function(t){var e=this.getHomeBound(t);if(e&&e.valid()){this._distance=this.getHomeDistance(e);var r=e.center();o.scale(this._eye,this._direction,-this._distance),o.add(this._eye,r,this._eye),this.setTarget(r)}},init:function(){this._direction=o.fromValues(0,1,0),this._eye=o.fromValues(0,25,10),this._up=o.fromValues(0,0,1),this._distance=1,this._forward=new f(1),this._side=new f(1),this._lookPosition=new f(2),this._pan=new f(2),this._zoom=new f(1),this._stepFactor=1,this._angleVertical=0,this._angleHorizontal=0,this._tmpGetTargetDir=o.create(),this._vrEnable=!1,this._vrRot=u.create(),this._vrPos=o.create(),this._vrTrans=o.create();var t=this;this._controllerList={},p.ControllerList.forEach(function(e){void 0!==p[e]&&(t._controllerList[e]=new p[e](t))})},setDelay:function(t){this._forward.setDelay(t),this._side.setDelay(t),this._lookPosition.setDelay(t),this._pan.setDelay(t),this._zoom.setDelay(t)},getEyePosition:function(t){return t[0]=this._eye[0],t[1]=this._eye[1],t[2]=this._eye[2],t},setEyePosition:function(t){return this._eye[0]=t[0],this._eye[1]=t[1],this._eye[2]=t[2],this},getTarget:function(t){var e=o.scale(this._tmpGetTargetDir,this._direction,this._distance);return o.add(t,this._eye,e),t},setTarget:function(t){var e=this._tmpGetTargetDir;o.sub(e,t,this._eye),e[2]=0,o.normalize(e,e),this._angleHorizontal=Math.acos(e[1]),e[0]<0&&(this._angleHorizontal=-this._angleHorizontal),o.sub(e,t,this._eye),o.normalize(e,e),this._angleVertical=-Math.asin(e[2]),o.copy(this._direction,e)},getLookPositionInterpolator:function(){return this._lookPosition},getSideInterpolator:function(){return this._side},getForwardInterpolator:function(){return this._forward},getPanInterpolator:function(){return this._pan},getZoomInterpolator:function(){return this._zoom},getRotateInterpolator:function(){return this._lookPosition},computeRotation:function(){var t=a.create(),e=a.create(),r=o.fromValues(1,0,0),i=o.fromValues(0,1,0),n=o.fromValues(0,0,1),s=.5*Math.PI;return function(u,h){this._angleVertical+=.01*h,this._angleHorizontal-=.01*u,this._angleVertical>s?this._angleVertical=s:this._angleVertical<-s&&(this._angleVertical=-s),this._vrEnable?(o.transformQuat(this._direction,i,this._vrRot),o.normalize(this._direction,this._direction),o.transformQuat(this._up,n,this._vrRot)):(a.fromRotation(t,-this._angleVertical,r),a.fromRotation(e,-this._angleHorizontal,n),a.mul(e,e,t),o.transformMat4(this._direction,i,e),o.normalize(this._direction,this._direction),o.transformMat4(this._up,n,e))}}(),reset:function(){this.init()},setDistance:function(t){this._distance=t},getDistance:function(){return this._distance},setStepFactor:function(t){this._stepFactor=t},computePosition:function(){var t=s.create();return function(e){this._forward.update(e),this._side.update(e);var r=this._distance<.001?.001:this._distance,i=this._camera.getProjectionMatrix(),n=1===i[15]?1:2/i[5];t[0]=this._forward.getCurrent()[0],t[1]=this._side.getCurrent()[0];var a=s.sqrLen(t);a>1&&s.scale(t,t,1/Math.sqrt(a));var u=this._pan.update(e),h=this._zoom.update(e),c=this._stepFactor*r*n*e,l=this._stepFactor*r*n*.005;this.moveForward(t[0]*c-h[0]*l*20),this.strafe(t[1]*c-u[0]*l),this.strafeVertical(-u[1]*l),this._vrEnable&&(o.add(this._eye,this._eye,this._vrTrans),o.init(this._vrTrans))}}(),update:function(){var t=o.create();return function(e){var r=e.getFrameStamp().getDeltaTime(),i=this._lookPosition.update(r);this.computeRotation(.5*-i[0],.5*-i[1]),this.computePosition(r),o.add(t,this._eye,this._direction),a.lookAt(this._inverseMatrix,this._eye,t,this._up),this._vrEnable=!1}}(),setPoseVR:function(t,e){this._vrEnable=!0,u.copy(this._vrRot,t),o.sub(this._vrTrans,e,this._vrPos),o.copy(this._vrPos,e)},moveForward:function(){var t=o.create();return function(e){o.normalize(t,this._direction),o.scale(t,t,e),o.add(this._eye,this._eye,t)}}(),strafe:function(){var t=o.create();return function(e){o.cross(t,this._direction,this._up),o.normalize(t,t),o.scale(t,t,e),o.add(this._eye,this._eye,t)}}(),strafeVertical:function(){var t=o.create();return function(e){o.normalize(t,this._up),o.scale(t,t,e),o.add(this._eye,this._eye,t)}}()}),p.DeviceOrientation=h,p.Hammer=c,p.WebVR=l,p.StandardMouseKeyboard=d,t.exports=p},function(t,e,r){"use strict";var i=r(164);t.exports=i},function(t,e){"use strict";var r=function(t){this._manipulator=t,this.init()};r.prototype={init:function(){},update:function(t,e){this._manipulator.setPoseVR(t,e)}},t.exports=r},function(t,e){"use strict";var r=function(t){this._manipulator=t,this.init()};r.prototype={init:function(){this.releaseButton(),this._delay=.15,this._stepFactor=1},setEventProxy:function(t){this._eventProxy=t},setManipulator:function(t){this._manipulator=t,this._manipulator.setStepFactor(this._stepFactor)},pushButton:function(){this._buttonup=!1},releaseButton:function(){this._buttonup=!0},mousedown:function(t){var e=this._eventProxy.getPositionRelativeToCanvas(t),r=this._manipulator;r.getLookPositionInterpolator().set(e[0],e[1]),this.pushButton()},mouseup:function(){this.releaseButton()},mouseout:function(){this.releaseButton()},mousemove:function(t){if(this._buttonup!==!0){var e=this._eventProxy.getPositionRelativeToCanvas(t);this._manipulator.getLookPositionInterpolator().setDelay(this._delay),this._manipulator.getLookPositionInterpolator().setTarget(e[0],e[1]),t.preventDefault()}},mousewheel:function(t,e){this._stepFactor=Math.min(Math.max(.001,this._stepFactor+.01*e),4),this._manipulator.setStepFactor(this._stepFactor)},keydown:function(t){var e=this._manipulator;if(32===t.keyCode)e.computeHomePosition(),t.preventDefault();else{if(87===t.keyCode||90===t.keyCode||38===t.keyCode)return e.getForwardInterpolator().setDelay(this._delay),e.getForwardInterpolator().setTarget(1),t.preventDefault(),!1;if(83===t.keyCode||40===t.keyCode)return e.getForwardInterpolator().setDelay(this._delay),e.getForwardInterpolator().setTarget(-1),t.preventDefault(),!1;if(68===t.keyCode||39===t.keyCode)return e.getSideInterpolator().setDelay(this._delay),e.getSideInterpolator().setTarget(1),t.preventDefault(),!1;if(65===t.keyCode||81===t.keyCode||37===t.keyCode)return e.getSideInterpolator().setDelay(this._delay),e.getSideInterpolator().setTarget(-1),t.preventDefault(),!1}},keyup:function(t){var e=this._manipulator;return 87===t.keyCode||90===t.keyCode||38===t.keyCode||83===t.keyCode||40===t.keyCode?(e.getForwardInterpolator().setDelay(this._delay),e.getForwardInterpolator().setTarget(0),!1):68===t.keyCode||39===t.keyCode||65===t.keyCode||81===t.keyCode||37===t.keyCode?(e.getSideInterpolator().setDelay(this._delay),e.getSideInterpolator().setTarget(0),!1):void 0}},t.exports=r},function(t,e){"use strict";var r=function(){this._manipulatorList=[],this._currentManipulator=void 0};r.prototype={getCamera:function(){return this.getCurrentManipulator().getCamera()},setCamera:function(t){for(var e=this.getManipulatorList(),r=0,i=e.length;r<i;++r)e[r].setCamera(t)},update:function(t){var e=this.getCurrentManipulator();if(void 0!==e)return e.update(t)},getNode:function(){return this.getCurrentManipulator()._node},setNode:function(t){for(var e=this.getManipulatorList(),r=0,i=e.length;r<i;++r)e[r].setNode(t)},getControllerList:function(){return this.getCurrentManipulator().getControllerList()},getNumManipulator:function(){return this._manipulatorList.length},addManipulator:function(t){this._manipulatorList.push(t),void 0===this._currentManipulator&&this.setManipulatorIndex(0)},getManipulatorList:function(){return this._manipulatorList},setManipulatorIndex:function(t){this._currentManipulator=t},getCurrentManipulatorIndex:function(){return this._currentManipulator},getCurrentManipulator:function(){return this._manipulatorList[this._currentManipulator]},reset:function(){this.getCurrentManipulator().reset()},computeHomePosition:function(t){var e=this.getCurrentManipulator();void 0!==e&&e.computeHomePosition(t)},getInverseMatrix:function(){var t=this.getCurrentManipulator();if(void 0!==t)return t.getInverseMatrix()},getHomeBound:function(t){return this.getCurrentManipulator().getHomeBound(t)},getHomeDistance:function(t){return this.getCurrentManipulator().getHomeDistance(t)}},t.exports=r},function(t,e,r){"use strict";var i=r(177),n=r(178),a=r(169),s=r(179),o=r(189),u=r(202),h=r(153),c=r(154),l=r(155),d=r(7),f=r(209),p=r(210),g=r(157),_=r(158),m=r(211),v=r(213),b=r(214),x=r(215),y=r(156),S={};S.Composer=i,d.objectMix(S,n),S.DelayInterpolator=a,S.DisplayNormalVisitor=s,S.DisplayGeometryVisitor=o,S.DisplayGraph=u,S.IntersectionVisitor=h,S.LineSegmentIntersector=c,S.LineSegmentIntersectFunctor=l,S.NodeGizmo=f,S.GizmoGeometry=p,S.WebVRCustom=b,S.PolytopeIntersector=g,S.PolytopeIntersectFunctor=_,S.SphereIntersector=m,S.TangentSpaceGenerator=v,S.WebVR=x,S.NO_LIMIT=y.NO_LIMIT,S.LIMIT_ONE_PER_DRAWABLE=y.LIMIT_ONE_PER_DRAWABLE,S.LIMIT_ONE=y.LIMIT_ONE,S.POINT_PRIMITIVES=y.POINT_PRIMITIVES,S.LINE_PRIMITIVES=y.LINE_PRIMITIVES,S.TRIANGLE_PRIMITIVES=y.TRIANGLE_PRIMITIVES,S.ALL_PRIMITIVES=y.ALL_PRIMITIVES,t.exports=S},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(13),s=r(47),o=r(77),u=r(32),h=r(44),c=r(59),l=r(117),d=r(16).mat4,f=r(33),p=r(21),g=r(92),_=r(110),m=r(111),v=r(26),b=r(16).vec2,x=r(16).vec3,y=function(){a.call(this),this._stack=[],this._renderToScreen=!1,this._dirty=!1,this._textureRTT=[],this._cameraRTT=[];var t=function(){};t.prototype={update:function(t){return t.isDirty()&&t.build(),!0}},this.addUpdateCallback(new t),this.getOrCreateStateSet().setAttributeAndModes(new o("DISABLE")),this.getOrCreateStateSet().setAttributeAndModes(new s("BACK"))};y.prototype=n.objectInherit(a.prototype,{dirty:function(){for(var t=0,e=this._stack.length;t<e;t++)this._stack[t].filter.dirty()},addPass:function(t,e,r){var i={};return i.filter=t,e instanceof u?(i.texture=e,i.textureTarget=r||u.TEXTURE_2D):void 0!==e&&void 0!==r&&(i.width=Math.floor(e),i.height=Math.floor(r)),this._stack.push(i),i.filter},renderToScreen:function(t,e){this._renderToScreen=!0,this._renderToScreenWidth=t,this._renderToScreenHeight=e},getResultTexture:function(){return this._resultTexture},isDirty:function(){for(var t=0,e=this._stack.length;t<e;t++)if(this._stack[t].filter.isDirty())return!0;return!1},debugCheckRttNotReadWrite:function(t,e){for(var r=0,n=e.getNumTextureAttributeLists();r<n;r++){var a=e.getTextureAttribute(r,"Texture");i.assert(t!==a,"Composer: write/read at the same time on a texture is undefined behavior")}},build:function(){var t=this;t._textureRTT=[],t._cameraRTT=[],this.removeChildren();var e;this._stack.forEach(function(r,n,a){if(r.filter.isDirty()&&r.filter.build(),r.filter.interConnectFilters)return void(e=r.filter.interConnectFilters(t,n,a));var s,o,p=r.filter.getStateSet();if(void 0!==r.texture)s=r.texture.getWidth(),o=r.texture.getHeight();else if(void 0!==r.width&&void 0!==r.height)s=r.width,o=r.height;else{var g=p.getTextureAttribute(0,"Texture");void 0===g?i.warn("Composer can't find any information to setup texture output size"):(s=g.getWidth(),o=g.getHeight())}var _=n===a.length-1&&t._renderToScreen===!0;if(!_&&void 0===p.getAttribute("Program"))return void a[n+1].filter.getStateSet().setTextureAttributeAndModes(0,p.getTextureAttribute(0,"Texture"));var x=new h;t._cameraRTT.push(x),x.setStateSet(p);var y;if(_===!0)s=t._renderToScreenWidth,o=t._renderToScreenHeight;else{x.setRenderOrder(h.PRE_RENDER,0),y=r.texture;var S=r.textureTarget;void 0===y&&(y=new u,y.setName("composer Rtt "+r.filter.getFragmentName()),y.setTextureSize(s,o),S=u.TEXTURE_2D,t._textureRTT.push(y)),x.attachTexture(c.COLOR_ATTACHMENT0,y,S)}var T=new l(0,0,s,o);x.setReferenceFrame(v.ABSOLUTE_RF),x.setViewport(T),d.ortho(x.getProjectionMatrix(),0,1,0,1,-5,5);var M=m.createTexturedFullScreenFakeQuadGeometry();r.filter.buildGeometry&&(M=r.filter.buildGeometry(M)),M.setName("composer layer"),y&&(t.debugCheckRttNotReadWrite(y,p),n+1<a.length&&a[n+1].filter.getStateSet().setTextureAttributeAndModes(0,y)),e=y,x.addChild(M),r.filter.getStateSet().addUniform(f.createFloat2(b.fromValues(s,o),"RenderSize")),x.setClearMask(0),x.setName(r.filter.getFragmentName()||"Composer Pass"+n),t.addChild(x)}),this._resultTexture=e}}),y.Filter=function(){this._stateSet=new p,this._dirty=!0,this._fragmentName="",this._vertexName=""},y.Filter.prototype={setFragmentName:function(t){this._fragmentName=t},getFragmentName:function(){return this._fragmentName},setVertexName:function(t){this._vertexName=t},getVertexName:function(){return this._vertexName},getDefineFragmentName:function(){return this._fragmentName?"\n#define SHADER_NAME "+this._fragmentName+"\n":""},getDefineVertexName:function(){return this._vertexName||this._fragmentName?"\n#define SHADER_NAME "+(this._vertexName||this._fragmentName)+"\n":"";
},getStateSet:function(){return this._stateSet},getOrCreateStateSet:function(){return this._stateSet},dirty:function(){this._dirty=!0},isDirty:function(){return this._dirty}},y.Filter.defaultVertexShader=["attribute vec3 Vertex;","varying vec2 vTexCoord0;","void main(void) {","  gl_Position = vec4(Vertex*2.0 - 1.0,1.0);","  vTexCoord0 = Vertex.xy;","}",""].join("\n"),y.Filter.defaultFragmentShaderHeader=["#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif","varying vec2 vTexCoord0;","uniform vec2 RenderSize;","uniform sampler2D Texture0;",""].join("\n"),y.Filter.shaderUtils=["vec4 packFloatTo4x8(in float v) {","vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * v;","enc = fract(enc);","enc -= enc.yzww * vec4(1.0/255.0,1.0/255.0,1.0/255.0,0.0);","return enc;","}"," ","vec4 pack2FloatTo4x8(in vec2 val) {"," const vec2 bitSh = vec2(256.0, 1.0);"," const vec2 bitMsk = vec2(0.0, 1.0/256.0);"," vec2 res1 = fract(val.x * bitSh);"," res1 -= res1.xx * bitMsk;"," vec2 res2 = fract(val.y * bitSh);"," res2 -= res2.xx * bitMsk;"," return vec4(res1.x,res1.y,res2.x,res2.y);","}"," ","float unpack4x8ToFloat( vec4 rgba ) {"," return dot( rgba, vec4(1.0, 1.0/255.0, 1.0/65025.0, 1.0/16581375.0) );","}"," ","vec2 unpack4x8To2Float(in vec4 val) {"," const vec2 unshift = vec2(1.0/256.0, 1.0);"," return vec2(dot(val.xy, unshift), dot(val.zw, unshift));","}","vec2 encodeNormal (vec3 n)","{","    float f = sqrt(8.0*n.z+8.0);","    return n.xy / f + 0.5;","}","vec3 decodeNormal (vec2 enc)","{","    vec2 fenc = enc*4.0-2.0;","    float f = dot(fenc,fenc);","    float g = sqrt(1.0-f/4.0);","    vec3 n;","    n.xy = fenc*g;","    n.z = 1.0-f/2.0;","    return n;","}",""].join("\n"),y.Filter.Helper={pascalCache:[[1]],getOrCreatePascalCoefficients:function(t){t=void 0===t?5:Math.min(t,128);var e=y.Filter.Helper.pascalCache;if(e[t])return e[t];for(var r=e.length-1;r<t;r++){var i=e[r],n=i.length,a=new Array(n);a[0]=1,a[n]=1;for(var s=r===e.length-1?Math.pow(2,r):1,o=0;o<n-1;o++)a[o+1]=(i[o]+i[o+1])*s;s=Math.pow(2,r+1);for(var u=0;u<n+1;u++)a[u]/=s;e.push(a)}return e[t]}},y.Filter.Custom=function(t,e){y.Filter.call(this),this._fragmentShader=t,this._uniforms=e,this._vertexShader=y.Filter.defaultVertexShader},y.Filter.Custom.prototype=n.objectInherit(y.Filter.prototype,{getFragmentShader:function(){return this._fragmentShader},getVertexShader:function(){return this._vertexShader},setFragmentShader:function(t){this._fragmentShader=t},setVertexShader:function(t){this._vertexShader=t},autoBindFragmentUniformStateSet:function(t,e,r){var i=0,n=e.match(/uniform\s+\w+\s+\w+/g);if(n)for(var a=0,s=n.length;a<s;a++){var o,u=n[a].match(/uniform\s+(\w+)\s+(\w+)/),h=u[1],c=u[2];if(r[c]){var l=r[c];h.search("sampler")!==-1?(t.setTextureAttributeAndModes(i,l),o=f.createInt1(i,c),i++,t.addUniform(o)):(o=f.isUniform(l)?l:f[h](r[c],c),t.addUniform(o))}}},build:function(){this._program=new g(new _(_.VERTEX_SHADER,this._vertexShader+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,this._fragmentShader+this.getDefineFragmentName())),this._uniforms&&this.autoBindFragmentUniformStateSet(this._stateSet,this._fragmentShader,this._uniforms),this._stateSet.setAttributeAndModes(this._program),this._dirty=!1}}),y.Filter.PingPong=function(t,e,r,i,n,a){y.Filter.Custom.apply(this,[n,a]),this._cameraRtt0=t,this._rtt0=e,this._cameraRtt1=r,this._rtt1=i,this._fragmentName="PingPong"},y.Filter.PingPong.prototype=n.objectInherit(y.Filter.Custom.prototype,{interConnectFilters:function(t,e,r){var i=this.getStateSet(),n=this._cameraRtt0.getOrCreateStateSet(),a=this._cameraRtt1.getOrCreateStateSet();n.setAttributeAndModes(this._program),a.setAttributeAndModes(this._program);var s,o,u=this.getStateSet().getUniformList();if(u)for(s in u)o=u[s].getUniform(),n.addUniform(o),a.addUniform(o);if(u=this._uniforms)for(s in u)o=u[s],n.addUniform(o),a.addUniform(o);var h=f.createInt1(0,"Texture0"),c=f.createInt1(1,"Texture1");n.addUniform(h),n.addUniform(c),a.addUniform(h),a.addUniform(c);var l=i.getTextureAttribute(0,"Texture");if(n.setTextureAttributeAndModes(0,l),a.setTextureAttributeAndModes(0,l),n.setTextureAttributeAndModes(1,this._rtt1),a.setTextureAttributeAndModes(1,this._rtt0),e!==r.length-1){var d=r[e+1].filter.getStateSet();d.setTextureAttributeAndModes(0,this._rtt0),d.setTextureAttributeAndModes(1,this._rtt1),d.addUniform(h),d.addUniform(c)}var p=m.createTexturedFullScreenFakeQuadGeometry();return this.buildGeometry&&(p=this.buildGeometry(p)),p.setName("composer layer"),this._cameraRtt0.addChild(p),this._cameraRtt1.addChild(p),t.addChild(this._cameraRtt0),t.addChild(this._cameraRtt1),t._textureRTT.push(this._rtt0),t._textureRTT.push(this._rtt1),t._cameraRTT.push(this._cameraRtt0),t._cameraRTT.push(this._cameraRtt1),this._cameraRtt1.setNodeMask(0),this._rtt0},switch:function(){var t=this._cameraRtt0.getNodeMask(),e=this._cameraRtt1.getNodeMask();this._cameraRtt0.setNodeMask(e),this._cameraRtt1.setNodeMask(t)}}),y.Filter.AverageHBlur=function(t,e,r,i){y.Filter.call(this),this._linear=e!==!1,this.setBlurSize(void 0!==t?t:5),this._unpack=r,this._pack=i,this._pixelSize=1,this._fragmentName="AverageHBlur"+this._nbSamples},y.Filter.AverageHBlur.prototype=n.objectInherit(y.Filter.prototype,{setBlurSize:function(t){t%2!==1&&(t+=1),this._nbSamples=t,this.dirty()},setPixelSize:function(t){this._pixelSize=t,this.dirty()},getUVOffset:function(t){return"vec2(float("+t+")/RenderSize[0], 0.0);"},getShaderBlurKernel:function(){var t=this._nbSamples,e=[];e.push(" pixel = unpack(Texture0, vTexCoord0 );"),e.push(" if (pixel.w == 0.0) { gl_FragColor = pixel; return; }"),e.push(" vec2 offset;");var r,i=Math.floor(t/2);i%2!==0&&(t+=1,i=Math.floor(t/2));var n=2*i+1,a=1/n;if(this._linear){var s,o,u=1,h=(1-a)/(2*i);for(e.push(" pixel *= float("+a+");"),e.push(" vec4 pixelLin = vec4(0.0);"),r=0;r<i;r+=2)o=u+.5,u+=2,s=this.getUVOffset(o*this._pixelSize),e.push(" offset = "+s),e.push(" pixelLin += unpack(Texture0, vTexCoord0 + offset);"),e.push(" pixelLin += unpack(Texture0, vTexCoord0 - offset);");e.push(" pixel += pixelLin * float("+2*h+");")}else{for(r=0;r<i;r++)e.push(" offset = "+this.getUVOffset((r+1)*this._pixelSize)),e.push(" pixel += unpack(Texture0, vTexCoord0 + offset);"),e.push(" pixel += unpack(Texture0, vTexCoord0 - offset);");e.push(" pixel *= float("+a+");")}return e},build:function(){var t=this._stateSet.getTextureAttribute(0,"Texture");t&&this._linear?(t.setMinFilter("LINEAR"),t.setMagFilter("LINEAR")):this._linear=!1;var e=y.Filter.defaultVertexShader,r=[y.Filter.defaultFragmentShaderHeader,"uniform float width;",this._unpack||"vec4 unpack(const in sampler2D tex, const in vec2 uv) { return texture2D(tex, uv); }",this._pack||"vec4 pack(vec4 pix) { return pix; }","void main (void)","{","  vec4 pixel;",this.getShaderBlurKernel().join("\n"),"  gl_FragColor = pack(pixel);","}",""].join("\n"),i=new g(new _(_.VERTEX_SHADER,e+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,r+this.getDefineFragmentName()));void 0===this._stateSet.getUniform("Texture0")&&this._stateSet.addUniform(f.createInt1(0,"Texture0")),this._stateSet.setAttributeAndModes(i),this._dirty=!1}}),y.Filter.AverageVBlur=function(t,e,r,i){y.Filter.AverageHBlur.call(this,t,e,r,i),this._fragmentName="AverageVBlur"+this._nbSamples},y.Filter.AverageVBlur.prototype=n.objectInherit(y.Filter.AverageHBlur.prototype,{getUVOffset:function(t){return"vec2(0.0, float("+t+")/RenderSize[1]);"}}),y.Filter.BilateralHBlur=function(t,e,r){y.Filter.call(this),void 0===t&&(t={});var i=t.nbSamples,n=t.depthTexture,a=t.radius;this.setBlurSize(void 0!==i?i:5),this._depthTexture=n,this._radius=f.createFloat(1,"radius"),this._pixelSize=f.createFloat(1,"pixelSize"),this.setRadius(a),this._unpack=e,this._pack=r,this._fragmentName="BilateralHBlur"+this._nbSamples},y.Filter.BilateralHBlur.prototype=n.objectInherit(y.Filter.prototype,{setBlurSize:function(t){t%2!==1&&(t+=1),this._nbSamples=t,this.dirty()},setPixelSize:function(t){this._pixelSize.setFloat(t)},setRadius:function(t){this._radius.setFloat(t)},getUVOffset:function(t){return"vec2(0.0, float("+t+") * pixelSize )/RenderSize[1];"},getShaderBlurKernel:function(){var t=this._nbSamples,e=[];e.push(" pixel = unpack(Texture0, vTexCoord0 );"),e.push(" if (pixel.w <= 0.0001) { gl_FragColor = vec4(1.0); return; }"),e.push(" vec2 offset, tmpUV;"),e.push(" depth = getDepthValue(unpack(Texture1, vTexCoord0 ));");for(var r=1;r<Math.ceil(t/2);r++)e.push(" offset = "+this.getUVOffset(r)),e.push(" tmpUV =  vTexCoord0 + offset;"),e.push(" tmpDepth = getDepthValue(unpack(Texture1, tmpUV ));"),e.push(" if ( abs(depth-tmpDepth) < radius) {"),e.push("   pixel += unpack(Texture0, tmpUV);"),e.push("   nbHits += 1.0;"),e.push(" }"),e.push(" tmpUV =  vTexCoord0 - offset;"),e.push(" tmpDepth = getDepthValue(unpack(Texture1, tmpUV ));"),e.push(" if ( abs(depth-tmpDepth) < radius) {"),e.push("   pixel += unpack(Texture0, tmpUV);"),e.push("   nbHits += 1.0;"),e.push(" }");return e.push(" pixel /= nbHits;"),e},build:function(){var t=y.Filter.defaultVertexShader,e=[y.Filter.defaultFragmentShaderHeader,"uniform sampler2D Texture1;","uniform float width;","uniform mat4 projection;","uniform float radius;","uniform float pixelSize;",this._unpack||"vec4 unpack(const in sampler2D tex, const in vec2 uv) { return texture2D(tex, uv); }",this._pack||"vec4 pack(vec4 pix) { return pix; }","float znear,zfar,zrange;","",y.Filter.shaderUtils,"","float getDepthValue(vec4 v) {","  float depth = unpack4x8ToFloat(v);","  depth = depth*zrange+znear;","  return -depth;","}","void main (void)","{","  vec4 pixel;","  float depth, tmpDepth;","  znear = projection[3][2] / (projection[2][2]-1.0);","  zfar = projection[3][2] / (projection[2][2]+1.0);","  zrange = zfar-znear;","  float nbHits = 1.0;",this.getShaderBlurKernel().join("\n"),"  gl_FragColor = pack(pixel);","}",""].join("\n"),r=new g(new _(_.VERTEX_SHADER,t+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,e+this.getDefineFragmentName()));void 0===this._stateSet.getUniform("Texture0")&&this._stateSet.addUniform(f.createInt1(0,"Texture0")),void 0===this._stateSet.getUniform("Texture1")&&this._stateSet.addUniform(f.createInt1(1,"Texture1")),this._stateSet.addUniform(this._radius),this._stateSet.addUniform(this._pixelSize),this._stateSet.setTextureAttributeAndModes(1,this._depthTexture),this._stateSet.setAttributeAndModes(r),this._dirty=!1}}),y.Filter.BilateralVBlur=function(t,e,r){y.Filter.BilateralHBlur.call(this,t,e,r),this._fragmentName="BilateralVBlur"+this._nbSamples},y.Filter.BilateralVBlur.prototype=n.objectInherit(y.Filter.BilateralHBlur.prototype,{getUVOffset:function(t){return"vec2(float("+t+")*pixelSize/RenderSize[0],0.0);"}}),y.Filter.InputTexture=function(t){y.Filter.call(this),this._stateSet.setTextureAttributeAndModes(0,t),this._fragmentName="InputTexture"},y.Filter.InputTexture.prototype=n.objectInherit(y.Filter.prototype,{build:function(){this._dirty=!1}}),y.Filter.HBlur=function(t,e,r,i){y.Filter.call(this),this._linear=e!==!1,this.setBlurSize(void 0!==t?t:5),this._unpack=r,this._pack=i,this._fragmentName="HBlur"+this._nbSamples},y.Filter.HBlur.prototype=n.objectInherit(y.Filter.prototype,{setBlurSize:function(t){t%2!==0&&(t+=1),this._nbSamples=t,this.dirty()},getUVOffset:function(t){return"vec2(float("+t+")/ RenderSize[0], 0.0) ;"},build:function(){var t=this._nbSamples,e=this._stateSet.getTextureAttribute(0,"Texture");e&&this._linear?(e.setMinFilter("LINEAR"),e.setMagFilter("LINEAR")):this._linear=!1;var r=y.Filter.defaultVertexShader,i=.005/t,n=t,a=y.Filter.Helper.getOrCreatePascalCoefficients(n),s=Math.floor(n/2),o=[];o.push(" pixel = float("+a[s]+")*unpack(Texture0, vTexCoord0 ).rgb;"),o.push(" vec2 offset;");var u,h,c,l,d;if(this._linear)for(u=1,h=s+1;h<t;h+=2){var p=a[h],m=a[h+1];if(c=p+m,c<i)break;var v=u,b=u+1;u+=2,d=(v*p+b*m)/c,l=this.getUVOffset(d),o.push(" offset = "+l),o.push(" pixel += "+c+"* unpack(Texture0, (vTexCoord0.xy + offset.xy)).rgb;"),o.push(" pixel += "+c+"* unpack(Texture0, (vTexCoord0.xy - offset.xy)).rgb;")}else for(u=1,h=s+1;h<t&&(c=a[h],!(c<i));h++)d=u++,l=this.getUVOffset(d),o.push(" offset = "+l),o.push(" pixel += "+c+"* unpack(Texture0, (vTexCoord0.xy + offset.xy)).rgb;"),o.push(" pixel += "+c+"* unpack(Texture0, (vTexCoord0.xy - offset.xy)).rgb;");var x=[y.Filter.defaultFragmentShaderHeader,"uniform float width;",this._unpack||"vec4 unpack(const in sampler2D tex, const in vec2 uv) { return texture2D(tex, uv); }",this._pack||"vec4 pack(vec4 pix) { return pix; }","void main (void)","{","  vec3 pixel;",o.join("\n"),"  gl_FragColor = pack(vec4(pixel, 1.0));","}",""].join("\n"),S=new g(new _(_.VERTEX_SHADER,r+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,x+this.getDefineFragmentName()));void 0===this._stateSet.getUniform("Texture0")&&this._stateSet.addUniform(f.createInt1(0,"Texture0")),this._stateSet.setAttributeAndModes(S),this._dirty=!1}}),y.Filter.VBlur=function(t,e,r,i){y.Filter.HBlur.call(this,t,e,r,i),this._fragmentName="VBlur"+this._nbSamples},y.Filter.VBlur.prototype=n.objectInherit(y.Filter.HBlur.prototype,{getUVOffset:function(t){return"vec2(0.0, float("+t+")/RenderSize[1]) ;"}}),y.Filter.SobelFilter=function(){y.Filter.call(this),this._color=f.createFloat3(x.fromValues(1,1,1),"color"),this._factor=f.createFloat(1,"factor"),this._fragmentName="SobelFilter"},y.Filter.SobelFilter.prototype=n.objectInherit(y.Filter.prototype,{setColor:function(t){this._color.setVec3(t)},setFactor:function(t){this._factor.setFloat(t)},build:function(){var t=this._stateSet,e=y.Filter.defaultVertexShader,r=["",y.Filter.defaultFragmentShaderHeader,"uniform vec3 color;","uniform float factor;","void main (void)","{","  float fac0 = 2.0;","  float fac1 = 1.0;","  float offsetx = 1.0/RenderSize[0];","  float offsety = 1.0/RenderSize[1];","  vec4 texel0 = texture2D(Texture0, vTexCoord0 + vec2(offsetx, offsety));","  vec4 texel1 = texture2D(Texture0, vTexCoord0 + vec2(offsetx, 0.0));","  vec4 texel2 = texture2D(Texture0, vTexCoord0 + vec2(offsetx, -offsety));","  vec4 texel3 = texture2D(Texture0, vTexCoord0 + vec2(0.0, -offsety));","  vec4 texel4 = texture2D(Texture0, vTexCoord0 + vec2(-offsetx, -offsety));","  vec4 texel5 = texture2D(Texture0, vTexCoord0 + vec2(-offsetx, 0.0));","  vec4 texel6 = texture2D(Texture0, vTexCoord0 + vec2(-offsetx, offsety));","  vec4 texel7 = texture2D(Texture0, vTexCoord0 + vec2(0.0, offsety));","  vec4 rowx = -fac0*texel5 + fac0*texel1 +  -fac1*texel6 + fac1*texel0 + -fac1*texel4 + fac1*texel2;","  vec4 rowy = -fac0*texel3 + fac0*texel7 +  -fac1*texel4 + fac1*texel6 + -fac1*texel2 + fac1*texel0;","  float mag = sqrt(dot(rowy,rowy)+dot(rowx,rowx));","  if (mag < 1.0/255.0) discard;","  mag *= factor;","  mag = min(1.0, mag);","  gl_FragColor = vec4(color*mag,mag);","}",""].join("\n"),i=new g(new _(_.VERTEX_SHADER,e+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,r+this.getDefineFragmentName()));t.setAttributeAndModes(i),t.addUniform(this._color),t.addUniform(this._factor),t.addUniform(f.createInt1(0,"Texture0")),this._dirty=!1}}),y.Filter.BlendMix=function(){y.Filter.call(this);var t,e,r,i=0,n=1,a=this._stateSet;3===arguments.length?(t=arguments[0],e=arguments[1],r=arguments[2],i=1,n=2,a.setTextureAttributeAndModes(i,t)):2===arguments.length?(e=arguments[0],r=arguments[1]):1===arguments.length&&(e=arguments[0],r=.5),a.setTextureAttributeAndModes(n,e),a.addUniform(f.createInt1(i,"Texture0")),a.addUniform(f.createInt1(n,"Texture1")),this._mixValueUniform=f.createFloat1(r,"MixValue"),a.addUniform(this._mixValueUniform),this._fragmentName="BlendMix"},y.Filter.BlendMix.prototype=n.objectInherit(y.Filter.prototype,{getBlendFactorUniform:function(){return this._mixValueUniform},build:function(){var t=this._stateSet,e=y.Filter.defaultVertexShader,r=["",y.Filter.defaultFragmentShaderHeader,"uniform sampler2D Texture1;","uniform float MixValue;","void main (void)","{","  gl_FragColor = mix(texture2D(Texture0,vTexCoord0), texture2D(Texture1,vTexCoord0),MixValue);","}",""].join("\n"),i=new g(new _(_.VERTEX_SHADER,e+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,r+this.getDefineFragmentName()));t.setAttributeAndModes(i),this._dirty=!1}}),y.Filter.BlendMultiply=function(){y.Filter.call(this);var t,e,r=this._stateSet,i=0,n=1;2===arguments.length?(t=arguments[0],e=arguments[1],i=1,i=2,r.setTextureAttributeAndModes(i,t)):1===arguments.length&&(e=arguments[0]),r.setTextureAttributeAndModes(n,e),r.addUniform(f.createInt1(i,"Texture0")),r.addUniform(f.createInt1(n,"Texture1")),this._fragmentName="BlendMultiply"},y.Filter.BlendMultiply.prototype=n.objectInherit(y.Filter.prototype,{build:function(){var t=y.Filter.defaultVertexShader,e=["",y.Filter.defaultFragmentShaderHeader,"uniform sampler2D Texture1;","uniform float MixValue;","void main (void)","{","  gl_FragColor = texture2D(Texture0,vTexCoord0)*texture2D(Texture1,vTexCoord0);","}",""].join("\n"),r=new g(new _(_.VERTEX_SHADER,t+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,e+this.getDefineFragmentName()));this._stateSet.setAttributeAndModes(r),this._dirty=!1}}),y.Filter.SSAO=function(t){y.Filter.call(this);var e=this._stateSet,r=16,i=.05;if(void 0!==t){void 0!==t.nbSamples&&(r=t.nbSamples),void 0!==t.radius&&(i=t.radius);var n=t.normal,a=t.position,s=n.getWidth(),o=n.getHeight();this._size=b.fromValues(s,o),e.setTextureAttributeAndModes(0,n),e.setTextureAttributeAndModes(1,a)}this._radius=i,this._nbSamples=r,this._noiseTextureSize=16,this._sceneRadius=2,e.addUniform(f.createFloat1(1,"Power")),e.addUniform(f.createFloat1(i,"Radius")),e.addUniform(f.createInt1(0,"Texture0")),e.addUniform(f.createInt1(1,"Texture1")),e.addUniform(f.createInt1(2,"Texture2")),e.addUniform(f.createFloat1(.1,"AngleLimit")),this.initNoise(),this._fragmentName="SSAO"},y.Filter.SSAO.prototype=n.objectInherit(y.Filter.prototype,{initNoise:function(){var t=this._noiseTextureSize,e=new Array(t*t*3);!function(e){for(var r=b.fromValues(0,0),i=0;i<t*t;i++)r[0]=2*(Math.random()-.5),r[1]=2*(Math.random()-.5),b.normalize(r,r),e[3*i+0]=255*(.5*r[0]+.5),e[3*i+1]=255*(.5*r[1]+.5),e[3*i+2]=127.5}(e);var r=new u;r.setWrapS("REPEAT"),r.setWrapT("REPEAT"),r.setMinFilter("NEAREST"),r.setMagFilter("NEAREST"),r.setTextureSize(t,t),r.setImage(new Uint8Array(e),"RGB"),this._noiseTexture=r},setSceneRadius:function(t){this._sceneRadius=t,this.dirty()},setAngleLimit:function(t){var e=this._stateSet.getUniform("AngleLimit");e.setFloat(t)},setNbSamples:function(t){t!==this._nbSamples&&(this._nbSamples=Math.floor(t),this.dirty())},setRadius:function(t){var e=this._stateSet.getUniform("Radius");e.setFloat(t)},setPower:function(t){var e=this._stateSet.getUniform("Power");e.setFloat(t)},build:function(){var t=this._stateSet,e=this._nbSamples,r=new Array(4*e);!function(t){for(var r=x.create(),i=0;i<e;i++){r[0]=2*(Math.random()-.5),r[1]=2*(Math.random()-.5),r[2]=Math.random(),x.normalize(r,r);var n=Math.max(i/e,.1);n=.1+.9*(n*n),t[3*i+0]=r[0],t[3*i+1]=r[1],t[3*i+2]=r[2],t[3*i+3]=n}}(r),t.setTextureAttributeAndModes(2,this._noiseTexture);var i=t.getUniform("noiseSampling");void 0===i?(i=f.createFloat2(b.fromValues(this._size[0]/this._noiseTextureSize,this._size[1]/this._noiseTextureSize),"noiseSampling"),t.addUniform(i)):i.setVec2(b.fromValues(this._size[0]/this._noiseTextureSize,this._size[1]/this._noiseTextureSize));for(var n=["","attribute vec3 Vertex;","attribute vec2 TexCoord0;","varying vec2 vTexCoord0;","uniform mat4 uModelViewMatrix;","uniform mat4 uProjectionMatrix;","void main(void) {","  gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(Vertex,1.0);","  vTexCoord0 = TexCoord0;","}",""].join("\n"),a=[],s=0;s<e;s++)a.push("kernel["+s+"] = vec4("+r[3*s]+","+r[3*s+1]+", "+r[3*s+2]+", "+r[3*s+3]+");");a=a.join("\n");var o=["",y.Filter.defaultFragmentShaderHeader,"uniform sampler2D Texture1;","uniform sampler2D Texture2;","uniform mat4 projection;","uniform vec2 noiseSampling;","uniform float Power;","uniform float Radius;","uniform float AngleLimit;","#define NB_SAMPLES "+this._nbSamples,"float depth;","vec3 normal;","vec4 position;","vec4 kernel["+e+"];","mat3 computeBasis()","{","  vec2 uvrand = vTexCoord0*noiseSampling;","  vec3 rvec = texture2D(Texture2, uvrand*2.0).xyz*2.0-vec3(1.0);","  vec3 tangent = normalize(rvec - normal * dot(rvec, normal));","  vec3 bitangent = cross(normal, tangent);","  mat3 tbn = mat3(tangent, bitangent, normal);","  return tbn;","}","void main (void)","{",a,"  position = texture2D(Texture1, vTexCoord0);","  vec4 p = texture2D(Texture0, vTexCoord0);","  depth = p.w;","  normal = vec3(p);","  if ( position.w == 0.0) {","     gl_FragColor = vec4(1.0,1.0,1.0,0.0);","     return;","  }",""," mat3 tbn = computeBasis();"," float occlusion = 0.0;"," for (int i = 0; i < NB_SAMPLES; i++) {","    vec3 vecKernel = vec3(kernel[i]);","    vecKernel[2] = max(AngleLimit,vecKernel[2]);","    vec3 sample = tbn * vecKernel;","    vec3 dir = sample;","    float w = dot(dir, normal);","    float dist = 1.0-kernel[i].w;","    w *= dist*dist*Power;","    sample = dir * float(Radius) + position.xyz;","    vec4 offset = projection * vec4(sample,1.0);","    offset.xy /= offset.w;","    offset.xy = offset.xy * 0.5 + 0.5;","    float sample_depth = texture2D(Texture1, offset.xy).z;","    float range_check = abs(sample.z - sample_depth) < float(Radius) ? 1.0 : 0.0;","    occlusion += (sample_depth > sample.z ? 1.0 : 0.0) * range_check*w;"," }"," occlusion = 1.0 - (occlusion / float(NB_SAMPLES));"," gl_FragColor = vec4(vec3(occlusion),1.0);","}",""].join("\n"),u=new g(new _(_.VERTEX_SHADER,n+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,o+this.getDefineFragmentName()));t.setAttributeAndModes(u),this._dirty=!1}}),y.Filter.SSAO8=function(t){y.Filter.SSAO.call(this,t),this._fragmentName="SSAO8"},y.Filter.SSAO8.prototype=n.objectInherit(y.Filter.SSAO.prototype,{buildGeometry:function(t){return t.getAttributes().TexCoord1=this._texCoord1,t},build:function(){var t=this._stateSet,e=this._nbSamples,r=new Array(4*e);!function(t){for(var r=x.create(),i=0;i<e;i++){r[0]=2*(Math.random()-.5),r[1]=2*(Math.random()-.5),r[2]=Math.random(),x.normalize(r,r);var n=Math.max(i/e,.1);n=.1+.9*(n*n),t[3*i+0]=r[0],t[3*i+1]=r[1],t[3*i+2]=r[2],t[3*i+3]=n}}(r),t.setTextureAttributeAndModes(2,this._noiseTexture);var i=t.getUniform("noiseSampling");void 0===i?(i=f.createFloat2(b.fromValues(this._size[0]/this._noiseTextureSize,this._size[1]/this._noiseTextureSize),"noiseSampling"),t.addUniform(i)):i.setVec2(b.fromValues(this._size[0]/this._noiseTextureSize,this._size[1]/this._noiseTextureSize));for(var n=["","attribute vec3 Vertex;","attribute vec2 TexCoord0;","attribute vec3 TexCoord1;","varying vec2 vTexCoord0;","varying vec3 vTexCoord1;","uniform mat4 uModelViewMatrix;","uniform mat4 uProjectionMatrix;","void main(void) {","  gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(Vertex,1.0);","  vTexCoord0 = TexCoord0;","  vTexCoord1 = TexCoord1;","}",""].join("\n"),a=[],s=0;s<e;s++)a.push("kernel["+s+"] = vec4("+r[3*s]+","+r[3*s+1]+", "+r[3*s+2]+", "+r[3*s+3]+");");a=a.join("\n");var o=["",y.Filter.defaultFragmentShaderHeader,"varying vec3 vTexCoord1;","uniform sampler2D Texture1;","uniform sampler2D Texture2;","uniform mat4 projection;","uniform vec2 noiseSampling;","uniform float Power;","uniform float Radius;","uniform float AngleLimit;","#define NB_SAMPLES "+this._nbSamples,"float depth;","float znear, zfar, zrange;","vec3 normal;","vec3 position;","vec4 kernel["+e+"];",y.Filter.shaderUtils,"mat3 computeBasis()","{","  vec2 uvrand = vTexCoord0*noiseSampling;","  //uvrand = rand(gl_FragCoord.xy);","  vec3 rvec = texture2D(Texture2, uvrand*2.0).xyz*2.0-vec3(1.0);","  //vec3 rvec = normalize(vec3(uvrand,0.0));","  vec3 tangent = normalize(rvec - normal * dot(rvec, normal));","  vec3 bitangent = cross(normal, tangent);","  mat3 tbn = mat3(tangent, bitangent, normal);","  return tbn;","}","float getDepthValue(vec4 v) {","  float depth = unpack4x8ToFloat(v);","  depth = depth*zrange+znear;","  //depth = depth*zrange;","  return -depth;","}","void main (void)","{",a,"  vec4 p = texture2D(Texture0, vTexCoord0);","  if (dot(p,p) < 0.001) { ","     gl_FragColor = vec4(1.0,1.0,1.0,0.0);","     return;","  }","  znear = projection[3][2] / (projection[2][2]-1.0);","  zfar = projection[3][2] / (projection[2][2]+1.0);","  zrange = zfar-znear;","  depth = getDepthValue(texture2D(Texture1, vTexCoord0));","  if ( -depth < znear) {","     gl_FragColor = vec4(1.0,1.0,1.0,0.0);","     return;","  }","  normal = decodeNormal(unpack4x8To2Float(p));","  position = -vTexCoord1*depth;","  position.z = -position.z;",""," mat3 tbn = computeBasis();"," float occlusion = 0.0;"," for (int i = 0; i < NB_SAMPLES; i++) {","    vec3 vecKernel = vec3(kernel[i]);","    vecKernel[2] = max(AngleLimit,vecKernel[2]);","    vec3 sample = tbn * vec3(vecKernel);","    vec3 dir = sample;","    float w = dot(dir, normal);","    float dist = 1.0-kernel[i].w;","    w *= dist*dist*Power;","    sample = dir * float(Radius) + position.xyz;","    vec4 offset = projection * vec4(sample,1.0);","    offset.xy /= offset.w;","    offset.xy = offset.xy * 0.5 + 0.5;","    float sample_depth = getDepthValue(texture2D(Texture1, offset.xy));","    float range_check = abs(sample.z - sample_depth) < float(Radius) ? 1.0 : 0.0;","    occlusion += (sample_depth > sample.z ? 1.0 : 0.0) * range_check*w;"," }"," occlusion = 1.0 - (occlusion / float(NB_SAMPLES));"," gl_FragColor = vec4(vec3(occlusion),1.0);","}",""].join("\n"),u=new g(new _(_.VERTEX_SHADER,n+this.getDefineVertexName()),new _(_.FRAGMENT_SHADER,o+this.getDefineFragmentName()));t.setAttributeAndModes(u),this._dirty=!1}}),t.exports=y},function(t,e,r){"use strict";var i=r(111),n=function(t,e){var r,i;e?(r=e[0],i=e[1]):(r=t[14]/(t[10]-1),i=t[14]/(1+t[10]));var n=r*(t[8]-1)/t[0],a=r*(1+t[8])/t[0],s=r*(1+t[9])/t[5],o=r*(t[9]-1)/t[5],u=i*(t[8]-1)/t[0],h=i*(1+t[8])/t[0],c=i*(1+t[9])/t[5],l=i*(t[9]-1)/t[5],d=this.getAttributes().Vertex,f=d.getElements();f[0]=n,f[1]=o,f[2]=-r,f[3]=a,f[4]=o,f[5]=-r,f[6]=a,f[7]=s,f[8]=-r,f[9]=n,f[10]=s,f[11]=-r,f[12]=u,f[13]=l,f[14]=-i,f[15]=h,f[16]=l,f[17]=-i,f[18]=h,f[19]=c,f[20]=-i,f[21]=u,f[22]=c,f[23]=-i,d.dirty()},a=function(){var t=i.createBoundingBoxGeometry();return t.updateGeometry=n,t};t.exports={createDebugFrustumGeometry:a}},function(t,e,r){"use strict";var i=r(7),n=r(23),a=r(28),s=r(40),o=r(79),u=r(38),h=r(21),c=r(33),l=r(77),d=r(16).vec3,f=r(180),p=r(181),g=r(69),_=r(70),m=r(128),v=function(){p.apply(this,arguments)};v.prototype=i.objectInherit(p.prototype,{getCompilerName:function(){return"CompilerOffsetNormal"},initTextureAttributes:function(){},createFragmentShaderGraph:function(){var t=this.getNode("glFragColor");return this.getNode("SetAlpha").inputs({color:this.getOrCreateUniform("vec3","uColorDebug"),alpha:this.createVariable("float").setValue("1.0")}).outputs({color:t}),[t]},getOffsetDirection:function(){return this.getOrCreateModelNormal()},getOrCreateModelVertex:function(){var t=this.getVariable("vertexOffset");if(t)return t;t=this.createVariable("vec3","vertexOffset");var e="%out = %offset == 1.0 ? %vertex + normalize(%direction.xyz) * %scale: %vertex;";return this.getNode("InlineCode").code(e).inputs({offset:this.getOrCreateAttribute("float","Offset"),direction:this.getOffsetDirection(),vertex:p.prototype.getOrCreateModelVertex.call(this),scale:this.getOrCreateUniform("float","uScale")}).outputs({out:t}),t},getOrCreateViewVertex:function(){var t=this._variables.FragEyeVector;return t&&!t.isEmpty()?t:(t=this._varyings.FragEyeVector||this.createVariable("vec4","FragEyeVector"),this.getNode("MatrixMultPosition").inputs({matrix:this.getOrCreateUniform("mat4","uViewMatrix"),vec:this.getOrCreateModelVertex()}).outputs({vec:t}),t)}});var b=function(){f.apply(this,arguments),this.setShaderCompiler(v)};b.prototype=f.prototype;var x=function(){v.apply(this,arguments)};x.prototype=i.objectInherit(v.prototype,{getCompilerName:function(){return"CompilerOffsetTangent"},getOffsetDirection:function(){return this.getOrCreateModelTangent()}});var y=function(){f.apply(this,arguments),this.setShaderCompiler(x)};y.prototype=f.prototype;var S=function(){n.call(this),this._unifScale=c.createFloat(1,"uScale");var t=this._normalStateSet=new h;t.addUniform(c.createFloat3(d.fromValues(1,0,0),"uColorDebug")),t.addUniform(this._unifScale),t.setAttributeAndModes(new l(l.NEVER)),t.setShaderGeneratorName("debugNormal");var e=this._tangentStateSet=new h;e.addUniform(c.createFloat3(d.fromValues(0,1,0),"uColorDebug")),e.addUniform(this._unifScale),e.setAttributeAndModes(new l(l.NEVER)),e.setShaderGeneratorName("debugTangent")};S.CompilerOffsetNormal=v,S.CompilerOffsetTangent=x,S.ShaderGeneratorCompilerOffsetNormal=b,S.ShaderGeneratorCompilerOffsetTangent=y,S.prototype=i.objectInherit(n.prototype,{setScale:function(t){this._unifScale.setFloat(t)},setTangentVisibility:function(t){this._tangentStateSet.setAttributeAndModes(new l(t?l.LESS:l.NEVER))},setNormalVisibility:function(t){this._normalStateSet.setAttributeAndModes(new l(t?l.LESS:l.NEVER))},apply:function(t){for(var e=t.getUpdateCallbackList(),r=0,i=e.length;r<i;++r)e[r]instanceof m&&(e[r]._isInitialized=!1);if(!t._isVisitedNormalDebug){if(t._isVisitedNormalDebug=!0,t instanceof a==!1)return this.traverse(t);this._createDebugGeom(t,"Normal",this._normalStateSet),this._createDebugGeom(t,"Tangent",this._tangentStateSet)}},_createDoubleOffsetArray:function(t){for(var e=new Float32Array(2*t),r=0;r<t;++r)e[2*r]=1;return new s(s.ARRAY_BUFFER,e,1)},_createDoubledBufferArray:function(t){t.getInitialBufferArray&&(t=t.getInitialBufferArray());for(var e=t.getItemSize(),r=t.getElements(),i=r.length/e,n=r.constructor,a=new n(2*r.length),o=0;o<i;++o)for(var u=o*e,h=2*u,c=0;c<e;++c)a[h+c]=a[h+c+e]=r[u+c];return new s(s.ARRAY_BUFFER,a,e)},_addMorphTargets:function(t,e,r){var i=e.getMorphTargets();e.setName(t.getName());for(var n=t.getMorphTargets(),s=0,o=n.length;s<o;++s){var u=n[s],h=u.getVertexAttributeList(),c=new a;c.setName(u.getName());var l=c.getVertexAttributeList();l.Vertex=this._createDoubledBufferArray(h.Vertex),h[r]&&(l[r]=this._createDoubledBufferArray(h[r])),i.push(c)}return e.mergeChildrenVertexAttributeList(),e},_createDebugGeom:function(t,e,r){var i=t.getAttributes(),n=i[e];if(n){var s=i.Vertex;if(s){var h;t instanceof _?h=t:t.getSourceGeometry&&t.getSourceGeometry()instanceof _&&(h=t.getSourceGeometry());var c=s.getElements().length/s.getItemSize(),l=h?new _:new a;l.getAttributes().Vertex=this._createDoubledBufferArray(s),l.getAttributes().Offset=this._createDoubleOffsetArray(c),l.getAttributes()[e]=this._createDoubledBufferArray(n),l.getPrimitives().push(new o(u.LINES,0,2*c)),h&&this._addMorphTargets(h,l,e);var d;if(t instanceof g){var f=new g;f.setSourceGeometry(l),f.getVertexAttributeList().Bones=this._createDoubledBufferArray(i.Bones),f.getVertexAttributeList().Weights=this._createDoubledBufferArray(i.Weights),f._rigTransformImplementation=t._rigTransformImplementation,f._stateSetAnimation=t._stateSetAnimation,f.mergeChildrenData(),d=f}else d=l;var p=t.getParents(),m=p.length;d._isVisitedNormalDebug=!0,d._isNormalDebug=!0,d.setStateSet(r);for(var v=0;v<m;++v)p[v].addChild(d);return d}}}}),t.exports=S},function(t,e,r){"use strict";var i=r(11),n=r(92),a=r(110),s=r(181),o=r(93),u=["ShadowReceive","Skinning","Morph","ShadowTexture","Texture","Light","Material","Billboard","PointSize"],h=function(){this._cache=new window.Map,this._shaderProcessor=new o,this._acceptAttributeTypes=new window.Set(u),this._ShaderCompiler=s};h.prototype={setShaderCompiler:function(t){this._ShaderCompiler=t},getShaderCompiler:function(){return this._ShaderCompiler},getAcceptAttributeTypes:function(){return this._acceptAttributeTypes},getShaderProcessor:function(){return this._shaderProcessor},setShaderProcessor:function(t){this._shaderProcessor=t},filterAttributeTypes:function(t){if("osg"!==t.libraryName()&&"osgShadow"!==t.libraryName()&&"osgAnimation"!==t.libraryName())return!0;var e=t.getType();return!this._acceptAttributeTypes.has(e)||!(!t.isEnabled||t.isEnabled());
},getActiveAttributeList:function(t,e){var r="",i=t.attributeMap;for(var n in i){var a=i[n],s=a.lastApplied;this.filterAttributeTypes(s)||(r+=s.getHash?s.getHash():s.getType(),e.push(s))}return r},getActiveTextureAttributeList:function(t,e){var r,i,n="",a=t.textureAttributeMapList;for(r=0,i=a.length;r<i;r++){var s=a[r];if(s){e[r]=[];for(var o in s){var u=s[o];if(0!==u.values().length){var h=u.lastApplied;this.filterAttributeTypes(h)||h.isTextureNull()||(n+=h.getHash?h.getHash():h.getType(),e[r].push(h))}}}}return n},getActiveUniforms:function(t,e,r){for(var i={},n=0,a=e.length;n<a;n++){var s=e[n];if(s.getOrCreateUniforms){var o=s.getOrCreateUniforms();if(void 0!==o)for(var u in o){var h=o[u];i[h.getName()]=h}}}for(var c=0,l=r.length;c<l;c++){var d=r[c];if(d)for(var f=0,p=d.length;f<p;f++){var g=d[f],_=g.getOrCreateUniforms(c);for(var m in _){var v=_[m];i[v.getName()]=v}}}return i},getOrCreateProgram:function(){var t=[],e=[];return function(r){var s="";e.length=0,t.length=0,s+=this.getActiveAttributeList(r,e),s+=this.getActiveTextureAttributeList(r,t);var o=this._cache.get(s);if(void 0!==o)return o;var u=this._ShaderCompiler,h=new u(e,t,this._shaderProcessor);i.debug("New Compilation ",!1,!0),i.debug({Attributes:e,Texture:t,Hash:s,Compiler:h.getFragmentShaderName()},!1,!0);var c=h.createFragmentShader(),l=h.createVertexShader(),d=new n(new a(a.VERTEX_SHADER,l),new a(a.FRAGMENT_SHADER,c));return d.hash=s,d.setActiveUniforms(this.getActiveUniforms(r,e,t)),d.generated=!0,this._cache.set(s,d),d}}()},t.exports=h},function(t,e,r){"use strict";var i=r(11),n=r(33),a=r(182),s=r(7),o=r(200),u=r(201),h=function(t,e,r){this._attributes=t,this._textureAttributes=e,this._fragmentShaderMode=!1,this._activeNodeList={},this._compiledNodeList={},this._traversedNodeList={},this._variables={},this._varyings={},this._vertexShader=[],this._fragmentShader=[],this._shaderProcessor=r,this._texturesByName={},this._shadowsTextures=[],this._lights=[],this._shadows=[],this._textures=[],this._material=null,this._invariantPosition=!1,this._isBillboard=!1,this._customVertexShader=!1,this._customFragmentShader=!1,this.initAttributes(),this.initTextureAttributes()};h.prototype=s.extend({},o,u,{createFragmentShader:function(){return this._fragmentShaderMode=!0,this._createFragmentShader()},createVertexShader:function(){return this._fragmentShaderMode=!1,this._createVertexShader()},getOrCreateProjectionMatrix:function(){return this.getOrCreateUniform("mat4","uProjectionMatrix")},getCompilerName:function(){return this._material?"CompilerOSGJS":"NoMaterialCompilerOSGJS"},getFragmentShaderName:function(){var t=this.getCompilerName(),e=this._material&&this._material.getName();return e&&(e=e.replace(/[^a-zA-Z0-9]+/g,"_").slice(0,20),t+="("+e+")"),t},getVertexShaderName:function(){return this.getFragmentShaderName()},getDebugIdentifier:function(){var t=this.getVertexShaderName(),e=this.getFragmentShaderName();return t===e?e:t+"|"+e},logError:function(t){i.error(this.getDebugIdentifier()+" : "+t)},logWarn:function(t){i.warn(this.getDebugIdentifier()+" : "+t)},getOrCreateConstantOne:function(t){return this.getOrCreateConstant(t,t+"White").setValue(t+"(1.0)")},getOrCreateConstantZero:function(t){return this.getOrCreateConstant(t,t+"Black").setValue(t+"(0.0)")},initAttributes:function(){for(var t=this._attributes,e=this._lights,r=this._shadows,i=0,n=t.length;i<n;i++){var a=t[i].className();"Light"===a?e.push(t[i]):"Material"===a?this._material=t[i]:"ShadowReceiveAttribute"===a?r.push(t[i]):"Billboard"===a?this._isBillboard=!!t[i]:"SkinningAttribute"===a?this._skinningAttribute=t[i]:"MorphAttribute"===a?this._morphAttribute=t[i]:"PointSizeAttribute"===a&&(this._pointSizeAttribute=t[i])}},initTextureAttributes:function(){var t=this._textureAttributes,e=t.length;this._textures.length=this._shadowsTextures.length=e;for(var r=0;r<e;r++){var i=t[r];if(void 0!==i)for(var n=0,a=i.length;n<a;n++)this.registerTextureAttributes(i[n],r)}},registerTextureAttributes:function(t,e){var r=t.className();return"Texture"===r?this.registerTexture(t,e):r.indexOf("ShadowTexture")!==-1?this.registerTextureShadow(t,e):void 0},registerTexture:function(t,e){var r=t.getName();r||(r="Texture"+e,t.setName(r)),this._textures[e]=t,this._texturesByName[r]={texture:t,variable:void 0,textureUnit:e}},registerTextureShadow:function(t,e){var r=t.getName();r||(r="Texture"+e,t.setName(r)),this._shadowsTextures[e]=t,this._texturesByName[r]={texture:t,variable:void 0,textureUnit:e,shadow:!0}},getTextureByName:function(t){var e=this._texturesByName[t];if(!e||e.variable)return e;var r,i=e.texture,n=e.textureUnit,a=i.className(),s="Texture"+n;if("Texture"===a)r=this.getOrCreateSampler("sampler2D",s);else{if("TextureCubeMap"!==a)return;r=this.getOrCreateSampler("samplerCube",s)}var o=this._fragmentShaderMode?this.getOrCreateVarying("vec2","vTexCoord"+n):this.getOrCreateAttribute("vec2","TexCoord"+n);return e.variable=this.createTextureRGBA(i,r,o),e},createShaderFromGraphs:function(t){this._compiledNodeList={};var e=[];for(var r in this._variables){var i=this._variables[r],n=i.declare();n&&e.push(n)}var a=this.evaluateExtensions(t),s=this.evaluateDefines(t),o=[];o.push("\n"),o.push(this.evaluateGlobalVariableDeclaration(t)),this._invariantPosition&&!this._fragmentShaderMode&&o.push("\ninvariant gl_Position;"),o.push("\n"),o.push(this.evaluateGlobalFunctionDeclaration(t)),o.push("void main() {"),0!==e.length&&(o.push("// vars\n"),o.push(e.join(" ")),o.push("\n// end vars\n")),0===t.length&&this.logError("shader without any final Node output (need at least one)"),o.push(this.evaluate(t)),o.push("}");var u=o.join("\n"),h=this._shaderProcessor.processShader(u,s,a,this._fragmentShaderMode?"fragment":"vertex"),c=window.Object.keys(this._compiledNodeList),l=window.Object.keys(this._activeNodeList);return l.filter(function(t){var e=c.indexOf(t)!==-1;if(!e){var r=this._activeNodeList[t],i=r.getName();"Variable"===i&&(i+=" "+r.getVariable()+" ("+r.getType()+")"),this.logWarn("Nodes requested, but not compiled: "+t+" "+i+" "+r.toString())}return e},this),h},getNode:function(){var t=a.getNode.apply(a,arguments),e=t.getID();return this._activeNodeList[e]=t,t},getVariable:function(t){return this._variables[t]},getAttributeType:function(t){for(var e=0;e<this._attributes.length;e++)if(this._attributes[e].getType()===t)return this._attributes[e]},createVariable:function(t,e,r){var i=e;if(void 0===i){var n=window.Object.keys(this._variables).length;i="tmp_"+n}else if(this._variables[i]){if(i+=r,void 0===r)return this.createVariable(t,e,1);if(this._variables[i])return r++,this.createVariable(t,e,r)}var a=this.getNode("Variable",t,i);return this._variables[i]=a,a},getOrCreateUniform:function(t,e,r){var i=e;if(t instanceof n){var a=t;t=a.getType(),i=a.getName()}else void 0===i&&this.logError("Cannot create unamed Uniform");var s=this._variables[i];if(s){if(s.getType()===t)return s;"sampler2D"===s.getType()&&"sampler2D"!==t&&this.logError("Same uniform, but different type ("+t+", "+s.getType()+", "+s.getVariable()+")")}var o=this.getNode("Uniform",t,i,r);return this._variables[i]=o,o},getOrCreateSampler:function(t,e){void 0===e&&this.logError("No name given for sampler type : "+t);var r=this._variables[e];if(r)return r;var i=this.getNode("Sampler",t,e);return this._variables[e]=i,i},getOrCreateAttribute:function(t,e){this._fragmentShaderMode&&this.logError("No Vertex Attribute in Fragment Shader");var r=this._variables[e];if(r)return r.getType()!==t&&this.logError("Same attribute, but different type"),r;var i=this.getNode("Attribute",t,e);return this._variables[e]=i,i},getOrCreateConstant:function(t,e){var r=e;if(void 0===r){var i=window.Object.keys(this._variables).length;r="tmp_"+i}else{var n=this._variables[r];if(n)return n.getType()!==t&&this.logError("Same constant name, but different type"),n}var a=this.getNode("Constant",t,r);return this._variables[r]=a,a},getOrCreateVarying:function(t,e){void 0===e&&this.logError("Error: Mandatory to name varying (as you need to retrieve them)");var r=this._variables[e];return r?(this._varyings[e]||this.logError("Error: requesting a varying not declared with getOrCreateVarying previously"),r.getType()!==t&&this.logError("Error: Same varying, but different type"),r):(this._fragmentShaderMode||this._customFragmentShader||this.logError("Error: requesting a varying not declared in Fragment Shader Graph (for Custom Vertex Shader, add this._customFragmentShader to the processor): "+e+" "+t),r=this._variables[e]=this._varyings[e]=this.getNode("Varying",t,e))},markNodeAsVisited:function(t){var e=t.getID();this._activeNodeList[e]===t?this._compiledNodeList[e]=t:this.logWarn("Node not requested by using Compiler getNode and/or not registered in nodeFactory "+t.toString())},checkOrMarkNodeAsTraversed:function(t){var e=t.getID();return!!this._traversedNodeList[e]||(this._traversedNodeList[e]=t,!1)},traverse:function(t,e){if(!this.checkOrMarkNodeAsTraversed(e)){var r=e.getInputs();if(!Array.isArray(r)){var i=[];for(var n in r)i.push(r[n]);r=i}for(var a=0,s=r.length;a<s;a++){e.checkInputsOutputs();var o=r[a];void 0!==o&&o!==e&&this.traverse(t,o)}t.call(t,e),this.markNodeAsVisited(e)}},preTraverse:function(t){return this._traversedNodeList={},t._map={},t._text=[],t},evaluateAndGatherField:function(t,e){var r=function(t){var r=t.getType();if(void 0!==r&&""!==r||this.logError("Your node "+t+" has no type"),t[e]&&void 0===this._map[r]){this._map[r]=!0;var i=t[e]();Array.prototype.push.apply(this._text,i)}};this.preTraverse(r);for(var i=0,n=t.length;i<n;i++)this.traverse(r,t[i]);return r._text},evaluateGlobalFunctionDeclaration:function(t){var e=function(t){var e=t.getType();if(void 0!==e&&""!==e||this.logError("Your node "+t+" has no type"),t.globalFunctionDeclaration&&void 0===this._map[e]){this._map[e]=!0;var r=t.globalFunctionDeclaration();void 0!==r&&this._text.push(r)}};this.preTraverse(e);for(var r=0,i=t.length;r<i;r++)this.traverse(e,t[r]);return e._text.join("\n")},evaluateGlobalVariableDeclaration:function(t){var e=function(t){var e=t.getID();if(t.globalDeclaration&&void 0===this._map[e]){this._map[e]=!0;var r=t.globalDeclaration();void 0!==r&&this._text.push(r)}};this.preTraverse(e);var r=0,i=t.length;for(r=0;r<i;r++)this.traverse(e,t[r]);var n=e._text,a=n.length;if(a>0){this.sortDeclarations(n);var s=n[0][0];for(r=0;r<a;++r){var o=n[r][0];o!==s&&(s=o,n[r-1]+="\n")}}return n.join("\n")},sortDeclarations:function(t){if(t.sort(),!this._fragmentShaderMode)for(var e=0,r=t.length;e<r;++e){var i=t[e];if("a"!==i[0])break;if(i.indexOf("Vertex")!==-1){t.splice(e,1),t.unshift(i);break}}},evaluate:function(t){var e=function(t){var e=t.getID();if(void 0===this._map[e]){var r=t.computeShader();if(void 0!==r){if(void 0!==t.getComment){var i=t.getComment();void 0!==i&&this._text.push(i)}this._text.push(r)}this._map[e]=!0}};this.preTraverse(e);for(var r=0,i=t.length;r<i;r++)this.traverse(e,t[r]);return e._text.join("\n")},evaluateDefines:function(t){return this.evaluateAndGatherField(t,"getDefines")},evaluateExtensions:function(t){return this.evaluateAndGatherField(t,"getExtensions")}}),t.exports=h},function(t,e,r){"use strict";var i=r(11),n=r(183),a=r(193),s=r(195),o=r(196),u=r(198),h=r(197),c=r(194),l=r(191),d=r(199),f=function(){this._nodes=new window.Map,this.registerNodes(n),this.registerNodes(a),this.registerNodes(c),this.registerNodes(s),this.registerNodes(o),this.registerNodes(l),this.registerNodes(u),this.registerNodes(h),this.registerNodes(d)};f.prototype={registerNodes:function(t){for(var e in t)this.registerNode(e,t[e])},registerNode:function(t,e){this._nodes.has(t)&&i.warn("Node "+t+" already registered"),this._nodes.set(t,e)},getNode:function(t){var e=this._nodes.get(t);if(!e)return void i.warn("Node "+t+" does not exist");var r=window.Object.create(e.prototype);return e.apply(r,Array.prototype.slice.call(arguments,1)),r}};var p=new f;t.exports=p},function(t,e,r){"use strict";var i=r(7),n=r(184),a=r(192),s=function(){a.call(this)};s.prototype=i.objectInherit(a.prototype,{type:"Skinning",validInputs:["weights","bonesIndex","matrixPalette"],validOutputs:["mat4"],globalFunctionDeclaration:function(){return'#pragma include "skinning.glsl"'},computeShader:function(){return n.callFunction("skeletalTransform",this._outputs.mat4,[this._inputs.weights,this._inputs.bonesIndex])}}),t.exports={Skinning:s}},function(t,e,r){"use strict";var i=function(t,e){if(!t||!e)return"";var r;for(var i in e)r=e[i],void 0!==r&&(r.getVariable&&(r=r.getVariable()),t=t.replace("%s",r));return t},n=function(t,e){var r=t,i=[],n=e;void 0===e&&(n="");for(var a=0,s=r.length;a<s;a++){var o,u=r[a];o=void 0===u?"undefined":"string"==typeof u?u:u.getType?u.getType()+" "+u.getVariable():u.getVariable(),i.push(n+o)}return i},a=function(t,e,i){var a=r(185),s=[],o="";if(a.debugShaderNode&&(s.push("\n// output"),Array.prototype.push.apply(s,n([e],"// "))),e&&(e.getVariable&&(e=e.getVariable()),o=e+" = "),o=o+t+"( ",i&&i.length>0){a.debugShaderNode&&(s.push("// inputs"),Array.prototype.push.apply(s,n(i,"// ")));for(var u=0,h=i.length;u<h;u++)o+=i[u].getVariable?i[u].getVariable():i[u],u!==h-1&&(o+=", ")}return o+=" );\n",a.debugShaderNode?s.join("\n")+"\n"+o:o};t.exports={callFunction:a,checkVariableType:n,sprintf:i}},function(t,e,r){"use strict";var i=r(181),n=r(180),a=r(186),s=r(93),o=r(182),u=r(190),h=r(184),c={};c.Compiler=i,c.ShaderGenerator=n,c.ShaderGeneratorProxy=a,c.ShaderProcessor=s,c.nodeFactory=o,c.node=u,c.utils=h,c.debugShaderNode=!1,c.debugShaderNode=!0,t.exports=c},function(t,e,r){"use strict";var i=r(180),n=r(187),a=r(179),s=r(189),o=function(){return this._generators=new window.Map,this.addShaderGenerator("default",new i),this.addShaderGenerator("ShadowCast",new n),this.addShaderGenerator("debugNormal",new a.ShaderGeneratorCompilerOffsetNormal),this.addShaderGenerator("debugTangent",new a.ShaderGeneratorCompilerOffsetTangent),this.addShaderGenerator("debugGeometry",new s.ShaderGeneratorCompilerColorGeometry),this.addShaderGenerator("debugSkinning",new s.ShaderGeneratorCompilerColorSkinning),this};o.prototype={getShaderGenerator:function(t){return t?this._generators.get(t):this._generators.get("default")},addShaderGenerator:function(t,e){this._generators.set(t,e)}},t.exports=o},function(t,e,r){"use strict";var i=r(180),n=r(188),a=function(){i.apply(this,arguments),this.setShaderCompiler(n),this._acceptAttributeTypes=new window.Set(["ShadowCast","Skinning","Morph","PointSize"])};a.prototype=i.prototype,t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(181),a=function(){n.apply(this,arguments)};a.prototype=i.objectInherit(n.prototype,{getCompilerName:function(){return"ShadowCast"},initAttributes:function(){for(var t=this._attributes,e=0,r=t.length;e<r;e++){var i=t[e].className();"ShadowCastAttribute"===i?this._shadowCastAttribute=t[e]:"Billboard"===i?this._isBillboard=!!t[e]:"SkinningAttribute"===i?this._skinningAttribute=t[e]:"MorphAttribute"===i?this._morphAttribute=t[e]:"PointSizeAttribute"===i&&(this._pointSizeAttribute=t[e])}},registerTextureAttributes:function(){},createShadowCastDepth:function(t){return this.getNode("ShadowCast").setShadowCastAttribute(this._shadowCastAttribute).inputs({shadowDepthRange:this.getOrCreateUniform("vec4","uShadowDepthRange"),fragEye:this.getOrCreateVarying("vec4","vViewVertex")}).outputs({color:t}),t},createFragmentShaderGraph:function(){var t=this.getNode("glFragColor");return[this.createShadowCastDepth(t)]}}),t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(23),a=r(28),s=r(69),o=r(33),u=r(21),h=r(16).vec3,c=r(180),l=r(181),d=r(40),f=r(79),p=r(38),g=r(53),_=r(77),m=function(){l.apply(this,arguments)};m.prototype=i.objectInherit(l.prototype,{getCompilerName:function(){return"CompilerDebugGeometry"},initTextureAttributes:function(){},createFragmentShaderGraph:function(){var t=this.getNode("glFragColor");return this.getNode("SetAlpha").inputs({color:this.getOrCreateUniform("vec3","uColorDebug"),alpha:this.createVariable("float").setValue("1.0")}).outputs({color:t}),[t]}});var v=function(){c.apply(this,arguments),this.setShaderCompiler(m)};v.prototype=c.prototype;var b=function(){l.apply(this,arguments)};b.prototype=i.objectInherit(l.prototype,{getCompilerName:function(){return"CompilerDebugSkinning"},initTextureAttributes:function(){},createFragmentShaderGraph:function(){var t=this.getNode("glFragColor");return this.getNode("SetAlpha").inputs({color:this.getOrCreateVarying("vec3","vBonesColor"),alpha:this.createVariable("float").setValue("1.0")}).outputs({color:t}),[t]},declareVertexVaryings:function(t){var e=this.getOrCreateVarying("vec3","vBonesColor");return this.getNode("SetFromNode").inputs(this.getOrCreateAttribute("vec3","BonesColor")).outputs(e),l.prototype.declareVertexVaryings.call(this,t)}});var x=function(){c.apply(this,arguments),this.setShaderCompiler(b)};x.prototype=c.prototype;var y=function(){n.call(this),this._debugColor=!0,this._debugSkinning=!1,this._stCenter=new u,this._stCenter.setShaderGeneratorName("debugGeometry")};y.CompilerColorGeometry=m,y.ShaderGeneratorCompilerColorGeometry=v,y.CompilerSkinningGeometry=b,y.ShaderGeneratorCompilerColorSkinning=x,y.prototype=i.objectInherit(n.prototype,{setGeometryDebug:function(t){this._stCenter.setAttributeAndModes(new _(_.ALWAYS)),this._debugColor=!0,this._debugSkinning=!1,this.apply(t)},setSkinningDebug:function(t){this._stCenter.setAttributeAndModes(new _(_.NEVER)),this._debugColor=!1,this._debugSkinning=!0,this.apply(t)},disableDebug:function(t){this._stCenter.setAttributeAndModes(new _(_.NEVER)),this._debugColor=!1,this._debugSkinning=!1,this.apply(t)},apply:function(t){if(!t._isNormalDebug&&!t._isCenterDebug){if(t instanceof a)if(this._debugColor||this._debugSkinning&&t instanceof s){void 0===t._originalStateSet&&(t._originalStateSet=t.getStateSet()||null);var e=new u;if(t.setStateSet(e),this._debugSkinning){e.setShaderGeneratorName("debugSkinning");var r=t.getVertexAttributeList();if(!r.BonesColor){for(var i=r.Bones.getElements(),n=r.Weights.getElements(),c=t._rigTransformImplementation._bones,l=i.length/4,_=new Float32Array(3*l),m=0;m<l;++m){var v=4*m,b=c[i[v]].getOrCreateDebugColor(),x=c[i[v+1]].getOrCreateDebugColor(),y=c[i[v+2]].getOrCreateDebugColor(),S=c[i[v+3]].getOrCreateDebugColor(),T=n[v],M=n[v+1],A=n[v+2],w=n[v+3],C=3*m;_[C]=T*b[0]+M*x[0]+A*y[0]+w*S[0],_[C+1]=T*b[1]+M*x[1]+A*y[1]+w*S[1],_[C+2]=T*b[2]+M*x[2]+A*y[2]+w*S[2]}r.BonesColor=new d(d.ARRAY_BUFFER,_,3)}}else{var E=h.fromValues(Math.random(),Math.random(),Math.random());e.addUniform(o.createFloat3(E,"uColorDebug")),e.setShaderGeneratorName("debugGeometry");var R=t.getBound(),N=new Float32Array(18),I=.1*R.radius();N[0]=I,N[3]=-I,N[7]=I,N[10]=-I,N[14]=I,N[17]=-I;var k=new a;k.getAttributes().Vertex=new d(d.ARRAY_BUFFER,N,3);var O=new f(p.LINES,0,6);k.getPrimitives().push(O);var P=new g,L=R.center();P.getMatrix()[12]=L[0],P.getMatrix()[13]=L[1],P.getMatrix()[14]=L[2],P.addChild(k),this.nodePath[this.nodePath.length-2].addChild(P),E=h.fromValues(.8*E[0],.8*E[1],.8*E[2]),k.getOrCreateStateSet().addUniform(o.createFloat3(E,"uColorDebug")),P.setStateSet(this._stCenter),P._isCenterDebug=!0}}else void 0!==t._originalStateSet&&t.setStateSet(t._originalStateSet||void 0);this.traverse(t)}}}),t.exports=y},function(t,e,r){"use strict";var i=[r(183),r(191),r(193),r(194),r(195),r(196),r(197)],n={};i.forEach(function(t){for(var e in t){var r=t[e];if(void 0!==this[e])throw"duplicate entry in node library";this[e]=r}},n),t.exports=n},function(t,e,r){"use strict";var i=r(7),n=r(184),a=r(192),s=function(){a.call(this)},o=function(t){return"vec4"===t.getType()?t.getVariable()+".rgb":t};s.prototype=i.objectInherit(a.prototype,{type:"Morph",validInputs:["weights","vertex","target0"],validOutputs:["out"],globalFunctionDeclaration:function(){var t=window.Object.keys(this._inputs).length-2,e=0,r="vec3 morphTransform( const in vec4 weights,  const in vec3 vertex, const in vec3 target0";for(e=1;e<t;++e)r+=", const in vec3 target"+e;if(r+=" ) { \n",1===t)r+="return mix(vertex, target0, weights[0])";else{for(r+="\tvec3 vecOut = vertex * (1.0 - ( weights[0]",e=1;e<t;++e)r+=" + weights["+e+"]";for(r+="));\n",e=0;e<t;++e)r+="\tvecOut += target"+e+" * weights["+e+"];\n";r+="\treturn vecOut"}return r+=";\n}\n"},computeShader:function(){for(var t=this._inputs,e=[t.weights,o(t.vertex)],r=0;r<4&&t["target"+r];r++)e.push(o(t["target"+r]));return n.callFunction("morphTransform",this._outputs.out,e)}}),t.exports={Morph:s}},function(t,e,r){"use strict";var i=r(11),n=0,a=function(){this._name="AbstractNode",this._inputs=[],this._outputs=null,this._id=n++,this._text=void 0};a.prototype={getID:function(){return this._id},getName:function(){return this._name},getType:function(){return this.type},toString:function(){var t="name : "+this._name;return this.type&&(t+=" ("+this.type+")"),t},getInputs:function(){return this._inputs},getOutputs:function(){return this._outputs},checkInputsOutputs:function(){var t,e;if(this.validInputs)for(t=0;t<this.validInputs.length;t++)if(e=this.validInputs[t],!this._inputs[e])return i.error("Shader node "+this.type+" validation error input "+e+" is missing"),!1;if(this.validOutputs)for(t=0;t<this.validOutputs.length;t++)if(e=this.validOutputs[t],!this._outputs[e])return i.error("Shader node "+this.type+" validation error output "+e+" is missing"),!1;return!0},inputs:function(){for(var t=0,e=arguments.length;t<e;t++){var r=arguments[t];if(!r){i.error("Shader node "+this.type+" input number "+e+" is undefined ");break}if(Array.isArray(r))return this.inputs.apply(this,r),this;if("object"==typeof r&&null!==r&&r instanceof a==!1)return this._inputs=r,this;this._inputs.push(r)}return this},outputs:function(t){if(this._outputs=t,this._outputs instanceof a==!0)this.autoLink(this._outputs);else for(var e in this._outputs)this.autoLink(this._outputs[e]);return this},autoLink:function(t){return void 0===t?this:(t.inputs(this),this)},computeShader:function(){return this._text},comment:function(t){this._comment="//"+t},getComment:function(){return this._comment}},t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(184),a=r(192),s=n.sprintf,o=function(t,e){a.call(this),this._name="Variable",this._prefix=e,this._type=t,this._value=void 0};o.prototype=i.objectInherit(a.prototype,{getType:function(){return this._type},getVariable:function(){return this._prefix},setValue:function(t){return this._value=t,this},toString:function(){var t="prefix : "+this._prefix;return t+=", name : "+this._prefix,this.type&&(t+=" ("+this.type+")"),t},declare:function(){return void 0!==this._value?s("%s %s = %s;",[this._type,this.getVariable(),this._value]):s("%s %s;",[this._type,this.getVariable()])},isEmpty:function(){return void 0===this._value&&0===this._inputs.length},reset:function(){this._inputs=[],this._outputs=null,this._value=void 0,this._text=void 0}});var u=function(t,e){o.call(this,t,e)};u.prototype=i.objectInherit(o.prototype,{declare:function(){return s("const %s %s = %s;",[this._type,this.getVariable(),this._value])}});var h=function(t,e,r){o.call(this,t,e),this._size=r};h.prototype=i.objectInherit(o.prototype,{declare:function(){},globalDeclaration:function(){return this._size?s("uniform %s %s[%s];",[this._type,this.getVariable(),this._size]):s("uniform %s %s;",[this._type,this.getVariable()])}});var c=function(t,e){o.call(this,t,e)};c.prototype=i.objectInherit(o.prototype,{declare:function(){},globalDeclaration:function(){return s("attribute %s %s;",[this._type,this.getVariable()])}});var l=function(t,e){o.call(this,t,e)};l.prototype=i.objectInherit(o.prototype,{declare:function(){},globalDeclaration:function(){return s("varying %s %s;",[this._type,this.getVariable()])}});var d=function(t,e){o.call(this,t,e)};d.prototype=i.objectInherit(o.prototype,{declare:function(){},globalDeclaration:function(){return s("uniform %s %s;",[this._type,this.getVariable()])}});var f=function(t,e){o.call(this,t,e)};f.prototype=i.objectInherit(o.prototype,{_unique:!0,isUnique:function(){return this._unique},outputs:function(){return this},getVariable:function(){return this._prefix}});var p=function(){f.call(this,"vec4","gl_FragColor"),this._name="glFragColor"};p.prototype=i.objectInherit(f.prototype,{});var g=function(){f.call(this,"vec4","gl_Position"),this._name="glPosition"};g.prototype=i.objectInherit(f.prototype,{});var _=function(){f.call(this,"float","gl_PointSize"),this._name="glPointSize"};_.prototype=i.objectInherit(f.prototype,{}),t.exports={Output:f,glPointSize:_,glPosition:g,glFragColor:p,Sampler:d,Variable:o,Constant:u,Attribute:c,Varying:l,Uniform:h}},function(t,e,r){"use strict";var i=r(7),n=r(184),a=r(192),s=function(){a.call(this)};s.prototype=i.objectInherit(a.prototype,{type:"TextureAbstractNode",functionName:"noTextureFunction",validInputs:["sampler","uv"],validOutputs:["color"],computeShader:function(){return n.callFunction(this.functionName,this._outputs.color,[this._inputs.sampler,this._inputs.uv.getVariable()+".xy"])},globalFunctionDeclaration:function(){return'#pragma include "textures.glsl"'}});var o=function(){s.call(this)};o.prototype=i.objectInherit(s.prototype,{type:"TextureRGB",functionName:"textureRGB"});var u=function(){o.call(this)};u.prototype=i.objectInherit(o.prototype,{type:"TextureRGBA",functionName:"textureRGBA"});var h=function(){o.call(this)};h.prototype=i.objectInherit(o.prototype,{type:"TextureAlpha",functionName:"textureAlpha"});var c=function(){o.call(this)};c.prototype=i.objectInherit(o.prototype,{type:"TextureIntensity",functionName:"textureIntensity"}),t.exports={NodeTextures:s,TextureRGB:o,TextureRGBA:u,TextureAlpha:h,TextureIntensity:c}},function(t,e,r){"use strict";var i=r(7),n=r(184),a=r(192),s=n.sprintf,o=function(){a.call(this)};o.prototype=i.objectInherit(a.prototype,{globalFunctionDeclaration:function(){return'#pragma include "functions.glsl"'}});var u=function(){o.call(this)};u.prototype=i.objectInherit(o.prototype,{type:"Normalize",validInputs:["vec"],validOuputs:["vec"],computeShader:function(){return n.callFunction("normalize",this._outputs.vec,[this._inputs.vec])}});var h=function(){o.call(this)};h.prototype=i.objectInherit(o.prototype,{type:"sRGBToLinear",validInputs:["color"],validOuputs:["color"],computeShader:function(){return this.computeConversion("sRGBToLinear")},computeConversion:function(t){var e=this._outputs.color,r=this._inputs.color,i=e.getType()!==r.getType()?".rgb":"";return n.callFunction(t,e.getVariable()+i,[r.getVariable()+i])}});var c=function(){h.call(this)};c.prototype=i.objectInherit(h.prototype,{type:"LinearTosRGB",computeShader:function(){return this.computeConversion("linearTosRGB")}});var l=function(){o.call(this)};l.prototype=i.objectInherit(o.prototype,{type:"FrontNormal",validInputs:["normal"],validOuputs:["normal"],computeShader:function(){return s("%s = gl_FrontFacing ? %s : -%s ;",[this._outputs.normal.getVariable(),this._inputs.normal.getVariable(),this._inputs.normal.getVariable()])}});var d=function(t){return t.getType&&"vec4"===t.getType()?t.getVariable()+".rgb":t},f=function(){o.call(this)};f.prototype=i.objectInherit(o.prototype,{type:"EncodeRGBM",validInputs:["color","range"],validOutputs:["color"],computeShader:function(){return n.callFunction("encodeRGBM",this._outputs.color,[d(this._inputs.color),this._inputs.range])}});var p=function(){o.call(this)};p.prototype=i.objectInherit(o.prototype,{type:"DecodeRGBM",validInputs:["color","range"],validOutputs:["color"],computeShader:function(){return n.callFunction("decodeRGBM",this._outputs.color,[this._inputs.color,this._inputs.range])}});var g=function(t){a.call(this),this._defineName=t,this._defineValue=""};g.prototype=i.objectInherit(a.prototype,{type:"Define",setValue:function(t){return this._defineValue=t,this},getDefines:function(){return["#define "+this._defineName+" "+this._defineValue]}}),t.exports={NodeFunctions:o,Normalize:u,sRGBToLinear:h,LinearTosRGB:c,FrontNormal:l,DecodeRGBM:p,EncodeRGBM:f,Define:g}},function(t,e,r){"use strict";var i=r(7),n=r(184),a=r(192),s=function(){a.call(this)};s.prototype=i.objectInherit(a.prototype,{validOutputs:["color","lighted"],globalFunctionDeclaration:function(){return'#pragma include "lights.glsl"'}});var o=function(t){return"vec4"===t.getType()?t.getVariable()+".rgb":t},u=function(){s.call(this)};u.prototype=i.objectInherit(s.prototype,{type:"PointLight",validInputs:["normal","eyeVector","materialdiffuse","materialspecular","materialshininess","lightdiffuse","lightspecular","lightposition","lightattenuation","lightmatrix"],computeShader:function(){return n.callFunction("computePointLightShading",this._outputs.color,[this._inputs.normal,this._inputs.eyeVector,o(this._inputs.materialdiffuse),o(this._inputs.materialspecular),this._inputs.materialshininess,o(this._inputs.lightdiffuse),o(this._inputs.lightspecular),this._inputs.lightposition,this._inputs.lightattenuation,this._inputs.lightmatrix,this._outputs.lighted])}});var h=function(){s.call(this)};h.prototype=i.objectInherit(s.prototype,{type:"SpotLight",validInputs:["normal","eyeVector","materialdiffuse","materialspecular","materialshininess","lightdiffuse","lightspecular","lightdirection","lightattenuation","lightposition","lightspotCutOff","lightspotBlend","lightmatrix","lightinvMatrix"],computeShader:function(){return n.callFunction("computeSpotLightShading",this._outputs.color,[this._inputs.normal,this._inputs.eyeVector,o(this._inputs.materialdiffuse),o(this._inputs.materialspecular),this._inputs.materialshininess,o(this._inputs.lightdiffuse),o(this._inputs.lightspecular),this._inputs.lightdirection,this._inputs.lightattenuation,this._inputs.lightposition,this._inputs.lightspotCutOff,this._inputs.lightspotBlend,this._inputs.lightmatrix,this._inputs.lightinvMatrix,this._outputs.lighted])}});var c=function(){s.call(this)};c.prototype=i.objectInherit(s.prototype,{type:"SunLight",validInputs:["normal","eyeVector","materialdiffuse","materialspecular","materialshininess","lightdiffuse","lightspecular","lightposition","lightmatrix"],computeShader:function(){return n.callFunction("computeSunLightShading",this._outputs.color,[this._inputs.normal,this._inputs.eyeVector,o(this._inputs.materialdiffuse),o(this._inputs.materialspecular),this._inputs.materialshininess,o(this._inputs.lightdiffuse),o(this._inputs.lightspecular),this._inputs.lightposition,this._inputs.lightmatrix,this._outputs.lighted])}});var l=function(){s.call(this)};l.prototype=i.objectInherit(s.prototype,{type:"HemiLight",validInputs:["normal","eyeVector","materialdiffuse","materialspecular","materialshininess","lightdiffuse","lightground","lightposition","lightmatrix"],computeShader:function(){return n.callFunction("computeHemiLightShading",this._outputs.color,[this._inputs.normal,this._inputs.eyeVector,o(this._inputs.materialdiffuse),o(this._inputs.materialspecular),this._inputs.materialshininess,o(this._inputs.lightdiffuse),o(this._inputs.lightground),this._inputs.lightposition,this._inputs.lightmatrix,this._outputs.lighted])}}),t.exports={PointLight:u,SpotLight:h,SunLight:c,HemiLight:l}},function(t,e,r){"use strict";var i=r(11),n=r(7),a=r(192),s=r(184),o=s.sprintf,u=function(){a.call(this)};u.prototype=a.prototype;var h=function(){u.call(this)};h.prototype=n.objectInherit(u.prototype,{type:"Add",operator:"+",computeShader:function(){var t=this._outputs.getType(),e="";"vec4"===t?e=".rgba":"vec3"===t?e=".rgb":"vec2"===t&&(e=".rg");for(var r=this._outputs.getVariable()+" = "+this._inputs[0].getVariable()+e,i=1,n=this._inputs.length;i<n;i++){var a=this._inputs[i];r+=this.operator+a.getVariable(),"float"!==a.getType()&&(r+=e)}return r+=";"}});var c=function(){h.call(this)};c.prototype=n.objectInherit(h.prototype,{type:"Mult",operator:"*"});var l=function(){h.call(this)};l.prototype=n.objectInherit(h.prototype,{type:"SetFromNode"});var d=function(){h.call(this),this._overwriteW=!0,this._forceComplement=!0,this._inverseOp=!1};d.prototype=n.objectInherit(h.prototype,{type:"MatrixMultDirection",operator:"*",validInputs:["vec","matrix"],validOutputs:["vec"],complement:"0.",
setInverse:function(t){return this._inverseOp=t,this},setForceComplement:function(t){return this._forceComplement=t,this},setOverwriteW:function(t){return this._overwriteW=t,this},computeShader:function(){var t=this._inputs.vec.getVariable(),e=this._inputs.matrix.getVariable(),r=this._outputs.vec.getVariable(),i=this._inputs.vec.getType(),n=this._outputs.vec.getType(),a=this._inputs.matrix.getType(),s=r;if("mat4"===a){s+=" = ","vec4"!==n&&(s+=n+"(");var o=t;(this._forceComplement||"vec4"!==i)&&(o="vec4("+t+".xyz, "+this.complement+")"),s+=this._inverseOp?o+this.operator+e:e+this.operator+o,"vec4"!==n&&(s+=")"),s+=";",this._overwriteW||"vec4"!==i||(s+="\n"+r+".a = "+t+".a;")}else{"vec4"===n&&(s+=".xyz"),s+=" = ";var u=t+".xyz";s+=(this._inverseOp?u+this.operator+e:e+this.operator+u)+";",this._overwriteW||"vec4"!==n||"vec4"!==i||(s+="\n"+r+".a = "+t+".a;")}return s}});var f=function(){d.call(this),this._forceComplement=!1};f.prototype=n.objectInherit(d.prototype,{type:"MatrixMultPosition",complement:"1."});var p=function(){a.call(this)};p.prototype=n.objectInherit(a.prototype,{type:"InlineCode",code:function(t){return this._text=t,this},computeShader:function(){var t=n.objectMix({},this._inputs);t=n.objectMix(t,this._outputs);for(var e=new RegExp("%[A-Za-z0-9_]+","gm"),r=this._text,a=this._text.match(e),s=new Set,o=0;o<a.length;o++){var u=a[o].substr(1);if(!s.has(u)){t[u]||(i.error("error with inline code\n"+this._text),i.error("input "+u+" not provided for "+a[o]));var h=new RegExp(a[o].toString(),"gm");r=r.replace(h,t[u].getVariable()),s.add(u)}}return r}});var g=function(){u.call(this)};g.prototype=n.objectInherit(u.prototype,{type:"SetAlpha",validInputs:["color","alpha"],validOuputs:["color"],computeShader:function(){var t=this._inputs.alpha;return o("%s = vec4( %s.rgb, %s );",[this._outputs.color.getVariable(),this._inputs.color.getVariable(),"float"!==t.getType()?t.getVariable()+".a":t.getVariable()])}});var _=function(){u.call(this)};_.prototype=n.objectInherit(u.prototype,{type:"PreMultAlpha",validInputs:["color"],validOuputs:["color"],computeShader:function(){var t,e=void 0!==this._inputs.alpha?this._inputs.alpha:this._inputs.color;return t="float"!==e.getType()?e.getVariable()+".a":e.getVariable(),o("%s.rgb = %s.rgb * %s;",[this._outputs.color.getVariable(),this._inputs.color.getVariable(),t])}}),t.exports={BaseOperator:u,Mult:c,MatrixMultPosition:f,MatrixMultDirection:d,Add:h,InlineCode:p,SetAlpha:g,SetFromNode:l,PreMultAlpha:_}},function(t,e,r){"use strict";var i=r(7),n=r(184),a=r(192),s=function(){a.call(this)};s.prototype=i.objectInherit(a.prototype,{type:"ShadowReceiveNode",validInputs:["lighted","shadowTexture","shadowTextureRenderSize","shadowTextureProjectionMatrix","shadowTextureViewMatrix","shadowTextureDepthRange","normalWorld","vertexWorld","shadowBias"],validOutputs:["float"],globalFunctionDeclaration:function(){return'#pragma include "shadowsReceive.glsl"'},setShadowAttribute:function(t){return this._shadow=t,this},getDefines:function(){return this._shadow.getDefines()},getExtensions:function(){return this._shadow.getExtensions()},computeShader:function(){var t=this._inputs,e=[t.lighted,t.shadowTexture];return this._shadow.getAtlas()&&e.push(t.shadowTextureMapSize),e=e.concat([t.shadowTextureRenderSize,t.shadowTextureProjectionMatrix,t.shadowTextureViewMatrix,t.shadowTextureDepthRange,t.normalWorld,t.vertexWorld,t.shadowBias]),this._shadow.getNormalBias()&&e.push(t.shadowNormalBias),n.callFunction("computeShadow",this._outputs.float,e)}});var o=function(){a.call(this)};o.prototype=i.objectInherit(a.prototype,{type:"ShadowCast",validInputs:["shadowDepthRange","fragEye"],validOutputs:["color"],globalFunctionDeclaration:function(){return'#pragma include "shadowsCastFrag.glsl"'},setShadowCastAttribute:function(t){return this._shadowCast=t,this},getDefines:function(){return this._shadowCast.getDefines()},computeShader:function(){var t=this._inputs;return n.callFunction("computeShadowDepth",this._outputs.color,[t.fragEye,t.shadowDepthRange])}}),t.exports={ShadowCast:o,ShadowReceive:s}},function(t,e,r){"use strict";var i=r(7),n=r(184),a=r(192),s=function(){a.apply(this)};s.prototype=i.objectInherit(a.prototype,{type:"Billboard",validInputs:["Vertex","ModelViewMatrix","ProjectionMatrix"],validOutputs:["vec"],globalFunctionDeclaration:function(){return'#pragma include "billboard.glsl"'},computeShader:function(){return n.callFunction("billboard",this._outputs.vec,[this._inputs.Vertex,this._inputs.ModelViewMatrix,this._inputs.ProjectionMatrix])}}),t.exports={Billboard:s}},function(t,e,r){"use strict";var i=r(11),n={_createVertexShader:function(){var t=this.declareVertexMain(),e=this.getVertexShaderName();e&&t.push(this.getNode("Define","SHADER_NAME").setValue(e));var r=this.createShaderFromGraphs(t);return i.debug(this.getDebugIdentifier()),i.debug(r),r},declareVertexMain:function(){var t=[this.declarePointSize(),this.declareVertexPosition()];return this.declareVertexVaryings(t),t},declarePointSize:function(){var t=this.getNode("glPointSize");return this._pointSizeAttribute&&this._pointSizeAttribute.isEnabled()?(this.getNode("InlineCode").code("%pointSize = min(64.0, max(1.0, -%size / %position.z));").inputs({position:this.getOrCreateViewVertex(),size:this.getOrCreateUniform("float","uPointSize")}).outputs({pointSize:t}),t):(this.getNode("SetFromNode").inputs(this.getOrCreateConstantOne("float")).outputs(t),t)},declareVertexVaryings:function(t){var e=this._varyings;e.vModelVertex&&this.getNode("SetFromNode").inputs(this.getOrCreateModelVertex()).outputs(e.vModelVertex),e.vModelNormal&&this.getNode("SetFromNode").inputs(this.getOrCreateModelNormal()).outputs(e.vModelNormal),e.vModelTangent&&this.getNode("SetFromNode").inputs(this.getOrCreateModelTangent()).outputs(e.vModelTangent),e.vViewVertex&&this.getNode("SetFromNode").inputs(this.getOrCreateViewVertex()).outputs(e.vViewVertex),e.vViewNormal&&this.getNode("SetFromNode").inputs(this.getOrCreateViewNormal()).outputs(e.vViewNormal),e.vViewTangent&&this.getNode("SetFromNode").inputs(this.getOrCreateViewTangent()).outputs(e.vViewTangent),e.vVertexColor&&this.getNode("InlineCode").code("%vcolor = %venabled == 1.0 ? %acolor : vec4(1.0, 1.0, 1.0, 1.0);").inputs({venabled:this.getOrCreateUniform("float","uArrayColorEnabled"),acolor:this.getOrCreateAttribute("vec4","Color")}).outputs({vcolor:this.getOrCreateVarying("vec4","vVertexColor")});for(var r in e){var i=e[r];t.push(i);var n=i.getVariable();n.indexOf("vTexCoord")!==-1&&this.getNode("SetFromNode").inputs(this.getOrCreateAttribute("vec2",n.substring(1))).outputs(i)}},declareVertexPosition:function(){var t=this.getNode("glPosition");return this._isBillboard?this.declareVertexTransformBillboard(t):this.declareScreenVertex(t),t},getOrCreateModelVertex:function(){var t=this._variables.modelVertex;return t?t:(t=this.createVariable("vec3","modelVertex"),this.getNode("MatrixMultPosition").inputs({matrix:this.getOrCreateUniform("mat4","uModelMatrix"),vec:this.getOrCreateLocalVertex()}).outputs({vec:t}),t)},getOrCreateModelNormal:function(){var t=this._variables.modelNormal;return t?t:(t=this.createVariable("vec3","modelNormal"),this.getNode("MatrixMultDirection").inputs({matrix:this.getOrCreateUniform("mat3","uModelNormalMatrix"),vec:this.getOrCreateLocalNormal()}).outputs({vec:t}),t)},getOrCreateModelTangent:function(){var t=this._variables.modelTangent;return t?t:(t=this.createVariable("vec4","modelTangent"),this.getNode("MatrixMultDirection").setOverwriteW(!1).inputs({matrix:this.getOrCreateUniform("mat3","uModelNormalMatrix"),vec:this.getOrCreateLocalTangent()}).outputs({vec:t}),t)},getOrCreateViewVertex:function(){var t=this._variables.viewVertex;return t?t:(t=this.createVariable("vec4","viewVertex"),this.getNode("MatrixMultPosition").inputs({matrix:this.getOrCreateUniform("mat4","uModelViewMatrix"),vec:this.getOrCreateLocalVertex()}).outputs({vec:t}),t)},getOrCreateViewNormal:function(){var t=this._variables.viewNormal;return t?t:(t=this.createVariable("vec3","viewNormal"),this.getNode("MatrixMultDirection").inputs({matrix:this.getOrCreateUniform("mat3","uModelViewNormalMatrix"),vec:this.getOrCreateLocalNormal()}).outputs({vec:t}),t)},getOrCreateViewTangent:function(){var t=this._variables.viewTangent;return t?t:(t=this.createVariable("vec4","viewTangent"),this.getNode("MatrixMultDirection").setOverwriteW(!1).inputs({matrix:this.getOrCreateUniform("mat3","uModelViewNormalMatrix"),vec:this.getOrCreateLocalTangent()}).outputs({vec:t}),t)},declareScreenVertex:function(t){this.getNode("MatrixMultPosition").inputs({matrix:this.getOrCreateProjectionMatrix(),vec:this.getOrCreateViewVertex()}).outputs({vec:t})},declareVertexTransformBillboard:function(t){this.getNode("Billboard").inputs({Vertex:this.getOrCreateAttribute("vec3","Vertex"),ModelViewMatrix:this.getOrCreateUniform("mat4","uModelViewMatrix"),ProjectionMatrix:this.getOrCreateUniform("mat4","uProjectionMatrix")}).outputs({vec:t})},getOrCreateBoneMatrix:function(){var t=this._variables.boneMatrix;if(t)return t;t=this.createVariable("mat4","boneMatrix");var e=this.getOrCreateAttribute("vec4","Weights"),r=this.getOrCreateAttribute("vec4","Bones"),i=this.getOrCreateUniform("vec4","uBones",this._skinningAttribute.getBoneUniformSize());return this.getNode("Skinning").inputs({weights:e,bonesIndex:r,matrixPalette:i}).outputs({mat4:t}),t},getTarget:function(t,e){var r=t.indexOf("Tangent")!==-1?"vec4":"vec3";return this.getOrCreateAttribute(r,t+"_"+e)},morphTangentApproximation:function(t,e){var r=this.getOrCreateLocalNormal();return this._skinningAttribute&&(r=this.createVariable("vec3"),this.getNode("Normalize").inputs({vec:this.getOrCreateMorphNormal()}).outputs({vec:r})),this.getNode("InlineCode").code("%out = %tangent.rgb - dot(%tangent.rgb, %normal) * %normal;").inputs({tangent:t,normal:r}).outputs({out:e}),e},morphTransformVec3:function(t,e){for(var r={vertex:t,weights:this.getOrCreateUniform("vec4","uTargetWeights")},i=this._morphAttribute.getNumTargets(),n=0;n<i;n++)r["target"+n]=this.getTarget(t.getVariable(),n);return this.getNode("Morph").inputs(r).outputs({out:e}),e},skinTransformVertex:function(t,e){return this.getNode("MatrixMultPosition").setInverse(!0).inputs({matrix:this.getOrCreateBoneMatrix(),vec:t}).outputs({vec:e}),e},skinTransformNormal:function(t,e){return this.getNode("MatrixMultDirection").setInverse(!0).inputs({matrix:this.getOrCreateBoneMatrix(),vec:t}).outputs({vec:e}),e},getOrCreateMorphVertex:function(){var t=this.getVariable("morphVertex");if(t)return t;var e=this.getOrCreateAttribute("vec3","Vertex");return this._morphAttribute&&this._morphAttribute.hasTarget("Vertex")?this.morphTransformVec3(e,this.createVariable("vec3","morphVertex")):e},getOrCreateMorphNormal:function(){var t=this.getVariable("morphNormal");if(t)return t;var e=this.getOrCreateAttribute("vec3","Normal");return this._morphAttribute&&this._morphAttribute.hasTarget("Normal")?this.morphTransformVec3(e,this.createVariable("vec3","morphNormal")):e},getOrCreateMorphTangent:function(){var t=this.getVariable("morphTangent");if(t)return t;var e=this.getOrCreateAttribute("vec4","Tangent"),r=this._morphAttribute&&this._morphAttribute.hasTarget("Tangent");return r?this.morphTransformVec3(e,this.createVariable("vec3","morphTangent")):e},getOrCreateSkinVertex:function(){var t=this.getVariable("skinVertex");if(t)return t;var e=this.getOrCreateMorphVertex();return this._skinningAttribute?this.skinTransformVertex(e,this.createVariable("vec3","skinVertex")):e},getOrCreateSkinNormal:function(){var t=this.getVariable("skinNormal");if(t)return t;var e=this.getOrCreateMorphNormal();return this._skinningAttribute?this.skinTransformNormal(e,this.createVariable("vec3","skinNormal")):e},getOrCreateSkinTangent:function(){var t=this.getVariable("skinTangent");if(t)return t;var e=this.getOrCreateMorphTangent();return this._skinningAttribute?this.skinTransformNormal(e,this.createVariable("vec3","skinTangent")):e},getOrCreateLocalVertex:function(){return this.getOrCreateSkinVertex()},getOrCreateLocalNormal:function(){var t=this.getVariable("localNormal");if(t)return t;var e=this.getOrCreateSkinNormal();return e===this.getOrCreateAttribute("vec3","Normal")?e:(t=this.createVariable("vec3","localNormal"),this.getNode("Normalize").inputs({vec:e}).outputs({vec:t}),t)},getOrCreateLocalTangent:function(){var t=this.getVariable("localTangent");if(t)return t;var e=this.getOrCreateAttribute("vec4","Tangent"),r=this.getOrCreateSkinTangent();return r===e?r:this.normalizeAndSetAlpha(r,e,this.createVariable("vec4","localTangent"))},normalizeAndSetAlpha:function(t,e,r){var i=this.createVariable("vec3");return this.getNode("Normalize").inputs({vec:t}).outputs({vec:i}),this.getNode("SetAlpha").inputs({color:i,alpha:e}).outputs({color:r}),r}},a=function(t,e){return function(){return this._fragmentShaderMode&&this.logError("This function should not be called from fragment shader : "+e),t.apply(this,arguments)}};for(var s in n)n[s]=a(n[s],s);t.exports=n},function(t,e,r){"use strict";var i=r(87),n=r(11),a={_createFragmentShader:function(){var t=this.createFragmentShaderGraph(),e=this.getFragmentShaderName();e&&t.push(this.getNode("Define","SHADER_NAME").setValue(e));var r=this.createShaderFromGraphs(t);return n.debug(this.getDebugIdentifier()),n.debug(r),this.cleanAfterFragment(),r},applyPointSizeCircle:function(t){return this._pointSizeAttribute&&this._pointSizeAttribute.isEnabled()&&this._pointSizeAttribute.isCircleShape()?(this.getNode("InlineCode").code("if (length(2.0 * gl_PointCoord - 1.0) > %radius) discard;").inputs({radius:this.getOrCreateConstantOne("float")}).outputs({output:t}),t):t},cleanAfterFragment:function(){this._variables={},this._activeNodeList={};for(var t in this._texturesByName)this._texturesByName[t].variable=void 0;for(var e in this._varyings){var r=this._varyings[e];r.reset(),this._activeNodeList[r.getID()]=r,this._variables[e]=r}},createDefaultFragmentShaderGraph:function(){var t=this.getOrCreateConstant("vec4","fofd").setValue("vec4(1.0, 0.0, 1.0, 0.7)"),e=this.getNode("glFragColor");return this.getNode("SetFromNode").inputs(t).outputs(e),e},createFragmentShaderGraph:function(){var t=[];if(!this._material)return t.push(this.createDefaultFragmentShaderGraph()),t;var e=this._lights.length>0?this.createLighting():this.getOrCreateMaterialDiffuseColor(),r=this.getOrCreateMaterialEmission();if(r){var i=this.createVariable("vec3");this.getNode("Add").inputs(e,r).outputs(i),e=i}var n=this.getDiffuseColorFromTextures();if(n){var a=this.createVariable("vec3");this.getNode("Mult").inputs(e,n).outputs(a),e=a}var s=this.getAlpha();e=this.getPremultAlpha(e,s);var o=this.getNode("glFragColor");return this.getNode("SetAlpha").inputs({color:e,alpha:s}).outputs({color:o}),t.push(o),t},getAlpha:function(){var t=this.createVariable("float"),e=this.getFirstValidTexture(),r={color:this.getOrCreateMaterialDiffuseColor()};e&&(r.texelAlpha=e);var i=e?"%alpha = %color.a * %texelAlpha.a;":"%alpha = %color.a;";return this._isBillboard&&(i+="if ( %alpha == 0.0) discard;"),this.getNode("InlineCode").code(i).inputs(r).outputs({alpha:t}),t},getOrCreateFrontViewTangent:function(){var t=this._variables.frontViewTangent;return t?t:(t=this.createVariable("vec4","frontViewTangent"),this.getNode("FrontNormal").inputs({normal:this.getOrCreateVarying("vec4","vViewTangent")}).outputs({normal:t}),t)},getOrCreateFrontViewNormal:function(){var t=this._variables.frontViewNormal;return t?t:(t=this.createVariable("vec3","frontViewNormal"),this.getNode("FrontNormal").inputs({normal:this.getOrCreateVarying("vec3","vViewNormal")}).outputs({normal:t}),t)},getOrCreateNormalizedViewEyeDirection:function(){var t=this._variables.eyeVector;if(t)return t;var e=this.createVariable("vec3"),r=this.createVariable("vec3");this.getNode("SetFromNode").inputs(this.getOrCreateVarying("vec4","vViewVertex")).outputs(r),this.getNode("Normalize").inputs({vec:r}).outputs({vec:e});var i=this.createVariable("vec3","eyeVector");return this.getNode("Mult").inputs(e,this.createVariable("float").setValue("-1.0")).outputs(i),i},getOrCreateNormalizedFrontViewNormal:function(){var t=this._variables.nFrontViewNormal;return t?t:(t=this.createVariable("vec3","nFrontViewNormal"),this.getNode("Normalize").inputs({vec:this.getOrCreateFrontViewNormal()}).outputs({vec:t}),t)},getOrCreateFrontModelNormal:function(){var t=this._variables.frontModelNormal;return t?t:(t=this.createVariable("vec3","frontModelNormal"),this.getNode("FrontNormal").inputs({normal:this.getOrCreateVarying("vec3","vModelNormal")}).outputs({normal:t}),t)},getOrCreateNormalizedFrontModelNormal:function(){var t=this._variables.nFrontModelNormal;return t?t:(t=this.createVariable("vec3","nFrontModelNormal"),this.getNode("Normalize").inputs({vec:this.getOrCreateFrontModelNormal()}).outputs({vec:t}),t)},getPremultAlpha:function(t,e){if(void 0===e)return t;var r=this.createVariable("vec4");return this.getNode("PreMultAlpha").inputs({color:t,alpha:e}).outputs({color:r}),r},getColorsRGB:function(t){var e=this.createVariable("vec3");return this.getNode("LinearTosRGB").inputs({color:t}).outputs({color:e}),e},multiplyDiffuseWithVertexColor:function(t){var e=this.getOrCreateVarying("vec4","vVertexColor"),r=this.getOrCreateUniform("float","uArrayColorEnabled"),i=this.createVariable("vec4"),n=["","%color = %diffuse;","if ( %hasVertexColor == 1.0)","  %color *= %vertexColor;"].join("\n");return this.getNode("InlineCode").code(n).inputs({diffuse:t,hasVertexColor:r,vertexColor:e}).outputs({color:i}).comment("diffuse color = diffuse color * vertex color"),i},getDiffuseColorFromTextures:function(){var t=[],e=this._texturesByName;for(var r in e){var i=e[r];i.shadow||t.push(this.getTextureByName(r).variable)}if(t.length>1){var n=this.createVariable("vec3","texDiffuseAccum");return this.getNode("Mult").inputs(t).outputs(n),n}if(1===t.length)return t[0]},getFirstValidTexture:function(){for(var t=this._textures,e=0,r=t.length;e<r;++e){var i=t[e];if(i)return this.getTextureByName(i.getName()).variable}},_getShadowFromLightNum:function(t,e){for(var r=0;r<t.length;r++){var i=t[r];if(i&&i.getLightNumber()===e)return i}},getInputsFromShadow:function(t,e,r){var i=t.getOrCreateUniforms(),n=this._shadowsTextures.indexOf(e),a=e.getOrCreateUniforms(n),s={lighted:r,shadowTexture:this.getOrCreateSampler("sampler2D","Texture"+n),shadowTextureRenderSize:this.getOrCreateUniform(a.RenderSize),shadowTextureProjectionMatrix:this.getOrCreateUniform(a.ProjectionMatrix),shadowTextureViewMatrix:this.getOrCreateUniform(a.ViewMatrix),shadowTextureDepthRange:this.getOrCreateUniform(a.DepthRange),normalWorld:this.getOrCreateNormalizedFrontModelNormal(),vertexWorld:this.getOrCreateVarying("vec3","vModelVertex"),shadowBias:this.getOrCreateUniform(i.bias)};return t.getAtlas()&&(s.shadowTextureMapSize=this.getOrCreateUniform(a.MapSize)),t.getNormalBias()&&(s.shadowNormalBias=this.getOrCreateUniform(i.normalBias)),s},createShadowingLight:function(t,e){var r=t.getLightNumber(),i=this._getShadowFromLightNum(this._shadowsTextures,r),n=this._getShadowFromLightNum(this._shadows,r);if(i&&n){var a=this.getInputsFromShadow(n,i,e),s=this.createVariable("float");return this.getNode("ShadowReceive").setShadowAttribute(n).inputs(a).outputs({float:s}),s}},getOrCreateMaterialNormal:function(){return this.getOrCreateNormalizedFrontViewNormal()},getOrCreateMaterialDiffuseColor:function(){var t=this.getVariable("materialDiffuseColor");if(t)return t;t=this.createVariable("vec4","materialDiffuseColor");var e=this.getOrCreateUniform(this._material.getOrCreateUniforms().diffuse);return this.getNode("Mult").inputs(this.multiplyDiffuseWithVertexColor(e)).outputs(t),t},getOrCreateMaterialEmission:function(){return this.getOrCreateUniform(this._material.getOrCreateUniforms().emission)},getOrCreateMaterialSpecularColor:function(){return this.getOrCreateUniform(this._material.getOrCreateUniforms().specular)},getOrCreateMaterialSpecularHardness:function(){return this.getOrCreateUniform(this._material.getOrCreateUniforms().shininess)},getOrCreateMaterialAmbient:function(){return this.getOrCreateUniform(this._material.getOrCreateUniforms().ambient)},getInputsFromLight:function(t){var e=t.getOrCreateUniforms(),r={normal:this.getOrCreateMaterialNormal(),eyeVector:this.getOrCreateNormalizedViewEyeDirection(),materialdiffuse:this.getOrCreateMaterialDiffuseColor(),materialspecular:this.getOrCreateMaterialSpecularColor(),materialshininess:this.getOrCreateMaterialSpecularHardness(),lightdiffuse:this.getOrCreateUniform(e.diffuse),lightposition:this.getOrCreateUniform(e.position),lightmatrix:this.getOrCreateUniform(e.matrix)},n=t.getLightType();return n===i.POINT?(r.lightspecular=this.getOrCreateUniform(e.specular),r.lightattenuation=this.getOrCreateUniform(e.attenuation)):n===i.SPOT?(r.lightspecular=this.getOrCreateUniform(e.specular),r.lightattenuation=this.getOrCreateUniform(e.attenuation),r.lightdirection=this.getOrCreateUniform(e.direction),r.lightspotCutOff=this.getOrCreateUniform(e.spotCutOff),r.lightspotBlend=this.getOrCreateUniform(e.spotBlend),r.lightinvMatrix=this.getOrCreateUniform(e.invMatrix)):n===i.DIRECTION?r.lightspecular=this.getOrCreateUniform(e.specular):n===i.HEMI&&(r.lightground=this.getOrCreateUniform(e.ground)),r},getOutputsFromLight:function(){var t={color:this.createVariable("vec3"),lighted:this.createVariable("bool")};return t},getEnumLightToNodeName:function(){return{DIRECTION:"SunLight",SPOT:"SpotLight",POINT:"PointLight",HEMI:"HemiLight"}},createLighting:function(){for(var t=[],e=this.getEnumLightToNodeName(),r=0;r<this._lights.length;r++){var i=this._lights[r],n=e[i.getLightType()],a=this.getInputsFromLight(i),s=this.getOutputsFromLight(i);this.getNode(n).inputs(a).outputs(s);var o=s.color,u=this.createShadowingLight(i,s.lighted);u&&(o=this.createVariable("vec3"),this.getNode("Mult").inputs(s.color,u).outputs(o)),t.push(o)}if(this.addAmbientLighting(t),0===t.length)return this.getOrCreateConstantZero("vec3");if(1===t.length)return t[0];var h=this.createVariable("vec3");return this.getNode("Add").inputs(t).outputs(h),h},addAmbientLighting:function(t){for(var e=0;e<this._lights.length;e++){var r=this._lights[e],i=this.createVariable("vec3"),n=this.getOrCreateUniform(r.getOrCreateUniforms().ambient),a=this.getOrCreateMaterialAmbient();this.getNode("Mult").inputs(a,n).outputs(i),t.push(i)}},createTextureRGBA:function(t,e,r){var i=this.createVariable("vec4");return this.getNode("TextureRGBA").inputs({sampler:e,uv:r}).outputs({color:i}),i}},s=function(t,e){return function(){return this._fragmentShaderMode||this.logError("This function should not be called from vertex shader : "+e),t.apply(this,arguments)}};for(var o in a)a[o]=s(a[o],o);t.exports=a},function(t,e,r){"use strict";var i,n=r(203),a=r(204),s=r(11),o=function(){try{i=r(205)}catch(t){s.warn("You will not be able to use osgUtil.DisplayGraph until you add jQuery in your page")}},u=function(t){this.options=t;var e=document.createElement("style");e.type="text/css",e.innerHTML=[".osgDebugSimpleTooltip {","display: none;","position: absolute;","margin-left: 10px;","border-radius: 4px;","padding: 10px;","background: rgba(0,0,0,.9);","color: #ffffff;","}",".osgDebugSimpleTooltip:before {","content: ",";","position: absolute;","left: -10px;","top: 8px;","border: 10px solid transparent;","border-width: 10px 10px 10px 0;","border-right-color: rgba(0,0,0,.9);","}"].join("\n"),document.getElementsByTagName("head")[0].appendChild(e),this.el=document.createElement("div"),this.el.className="osgDebugSimpleTooltip",document.body.appendChild(this.el);for(var r=document.querySelectorAll(this.options.selector),i=0;i<r.length;i++)r[i].addEventListener("mouseover",this.showTooltip.bind(this),!1),r[i].addEventListener("mouseout",this.hideTooltip.bind(this),!1)};u.prototype={showTooltip:function(t){if(i){var e=t.currentTarget;this.el.innerHTML=e.getAttribute("title"),this.el.style.display="block",this.el.style.left=i(e).position().left+i(e).get(0).getBoundingClientRect().width+"px",this.el.style.top=i(e).position().top+"px"}},hideTooltip:function(){this.el.style.display="none"}};var h=function(){o(),i&&(this._selectables=new window.Map,this._graphNode=new a(this._selectables),this._graphRender=new n(this._selectables),this._displayNode=!0,this._displayRenderer=!1,this._cbSelect=void 0,this._focusedElement="graph",this._idToDomElement=new window.Map,this._$svg=i("<svg width=100% height=100%></svg>"),i("body").append(this._$svg),this._css=".node {text-align: center;cursor: pointer;}.node rect {stroke: #FFF;}.edgePath path {stroke: #FFF;fill: none;}table {text-align: right;}svg {position: absolute;left: 0px;top: 0px;}.osgDebugButton {position: absolute;left: 15px;top: 15px;z-index: 5;border: 0;background: #65a9d7;background: -webkit-gradient(linear, left top, left bottom, from(#3e779d), to(#65a9d7));background: -webkit-linear-gradient(top, #3e779d, #65a9d7);background: -moz-linear-gradient(top, #3e779d, #65a9d7);background: -ms-linear-gradient(top, #3e779d, #65a9d7);background: -o-linear-gradient(top, #3e779d, #65a9d7);padding: 5px 10px;-webkit-border-radius: 7px;-moz-border-radius: 7px;border-radius: 7px;-webkit-box-shadow: rgba(0,0,0,1) 0 1px 0;-moz-box-shadow: rgba(0,0,0,1) 0 1px 0;box-shadow: rgba(0,0,0,1) 0 1px 0;text-shadow: rgba(0,0,0,.4) 0 1px 0;color: white;font-size: 15px;font-family: Helvetica, Arial, Sans-Serif;text-decoration: none;vertical-align: middle;}.osgDebugButton:hover {border-top-color: #28597a;background: #28597a;color: #ccc;}.osgDebugButton:active {border-top-color: #1b435e;background: #1b435e;}.osgDebugSimpleTooltip .osgDebugName {font-weight: bold;color: #60b1fc;margin: 0;}.osgDebugSimpleTooltip .osgDebugDescription {margin: 0;}")};h.instance=function(){return h._instance||(h._instance=new h),h._instance},h.prototype={getColorFromClassName:a.prototype.getColorFromClassName,setCallbackSelect:function(t){this._cbSelect=t},reset:function(){i&&(this._selectables.clear(),this._$svg.empty(),this._focusedElement="scene",i(".osgDebugButton").hide())},setDisplayGraphRenderer:function(t){this._displayRenderer=t},createRenderGraph:function(t){this._graphRender.createGraph(t),this.displayGraph()},createGraph:function(t){i&&(this.reset(),this._displayNode=!!t,t&&this._graphNode.createGraph(t),this._displayRenderer?r(206).debugGraph=!0:this.displayGraph())},displayGraph:function(){if(i){if(window.d3&&window.dagreD3)return void this._createGraphApply();var t="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.min.js",e="//cdn.jsdelivr.net/dagre-d3/0.2.9/dagre-d3.min.js",r=this._createGraphApply.bind(this);i.getScript(t).done(function(){i.getScript(e).done(r)})}},_createGraphApply:function(){var t=new window.dagreD3.Digraph;this._displayNode&&this._graphNode.generateNodeAndLink(t),this._displayRenderer&&this._graphRender.generateNodeAndLink(t),this.injectStyleElement(),i(".osgDebugButton").show();var e=this.renderer=new window.dagreD3.Renderer,r=window.d3.select(this._$svg.get(0)),n=r.append("g"),a=.75,s=e.zoom();e.zoom(function(t,e){var r=s(t,e);return r.scale(a).event(e),r});var o=function(t,e){return'<p class="osgDebugName">'+t+'</p><pre class="osgDebugDescription">'+e+"</pre>"},h=this._idToDomElement,c=e.drawNodes();e.drawNodes(function(t,e){var r=c(t,e);return r.attr("title",function(e){return h.set(e,this),o(e,t.node(e).description||"")}),r}),e.run(t,n),this.tooltip=new u({selector:".node"}),i(".node").click(this.onNodeSelect.bind(this)),this.focusOnGraph()},selectNode:function(t){var e=t.getInstanceID(),r=this._idToDomElement.get(e);r&&i(r).click()},onNodeSelect:function(t){var e=t.currentTarget,r=i(e.getAttribute("title"))[0].innerHTML,n=this._selectables;this.lastNode&&(this.lastNode.style.fill=this.lastColor);var a=n.get(r);a&&(this.lastNode=e.childNodes[0],this.lastColor=this.lastNode.style.fill,e.childNodes[0].style.fill="#f00",window.activeNode=a,s.info("window.activeNode is set with the node below !"),s.log(window.activeNode),s.log("\n"),this._cbSelect&&this._cbSelect(a))},focusOnScene:function(){i(".osgDebugButton").text("Access to the graph"),this._$svg.css("zIndex","-2"),this._focusedElement="scene"},focusOnGraph:function(){i(".osgDebugButton").text("Access to the scene"),this._$svg.css("zIndex","2"),i(".osgDebugSimpleTooltip").css("zIndex","3"),this._focusedElement="graph"},injectStyleElement:function(){if(!this._cssInjected){this._cssInjected=!0,i("body").append('<button class="osgDebugButton">Access to the scene</button>'),i(".osgDebugButton").click(function(){"scene"===this._focusedElement?this.focusOnGraph():this.focusOnScene()}.bind(this));var t=document.createElement("style");t.type="text/css",t.innerHTML=this._css,document.getElementsByTagName("head")[0].appendChild(t)}}},t.exports=h},function(t,e,r){"use strict";var i=r(204),n=r(57),a=function(t){this._selectables=t,this._nodeList=[],this._linkList=[],this._renderBinMap=new window.Map,this._renderBinStack=[],this._generatorID=0,this._refID=0,this._uniqueEdges=new window.Set};a.prototype={getColorFromClassName:i.prototype.getColorFromClassName,createGraph:function(t){this.reset(),this.apply(t)},reset:function(){this._renderBinMap.clear(),this._renderBinStack.length=0,this._generatorID=0,this._refID++,this._nodeList.length=0,this._linkList.length=0,this._uniqueEdges.clear()},apply:function(t){var e=t.getInstanceID();if(this._renderBinMap.has(e)||this._renderBinMap.set(e,t),this._renderBinStack.push(t),t.getPreRenderStageList)for(var r=t.getPreRenderStageList(),i=0,n=r.length;i<n;++i)this.apply(r[i].renderStage);if(this.registerNode(t),t.getPostRenderStageList)for(var a=t.getPostRenderStageList(),s=0,o=a.length;s<o;++s)this.apply(a[s].renderStage);this._renderBinStack.pop()},registerNode:function(t){var e=t.getInstanceID();this._nodeList.push(t);var r=t._bins;for(var i in r)this.apply(r[i]);if(t._leafs.length)for(var n=0,a=t._leafs.length;n<a;n++)this.createNodeAndSetID(e,t._leafs[n]);for(var s=0,o=t.stateGraphList.length;s<o;s++){var u=t.stateGraphList[s];this.createNodeAndSetID(e,u);for(var h=u._instanceID,c=0,l=u.leafs.length;c<l;c++)this.createNodeAndSetID(h,u.leafs[c])}if(!(this._renderBinStack.length<2)){var d=this._renderBinStack[this._renderBinStack.length-2].getInstanceID();this.createLink(d,e)}},createLink:function(t,e){var r=t+"+"+e;this._uniqueEdges.has(r)||(this._linkList.push({parentNode:t,childrenNode:e}),this._uniqueEdges.add(r))},createNodeAndSetID:function(t,e){this._nodeList.push(e),(void 0===e._instanceID||e._instanceID<0&&e._refID!==this._refID)&&(e._instanceID=-1-this._generatorID++,e._refID=this._refID),this.createLink(t,e._instanceID)},generateRenderLeaf:function(t,e){var r=e._instanceID,i="RenderLeaf",n=e._geometry&&e._geometry.getName()?"\n"+e._geometry.getName():"Geometry",a=i+" ( "+e._instanceID+" )";a+="\n"+n+" ( "+e._geometry.getInstanceID()+" )",this._selectables.set(r.toString(),e),t.addNode(r,{label:a,description:"",style:"fill: "+this.getColorFromClassName(i)+";stroke-width: 0px;"})},generateStateGraph:function(t,e){var r=e._instanceID,i="StateGraph",n=i+" ( "+e._instanceID+" )";n+="\n"+e.leafs.length+" leafs",this._selectables.set(r.toString(),e),t.addNode(r,{label:n,description:"",style:"fill: "+this.getColorFromClassName(i)+";stroke-width: 0px;"})},generateRenderStage:function(t,e){var r=e.className()+" ( "+e._instanceID+" )";e.getName()&&(r+="\n"+e.getName()),r+="\nViewport ( "+e.getViewport().width()+" x "+e.getViewport().height()+" )",this._selectables.set(e.getInstanceID().toString(),e),t.addNode(e.getInstanceID(),{label:r,description:"",style:"fill: "+this.getColorFromClassName(e.className())+";stroke-width: 0px;"})},generateRenderBin:function(t,e){var r=e.className()+" ( "+e.getInstanceID()+" )";e.getName()&&(r+="\n"+e.getName());var i="";e.getSortMode()===n.SORT_BACK_TO_FRONT&&(i="SortMode: BackToFront");var a="BinNumber: "+e.getBinNumber()+"\n"+i;this._selectables.set(e.getInstanceID().toString(),e),t.addNode(e.getInstanceID(),{label:r,description:a,style:"fill: "+this.getColorFromClassName(e.className())+";stroke-width: 0px;"
})},generateNodeAndLink:function(t){for(var e=0,r=this._nodeList.length;e<r;e++){var i=this._nodeList[e];i._geometry&&void 0!==i._depth?this.generateRenderLeaf(t,i):void 0!==i.depth&&i.leafs&&i.children?this.generateStateGraph(t,i):"RenderStage"===i.className()?this.generateRenderStage(t,i):this.generateRenderBin(t,i)}for(var n=0,a=this._linkList.length;n<a;n++)t.addEdge(null,this._linkList[n].parentNode,this._linkList[n].childrenNode)}},t.exports=a},function(t,e,r){"use strict";var i=r(7),n=r(23),a=r(70),s=function(t){n.call(this,n.TRAVERSE_ALL_CHILDREN),this._selectables=t,this._nodeList=[],this._linkList=[],this._uniqueNodes=new window.Set,this._uniqueEdges=new window.Set};s.prototype=i.objectInherit(n.prototype,{getColorFromClassName:function(t){switch(t){case"ShadowedScene":return"#3D3D3D";case"Camera":return"#AB7BCF";case"RenderBin":return"#59778B";case"LightSource":return"#53967D";case"RenderStage":return"#DDCC55";case"RenderLeaf":case"Geometry":return"#FFCC55";case"RigGeometry":return"#DD8800";case"MorphGeometry":return"#AA5500";case"MatrixTransform":return"#CE697E";case"StateSet":return"#0099FF";case"StateGraph":case"Skeleton":return"#96999E";case"Bone":return"#A9DEAA";case"Node":return"#FFFFFF";default:return"#FF00AA"}},createGraph:function(t){this.reset(),t.accept(this)},reset:function(){this._nodeList.length=0,this._linkList.length=0,this._uniqueNodes.clear(),this._uniqueEdges.clear()},apply:function(t){if(!t._isNormalDebug){if(this._uniqueNodes.has(t.getInstanceID())||(this._uniqueNodes.add(t.getInstanceID()),this._nodeList.push(t)),this.nodePath.length>=2){var e=this.nodePath[this.nodePath.length-2].getInstanceID(),r=t.getInstanceID(),i=e+"+"+r;this._uniqueEdges.has(i)||(this._linkList.push({parentNode:e,childrenNode:r}),this._uniqueEdges.add(i))}this.traverse(t)}},createMatrixGrid:function(t,e){var r="";return r+="<table><tr><td>"+e[0]+"</td>",r+="<td>"+e[4]+"</td>",r+="<td>"+e[8]+"</td>",r+="<td>"+e[12]+"</td></tr>",r+="<tr><td>"+e[1]+"</td>",r+="<td>"+e[5]+"</td>",r+="<td>"+e[9]+"</td>",r+="<td>"+e[13]+"</td></tr>",r+="<tr><td>"+e[2]+"</td>",r+="<td>"+e[6]+"</td>",r+="<td>"+e[10]+"</td>",r+="<td>"+e[14]+"</td></tr>",r+="<tr><td>"+e[3]+"</td>",r+="<td>"+e[7]+"</td>",r+="<td>"+e[11]+"</td>",r+="<td>"+e[15]+"</td></tr></table>"},getLabel:function(t){var e=t.className()+" ("+t.getInstanceID()+")";return t.getName&&t.getName()&&(e+="\n"+t.getName()),e},generateNode:function(t,e){var r="";e.getMatrix&&e.getMatrix()&&(r+="<br /><br />"+this.createMatrixGrid(e,e.getMatrix())),this._selectables.set(e.getInstanceID().toString(),e),t.addNode(e.getInstanceID(),{label:this.getLabel(e),description:r,style:"fill: "+this.getColorFromClassName(e.className())+";stroke-width: 0px;"})},generateStateSet:function(t,e){var r=e.getStateSet(),i=r.getInstanceID(),n=this.getLabel(r);n+="\nNbTexture : "+r.getNumTextureAttributeLists(),t.hasNode(i)||(this._selectables.set(i.toString(),r),t.addNode(i,{label:n,style:"fill: "+this.getColorFromClassName(r.className())+";stroke-width: 0px;"})),t.addEdge(null,e.getInstanceID(),i,{style:"stroke: "+this.getColorFromClassName(r.className())+";"})},generateSourceGeometry:function(t,e){var r=e.getSourceGeometry(),i=r.getInstanceID();this._selectables.set(i.toString(),r),t.addNode(i,{label:this.getLabel(r),style:"fill: "+this.getColorFromClassName(r.className())+";stroke-width: 0px;"}),t.addEdge(null,e.getInstanceID(),i,{style:"stroke: "+this.getColorFromClassName(r.className())+";"})},generateNodeAndLink:function(t){for(var e=0,r=this._nodeList.length;e<r;e++){var i=this._nodeList[e];this.generateNode(t,i),i.getStateSet()&&this.generateStateSet(t,i),i.getSourceGeometry&&i.getSourceGeometry()instanceof a&&this.generateSourceGeometry(t,i)}for(var n=0,s=this._linkList.length;n<s;n++)t.addEdge(null,this._linkList[n].parentNode,this._linkList[n].childrenNode)}}),t.exports=s},function(t,e){if("undefined"==typeof __WEBPACK_EXTERNAL_MODULE_205__){var r=new Error('Cannot find module "undefined"');throw r.code="MODULE_NOT_FOUND",r}t.exports=__WEBPACK_EXTERNAL_MODULE_205__},function(t,e,r){"use strict";var i=r(7),n=r(45),a=r(52),s=r(14),o=r(58),u=r(113),h=r(9),c=r(16).vec4,l=r(185),d=r(202),f=function(t){s.call(this),this._state=void 0,this._camera=t,this._renderStage=void 0,this._stateGraph=void 0,this._frameStamp=void 0,this._previousCullsettings=new n,this.setDefaults()};f.debugGraph=!1,f.prototype=i.objectLibraryClass(i.objectInherit(s.prototype,{setDefaults:function(){this._state=new u(new l.ShaderGeneratorProxy),this._cullVisitor=new a,this._cullVisitor.setRenderer(this),this._stateGraph=new h,this.getCamera().setClearColor(c.create()),this.setRenderStage(new o);var t=r(5),e=this.getCamera().getOrCreateStateSet();e.setAttributeAndModes(new t.Material),e.setAttributeAndModes(new t.Depth),e.setAttributeAndModes(new t.BlendFunc),e.setAttributeAndModes(new t.CullFace)},getCullVisitor:function(){return this._cullVisitor},setCullVisitor:function(t){t&&!t.getRenderer()&&t.setRenderer(this),this._cullVisitor=t},setRenderStage:function(t){this._renderStage=t},getCamera:function(){return this._camera},setFrameStamp:function(t){this._frameStamp=t},getFrameStamp:function(){return this._frameStamp},getState:function(){return this._state},setState:function(t){this._state=t},setGraphicContext:function(t){this._state.setGraphicContext(t)},getGraphicContext:function(){return this._state.getGraphicContext()},cullAndDraw:function(){this.cull(),this.draw()},cull:function(){var t=this.getCamera(),e=t.getView();this._cullVisitor.setFrameStamp(this._frameStamp),this._cullVisitor.resetStats(),this._stateGraph.clean(),this._renderStage.reset(),this._cullVisitor.reset(),this._cullVisitor.setStateGraph(this._stateGraph),this._cullVisitor.setRenderStage(this._renderStage),this._cullVisitor.pushStateSet(t.getStateSet()),this._previousCullsettings.reset(),this._previousCullsettings.setCullSettings(this._cullVisitor),this._cullVisitor.setCullSettings(t),this._previousCullsettings.getSettingSourceOverrider()===this._cullVisitor&&this._previousCullsettings.getEnableFrustumCulling()&&this._cullVisitor.setEnableFrustumCulling(!0),this._cullVisitor.pushCameraModelViewProjectionMatrix(t,t.getViewMatrix(),t.getProjectionMatrix()),t.getBound();var i=e.getLight(),n=r(207);if(i)switch(e.getLightingMode()){case n.LightingMode.HEADLIGHT:this._cullVisitor.addPositionedAttribute(null,i);break;case n.LightingMode.SKY_LIGHT:this._cullVisitor.addPositionedAttribute(t.getViewMatrix(),i)}this._cullVisitor.pushViewport(t.getViewport()),this._renderStage.setClearDepth(t.getClearDepth()),this._renderStage.setClearColor(t.getClearColor()),this._renderStage.setClearMask(t.getClearMask()),this._renderStage.setViewport(t.getViewport()),this._cullVisitor.setDatabaseRequestHandler(this._camera.getView().getDatabasePager()),this._cullVisitor.handleCullCallbacksAndTraverse(t),this._cullVisitor.popCameraModelViewProjectionMatrix(t),this._cullVisitor.setCullSettings(this._previousCullsettings),this._cullVisitor.popViewport(),this._cullVisitor.popStateSet(),this._renderStage.sort()},draw:function(){var t=this.getState();t.resetCacheFrame(),t.resetStats(),this._renderStage.setCamera(this._camera),this._renderStage.draw(t),f.debugGraph&&(d.instance().createRenderGraph(this._renderStage),f.debugGraph=!1),this._renderStage.setCamera(void 0),t.applyDefault()}}),"osgViewer","Renderer"),t.exports=f},function(t,e,r){"use strict";var i=r(40),n=r(44),a=r(81),s=r(59),o=r(87),u=r(16).mat4,h=r(32),c=r(92),l=r(110),d=r(16).vec3,f=r(117),p=r(29),g=r(153),_=r(154),m=r(206),v=r(208),b=r(202),x=r(11),y=function(){this._camera=new n,this._camera.setName("OSGJS camera"),this._scene=new v,this._camera.setName("OSGJS Scene"),this._frameStamp=new a,this._lightingMode=void 0,this._manipulator=void 0,this._canvasWidth=0,this._canvasHeight=0,this._requestContinousUpdate=!0,this._requestRedraw=!0,this.setLightingMode(y.LightingMode.HEADLIGHT);var t=this.createRenderer(this.getCamera());t.setFrameStamp(this._frameStamp),this.getCamera().setRenderer(t),this.getCamera().setView(this)};y.LightingMode={NO_LIGHT:0,HEADLIGHT:1,SKY_LIGHT:2},y.prototype={requestRedraw:function(){this._requestRedraw=!0},requestContinuousUpdate:function(t){this._requestContinousUpdate=t},createRenderer:function(t){var e=new m(t);return e},setGraphicContext:function(t){this.getCamera().getRenderer().getState().setGraphicContext(t)},getGraphicContext:function(){return this.getCamera().getRenderer().getState().getGraphicContext()},initWebGLCaps:function(t){p.instance(t)},computeCanvasSize:function(){return function(t){var e,r;e=t.clientWidth,r=t.clientHeight,e<1&&(e=1),r<1&&(r=1);var i=this._devicePixelRatio,n=Math.floor(e*i),a=Math.floor(r*i),s=!1;return this._canvasWidth!==n&&(t.width=n,this._canvasWidth=n,s=!0),this._canvasHeight!==a&&(t.height=a,this._canvasHeight=a,s=!0),s}}(),getCanvasWidth:function(){return this._canvasWidth},getCanvasHeight:function(){return this._canvasHeight},getCanvasClientWidth:function(){return Math.ceil(this._canvasWidth/this._devicePixelRatio)},getCanvasClientHeight:function(){return Math.ceil(this._canvasHeight/this._devicePixelRatio)},getCanvasPixelRatio:function(){return this._devicePixelRatio},setUpView:function(t,e){var r=window.devicePixelRatio||1,i=e.getNumber("overrideDevicePixelRatio"),n=e.getNumber("maxDevicePixelRatio")||-1;"number"==typeof i?r=i:n!==-1&&(r=Math.min(r,n)),this._devicePixelRatio=r,this.computeCanvasSize(t);var a=t.width,s=t.height,o=a/s;if(this._camera.setViewport(new f(0,0,a,s)),this._camera.setGraphicContext(this.getGraphicContext()),u.lookAt(this._camera.getViewMatrix(),d.fromValues(0,0,-10),d.create(),d.fromValues(0,1,0)),u.perspective(this._camera.getProjectionMatrix(),Math.PI/180*55,o,1,1e3),e&&e.enableFrustumCulling&&this.getCamera().getRenderer().getCullVisitor().setEnableFrustumCulling(!0),e&&e.debugGraph){var h=this.getCamera();b.instance().refreshGraph=function(){var t=b.instance();t.setDisplayGraphRenderer(!0),t.createGraph(h)},x.log("to refresh the graphs type in the console:\nOSG.osgUtil.DisplayGraph.instance().refreshGraph()")}},computeIntersections:function(t,e,r){return void 0===r&&(r=-1),this._lsi?this._lsi.reset():this._lsi=new _,this._origIntersect||(this._origIntersect=d.create(),this._dstIntersect=d.create()),this._lsi.set(d.set(this._origIntersect,t,e,0),d.set(this._dstIntersect,t,e,1)),this._iv?this._iv.reset():(this._iv=new g,this._iv.setIntersector(this._lsi)),this._iv.setTraversalMask(r),this._camera.accept(this._iv),this._lsi.getIntersections()},setFrameStamp:function(t){this._frameStamp=t},getFrameStamp:function(){return this._frameStamp},setCamera:function(t){this._camera=t},getCamera:function(){return this._camera},setSceneData:function(t){t!==this._scene.getSceneData()&&(this._scene.setSceneData(t),this._camera.removeChildren(),this._camera.addChild(t))},getSceneData:function(){return this._scene.getSceneData()},setDatabasePager:function(t){this._scene.setDatabasePager(t)},getDatabasePager:function(){return this._scene.getDatabasePager()},getScene:function(){return this._scene},getManipulator:function(){return this._manipulator},setManipulator:function(t){this._manipulator=t},getLight:function(){return this._light},setLight:function(t){this._light=t,this._lightingMode!==y.LightingMode.NO_LIGHT&&this._scene.getOrCreateStateSet().setAttributeAndModes(this._light)},getLightingMode:function(){return this._lightingMode},setLightingMode:function(t){this._lightingMode!==t&&(this._lightingMode=t,this._lightingMode!==y.LightingMode.NO_LIGHT?this._light||(this._light=new o):this._light=void 0)},flushDeletedGLObjects:function(t){var e=this.getGraphicContext();t=i.flushDeletedGLBufferArrays(e,t),t=h.getTextureManager(e).flushDeletedTextureObjects(e,t),t=c.flushDeletedGLPrograms(e,t),t=l.flushDeletedGLShaders(e,t),t=s.flushDeletedGLFrameBuffers(e,t),t=s.flushDeletedGLRenderBuffers(e,t)},flushAllDeletedGLObjects:function(){var t=this.getGraphicContext();i.flushAllDeletedGLBufferArrays(t),h.getTextureManager(t).flushAllDeletedTextureObjects(t),c.flushAllDeletedGLPrograms(t),l.flushAllDeletedGLShaders(t),s.flushAllDeletedGLFrameBuffers(t),s.flushAllDeletedGLRenderBuffers(t)}},t.exports=y},function(t,e,r){"use strict";var i=r(7),n=r(14),a=r(143),s=function(){n.call(this),this._databasePager=new a,this._sceneData=void 0};s.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{getSceneData:function(){return this._sceneData},setSceneData:function(t){this._sceneData=t},setDatabasePager:function(t){this._databasePager=t},getDatabasePager:function(){return this._databasePager},updateSceneGraph:function(t){this._databasePager&&this._databasePager.updateSceneGraph(t.getFrameStamp()),this._sceneData&&this._sceneData.accept(t)}}),"osgViewer","Scene"),t.exports=s},function(t,e,r){"use strict";var i=r(13),n=r(53),a=r(77),s=r(43),o=r(47),u=r(33),h=r(16).vec2,c=r(16).vec3,l=r(16).vec4,d=r(16).mat4,f=r(16).quat,p=r(153),g=r(154),_=r(210),m=r(26),v=r(7),b=function(t,e){t[0]=void 0===e.offsetX?e.layerX:e.offsetX,t[1]=void 0===e.offsetY?e.layerY:e.offsetY},x=function(){};x.prototype={cull:function(){return!1}};var y=new s(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),S=function(t){this._testPlane=t,this._inter=c.create(),g.call(this)};S.prototype=v.objectInherit(g.prototype,{setTestPlane:function(t){this._testPlane=t},getTranslateDistance:function(){return this._inter},enter:function(){var t=c.create(),e=c.create();return function(r){if(void 0===r._nbAxis)return!0;if(c.init(t),t[r._nbAxis]=1,this._testPlane){var i=c.dot(this._iStart,t),n=c.dot(this._iEnd,t);if(i===n)return!1;var a=-i/(n-i);this._inter[0]=this._iStart[0]+(this._iEnd[0]-this._iStart[0])*a,this._inter[1]=this._iStart[1]+(this._iEnd[1]-this._iStart[1])*a,this._inter[2]=this._iStart[2]+(this._iEnd[2]-this._iStart[2])*a}else{c.normalize(e,c.sub(e,this._iEnd,this._iStart));var s=-c.dot(e,t),o=c.dot(this._iStart,e),u=Math.abs(1-s*s),h=-c.dot(this._iStart,t);c.init(this._inter),this._inter[r._nbAxis]=(s*o-h)/u}return!1}}(),intersect:function(){return!1}});var T=function(t){n.call(this),this._tmask=1,this._autoInsertMT=!1,this._viewer=t,this._canvas=t.getGraphicContext().canvas,this._manipulator=t.getManipulator(),this._rotateNode=new n,this._translateNode=new n,this._planeNode=new n,this._rotateInLocal=!0,this._translateInLocal=!0,this._showAngle=new n,this._downCanvasCoord=h.create(),this._hoverNode=null,this._keepHoverColor=l.create(),this._isEditing=!1,this._editLineOrigin=c.create(),this._editLineDirection=c.create(),this._editOffset=c.create(),this._editLocal=d.create(),this._editWorldTrans=d.create(),this._editWorldScaleRot=d.create(),this._editInvWorldScaleRot=d.create(),this._debugNode=new i,this._lastDistToEye=0,this._attachedNode=null,this.attachToGeometry(null),this._lsi=new S,this._origIntersect=c.create(),this._dstIntersect=c.create(),this._iv=new p,this._iv.setIntersector(this._lsi),this._eventMouse=t._eventProxy.StandardMouseKeyboard,this._enableMouseBack=!1,this.init()};T.NO_PICK=1,T.PICK_ARC_X=2,T.PICK_ARC_Y=4,T.PICK_ARC_Z=8,T.PICK_ARROW_X=16,T.PICK_ARROW_Y=32,T.PICK_ARROW_Z=64,T.PICK_PLANE_X=128,T.PICK_PLANE_Y=256,T.PICK_PLANE_Z=512,T.NO_FULL_CIRCLE=1024,T.PICK_ARC=T.PICK_ARC_X|T.PICK_ARC_Y|T.PICK_ARC_Z,T.PICK_ARROW=T.PICK_ARROW_X|T.PICK_ARROW_Y|T.PICK_ARROW_Z,T.PICK_PLANE=T.PICK_PLANE_X|T.PICK_PLANE_Y|T.PICK_PLANE_Z,T.PICK_GIZMO=T.PICK_ARC|T.PICK_ARROW|T.PICK_PLANE,T.prototype=v.objectInherit(n.prototype,{setRotateInLocal:function(t){this._rotateInLocal=t},setTranslateInLocal:function(t){this._translateInLocal=t},setTraversalMask:function(t){this._tmask=t},isEditing:function(){return this._isEditing},init:function(){this.getOrCreateStateSet().setAttributeAndModes(new a(a.DISABLE)),this.getOrCreateStateSet().setAttributeAndModes(new o(o.DISABLE));var t=function(){};t.prototype={update:this.updateGizmo.bind(this)},this.addUpdateCallback(new t),this.addChild(this.initNodeTranslate()),this.addChild(this.initNodeTranslatePlane()),this.addChild(this.initNodeRotate()),this._debugNode&&(this._debugNode.addChild(_.createDebugLineGeometry()),this.addChild(this._debugNode),this._debugNode.setNodeMask(0));var e=this._canvas;e.addEventListener("mousemove",this.onMouseMove.bind(this)),e.addEventListener("mousedown",this.onMouseDown.bind(this)),e.addEventListener("mouseup",this.onMouseUp.bind(this)),e.addEventListener("mouseout",this.onMouseUp.bind(this))},attachToNodePath:function(t){var e;if(t)for(var r=t.length-1;r>=0;--r){var i=t[r].editMask||0;if(i&T.PICK_GIZMO){e=t[r];break}}return e?(this._attachedNode=e,void this.updateGizmoMask()):(this._attachedNode=null,void this.setNodeMask(0))},attachToMatrixTransform:function(t){return t?(void 0===t.editMask&&(t.editMask=T.PICK_GIZMO),this._attachedNode=t,void this.updateGizmoMask()):(this._attachedNode=null,void this.setNodeMask(0))},attachToGeometry:function(t){var e=t;if(!e)return this._attachedNode=null,void this.setNodeMask(0);var r=e.getParents();if(void 0===r[0].editMask){for(var i=new n;r.length>0;)r[0].addChild(i),r[0].removeChild(e);i.addChild(e),i.editMask=T.PICK_GIZMO,e=i}else e=r[0];this._attachedNode=e,this.updateGizmoMask()},updateGizmoMask:function(){if(!this._attachedNode)return void this.setNodeMask(0);var t=this._attachedNode.editMask;this.setNodeMask(t&T.PICK_GIZMO?T.NO_PICK:0),this._translateNode.setNodeMask(t&T.PICK_ARROW?T.PICK_ARROW:0),this._rotateNode.setNodeMask(t&T.PICK_ARC?T.PICK_ARC:0),this._planeNode.setNodeMask(t&T.PICK_PLANE?T.PICK_PLANE:0);var e=this._translateNode.getChildren();e[0].setNodeMask(t&T.PICK_ARROW_X?T.PICK_ARROW_X:0),e[1].setNodeMask(t&T.PICK_ARROW_Y?T.PICK_ARROW_Y:0),e[2].setNodeMask(t&T.PICK_ARROW_Z?T.PICK_ARROW_Z:0);var r=this._rotateNode.getChildren();r[0].setNodeMask(t&T.NO_FULL_CIRCLE?0:T.NO_PICK),r[1].setNodeMask(t&T.PICK_ARC_X?T.PICK_ARC_X:0),r[2].setNodeMask(t&T.PICK_ARC_Y?T.PICK_ARC_Y:0),r[3].setNodeMask(t&T.PICK_ARC_Z?T.PICK_ARC_Z:0);var i=this._planeNode.getChildren();i[0].setNodeMask(t&T.PICK_PLANE_X?T.PICK_PLANE_X:0),i[1].setNodeMask(t&T.PICK_PLANE_Y?T.PICK_PLANE_Y:0),i[2].setNodeMask(t&T.PICK_PLANE_Z?T.PICK_PLANE_Z:0)},onNodeHovered:function(){var t=l.fromValues(1,1,0,1);return function(e){if(this._hoverNode&&this._hoverNode.getStateSet().getUniform("uColor").setFloat4(this._keepHoverColor),!e)return void(this._hoverNode=null);for(var r=e.nodepath,i=r.length-1,n=r[i];void 0===n._nbAxis;){if(0===i)return;n=r[--i]}var a=n.getStateSet().getUniform("uColor");this._hoverNode=n,l.copy(this._keepHoverColor,a.getInternalArray()),a.setFloat4(t)}}(),initNodeRotate:function(){var t=_.createTorusGeometry(1,.01,6,64,2*Math.PI),e=_.createTorusGeometry(1,.01,6,64,Math.PI),r=_.createTorusGeometry(1,.1,6,64,Math.PI),a=new n,s=new n,o=new n,h=new n;s._nbAxis=0,o._nbAxis=1,h._nbAxis=2;var d=new i;d.setCullCallback(new x),d.addChild(r),t.setNodeMask(T.NO_PICK),e.setNodeMask(T.NO_PICK),s.setNodeMask(T.PICK_ARC_X),o.setNodeMask(T.PICK_ARC_Y),h.setNodeMask(T.PICK_ARC_Z),a.addChild(t),s.addChild(e),o.addChild(e),h.addChild(e),s.addChild(d),o.addChild(d),h.addChild(d),a.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(.2,.2,.2,1),"uColor")),s.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(1,0,0,1),"uColor")),o.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(0,1,0,1),"uColor")),h.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(0,0,1,1),"uColor"));var f=this._showAngle;f.getOrCreateStateSet().setAttributeAndModes(y),f.setNodeMask(0),f.getOrCreateStateSet().addUniform(u.createFloat3(c.fromValues(1,0,0),"uBase")),f.getOrCreateStateSet().addUniform(u.createFloat(0,"uAngle")),f.addChild(_.createQuadCircleGeometry());var p=this._rotateNode;return p.setNodeMask(T.PICK_ARC),p.addChild(a),p.addChild(s),p.addChild(o),p.addChild(h),p.addChild(f),p},initNodeTranslate:function(){var t=1.5,e=.3,r=.5,a=1.1*(t-r+e),s=new n;d.fromTranslation(s.getMatrix(),c.fromValues(0,0,t+.5*e)),s.addChild(_.createCylinderGeometry(0,.07,e,32,1,!0,!0));var o=new n;d.fromTranslation(o.getMatrix(),c.fromValues(0,0,.5*t)),o.addChild(_.createCylinderGeometry(.01,.01,t,32,1,!0,!0));var h=new i;h.addChild(o),h.addChild(s);var f=_.createCylinderGeometry(.1,.1,a,32,1,!0,!0),p=new n,g=new n,m=new n;p._nbAxis=0,g._nbAxis=1,m._nbAxis=2,d.fromRotation(p.getMatrix(),.5*Math.PI,c.fromValues(0,1,0)),d.fromRotation(g.getMatrix(),.5*-Math.PI,c.fromValues(1,0,0));var v=new n;v.setCullCallback(new x),d.fromTranslation(v.getMatrix(),c.fromValues(0,0,r+.5*a)),v.addChild(f),h.setNodeMask(T.NO_PICK),p.setNodeMask(T.PICK_ARROW_X),g.setNodeMask(T.PICK_ARROW_Y),m.setNodeMask(T.PICK_ARROW_Z),p.addChild(h),g.addChild(h),m.addChild(h),p.addChild(v),g.addChild(v),m.addChild(v),p.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(1,0,0,1),"uColor")),g.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(0,1,0,1),"uColor")),m.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(0,0,1,1),"uColor"));var b=this._translateNode;return b.setNodeMask(T.PICK_ARROW),b.addChild(p),b.addChild(g),b.addChild(m),b},initNodeTranslatePlane:function(){var t=new n;d.fromTranslation(t.getMatrix(),c.fromValues(.5,.5,0)),d.mul(t.getMatrix(),d.fromScaling(d.create(),c.fromValues(.5,.5,1)),t.getMatrix()),t.addChild(_.createPlaneGeometry());var e=new n,r=new n,i=new n;e._nbAxis=0,r._nbAxis=1,i._nbAxis=2,d.fromRotation(e.getMatrix(),.5*-Math.PI,c.fromValues(0,1,0)),d.fromRotation(r.getMatrix(),.5*Math.PI,c.fromValues(1,0,0)),e.setNodeMask(T.PICK_PLANE_X),r.setNodeMask(T.PICK_PLANE_Y),i.setNodeMask(T.PICK_PLANE_Z),e.addChild(t),r.addChild(t),i.addChild(t),e.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(1,0,0,.3),"uColor")),r.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(0,1,0,.3),"uColor")),i.getOrCreateStateSet().addUniform(u.createFloat4(l.fromValues(0,0,1,.3),"uColor"));var a=this._planeNode;return a.setNodeMask(T.PICK_PLANE),a.getOrCreateStateSet().setAttributeAndModes(y),a.addChild(e),a.addChild(r),a.addChild(i),a},updateArcRotation:function(){var t=f.create(),e=f.setAxisAngle(f.create(),[0,1,0],.5*-Math.PI),r=f.setAxisAngle(f.create(),[1,0,0],.5*-Math.PI);return function(i){var n=this._rotateNode,a=n.getChildren();t[0]=-i[1],t[1]=i[0],t[2]=0,t[3]=1+i[2],f.normalize(t,t),d.fromQuat(a[0].getMatrix(),t),f.setAxisAngle(t,[1,0,0],Math.atan2(i[2],i[1])),f.mul(t,t,e),d.fromQuat(a[1].getMatrix(),t),f.setAxisAngle(t,[0,1,0],Math.atan2(-i[0],-i[2])),f.mul(t,t,r),d.fromQuat(a[2].getMatrix(),t),f.setAxisAngle(t,[0,0,1],Math.atan2(-i[0],i[1])),d.fromQuat(a[3].getMatrix(),t),a[1].dirtyBound(),a[2].dirtyBound(),a[3].dirtyBound()}}(),getTransformType:function(t){for(var e=t;e.getParents().length>0;){if(void 0!==e.referenceFrame&&e.referenceFrame===m.ABSOLUTE_RF)return m.ABSOLUTE_RF;e=e.getParents()[0]}return m.RELATIVE_RF},updateGizmo:function(){var t=c.create(),e=c.create(),r=c.create(),i=d.create(),n=d.create(),a=d.create(),s=d.create();return function(){if(this._attachedNode){var o=this.getTransformType(this._attachedNode);this.setReferenceFrame(o),this.setCullingActive(o===m.RELATIVE_RF);var u=this._attachedNode.getWorldMatrices()[0];d.getTranslation(e,u),d.fromTranslation(n,e);var h=3;if(o===m.ABSOLUTE_RF)t[0]=t[1]=t[2]=0,r[0]=r[1]=r[2]=1;else{var l=this._viewer.getCamera().getProjectionMatrix(),f=.023*this._canvas.clientWidth*l[0];this._manipulator.getEyePosition(t),this._lastDistToEye=this._isEditing?this._lastDistToEye:c.distance(e,t),h*=this._lastDistToEye/f}d.fromScaling(s,[h,h,h]),d.mul(this.getMatrix(),n,s),c.sub(t,t,e),c.normalize(t,t),this._rotateInLocal||this._translateInLocal?(d.getScale(r,u),d.fromScaling(a,r),d.invert(a,a),d.mul(i,u,a),i[12]=i[13]=i[14]=0,this._translateInLocal&&(d.copy(this._translateNode.getMatrix(),i),d.copy(this._planeNode.getMatrix(),i)),this._rotateInLocal&&(d.copy(this._rotateNode.getMatrix(),i),d.invert(i,i),c.transformMat4(t,t,i))):d.identity(this._rotateNode.getMatrix()),this.updateArcRotation(t),this._rotateNode.dirtyBound(),this._translateNode.dirtyBound(),this._planeNode.dirtyBound(),this._isEditing&&d.copy(this._showAngle.getMatrix(),this._hoverNode.getMatrix())}}}(),computeNearestIntersection:function(){var t=function(t,e){return t.ratio-e.ratio},e=h.create();return function(r,i){b(e,r);var n=this._viewer,a=this._canvas,s=e[0]*(n._canvasWidth/a.clientWidth),o=(a.clientHeight-e[1])*(n._canvasHeight/a.clientHeight),u=this._viewer.computeIntersections(s,o,i);if(0!==u.length)return u.sort(t),u[0]}}(),setOnlyGizmoPicking:function(){this._viewer.getCamera().addChild(this),this._viewer.getSceneData().setNodeMask(0),this.setNodeMask(-1)},setOnlyScenePicking:function(){this._viewer.getCamera().removeChild(this),this._viewer.getSceneData().setNodeMask(-1),this.setNodeMask(T.NO_PICK)},pickGizmo:function(t,e){this.setOnlyGizmoPicking();var r=this.computeNearestIntersection(t,e);return this.setOnlyScenePicking(),r},getCanvasPositionFromWorldPoint:function(){var t=d.create();return function(e,r){var i=this._viewer.getCamera(),n=r;i.getViewport()?i.getViewport().computeWindowMatrix(t):d.identity(t),d.mul(t,t,i.getProjectionMatrix()),this.getReferenceFrame()===m.RELATIVE_RF&&d.mul(t,t,i.getViewMatrix()),c.transformMat4(n,e,t);var a=this._viewer,s=this._canvas;return n[0]=n[0]/(a._canvasWidth/s.clientWidth),n[1]=s.clientHeight-n[1]/(a._canvasHeight/s.clientHeight),n}}(),onMouseDown:function(t){if(b(this._downCanvasCoord,t),this._hoverNode&&this._attachedNode){this._enableMouseBack=this._eventMouse.getEnable(),this._eventMouse.setEnable(!1),this.saveEditMatrices();var e=this._hoverNode.getParents()[0].getNodeMask();this._isEditing=!0,e&T.PICK_ARC?(this._translateNode.setNodeMask(0),this._planeNode.setNodeMask(0),this.startRotateEdit(t)):e&T.PICK_ARROW?(this._rotateNode.setNodeMask(0),this._planeNode.setNodeMask(0),this.startTranslateEdit(t)):e&T.PICK_PLANE&&(this._rotateNode.setNodeMask(0),this._translateNode.setNodeMask(0),this.startPlaneEdit(t))}},saveEditMatrices:function(){d.copy(this._editLocal,this._attachedNode.getMatrix());var t=this._attachedNode.getWorldMatrices()[0];d.fromTranslation(this._editWorldTrans,c.fromValues(t[12],t[13],t[14])),d.copy(this._editWorldScaleRot,t),this._editWorldScaleRot[12]=this._editWorldScaleRot[13]=this._editWorldScaleRot[14]=0,d.invert(this._editInvWorldScaleRot,this._editWorldScaleRot)},startRotateEdit:function(t){var e=this._rotateNode.getWorldMatrices()[0],r=c.create();c.transformMat4(r,r,e),this.getCanvasPositionFromWorldPoint(r,r);var i=this.pickGizmo(t,this._hoverNode.getNodeMask()|T.PICK_ARC);if(i){var n=0===this._hoverNode._nbAxis?-1:1,a=c.create();a[0]=n*i.point[1],a[1]=-n*i.point[0],a[2]=i.point[2];var s=c.create();c.transformMat4(s,a,this._hoverNode.getMatrix()),c.transformMat4(s,s,e),this.getCanvasPositionFromWorldPoint(s,s);var o=this._editLineDirection;h.sub(o,s,r),h.normalize(o,o),this._showAngle.setNodeMask(T.NO_PICK),i.point[2]=0;var u=this._showAngle.getStateSet();u.getUniform("uAngle").setFloat(0),u.getUniform("uBase").setVec3(c.normalize(i.point,i.point)),b(this._editLineOrigin,t)}},startTranslateEdit:function(t){var e=this._editLineOrigin,r=this._editLineDirection,i=this._translateNode.getWorldMatrices()[0];d.getTranslation(e,i),c.init(r),r[this._hoverNode._nbAxis]=1,this._translateInLocal&&(c.transformMat4(r,r,this._editWorldScaleRot),c.normalize(r,r)),c.add(r,e,r),this.getCanvasPositionFromWorldPoint(e,e),this.getCanvasPositionFromWorldPoint(r,r),h.sub(r,r,e),h.normalize(r,r);var n=this._editOffset;b(n,t),h.sub(n,n,e)},startPlaneEdit:function(t){var e=this._editLineOrigin,r=this._planeNode.getWorldMatrices()[0];d.getTranslation(e,r),this.getCanvasPositionFromWorldPoint(e,e);var i=this._editOffset;b(i,t),h.sub(i,i,e)},drawLineCanvasDebug:function(t,e,r,i){this._debugNode.setNodeMask(T.NO_PICK);var n=this._debugNode.getChildren()[0].getAttributes().Vertex;n.getElements()[0]=t/this._canvas.clientWidth*2-1,n.getElements()[1]=(this._canvas.clientHeight-e)/this._canvas.clientHeight*2-1,n.getElements()[2]=r/this._canvas.clientWidth*2-1,n.getElements()[3]=(this._canvas.clientHeight-i)/this._canvas.clientHeight*2-1,n.dirty()},pickAndSelect:function(t){this.setNodeMask(0);var e=this.computeNearestIntersection(t,this._tmask);this._autoInsertMT?this.attachToGeometry(e?e.nodepath[e.nodepath.length-1]:e):this.attachToNodePath(e?e.nodepath:e)},onMouseUp:function(t){this._enableMouseBack&&(this._enableMouseBack=!1,this._eventMouse.setEnable(!0),this._eventMouse.mouseup(t)),this._debugNode&&this._debugNode.setNodeMask(0);var e=h.create();b(e,t),0===h.distance(e,this._downCanvasCoord)&&this.pickAndSelect(t),this._showAngle.setNodeMask(0),this._isEditing=!1,this._hoverNode&&this.updateGizmoMask()},onMouseMove:function(t){if(this._attachedNode){var e;if(this._isEditing===!1)return e=this.pickGizmo(t,T.PICK_GIZMO),void this.onNodeHovered(e);if(this._hoverNode){var r=this._hoverNode.getParents()[0];r===this._rotateNode?this.updateRotateEdit(t):r===this._translateNode?this.updateTranslateEdit(t):r===this._planeNode&&this.updatePlaneEdit(t)}}},updateRotateEdit:function(){var t=d.create(),e=h.create(),r=c.fromValues(1,0,0),i=c.fromValues(0,1,0),n=c.fromValues(0,0,1);return function(a){var s=this._editLineOrigin,o=this._editLineDirection;b(e,a),h.sub(e,e,s);var u=h.dot(e,o);this._debugNode&&this.drawLineCanvasDebug(s[0],s[1],s[0]+o[0]*u,s[1]+o[1]*u);var c=7*u/Math.min(this._canvas.clientWidth,this._canvas.clientHeight);c%=2*Math.PI;var l=this._hoverNode._nbAxis;0===l?d.fromRotation(t,-c,r):1===l?d.fromRotation(t,-c,i):2===l&&d.fromRotation(t,-c,n),this._showAngle.getOrCreateStateSet().getUniform("uAngle").setFloat(0===l?-c:c),this._rotateInLocal||(d.mul(t,this._editInvWorldScaleRot,t),d.mul(t,t,this._editWorldScaleRot)),d.mul(this._attachedNode.getMatrix(),this._editLocal,t),this._attachedNode.dirtyBound()}}(),updateTranslateEdit:function(){var t=h.create(),e=c.create();return function(r){var i=this._editLineOrigin,n=this._editLineDirection;b(t,r),h.sub(t,t,i),h.sub(t,t,this._editOffset);var a=h.dot(t,n);t[0]=i[0]+n[0]*a,t[1]=i[1]+n[1]*a,this._debugNode&&this.drawLineCanvasDebug(i[0],i[1],t[0],t[1]);var s=this._viewer,o=this._canvas,u=t[0]*(s._canvasWidth/o.clientWidth),l=(o.clientHeight-t[1])*(s._canvasHeight/o.clientHeight);if(this._lsi.reset(),this._lsi.setTestPlane(!1),this._lsi.set(c.set(this._origIntersect,u,l,0),c.set(this._dstIntersect,u,l,1)),this._iv.reset(),this._iv.setTraversalMask(this._hoverNode.getNodeMask()),d.copy(this.getMatrix(),this._editWorldTrans),this.setOnlyGizmoPicking(),this._viewer._camera.accept(this._iv),this.setOnlyScenePicking(),this._translateInLocal){d.getScale(e,this._editInvWorldScaleRot);var f=this._lsi.getTranslateDistance();c.mul(e,e,f)}else c.transformMat4(e,this._lsi.getTranslateDistance(),this._editInvWorldScaleRot);d.translate(this._attachedNode.getMatrix(),this._editLocal,e),this._attachedNode.dirtyBound()}}(),updatePlaneEdit:function(){var t=h.create(),e=c.create();return function(r){b(t,r),h.sub(t,t,this._editOffset);var i=this._viewer,n=this._canvas,a=t[0]*(i._canvasWidth/n.clientWidth),s=(n.clientHeight-t[1])*(i._canvasHeight/n.clientHeight);if(this._lsi.reset(),this._lsi.setTestPlane(!0),this._lsi.set(c.set(this._origIntersect,a,s,0),c.set(this._dstIntersect,a,s,1)),this._iv.reset(),this._iv.setTraversalMask(this._hoverNode.getNodeMask()),d.copy(this.getMatrix(),this._editWorldTrans),this.setOnlyGizmoPicking(),this._viewer._camera.accept(this._iv),this.setOnlyScenePicking(),this._translateInLocal){d.getScale(e,this._editInvWorldScaleRot);var o=this._lsi.getTranslateDistance();c.mul(e,e,o)}else c.transformMat4(e,this._lsi.getTranslateDistance(),this._editInvWorldScaleRot);d.translate(this._attachedNode.getMatrix(),this._editLocal,e),this._attachedNode.dirtyBound()}}()}),t.exports=T},function(t,e,r){"use strict";var i,n,a,s=r(40),o=r(28),u=r(38),h=r(79),c=r(37),l=r(92),d=r(110),f=["#ifdef GL_ES","precision highp float;","#endif"].join("\n"),p=function(){if(i)return i;var t="#define SHADER_NAME GizmoLine3D",e=[f,"attribute vec3 Vertex;","uniform mat4 uModelViewMatrix;","uniform mat4 uProjectionMatrix;",t,"","void main(void) {","  gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(Vertex, 1.0);","}"].join("\n"),r=[f,"uniform vec4 uColor;",t,"","void main(void) {","  gl_FragColor = uColor;","}"].join("\n");
return i=new l(new d(d.VERTEX_SHADER,e),new d(d.FRAGMENT_SHADER,r))},g=function(){if(n)return n;var t="#define SHADER_NAME GizmoLine2D",e=[f,"attribute vec2 Vertex;",t,"","void main(void) {","  gl_Position = vec4(Vertex, 0.0, 1.0);","}"].join("\n"),r=[f,t,"","void main(void) {","  gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);","}"].join("\n");return n=new l(new d(d.VERTEX_SHADER,e),new d(d.FRAGMENT_SHADER,r))},_=function(){if(a)return a;var t="#define SHADER_NAME GizmoQuadCircle",e=[f,"attribute vec3 Vertex;","uniform mat4 uModelViewMatrix;","uniform mat4 uProjectionMatrix;","varying vec3 vViewVertex;",t,"","void main(void) {","  vViewVertex = Vertex;","  gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(Vertex, 1.0);","}"].join("\n"),r=[f,"uniform float uAngle;","uniform vec3 uBase;","varying vec3 vViewVertex;","const float PI = 3.14159265358979323846264;","const float PI2 = PI * 2.0;",t,"","void main(void) {","  if(length(vViewVertex) > 0.5)","    discard;","  vec3 vn = normalize(vViewVertex);","  float angle = atan(uBase.y * vn.x - uBase.x * vn.y, dot(uBase, vn));","  if(angle > 0.0) {","    if(uAngle >= 0.0 && angle > uAngle) discard;","    if(uAngle < -PI && angle < uAngle + PI2) discard;","    if(uAngle < 0.0 && uAngle > -PI) discard;","  }","  if(angle < 0.0) {","    if(uAngle <= 0.0 && angle < uAngle) discard;","    if(uAngle > PI && angle > uAngle - PI2) discard;","    if(uAngle > 0.0 && uAngle < PI) discard;","  }","  gl_FragColor = vec4(1.0, 1.0, 0.0, 0.5);","}"].join("\n");return a=new l(new d(d.VERTEX_SHADER,e),new d(d.FRAGMENT_SHADER,r))},m=function(){var t=new o;t.getAttributes().Vertex=new s(s.ARRAY_BUFFER,new Float32Array(4),2);var e=new h(u.LINES,0,2);return t.getPrimitives().push(e),t.getOrCreateStateSet().setAttributeAndModes(g()),t},v=function(t,e,r,i,n){var a=void 0!==t?t:1,h=void 0!==e?e:.2,l=void 0!==r?r:6,d=void 0!==i?i:64,f=void 0!==n?n:2*Math.PI,g=(l+1)*(d+1),_=l*d*2,m=new o,v=new Float32Array(3*g),b=new Uint16Array(3*_);f=f||2*Math.PI;var x=0,y=0,S=0,T=0;for(T=0;T<=l;++T)for(S=0;S<=d;++S){var M=S/d*f,A=T/l*Math.PI*2;y=3*x,v[y]=(a+h*Math.cos(A))*Math.cos(M),v[y+1]=(a+h*Math.cos(A))*Math.sin(M),v[y+2]=h*Math.sin(A),x++}for(x=0,T=1;T<=l;++T)for(S=1;S<=d;++S)y=6*x,b[y]=(d+1)*T+S-1,b[y+1]=b[y+3]=(d+1)*(T-1)+S-1,b[y+2]=b[y+5]=(d+1)*T+S,b[y+4]=(d+1)*(T-1)+S,x++;return m.getAttributes().Vertex=new s(s.ARRAY_BUFFER,v,3),m.getOrCreateStateSet().setAttributeAndModes(p()),m.getPrimitives().push(new c(u.TRIANGLES,new s(s.ELEMENT_ARRAY_BUFFER,b,1))),m},b=function(t,e,r,i,n,a,h){var l=void 0!==t?t:1,d=void 0!==e?e:1,f=void 0!==r?r:5,g=void 0!==i?i:32,_=void 0!==n?n:1,m=void 0===a||a,v=void 0===h||h;m=m&&l>0,v=v&&d>0;var b=.5*f,x=(_+1)*(g+1),y=_*g*2;m&&(x+=1,y+=g),v&&(x+=1,y+=g);var S=new o,T=new Float32Array(3*x),M=new Uint16Array(3*y),A=0,w=0,C=0,E=0;for(C=0;C<=_;C++){var R=C/_,N=R*(d-l)+l;for(E=0;E<=g;E++){var I=E/g;w=3*A,T[w]=N*Math.sin(I*Math.PI*2),T[w+1]=N*Math.cos(I*Math.PI*2),T[w+2]=-R*f+b,A++}}for(A=0,E=0;E<g;E++)for(C=0;C<_;C++)w=6*A,M[w]=(g+1)*C+E,M[w+1]=M[w+3]=(g+1)*(C+1)+E,M[w+2]=M[w+5]=(g+1)*C+E+1,M[w+4]=(g+1)*(C+1)+E+1,A++;A*=2;var k;if(m)for(k=(v?T.length-6:T.length-3)/3,T[3*k+2]=b,E=0;E<g;E++)w=3*A,M[w]=E,M[w+1]=E+1,M[w+2]=k,A++;if(v){k=(T.length-3)/3,T[3*k+2]=-b;var O=(g+1)*C;for(E=0;E<g;E++)w=3*A,M[w]=O+E+1,M[w+1]=O+E,M[w+2]=k,A++}return S.getAttributes().Vertex=new s(s.ARRAY_BUFFER,T,3),S.getOrCreateStateSet().setAttributeAndModes(p()),S.getPrimitives().push(new c(u.TRIANGLES,new s(s.ELEMENT_ARRAY_BUFFER,M,1))),S},x=function(t,e,r){for(var i=new o,n=new Float32Array(3*t),a=r||2*Math.PI,c=0;c<t;++c){var l=3*c,d=a*c/t;n[l]=Math.cos(d)*e,n[l+1]=Math.sin(d)*e}i.getAttributes().Vertex=new s(s.ARRAY_BUFFER,n,3);var f=new h(u.LINE_STRIP,0,t);return i.getOrCreateStateSet().setAttributeAndModes(p()),i.getPrimitives().push(f),i},y=function(t,e){var r=t?.5*t:.5,i=e?.5*e:.5,n=new o,a=new Float32Array(12);a[0]=-r,a[1]=-i,a[3]=r,a[4]=-i,a[6]=-r,a[7]=i,a[9]=r,a[10]=i,n.getAttributes().Vertex=new s(s.ARRAY_BUFFER,a,3);var c=new h(u.TRIANGLE_STRIP,0,4);return n.getOrCreateStateSet().setAttributeAndModes(p()),n.getPrimitives().push(c),n},S=function(){var t=y();return t.getOrCreateStateSet().setAttributeAndModes(_()),t},T={};T.createCircleGeometry=x,T.createCylinderGeometry=b,T.createTorusGeometry=v,T.createDebugLineGeometry=m,T.createPlaneGeometry=y,T.createQuadCircleGeometry=S,t.exports=T},function(t,e,r){"use strict";var i=r(16).vec3,n=r(16).mat4,a=r(212),s=r(156),o=function(){this._sphereIntersector=void 0,this._intersectionVisitor=void 0,this._geometry=void 0,this._vertices=[],this._limitOneIntersection=!1},u=function(){this._center=i.create(),this._iCenter=i.create(),this._radius=1,this._iRadius=1,this._intersections=[]};u.prototype={set:function(t,e){i.copy(this._center,t),i.copy(this._iCenter,t),this._radius=this._iRadius=e,this.reset()},setCenter:function(t){i.copy(this._center,t),i.copy(this._iCenter,t)},setRadius:function(t){this._radius=this._iRadius=t},reset:function(){this._intersections.length=0},enter:function(t){return!t.isCullingActive()||this.intersects(t.getBound())},leave:function(){},setIntersectionLimit:function(t){this._intersectionLimit=t},getIntersectionLimit:function(){return this._intersectionLimit},intersects:function(t){if(!t.valid())return!1;var e=this._iRadius+t.radius();return i.sqrDist(t.center(),this._iCenter)<=e*e},intersect:function(){var t=new o,e=new a;return function(r,i){t._sphereIntersector=this,t._intersectionVisitor=r,i.getPrimitives&&(t._geometry=i,t._vertices=i.getVertexAttributeList()),t._limitOneIntersection=this._intersectionLimit===s.LIMIT_ONE_PER_DRAWABLE||this._intersectionLimit===s.LIMIT_ONE,e.set(this._iCenter,this._iRadius,t);var n=i.getShape();if(n)return n.intersect(e,n.getNodes()[0]);if(i.computeTransformedVertices){var a=i.getVertexAttributeList(),o=a.Vertex.getElements();a.Vertex._elements=i.computeTransformedVertices(),e.apply(i),a.Vertex._elements=o}else e.apply(i);return this._intersections>0}}(),getIntersections:function(){return this._intersections},setCurrentTransformation:function(){var t=i.create();return function(e){n.invert(e,e),i.transformMat4(this._iCenter,this._center,e),this._iRadius=this._radius*n.getScale(t,e)[0]}}()},t.exports=u},function(t,e,r){"use strict";var i=r(7),n=r(16).vec3,a=r(155),s=function(t,e,r,i,n,a,s){this._intersectionPoints=[],this._primitiveIndex=void 0,this._distance=0,this._maxDistance=0,this._nodePath=void 0,this._drawable=void 0,this._matrix=void 0,this._localIntersectionPoint=void 0,this._localIntersectionNormal=void 0,this._numIntersectionPoints=0,this._zone=void 0,this._i1=e,this._i2=r,this._i3=i,this._r1=n,this._r2=a,this._r3=s},o=function(){a.apply(this),this._center=void 0,this._radius=0};o.prototype=i.objectInherit(a.prototype,{set:function(t,e,r){this._center=t,this._radius=e,this._settings=r},enter:function(t){for(var e=this._radius*this._radius,r=0,i=t.getMin(),n=t.getMax(),a=0,s=0;s<3;s++)this._center[s]<i[s]?(a=this._center[s]-i[s],r+=a*a):this._center[s]>n[s]&&(a=this._center[s]-n[s],r+=a*a);return r<=e},intersect:function(){var t=n.create(),e=n.create(),r=n.create();return function(i,a,o,u,h,c){if(!this._settings._limitOneIntersection||!this._hit){n.sub(t,a,i),n.sub(e,o,i);var l=n.sqrLen(t),d=n.dot(t,e),f=n.sqrLen(e);n.sub(r,i,this._center);var p=n.dot(r,t),g=n.dot(r,e),_=n.sqrLen(r),m=Math.abs(l*f-d*d);if(!(m<1e-10)){var v,b=d*g-f*p,x=d*p-l*g,y=4;if(b+x<=m)if(b<0)x<0?(y=4,p<0?(x=0,-p>=l?(b=1,v=l+2*p+_):(b=-p/l,v=p*b+_)):(b=0,g>=0?(x=0,v=_):-g>=f?(x=1,v=f+2*g+_):(x=-g/f,v=g*x+_))):(y=3,b=0,g>=0?(x=0,v=_):-g>=f?(x=1,v=f+2*g+_):(x=-g/f,v=g*x+_));else if(x<0)y=5,x=0,p>=0?(b=0,v=_):-p>=l?(b=1,v=l+2*p+_):(b=-p/l,v=p*b+_);else{y=0;var S=1/m;b*=S,x*=S,v=b*(l*b+d*x+2*p)+x*(d*b+f*x+2*g)+_}else{var T,M,A,w;b<0?(y=2,T=d+p,M=f+g,M>T?(A=M-T,w=l-2*d+f,A>=w?(b=1,x=0,v=l+2*p+_):(b=A/w,x=1-b,v=b*(l*b+d*x+2*p)+x*(d*b+f*x+2*g)+_)):(b=0,M<=0?(x=1,v=f+2*g+_):g>=0?(x=0,v=_):(x=-g/f,v=g*x+_))):x<0?(y=6,T=d+g,M=l+p,M>T?(A=M-T,w=l-2*d+f,A>=w?(x=1,b=0,v=f+2*g+_):(x=A/w,b=1-x,v=b*(l*b+d*x+2*p)+x*(d*b+f*x+2*g)+_)):(x=0,M<=0?(b=1,v=l+2*p+_):p>=0?(b=0,v=_):(b=-p/l,v=p*b+_))):(y=1,A=f+g-d-p,A<=0?(b=0,x=1,v=f+2*g+_):(w=l-2*d+f,A>=w?(b=1,x=0,v=l+2*p+_):(b=A/w,x=1-b,v=b*(l*b+d*x+2*p)+x*(d*b+f*x+2*g)+_)))}if(v<0&&(v=0),!(v>this._radius*this._radius)){var C=n.create();C&&(C[0]=i[0]+b*t[0]+x*e[0],C[1]=i[1]+b*t[1]+x*e[1],C[2]=i[2]+b*t[2]+x*e[2]);var E=n.create();n.cross(E,t,e),n.normalize(E,E);var R=new s(u,h,c,1-b-x,b,x);R._ratio=Math.sqrt(v),R._matrix=this._settings._intersectionVisitor.getModelMatrix(),R._nodePath=this._settings._intersectionVisitor.getNodePath().slice(),R._drawable=this._settings._drawable,R._primitiveIndex=this._primitiveIndex,R._localIntersectionPoint=C,R._localIntersectionNormal=E,R._zone=y,this._settings._sphereIntersector.getIntersections().push(R),this._hit=!0}}}}}()}),t.exports=o},function(t,e,r){"use strict";var i=r(7),n=r(40),a=r(28),s=r(23),o=r(38),u=r(16).vec3,h=i,c=function(){s.call(this),this._T=void 0,this._B=void 0,this._N=void 0,this._texCoordUnit=0};c.prototype=i.objectInherit(s.prototype,{apply:function(t){t.getTypeID()===a.getTypeID()?this.generate(t,this._texCoordUnit):this.traverse(t)},setTexCoordUnit:function(t){this._texCoordUnit=t},computePrimitiveSet:function(t,e){if(e.getIndices){var r,i=e.getNumIndices(),n=t.getAttributes().Vertex,a=t.getAttributes().Normal,s=t.getAttributes()["TexCoord"+this._texCoordUnit];if(e.getMode()===o.TRIANGLES)for(r=0;r<i;r+=3)this.compute(e,n,a,s,r,r+1,r+2);else if(e.getMode()===o.TRIANGLE_STRIP)for(r=0;r<i-2;++r)r%2===0?this.compute(e,n,a,s,r,r+1,r+2):this.compute(e,n,a,s,r+1,r,r+2)}},generate:function(t,e){this._texCoordUnit=e,void 0===this._texCoordUnit&&(this._texCoordUnit=0);var r=t.getAttributes().Vertex.getElements().length;this._T=new h.Float32Array(r),this._B=new h.Float32Array(r),this._N=new h.Float32Array(r),t.getPrimitiveSetList().forEach(function(e){this.computePrimitiveSet(t,e)},this);for(var i=r/3,a=new h.Float32Array(4*i),s=u.create(),o=u.create(),c=u.create(),l=0;l<i;l++){var d=this._T.subarray(3*l,3*l+3),f=this._N.subarray(3*l,3*l+3),p=this._B.subarray(3*l,3*l+3);u.normalize(f,f);var g=u.dot(f,d);u.scale(o,f,g),u.sub(s,d,o),u.normalize(c,s),u.cross(s,f,d);var _=u.dot(s,p);_=_<0?-1:0,a[4*l]=c[0],a[4*l+1]=c[1],a[4*l+2]=c[2],a[4*l+3]=_}t.getAttributes().Normal.setElements(this._N),t.getAttributes().Tangent=new n("ARRAY_BUFFER",a,4)},compute:function(t,e,r,i,n,a,s){var o,h,c=t.index(n),l=t.index(a),d=t.index(s),f=e.getElements().subarray(3*c,3*c+3),p=e.getElements().subarray(3*l,3*l+3),g=e.getElements().subarray(3*d,3*d+3),_=r.getElements().subarray(3*c,3*c+3),m=r.getElements().subarray(3*l,3*l+3),v=r.getElements().subarray(3*d,3*d+3),b=i.getElements().subarray(2*c,2*c+2),x=i.getElements().subarray(2*l,2*l+2),y=i.getElements().subarray(2*d,2*d+2),S=u.create(),T=u.create(),M=u.create(),A=u.create(),w=u.create(),C=u.create(),E=u.create(),R=u.create(),N=u.create();u.set(R,p[0]-f[0],x[0]-b[0],x[1]-b[1]),u.set(N,g[0]-f[0],y[0]-b[0],y[1]-b[1]),u.cross(S,R,N),0!==S[0]&&(u.normalize(S,S),h=-S[1]/S[0],o=-S[2]/S[0],w[0]+=h,T[0]+=o,C[0]+=h,M[0]+=o,E[0]+=h,A[0]+=o),u.set(R,p[1]-f[1],x[0]-b[0],x[1]-b[1]),u.set(N,g[1]-f[1],y[0]-b[0],y[1]-b[1]),u.cross(S,R,N),0!==S[0]&&(u.normalize(S,S),h=-S[1]/S[0],o=-S[2]/S[0],w[1]+=h,T[1]+=o,C[1]+=h,M[1]+=o,E[1]+=h,A[1]+=o),u.set(R,p[2]-f[2],x[0]-b[0],x[1]-b[1]),u.set(N,g[2]-f[2],y[0]-b[0],y[1]-b[1]),u.cross(S,R,N),0!==S[0]&&(u.normalize(S,S),h=-S[1]/S[0],o=-S[2]/S[0],w[2]+=h,T[2]+=o,C[2]+=h,M[2]+=o,E[2]+=h,A[2]+=o);var I,k,O,P=u.create(),L=u.create();u.cross(P,_,w),u.cross(L,P,_),I=this._T.subarray(3*c,3*c+3),u.add(I,L,I),u.cross(P,T,_),u.cross(L,_,P),k=this._B.subarray(3*c,3*c+3),u.add(k,L,k),u.cross(P,m,C),u.cross(L,P,m),I=this._T.subarray(3*l,3*l+3),u.add(I,L,I),u.cross(P,M,m),u.cross(L,m,P),k=this._B.subarray(3*l,3*l+3),u.add(k,L,k),u.cross(P,v,E),u.cross(L,P,v),I=this._T.subarray(3*d,3*d+3),u.add(I,L,I),u.cross(P,A,v),u.cross(L,v,P),k=this._B.subarray(3*d,3*d+3),u.add(k,L,k),O=this._N.subarray(3*c,3*c+3),u.add(O,_,O),O=this._N.subarray(3*l,3*l+3),u.add(O,m,O),O=this._N.subarray(3*d,3*d+3),u.add(O,v,O)}}),t.exports=c},function(t,e,r){"use strict";var i=r(44),n=r(59),a=r(16).mat4,s=r(13),o=r(92),u=r(110),h=r(111),c=r(32),l=r(12),d=r(33),f=r(16).vec2,p=r(16).vec3,g=r(16).vec4,_=r(117),m=r(177),v={},b=function(t,e,r,i,n){this._viewer=t,this._rttScene=e,this._hmdConfig=r,this._root=i,this._canvas=n,this._width=n.width,this._height=n.height};b.prototype={update:function(){var t=this._canvas,e=t.width,r=t.height;if(e!==this._width||r!==this._height){this._root.removeChildren();var i=this._hmdConfig;i&&i.isCardboard&&(i.hResolution=e,i.vResolution=r),this._width=e,this._height=r,v.createScene(this._viewer,this._rttScene,i,this._root)}return!0}};var x=function(t,e){this._rootView=t,this._offsetView=e};x.prototype={update:function(t){var e=t.getViewMatrix();return a.mul(e,this._offsetView,this._rootView),!0}};var y=function(t,e,r,i){var n=e.hResolution/(2*e.vResolution),s=-1-4*(.25*e.hScreenSize-.5*e.lensSeparationDistance)/e.hScreenSize,o=e.distortionK[0]+e.distortionK[1]*Math.pow(s,2)+e.distortionK[2]*Math.pow(s,4)+e.distortionK[3]*Math.pow(s,6),u=180/Math.PI*2*Math.atan2(e.vScreenSize*o,2*e.eyeToScreenDistance),h=a.perspective(a.create(),Math.PI/180*u,n,.3,1e4),c=4*(.25*e.hScreenSize-.5*e.interpupillaryDistance)/e.hScreenSize,l=4*(.25*e.hScreenSize-.5*e.lensSeparationDistance)/e.hScreenSize,d=a.create(),g=a.create();i.projectionLeft=a.mul(d,a.fromTranslation(d,p.fromValues(c,0,0)),h),i.projectionRight=a.mul(g,a.fromTranslation(g,p.fromValues(-c,0,0)),h),i.viewLeft=a.fromTranslation(a.create(),p.fromValues(t*e.interpupillaryDistance*.5,0,0)),i.viewRight=a.fromTranslation(a.create(),p.fromValues(-t*e.interpupillaryDistance*.5,0,0)),r.lensCenterLeft=f.fromValues(l,0),r.lensCenterRight=f.fromValues(-l,0),r.hmdWarpParam=e.distortionK,r.chromAbParam=e.chromaAbParameter,r.scaleIn=f.fromValues(1,1/n),r.scale=f.fromValues(1/o,1*n/o)},S=function(){var t=["","#ifdef GL_ES","precision highp float;","#endif","uniform vec2 uScale;","uniform vec2 uScaleIn;","uniform vec2 uLensCenter;","uniform vec4 uHmdWarpParam;","uniform vec4 uChromAbParam;","uniform sampler2D Texture0;","varying vec2 vTexCoord0;","void main(void) {","  vec2 uv = (vTexCoord0 * 2.0) - 1.0;","  vec2 theta = (uv - uLensCenter) * uScaleIn;","  float rSq = theta.x * theta.x + theta.y * theta.y;","  vec2 rvector = theta * (uHmdWarpParam.x + uHmdWarpParam.y * rSq + uHmdWarpParam.z * rSq * rSq + uHmdWarpParam.w * rSq * rSq * rSq);","  vec2 rBlue = rvector * (uChromAbParam.z + uChromAbParam.w * rSq);","  vec2 tcBlue = (uLensCenter + uScale * rBlue);","  tcBlue = (tcBlue + 1.0) * 0.5;","  if (any(bvec2(clamp(tcBlue, vec2(0.0, 0.0), vec2(1.0, 1.0)) - tcBlue))) {","    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","    return;","  }","  vec2 tcGreen = uLensCenter + uScale * rvector;","  tcGreen = (tcGreen + 1.0) * 0.5;","  vec2 rRed = rvector * (uChromAbParam.x + uChromAbParam.y * rSq);","  vec2 tcRed = uLensCenter + uScale * rRed;","  tcRed = (tcRed + 1.0) * 0.5;","  gl_FragColor = vec4(texture2D(Texture0, tcRed).r, texture2D(Texture0, tcGreen).g, texture2D(Texture0, tcBlue).b, 1);","}",""].join("\n");return new o(new u(u.VERTEX_SHADER,m.Filter.defaultVertexShader),new u(u.FRAGMENT_SHADER,t))},T=function(t){var e=new c;return e.setTextureSize(t[0],t[1]),e.setMinFilter("LINEAR"),e.setMagFilter("LINEAR"),e},M=function(t,e,r,n,s,o){var u=new i,h=e[0],c=e[1],f=r[0],p=r[1];n===!0?t?u.setViewport(new _(0,0,f/2,p)):u.setViewport(new _(f/2,0,f/2,p)):t?u.setViewport(new _(.5*f-h,.5*(p-c),h,c)):u.setViewport(new _(.5*f,.5*(p-c),h,c)),a.ortho(u.getProjectionMatrix(),-.5,.5,-.5,.5,-5,5),u.setRenderOrder(i.NESTED_RENDER,0),u.setReferenceFrame(l.ABSOLUTE_RF);var g=u.getOrCreateStateSet();return g.setTextureAttributeAndModes(0,s),g.setAttributeAndModes(S()),g.addUniform(d.createFloat2(o.scale,"uScale")),g.addUniform(d.createFloat2(o.scaleIn,"uScaleIn")),g.addUniform(d.createFloat2(t?o.lensCenterLeft:o.lensCenterRight,"uLensCenter")),g.addUniform(d.createFloat4(o.hmdWarpParam,"uHmdWarpParam")),g.addUniform(d.createFloat4(o.chromAbParam,"uChromAbParam")),u},A=function(t,e){var r=new i;return r.setName("rtt camera"),r.setViewport(new _(0,0,t.getWidth(),t.getHeight())),r.setProjectionMatrix(e),r.setClearColor(g.fromValues(.3,.3,.3,0)),r.setRenderOrder(i.POST_RENDER,0),r.attachTexture(n.COLOR_ATTACHMENT0,t),r.attachRenderBuffer(n.DEPTH_ATTACHMENT,n.DEPTH_COMPONENT16),r.setReferenceFrame(l.ABSOLUTE_RF),r};v.createScene=function(t,e,r,i,n){var a=v.getDefaultConfig(r),o=f.fromValues(.5*a.hResolution,a.vResolution),u=f.fromValues(.5*a.hResolution,a.vResolution),c=t.getCamera().getViewport(),l=f.fromValues(c.width(),c.height()),d=t.getGraphicContext().canvas;a.isCardboard&&(l[0]=d.width,l[1]=d.height);var p=void 0!==n?n:1,g={},_={};y(p,a,g,_);var m=t.getCamera().getViewMatrix(),S=i||new s;S.addUpdateCallback(new b(t,e,r,S,d));var w=T(o),C=A(w,_.projectionLeft),E=M(!0,u,l,a.isCardboard,w,g);C.addUpdateCallback(new x(m,_.viewLeft));var R=T(o),N=A(R,_.projectionRight),I=M(!1,u,l,a.isCardboard,R,g);return N.addUpdateCallback(new x(m,_.viewRight)),C.addChild(e),N.addChild(e),E.addChild(h.createTexturedFullScreenFakeQuadGeometry()),I.addChild(h.createTexturedFullScreenFakeQuadGeometry()),S.addChild(C),S.addChild(N),S.addChild(E),S.addChild(I),S},v.getDefaultConfig=function(t){var e={hResolution:1920,vResolution:1080,hScreenSize:.1296,vScreenSize:.0729,interpupillaryDistance:.064,lensSeparationDistance:.0635,eyeToScreenDistance:.04,distortionK:g.fromValues(1,.22,.13,.02),chromaAbParameter:g.fromValues(.996,-.004,1.014,0),isCardboard:!1};return 2===t||void 0===t?e:1===t?(e.hResolution=1280,e.vResolution=800,e.hScreenSize=.14976,e.vScreenSize=.0936,e.lensSeparationDistance=.064,e.eyeToScreenDistance=.041,e.distortionK=g.fromValues(1,.22,.24,0),e):(void 0!==t.hResolution&&(e.hResolution=t.hResolution),void 0!==t.vResolution&&(e.vResolution=t.vResolution),void 0!==t.hScreenSize&&(e.hScreenSize=t.hScreenSize),void 0!==t.vScreenSize&&(e.vScreenSize=t.vScreenSize),void 0!==t.interpupillaryDistance&&(e.interpupillaryDistance=t.interpupillaryDistance),void 0!==t.lensSeparationDistance&&(e.lensSeparationDistance=t.lensSeparationDistance),void 0!==t.eyeToScreenDistance&&(e.eyeToScreenDistance=t.eyeToScreenDistance),void 0!==t.distortionK&&(e.distortionK=t.distortionK),void 0!==t.chromaAbParameter&&(e.chromaAbParameter=t.chromaAbParameter),void 0!==t.isCardboard&&(e.isCardboard=t.isCardboard),e)},t.exports=v},function(t,e,r){"use strict";var i=r(44),n=r(59),a=r(16).mat4,s=r(13),o=r(92),u=r(110),h=r(111),c=r(32),l=r(12),d=r(33),f=r(16).vec3,p=r(16).vec4,g=r(117),_=r(177),m=function(t,e){this._rootView=t,this._offsetView=e};m.prototype={update:function(t){var e=t.getViewMatrix();return a.mul(e,this._offsetView,this._rootView),!0}};var v=function(t){var e=new c;return e.setTextureSize(t.width,t.height),e.setMinFilter("LINEAR"),e.setMagFilter("LINEAR"),e},b=function(){var t=["#ifdef GL_ES","   precision highp float;","#endif","varying vec2 vTexCoord0;","uniform sampler2D TextureLeft;","uniform sampler2D TextureRight;","void main() {","   if (vTexCoord0.x < 0.5)","       gl_FragColor = texture2D(TextureLeft, vec2(vTexCoord0.x * 2.0, vTexCoord0.y));","   else","       gl_FragColor = texture2D(TextureRight, vec2(vTexCoord0.x * 2.0 - 1.0, vTexCoord0.y));","}"].join("\n");return new o(new u(u.VERTEX_SHADER,_.Filter.defaultVertexShader),new u(u.FRAGMENT_SHADER,t))},x=function(t,e,r){var n=new i;n.setViewport(r),n.setRenderOrder(i.NESTED_RENDER,0),n.setReferenceFrame(l.ABSOLUTE_RF),a.ortho(n.getProjectionMatrix(),0,1,0,1,-5,5);var s=n.getOrCreateStateSet();return s.addUniform(d.createInt(0,"TextureLeft")),s.addUniform(d.createInt(1,"TextureRight")),s.setTextureAttributeAndModes(0,t),s.setTextureAttributeAndModes(1,e),s.setAttributeAndModes(b()),n.addChild(h.createTexturedFullScreenFakeQuadGeometry()),n},y=function(t,e){var r=new i;return r.setName("rtt camera"),r.setViewport(new g(0,0,t.getWidth(),t.getHeight())),r.setProjectionMatrix(e),r.setClearColor(p.fromValues(.3,.3,.3,0)),r.setRenderOrder(i.POST_RENDER,0),r.attachTexture(n.COLOR_ATTACHMENT0,t),r.attachRenderBuffer(n.DEPTH_ATTACHMENT,n.DEPTH_COMPONENT16),r.setReferenceFrame(l.ABSOLUTE_RF),r},S={};S.createScene=function(t,e,r,i,n){var o=i||new s,u=void 0!==n?n:1,h=r.getEyeParameters("left"),c=r.getEyeParameters("right"),l=new window.VRFrameData;r.getFrameData(l);var d=a.fromTranslation(a.create(),f.fromValues(-u*h.offset[0],h.offset[1],h.offset[2])),p=a.fromTranslation(a.create(),f.fromValues(-u*c.offset[0],c.offset[1],c.offset[2])),g={width:Math.max(h.renderWidth,c.renderWidth),height:Math.max(h.renderHeight,c.renderHeight)},_=v(g),b=v(g),S=y(_,l.leftProjectionMatrix),T=y(b,l.rightProjectionMatrix),M=t.getCamera().getViewMatrix();S.addUpdateCallback(new m(M,d)),T.addUpdateCallback(new m(M,p));var A=x(_,b,t.getCamera().getViewport());return S.addChild(e),T.addChild(e),o.addChild(S),o.addChild(T),o.addChild(A),o},t.exports=S},function(t,e,r){"use strict";var i=r(206),n=r(207),a=r(217),s=r(219),o=r(208),u={};u.Renderer=i,u.View=n,u.Viewer=a,u.EventProxy=s,u.Scene=o,t.exports=u},function(module,exports,__webpack_require__){"use strict";var Notify=__webpack_require__(11),mat4=__webpack_require__(16).mat4,Options=__webpack_require__(31),P=__webpack_require__(83),Timer=__webpack_require__(10),TimerGPU=__webpack_require__(119),UpdateVisitor=__webpack_require__(116),MACROUTILS=__webpack_require__(7),Texture=__webpack_require__(32),OrbitManipulator=__webpack_require__(160),createStats=__webpack_require__(218),EventProxy=__webpack_require__(219),View=__webpack_require__(207),WebGLUtils=__webpack_require__(30),WebGLDebugUtils=__webpack_require__(228),requestFile=__webpack_require__(137),getGLSLOptimizer=function(){var deferOptimizeGLSL=P.defer();window.deferOptimizeGLSL=deferOptimizeGLSL;var mod=["        var Module = {","            preRun: [],","            postRun: [ function () {",'                var func = Module.cwrap( "optimize_glsl", "string", [ "string", "number", "number" ] );',"                window.deferOptimizeGLSL.resolve( func );","            } ],","            print: function ( text ) {","                Notify.debug( text );","            },","            printErr: function ( text ) {","                Notify.debug( text );","            },","            setStatus: function ( text ) {","                Notify.debug( text );","            },","            totalDependencies: 0,","            monitorRunDependencies: function ( left ) {","                this.totalDependencies = Math.max( this.totalDependencies, left );",'                Module.setStatus( left ? "GLSL optimizer preparing... (" + ( this.totalDependencies - left ) + "/" + this.totalDependencies + ")" : "All downloads complete." );',"            },",'            memoryInitializerPrefixURL: "https://raw.githubusercontent.com/zz85/glsl-optimizer/gh-pages/"',"        };"].join("\n");Notify.log("try to load glsl optimizer");var url="https://raw.githubusercontent.com/zz85/glsl-optimizer/gh-pages/glsl-optimizer.js",promise=requestFile(url);return promise.then(function(script){eval(mod+script)}).catch(function(){deferOptimizeGLSL.reject()}),deferOptimizeGLSL.promise},Viewer=function(t,e,r){View.call(this),this._startTick=Timer.instance().tick(),this._stats=void 0,this._done=!1,this._runPromise=P.resolve();var i=this.initOptions(e),n=this.initWebGLContext(t,i,r);if(!n)throw"No WebGL implementation found";MACROUTILS.init(),this.initDeviceEvents(i,t),this.initStats(i,t),this.initRun(i),this._updateVisitor=new UpdateVisitor,this.setUpView(n.canvas,i),this._hmd=null,this._requestAnimationFrame=window.requestAnimationFrame.bind(window),this._contextLost=!1};Viewer.prototype=MACROUTILS.objectInherit(View.prototype,{initDeviceEvents:function(t,e){var r=t.mouseEventNode||e,i=t.EventBackend||{};t.EventBackend||(t.EventBackend=i),i.StandardMouseKeyboard=t.EventBackend.StandardMouseKeyboard||{};var n=i.StandardMouseKeyboard.mouseEventNode||r;i.StandardMouseKeyboard.mouseEventNode=n,i.StandardMouseKeyboard.keyboardEventNode=i.StandardMouseKeyboard.keyboardEventNode||document,"ontouchstart"in window&&(i.Hammer=i.Hammer||{},i.Hammer.eventNode=i.Hammer.eventNode||r),i.GamePad=i.GamePad||{},this._eventProxy=this.initEventProxy(t)},initOptions:function(t){var e=new Options;return t&&e.extend(t),e.extendWithOptionsURL(),e.getBoolean("traceLogCall")===!0&&(Notify.traceLogCall=!0),e.getBoolean("enableFrustumCulling")===!0&&this.getCamera().getRenderer().getCullVisitor().setEnableFrustumCulling(!0),e},initWebGLContext:function(t,e,r){e.get("SimulateWebGLLostContext")&&(t=WebGLDebugUtils.makeLostContextSimulatingCanvas(t),t.loseContextInNCalls(e.get("SimulateWebGLLostContext")));var i=WebGLUtils.setupWebGL(t,e,r);return t.addEventListener("webglcontextlost",function(t){this.contextLost(),t.preventDefault()}.bind(this),!1),t.addEventListener("webglcontextrestored",function(){this.contextRestored()}.bind(this),!1),(Notify.reportWebGLError||e.get("reportWebGLError"))&&(i=WebGLDebugUtils.makeDebugContext(i)),this.initWebGLCaps(i),this.setGraphicContext(i),i},initRun:function(t){if(t.getBoolean("GLSLOptimizer")===!0){var e=__webpack_require__(110);e.enableGLSLOptimizer=!0,this._runPromise=getGLSLOptimizer(),this._runPromise.then(function(t){e.glslOptimizer=t,e.glslOptimizer?Notify.log("uses glsl optimizer, use ?log=info to see shader output"):Notify.error("failed to load glsl optimizer")}).catch(function(t){Notify.error(t)})}},setContextLostCallback:function(t){this._contextLostCallback=t,this._contextLost&&t()},contextLost:function(){Notify.log("webgl context lost"),this._contextLostCallback&&this._contextLostCallback(),this._contextLost=!0,window.cancelAnimationFrame(this._requestID)},contextRestored:function(){Notify.log("webgl context restored, but not supported - reload the page")},init:function(){},getUpdateVisitor:function(){return this._updateVisitor},getState:function(){return this.getCamera().getRenderer().getState()},initStats:function(t){var e=TimerGPU.instance(this.getGraphicContext());return t.getBoolean("stats")?(this._stats=createStats(t),void e.setCallback(this.callbackTimerGPU.bind(this))):void e.disable()},callbackTimerGPU:function(t,e){this._stats&&this._stats.rStats(e).set(t/1e6)},getViewerStats:function(){return this._stats},renderingTraversal:function(){if(this.getScene().getSceneData()&&this.getScene().getSceneData().getBound(),this.getCamera()){var t=this._stats,e=TimerGPU.instance(this.getGraphicContext()),r=this.getCamera().getRenderer();if(t&&t.rStats("cull").start(),r.cull(),t&&t.rStats("cull").end(),e.pollQueries(),e.start("glframe"),t&&t.rStats("render").start(),r.draw(),t&&t.rStats("render").end(),e.end("glframe"),t){var i=r.getCullVisitor();t.rStats("cullcamera").set(i._numCamera),t.rStats("cullmatrixtransform").set(i._numMatrixTransform),t.rStats("cullprojection").set(i._numProjection),t.rStats("cullnode").set(i._numNode),t.rStats("cullightsource").set(i._numLightSource),t.rStats("cullgeometry").set(i._numGeometry),t.rStats("pushstateset").set(r.getState()._numPushStateSet)}}},updateTraversal:function(){var t=this._stats;t&&t.rStats("update").start(),this._updateVisitor.resetStats(),this.getScene().updateSceneGraph(this._updateVisitor),t&&t.rStats("updatecallback").set(this._updateVisitor._numUpdateCallback),this.getDatabasePager().releaseGLExpiredSubgraphs(.005),this.flushDeletedGLObjects(.005),t&&t.rStats("update").end()},advance:function(t){var e=t;void 0===e&&(e=Number.MAX_VALUE);var r=this._frameStamp,i=r.getFrameNumber();r.setFrameNumber(i+1);var n=Timer.instance().deltaS(this._startTick,Timer.instance().tick());r.setReferenceTime(n);var a=r.getSimulationTime();r.setSimulationTime(e===Number.MAX_VALUE?n:e),r.setDeltaTime(r.getSimulationTime()-a)},beginFrame:function(){var t=this._stats;t&&(t.rStats("frame").start(),t.glS.start(),t.rStats("rAF").tick(),t.rStats("FPS").frame())},endFrame:function(){var t=this.getFrameStamp().getFrameNumber(),e=this._stats,r=e?e.rStats:void 0;r&&(Texture.getTextureManager(this.getGraphicContext()).updateStats(t,r),r("frame").end(),r("rStats").start(),r().update(),r("rStats").end())},checkNeedToDoFrame:function(){return this._requestContinousUpdate||this._requestRedraw},frame:function(){if(!this._contextLost){this.beginFrame(),this.advance();var t=this.updateViewport();this.updateEventProxy(this._eventProxy,this.getFrameStamp()),this._updateVisitor.setFrameStamp(this.getFrameStamp()),this.getManipulator()&&(this.getManipulator().update(this._updateVisitor),mat4.copy(this.getCamera().getViewMatrix(),this.getManipulator().getInverseMatrix())),(this.checkNeedToDoFrame()||t)&&(this._requestRedraw=!1,this.updateTraversal(),this.renderingTraversal()),this.endFrame(),this._hmd&&this._hmd.isPresenting&&this._hmd.submitFrame()}},setDone:function(t){this._done=t},done:function(){return this._done},_runImplementation:function(){var t=this,e=function(){t.done()||(t._requestID=t._requestAnimationFrame(e,t.getGraphicContext().canvas),t.frame())};e()},run:function(){var t=this;this._runPromise.then(function(){t._runImplementation()}).catch(function(){t._runImplementation()})},setVRDisplay:function(t){this._hmd=t},getVRDisplay:function(){return this._hmd},setPresentVR:function(t){if(!this._hmd)return Notify.warn("no hmd device provided to the viewer!"),P.reject();if(!this._hmd.capabilities.canPresent)return P.reject();if(t){this._requestAnimationFrame=this._hmd.requestAnimationFrame.bind(this._hmd);var e=[{source:this.getGraphicContext().canvas}];return this._hmd.requestPresent(e)}return this._requestAnimationFrame=window.requestAnimationFrame.bind(window),this._hmd.exitPresent()},setupManipulator:function(t){void 0===t&&(t=new OrbitManipulator),void 0!==t.setNode?t.setNode(this.getSceneData()):t.view=this,t.setCamera(this.getCamera()),this.setManipulator(t)},updateViewport:function(){var t=this.getGraphicContext(),e=t.canvas,r=this.computeCanvasSize(e);if(!r)return!1;var i=this.getCamera(),n=i.getViewport(),a=n.width(),s=n.height(),o=e.width/a,u=e.height/s,h=o/u;return n.setViewport(Math.round(n.x()*o),Math.round(n.y()*u),Math.round(n.width()*o),Math.round(n.height()*u)),1!==h&&mat4.mul(i.getProjectionMatrix(),i.getProjectionMatrix(),mat4.fromScaling(mat4.create(),[1/h,1,1])),!0},initEventProxy:function(t){var e=t||{},r={},i=EventProxy,n=e.EventBackend;for(var a in i){var s=!0,o={};if(n&&void 0!==n[a]){var u=n[a].enable;s=void 0===u||u,o=n[a]}var h=new Options;if(h.extend(o).extend(t),delete h.EventBackend,s){var c=new i[a](this);c.init(h),r[a]=c}}return r},updateEventProxy:function(t,e){for(var r in t){var i=t[r];i.update&&i.update(e)}},setManipulator:function(t){this._manipulator&&this.removeEventProxy(),t.getCamera()||t.setCamera(this.getCamera()),View.prototype.setManipulator.call(this,t)},removeEventProxy:function(){var t=this._eventProxy;for(var e in t){var r=t[e];r.remove&&r.remove()}},getEventProxy:function(){return this._eventProxy}}),module.exports=Viewer},function(t,e,r){"use strict";var i=r(7),n=window.BrowserStats,a=window.glStats,s=window.rStats,o=function(t){this.bS=new n,this.glS=new a;var e={frame:{caption:"Total frame time (ms)",over:16,average:!0},fps:{caption:"Framerate (FPS)",below:30},calls:{caption:"Calls (three.js)",over:3e3},raf:{caption:"Time since last rAF (ms)",average:!0,avgMs:500},rstats:{caption:"rStats update (ms)",average:!0,avgMs:100},update:{caption:"update",average:!0},cull:{caption:"cull",average:!0},render:{caption:"render",average:!0},glframe:{caption:"glframe",average:!0},textureused:{caption:"texture used"},texturereserved:{caption:"texture reserved"},texturetotal:{caption:"texture total"},pushstateset:{caption:"num pushStateSet"},updatecallback:{caption:"num updateCallback"},cullcamera:{caption:"camera"},cullmatrixtransform:{caption:"matrixTransform"},cullprojection:{caption:"projection"},cullnode:{caption:"node"
},culllightsource:{caption:"lightSource"},cullgeometry:{caption:"geometry"}},r=[{base:"frame",steps:["update","cull","render"]}],o=[{caption:"Framerate",values:["fps","raf"]},{caption:"Frame Budget",values:["frame","update","cull","render","glframe"]},{caption:"Scene Graph",values:["pushstateset","updatecallback"]},{caption:"Cull",values:["cullnode","cullmatrixtransform","cullgeometry","cullcamera","culllighsource","cullprojection"]},{caption:"Texture Memory",values:["texturereserved","textureused","texturetotal"]}],u=[this.bS,this.glS];t&&(t.values&&i.objectMix(e,t.values),t.groups&&Array.prototype.unshift.apply(o,t.groups),t.fractions&&Array.prototype.push.apply(r,t.fractions),t.plugins&&Array.prototype.push.apply(u,t.plugins)),this.rStats=new s({values:e,groups:o,fractions:r,plugins:u,colours:["#cc9933","#f20041","#69818c","#d90074","#b6f2ee","#660044","#50664d","#330022","#f2eeb6","#ee00ff","#806460","#1600a6","#994d57","#00004d","#f279da","#002933","#395073","#00eeff","#79baf2","#008066","#79f2aa","#00ff66","#1a331d","#004d14","#8c6c46","#388c00","#602080","#ff8800","#6d3df2","#995200","#0d1233","#402200","#3d6df2","#330e00","#e6f23d","#730000"]})},u=function(t){if(s){var e=".rs-base{ position: absolute; z-index: 10000; padding: 10px; background-color: #222; font-size: 12px; line-height: 1.2em; width: 350px; font-family: 'Roboto Condensed', tahoma, sans-serif; left: 0; top: 0; overflow: hidden; } .rs-base h1{ margin: 0; padding: 0; font-size: 1.4em; color: #fff; margin-bottom: 5px; cursor: pointer; } .rs-base div.rs-group{ margin-bottom: 10px; } .rs-base div.rs-group.hidden{ display: none; } .rs-base div.rs-fraction{ position: relative; margin-bottom: 5px; } .rs-base div.rs-fraction p{ width: 145px; text-align: right; margin: 0; padding: 0; } .rs-base div.rs-legend{ position: absolute; line-height: 1em; } .rs-base div.rs-counter-base{ position: relative; margin: 2px 0; height: 1em; } .rs-base span.rs-counter-id{ position: absolute; left: 0; top: 0; } .rs-base div.rs-counter-value{ position: absolute; left: 115px; width: 30px; height: 1em; top: 0; text-align: right; } .rs-base canvas.rs-canvas{ position: absolute; right: 0; } ",r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),r.appendChild(i),new o(t.rstats)}};t.exports=u},function(t,e,r){"use strict";var i=r(220),n=r(221),a=r(222),s=r(224),o=r(225),u=r(227);t.exports={GamePad:i,Hammer:n,LeapMotion:a,StandardMouseKeyboard:s,WebVR:o,DeviceOrientation:u}},function(t,e,r){"use strict";var i=r(11),n=function(t){this._viewer=t,this._type="GamePad",this._enable=!0,this._gamepadIndex=-1};n.prototype={setEnable:function(t){this._enable=t},getEnable:function(){return this._enable},init:function(){},isValid:function(){if(!this._enable)return!1;var t=this._viewer.getManipulator();if(!t)return!1;var e=t.getControllerList();return!!e[this._type]},getManipulatorController:function(){return this._viewer.getManipulator().getControllerList()[this._type]},gamepadPoll:function(){if(!navigator.getGamepads)return null;var t=navigator.getGamepads(),e=t[this._gamepadIndex];if(e)return e;for(var r=0,i=t.length;r<i;++r){var n=t[r];if(n&&n.id&&n.id.indexOf("Unknown Gamepad")===-1)return this._gamepadIndex=r,this.onGamepadConnect(n),n}return this._gamepadIndex>=0&&(this._gamepadIndex=-1,this.onGamepadConnect()),null},onGamepadConnect:function(t){i.log("Detected new gamepad!",t)},onGamepadDisconnect:function(){i.log("Gamepad disconnected")},update:function(){if(this.isValid()){var t=this.gamepadPoll();if(t){var e=this.getManipulatorController();e.update&&e.update(t)}}}},t.exports=n},function(t,e,r){"use strict";var i=r(150),n=function(t){this._enable=!0,this._viewer=t,this._type="Hammer",this._eventNode=void 0};n.prototype={setEnable:function(t){this._enable=t},getEnable:function(){return this._enable},init:function(t){var e={prevent_default:!0,drag_max_touches:2,transform_min_scale:.08,transform_min_rotation:180,transform_always_block:!0,hold:!1,release:!1,swipe:!1,tap:!1};this._eventNode=t.eventNode,this._eventNode&&(this._hammer=new i(this._eventNode,e),t.getBoolean("scrollwheel")===!1?this._hammer.get("pinch").set({enable:!1}):this._hammer.get("pinch").set({enable:!0}))},isValid:function(){return!!(this._enable&&this._viewer.getManipulator()&&this._viewer.getManipulator().getControllerList()[this._type])},getManipulatorController:function(){return this._viewer.getManipulator().getControllerList()[this._type]},update:function(){this.isValid()&&this.getManipulatorController().setEventProxy(this._hammer)},remove:function(){this.isValid()&&this.getManipulatorController().removeEventProxy(this._hammer)}},t.exports=n},function(t,e,r){"use strict";var i=r(223),n=r(11),a=function(t){this._viewer=t,this._type="LeapMotion",this._enable=!0};a.prototype={setEnable:function(t){this._enable=t},getEnable:function(){return this._enable},init:function(t){if("undefined"!=typeof i&&i.Controller){var e=this;this._controller=new i.Controller({enableGestures:t.gestures||!0,tryReconnectOnDisconnect:!0,connectAttempts:3}),this._controller.on("ready",function(){t.readyCallback&&t.readyCallback(e._controller),e._leapMotionReady=!0,n.info("leapmotion ready")}),this._controller.loop(this._update.bind(this))}},isValid:function(){if(!this._enable)return!1;var t=this._viewer.getManipulator();if(!t)return!1;var e=t.getControllerList();return!!e[this._type]},getManipulatorController:function(){return this._viewer.getManipulator().getControllerList()[this._type]},_update:function(t){if(t.valid&&this.isValid()){var e=this.getManipulatorController();e.update&&e.update(t)}}},t.exports=a},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_223__},function(t,e,r){"use strict";var i=r(16).vec2,n=function(t){this._enable=!0,this._viewer=t,this._type="StandardMouseKeyboard",this._mouseEventNode=void 0,this._wheelEventNode=void 0,this._keyboardEventNode=void 0,this._eventList=["mousedown","mouseup","mouseout","mousemove","dblclick"],this._mousePosition=i.create()};n.prototype={setEnable:function(t){this._enable=t},getEnable:function(){return this._enable},init:function(t){var e=t.mouseEventNode,r=t.wheelEventNode||e,i=t.keyboardEventNode||e;t.getBoolean("scrollwheel")===!1&&(r=null),this._mouseEventNode=e,this._wheelEventNode=r,this._keyboardEventNode=i,this._callbacks={mousedown:this.mousedown.bind(this),mouseup:this.mouseup.bind(this),mouseout:this.mouseout.bind(this),mousemove:this.mousemove.bind(this),dblclick:this.dblclick.bind(this),mousewheel:this.mousewheel.bind(this),preventDefault:this.preventDefault.bind(this),keydown:this.keydown.bind(this),keyup:this.keyup.bind(this)},this.addEventListeners()},_addOrRemoveEventListeners:function(t){var e=this._callbacks,r=t?"removeEventListener":"addEventListener",i=this._mouseEventNode&&this._mouseEventNode[r].bind(this._mouseEventNode),n=this._wheelEventNode&&this._wheelEventNode[r].bind(this._wheelEventNode),a=this._keyboardEventNode&&this._keyboardEventNode[r].bind(this._keyboardEventNode);if(i)for(var s=0,o=this._eventList.length;s<o;s++){var u=this._eventList[s];i(u,e[u],!1)}n&&(n("DOMMouseScroll",e.mousewheel,!1),n("mousewheel",e.mousewheel,!1),n("MozMousePixelScroll",e.preventDefault,!1)),a&&(a("keydown",e.keydown,!1),a("keyup",e.keyup,!1))},addEventListeners:function(){return this._addOrRemoveEventListeners(!1)},removeEventListeners:function(){return this._addOrRemoveEventListeners(!0)},isValid:function(){return!!(this._enable&&this._viewer.getManipulator()&&this._viewer.getManipulator().getControllerList()[this._type])},getManipulatorController:function(){return this._viewer.getManipulator().getControllerList()[this._type]},keyup:function(t){if(this.isValid()&&this.getManipulatorController().keyup)return this.getManipulatorController().keyup(t)},keydown:function(t){if(this.isValid()&&this.getManipulatorController().keydown)return this.getManipulatorController().keydown(t)},mousedown:function(t){if(this.isValid()&&this.getManipulatorController().mousedown)return 1===t.button&&t.preventDefault(),this.getManipulatorController().mousedown(t)},mouseup:function(t){if(this.isValid()&&this.getManipulatorController().mouseup)return this.getManipulatorController().mouseup(t)},mouseout:function(t){if(this.isValid()&&this.getManipulatorController().mouseout)return this.getManipulatorController().mouseout(t)},mousemove:function(t){if(this.isValid()&&this.getManipulatorController().mousemove)return this.getManipulatorController().mousemove(t)},dblclick:function(t){if(this.isValid()&&this.getManipulatorController().dblclick)return this.getManipulatorController().dblclick(t)},mousewheel:function(t){if(this.isValid()){var e=this.getManipulatorController();if(e.mousewheel){t.preventDefault();var r=t||window.event,i=[].slice.call(arguments,1),n=0,a=0,s=0;return t.wheelDelta&&(n=t.wheelDelta/120),t.detail&&(n=-t.detail/3),s=n,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(s=0,a=-1*n),void 0!==r.wheelDeltaY&&(s=r.wheelDeltaY/120),void 0!==r.wheelDeltaX&&(a=-1*r.wheelDeltaX/120),i.unshift(t,n,a,s),this.getManipulatorController().mousewheel.apply(e,i)}}},preventDefault:function(t){t.preventDefault()},divGlobalOffset:function(t){var e=0,r=0;e=t.offsetLeft,r=t.offsetTop;for(var i=document.getElementsByTagName("body")[0];t.offsetParent&&t!==i;)e+=t.offsetParent.offsetLeft,r+=t.offsetParent.offsetTop,t=t.offsetParent;return this._mousePosition[0]=e,this._mousePosition[1]=r,this._mousePosition},getPositionRelativeToCanvas:function(t,e){var r,i,n=t.target;t.pageX||t.pageY?(r=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(r=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=t.clientY+document.body.scrollTop+document.documentElement.scrollTop);var a=this.divGlobalOffset(n);return r-=a[0],i=n.height-(i-a[1]),void 0===e&&(e=this._mousePosition),e[0]=r,e[1]=i,e},update:function(){this.isValid()&&this.getManipulatorController().setEventProxy(this)}},t.exports=n},function(t,e,r){"use strict";var i=r(11),n=r(16).quat,a=r(16).vec3,s=r(16).mat4;r(226);var o=function(t){this._viewer=t,this._type="WebVR",this._enable=!1,this._hmd=void 0,this._sensor=void 0,this._frameData=void 0,this._quat=n.create(),this._pos=a.create(),this._worldScale=1};o.prototype={setWorldScale:function(t){this._worldScale=t},setEnable:function(t){this._enable=t},getEnable:function(){return this._enable},init:function(){if(navigator.getVRDisplays){var t=this;navigator.getVRDisplays().then(function(e){e.length>0&&(t._hmd=e[0],t._frameData=new window.VRFrameData,i.log("Found a VR display"),t._viewer.setVRDisplay(t._hmd))})}},getManipulatorController:function(){return this._viewer.getManipulator().getControllerList()[this._type]},isValid:function(){if(!this._enable)return!1;var t=this._viewer.getManipulator();return!!t&&(!!t.getControllerList()[this._type]&&!!this._hmd)},update:function(){var t=n.create(),e=a.create();return function(){if(this.isValid()){var r=this.getManipulatorController();if(r.update){this._hmd.getFrameData(this._frameData);var i=this._frameData.pose;if(i){var o=this._hmd.stageParameters&&this._hmd.stageParameters.sittingToStandingTransform,u=i.orientation;u&&(o&&(u=s.getRotation(t,o),n.mul(u,u,i.orientation)),this._quat[0]=u[0],this._quat[1]=-u[2],this._quat[2]=u[1],this._quat[3]=u[3]);var h=i.position;h&&(o&&(h=a.transformMat4(e,h,o)),this._pos[0]=h[0]*this._worldScale,this._pos[1]=-h[2]*this._worldScale,this._pos[2]=h[1]*this._worldScale),r.update(this._quat,this._pos)}}}}}(),getHmd:function(){return this._hmd}},t.exports=o},function(t,e,r){"use strict";var i=r(16).mat4;"getVRDisplays"in navigator&&("depthNear"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),"depthFar"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),"VRFrameData"in window||(window.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},window.VRDisplay.prototype.getFrameData=function(){function t(t,n,a,s,o){i.perspectiveFromFieldOfView(t,s.fieldOfView,o.depthNear,o.depthFar);var u=a.orientation,h=a.position;u||(u=e),h||(h=r),i.fromRotationTranslation(n,u,h),i.translate(n,n,s.offset),i.invert(n,n)}var e=new Float32Array([0,0,0,1]),r=new Float32Array([0,0,0]);return function(e){var r=this.getPose();return!!r&&(e.pose=r,e.timestamp=r.timestamp,t(e.leftProjectionMatrix,e.leftViewMatrix,r,this.getEyeParameters("left"),this),t(e.rightProjectionMatrix,e.rightViewMatrix,r,this.getEyeParameters("right"),this),!0)}}()))},function(t,e){"use strict";var r=function(t){this._viewer=t,this._type="DeviceOrientation",this._enable=!1,this._deviceOrientation=void 0,this._screenOrientation=window.orientation||90};r.prototype={setEnable:function(t){this._enable=t},getEnable:function(){return this._enable},init:function(){var t=this;window.addEventListener("deviceorientation",function(e){null!==e.alpha&&void 0!==e.alpha&&(t._deviceOrientation=e)},!1),window.addEventListener("orientationchange",function(){null!==window.orientation&&void 0!==window.orientation&&(t._screenOrientation=window.orientation)},!1)},getManipulatorController:function(){return this._viewer.getManipulator().getControllerList()[this._type]},isValid:function(){if(!this._enable)return!1;if(!this._deviceOrientation)return!1;var t=this._viewer.getManipulator();return!!t&&!!t.getControllerList()[this._type]},update:function(){if(this.isValid()){var t=this.getManipulatorController();t.update&&t.update(this._deviceOrientation,this._screenOrientation)}}},t.exports=r},function(t,e,r){"use strict";var i=(r(11),function(){function t(t){if(null==f){f={},p={};for(var e in t)"number"==typeof t[e]&&(f[t[e]]=e,p[e]=t[e])}}function e(){if(null==f)throw"WebGLDebugUtils.init(ctx) not called"}function r(t){return e(),void 0!==f[t]}function i(t){e();var r=f[t];return void 0!==r?"gl."+r:"/*UNKNOWN WebGL ENUM*/ 0x"+t.toString(16)}function n(t,e,r,n){var a=d[t];if(void 0!==a){var a=a[e];if(void 0!==a&&a[r]){if("object"==typeof a[r]&&void 0!==a[r].enumBitwiseOr){for(var s=a[r].enumBitwiseOr,o=0,u=[],h=0;h<s.length;++h){var c=p[s[h]];0!==(n&c)&&(o|=c,u.push(i(c)))}return o===n?u.join(" | "):i(n)}return i(n)}}return null===n?"null":void 0===n?"undefined":n.toString()}function a(t,e){for(var r="",i=e.length,a=0;a<i;++a)r+=(0==a?"":", ")+n(t,i,a,e[a]);return r}function s(t,e,r){t.__defineGetter__(r,function(){return e[r]}),t.__defineSetter__(r,function(t){e[r]=t})}function o(e,r,a,u){function h(t,e){return function(){a&&a(e,arguments);var i=t[e].apply(t,arguments),n=u.getError();return 0!=n&&(c[n]=!0,r(n,e,arguments)),i}}u=u||e,t(e),r=r||function(t,e,r){for(var a="",s=r.length,o=0;o<s;++o)a+=(0==o?"":", ")+n(e,s,o,r[o]);l("WebGL error "+i(t)+" in "+e+"("+a+")")};var c={},d={};for(var f in e)if("function"==typeof e[f])if("getExtension"!=f)d[f]=h(e,f);else{var p=h(e,f);d[f]=function(){var t=p.apply(e,arguments);return t?o(t,r,a,u):null}}else s(d,e,f);return d.getError=function(){for(var t in c)if(c.hasOwnProperty(t)&&c[t])return c[t]=!1,t;return e.NO_ERROR},d}function u(t){var e=!!t.createTransformFeedback;e&&t.bindVertexArray(null);var r=t.getParameter(t.MAX_VERTEX_ATTRIBS),i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i);for(var n=0;n<r;++n)t.disableVertexAttribArray(n),t.vertexAttribPointer(n,4,t.FLOAT,!1,0,0),t.vertexAttrib1f(n,0),e&&t.vertexAttribDivisor(n,0);t.deleteBuffer(i);for(var a=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),n=0;n<a;++n)t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_CUBE_MAP,null),t.bindTexture(t.TEXTURE_2D,null),e&&(t.bindTexture(t.TEXTURE_2D_ARRAY,null),t.bindTexture(t.TEXTURE_3D,null),t.bindSampler(n,null));if(t.activeTexture(t.TEXTURE0),t.useProgram(null),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.DITHER),t.disable(t.SCISSOR_TEST),t.blendColor(0,0,0,0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.clearColor(0,0,0,0),t.clearDepth(1),t.clearStencil(-1),t.colorMask(!0,!0,!0,!0),t.cullFace(t.BACK),t.depthFunc(t.LESS),t.depthMask(!0),t.depthRange(0,1),t.frontFace(t.CCW),t.hint(t.GENERATE_MIPMAP_HINT,t.DONT_CARE),t.lineWidth(1),t.pixelStorei(t.PACK_ALIGNMENT,4),t.pixelStorei(t.UNPACK_ALIGNMENT,4),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.UNPACK_COLORSPACE_CONVERSION_WEBGL&&t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.BROWSER_DEFAULT_WEBGL),t.polygonOffset(0,0),t.sampleCoverage(1,!1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilMask(4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT),e){t.drawBuffers([t.BACK]),t.readBuffer(t.BACK),t.bindBuffer(t.COPY_READ_BUFFER,null),t.bindBuffer(t.COPY_WRITE_BUFFER,null),t.bindBuffer(t.PIXEL_PACK_BUFFER,null),t.bindBuffer(t.PIXEL_UNPACK_BUFFER,null);for(var s=t.getParameter(t.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS),n=0;n<s;++n)t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,n,null);for(var o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS),n=0;n<o;++n)t.bindBufferBase(t.UNIFORM_BUFFER,n,null);t.disable(t.RASTERIZER_DISCARD),t.pixelStorei(t.UNPACK_IMAGE_HEIGHT,0),t.pixelStorei(t.UNPACK_SKIP_IMAGES,0),t.pixelStorei(t.UNPACK_ROW_LENGTH,0),t.pixelStorei(t.UNPACK_SKIP_ROWS,0),t.pixelStorei(t.UNPACK_SKIP_PIXELS,0),t.pixelStorei(t.PACK_ROW_LENGTH,0),t.pixelStorei(t.PACK_SKIP_ROWS,0),t.pixelStorei(t.PACK_SKIP_PIXELS,0),t.hint(t.FRAGMENT_SHADER_DERIVATIVE_HINT,t.DONT_CARE)}for(;t.getError(););}function h(t){function e(t){return"function"==typeof t?t:function(e){t.handleEvent(e)}}function r(t){var e=t.addEventListener;t.addEventListener=function(r,i,n){switch(r){case"webglcontextlost":M(i);break;case"webglcontextrestored":A(i);break;default:e.apply(t,arguments)}}}function i(){for(var t=Object.keys(T),e=0;e<t.length;++e)delete T[t[e]]}function n(){++x,m||b==x&&t.loseContext()}function a(t,e){var r=t[e];return function(){if(n(),!m){var e=r.apply(t,arguments);return e}}}function o(){for(var t=0;t<v.length;++t){var e=v[t];e instanceof WebGLBuffer?l.deleteBuffer(e):e instanceof WebGLFramebuffer?l.deleteFramebuffer(e):e instanceof WebGLProgram?l.deleteProgram(e):e instanceof WebGLRenderbuffer?l.deleteRenderbuffer(e):e instanceof WebGLShader?l.deleteShader(e):e instanceof WebGLTexture?l.deleteTexture(e):f&&(e instanceof WebGLQuery?l.deleteQuery(e):e instanceof WebGLSampler?l.deleteSampler(e):e instanceof WebGLSync?l.deleteSync(e):e instanceof WebGLTransformFeedback?l.deleteTransformFeedback(e):e instanceof WebGLVertexArrayObject&&l.deleteVertexArray(e))}}function h(t){return{statusMessage:t,preventDefault:function(){y=!0}}}function c(t){for(var e in t)"function"==typeof t[e]?d[e]=a(t,e):s(d,t,e);d.getError=function(){if(n(),!m)for(var t;t=l.getError();)T[t]=!0;for(var t in T)if(T[t])return delete T[t],t;return d.NO_ERROR};var r=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"];f&&r.push("createQuery","createSampler","fenceSync","createTransformFeedback","createVertexArray");for(var i=0;i<r.length;++i){var o=r[i];d[o]=function(e){return function(){if(n(),m)return null;var r=e.apply(t,arguments);return r.__webglDebugContextLostId__=_,v.push(r),r}}(t[o])}var u=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"];f&&u.push("getInternalformatParameter","getQuery","getQueryParameter","getSamplerParameter","getSyncParameter","getTransformFeedbackVarying","getIndexedParameter","getUniformIndices","getActiveUniforms","getActiveUniformBlockParameter","getActiveUniformBlockName");for(var i=0;i<u.length;++i){var o=u[i];d[o]=function(e){return function(){return n(),m?null:e.apply(t,arguments)}}(d[o])}var h=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"];f&&h.push("isQuery","isSampler","isSync","isTransformFeedback","isVertexArray");for(var i=0;i<h.length;++i){var o=h[i];d[o]=function(e){return function(){return n(),!m&&e.apply(t,arguments)}}(d[o])}return d.checkFramebufferStatus=function(e){return function(){return n(),m?d.FRAMEBUFFER_UNSUPPORTED:e.apply(t,arguments)}}(d.checkFramebufferStatus),d.getAttribLocation=function(e){return function(){return n(),m?-1:e.apply(t,arguments)}}(d.getAttribLocation),d.getVertexAttribOffset=function(e){return function(){return n(),m?0:e.apply(t,arguments)}}(d.getVertexAttribOffset),d.isContextLost=function(){return m},f&&(d.getFragDataLocation=function(e){return function(){return n(),m?-1:e.apply(t,arguments)}}(d.getFragDataLocation),d.clientWaitSync=function(e){return function(){return n(),m?d.WAIT_FAILED:e.apply(t,arguments)}}(d.clientWaitSync),d.getUniformBlockIndex=function(e){return function(){return n(),m?d.INVALID_INDEX:e.apply(t,arguments)}}(d.getUniformBlockIndex)),d}var l,d,f,p=[],g=[],d={},_=1,m=!1,v=[],b=0,x=0,y=!1,S=0,T={};t.getContext=function(e){return function(){var r=e.apply(t,arguments);if(r instanceof WebGLRenderingContext||window.WebGL2RenderingContext&&r instanceof WebGL2RenderingContext){if(r!=l){if(l)throw"got different context";f=window.WebGL2RenderingContext&&r instanceof WebGL2RenderingContext,l=r,d=c(l)}return d}return r}}(t.getContext);var M=function(t){p.push(e(t))},A=function(t){g.push(e(t))};return r(t),t.loseContext=function(){if(!m){for(m=!0,b=0,++_;l.getError(););i(),T[l.CONTEXT_LOST_WEBGL]=!0;var e=h("context lost"),r=p.slice();setTimeout(function(){for(var i=0;i<r.length;++i)r[i](e);S>=0&&setTimeout(function(){t.restoreContext()},S)},0)}},t.restoreContext=function(){m&&g.length&&setTimeout(function(){if(!y)throw"can not restore. webglcontestlost listener did not call event.preventDefault";o(),u(l),m=!1,x=0,y=!1;for(var t=g.slice(),e=h("context restored"),r=0;r<t.length;++r)t[r](e)},0)},t.loseContextInNCalls=function(t){if(m)throw"You can not ask a lost contet to be lost";b=x+t},t.getNumCalls=function(){return x},t.setRestoreTimeout=function(t){S=t},t}var c=function(t){window.console&&window.console.log&&window.console.log(t)},l=function(t){window.console&&window.console.error?window.console.error(t):c(t)},d={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},bindBuffer:{2:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]}}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}},drawArraysInstancedANGLE:{4:{0:!0}},drawElementsInstancedANGLE:{5:{0:!0,2:!0}},blendEquationEXT:{1:{0:!0}},bufferData:{3:{0:!0,2:!0},4:{0:!0,2:!0},5:{0:!0,2:!0}},bufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},copyBufferSubData:{5:{0:!0,1:!0}},getBufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},blitFramebuffer:{10:{8:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]},9:!0}},framebufferTextureLayer:{5:{0:!0,1:!0}},invalidateFramebuffer:{2:{0:!0}},invalidateSubFramebuffer:{6:{0:!0}},readBuffer:{1:{0:!0}},getInternalformatParameter:{3:{0:!0,1:!0,2:!0}},renderbufferStorageMultisample:{5:{0:!0,2:!0}},texStorage2D:{5:{0:!0,2:!0}},texStorage3D:{6:{0:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0},10:{0:!0,2:!0,6:!0,7:!0}},texImage3D:{10:{0:!0,2:!0,7:!0,8:!0},11:{0:!0,2:!0,7:!0,8:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0},10:{0:!0,6:!0,7:!0}},texSubImage3D:{11:{0:!0,8:!0,9:!0},12:{0:!0,8:!0,9:!0}},copyTexSubImage3D:{9:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0},8:{0:!0,2:!0},9:{0:!0,2:!0}},compressedTexImage3D:{8:{0:!0,2:!0},9:{0:!0,2:!0},10:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0},9:{0:!0,6:!0},10:{0:!0,6:!0}},compressedTexSubImage3D:{10:{0:!0,8:!0},11:{0:!0,8:!0},12:{0:!0,8:!0}},vertexAttribIPointer:{5:{2:!0}},drawArraysInstanced:{4:{0:!0}},drawElementsInstanced:{5:{0:!0,2:!0}},drawRangeElements:{6:{0:!0,4:!0}},readPixels:{7:{4:!0,5:!0},8:{4:!0,5:!0}},clearBufferfv:{3:{0:!0},4:{0:!0}},clearBufferiv:{3:{0:!0},4:{0:!0}},clearBufferuiv:{3:{0:!0},4:{0:!0}},clearBufferfi:{4:{0:!0}},beginQuery:{2:{0:!0}},endQuery:{1:{0:!0}},getQuery:{2:{0:!0,1:!0}},getQueryParameter:{2:{1:!0}},samplerParameteri:{3:{1:!0,2:!0}},samplerParameterf:{3:{1:!0}},getSamplerParameter:{2:{1:!0}},fenceSync:{2:{0:!0,1:{enumBitwiseOr:[]}}},clientWaitSync:{3:{1:{enumBitwiseOr:["SYNC_FLUSH_COMMANDS_BIT"]}}},waitSync:{3:{1:{enumBitwiseOr:[]}}},getSyncParameter:{2:{1:!0}},bindTransformFeedback:{2:{0:!0}},beginTransformFeedback:{1:{0:!0}},transformFeedbackVaryings:{3:{2:!0}},bindBufferBase:{3:{0:!0}},bindBufferRange:{5:{0:!0}},getIndexedParameter:{2:{0:!0}},getActiveUniforms:{3:{2:!0}},getActiveUniformBlockParameter:{3:{2:!0}}},f=null,p=null;return{init:t,mightBeEnum:r,glEnumToString:i,glFunctionArgToString:n,glFunctionArgsToString:a,makeDebugContext:o,makeLostContextSimulatingCanvas:h,resetToInitialState:u}}());t.exports=i},function(t,e,r){"use strict";var i=r(230),n=r(188),a=r(187),s=r(231),o=r(232),u=r(233),h=r(237),c=r(234),l=r(239),d=r(235),f=r(236),p=r(238),g=r(240),_={};_.ShadowCastAttribute=i,_.ShadowCastCompiler=n,_.ShadowReceiveAttribute=c,_.ShadowCasterVisitor=s,_.ShadowFrustumIntersection=o,_.ShadowMap=u,_.ShadowMapAtlas=h,_.ShadowedScene=g,_.ShadowSettings=l,_.ShadowCastShaderGenerator=a,_.ShadowTechnique=d,_.ShadowTexture=f,_.ShadowTextureAtlas=p,t.exports=_},function(t,e,r){"use strict";var i=r(7),n=r(22),a=function(t,e){n.call(this),this._enable=!t,this._shadowReceiveAttribute=e};a.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"ShadowCast",cloneType:function(){return new a(!0)},setReceiveAttribute:function(t){this._shadowReceiveAttribute=t},getReceiveAttribute:function(){return this._shadowReceiveAttribute},getDefines:function(){if(this._shadowReceiveAttribute)return this._shadowReceiveAttribute.getDefines()},getHash:function(){return"ShadowCast"+this._enable+this._shadowReceiveAttribute.getPrecision()},isEnabled:function(){return this._enable}}),"osgShadow","ShadowCastAttribute"),i.setTypeID(a),t.exports=a},function(t,e,r){"use strict";var i=r(43),n=r(44),a=r(77),s=r(87),o=r(55),u=r(23),h=r(7),c=function(t){u.call(this),this._noCastMask=t,this._nodeList=[]};c.prototype=h.objectLibraryClass(h.objectInherit(u.prototype,{reset:function(){this._nodeList=[]},removeNodeFromCasting:function(t){var e=t.getNodeMask();e===-1?(e=this._noCastMask,t.setNodeMask(e),this._nodeList.push(t)):0!==(e&~this._noCastMask)&&(t.setNodeMask(e|this._noCastMask),this._nodeList.push(t))},apply:function(t){var e=t.getStateSet();if(e){var r=e.getAttribute("BlendFunc");if(void 0!==r&&r.getSource()!==i.DISABLE){var u=e.getAttribute("Depth");if(u&&(u.getFunc()===a.DISABLE||u.getWriteMask()===!1))return void this.removeNodeFromCasting(t)}}return t.getTypeID()===s.typeID||t.getTypeID()===o.typeID?void this.removeNodeFromCasting(t):t.getTypeID()===n.typeID&&t.isRenderToTextureCamera()?void this.removeNodeFromCasting(t):void this.traverse(t)},setNoCastMask:function(t){this._noCastMask=t},restore:function(){for(var t=0,e=this._nodeList.length;t<e;t++){var r=this._nodeList[t],i=r.getNodeMask();i===this._noCastMask?r.setNodeMask(-1):r.setNodeMask(i&~this._noCastMask)}}}),"osgShadow","ShadowCasterVisitor"),h.setTypeID(c),t.exports=c},function(t,e,r){"use strict";var i=r(15),n=r(20),a=r(44),s=r(28),o=r(87),u=r(16).mat4,h=r(24),c=r(53),l=r(23),d=r(50),f=r(7),p=function(){l.call(this,l.TRAVERSE_ALL_CHILDREN),this._matrixStack=[u.create()],this._reservedMatrixStack=new h,this._bb=new i,this._bs=new n};p.prototype=f.objectInherit(l.prototype,{reset:function(t,e,r,i,n){this.setTraversalMask(t),this._cameraFrustum=r,this._lightFrustum=n,this.getCameraPlaneMaskForLightNear(e,r,i?6:4),this._reservedMatrixStack.reset(),this._matrixStack.length=1,this._bb.init()},getBoundingBox:function(){return this._bb},getCameraPlaneMaskForLightNear:function(t,e,r){var i,n=1,a=15;for(i=0;i<r;++i)a=a<<1|1;var s=e.getPlanes();for(i=0;i<r;++i)d.distanceToPlane(s[i],t)<0&&(a^=n),n<<=1;return this._cameraPlaneMaskedByLightNear=a,e.setResultMask(a),e.pushCurrentMask(a),a},applyTransform:function(t){var e=this._reservedMatrixStack.get(),r=this._matrixStack.length;u.copy(e,this._matrixStack[r-1]),t.computeLocalToWorldMatrix(e,this);var i=this._bs;t.getBound().transformMat4(this._bs,e),(0===this._cameraFrustum.getCurrentMask()||this._cameraFrustum.containsBoundingSphere(i))&&(0===this._lightFrustum.getCurrentMask()||this._lightFrustum.containsBoundingSphere(i))&&(this._cameraFrustum.pushCurrentMask(),this._lightFrustum.pushCurrentMask(),this.pushMatrix(e),this.traverse(t),this._cameraFrustum.popCurrentMask(),this._lightFrustum.popCurrentMask(),this.popMatrix())},applyBoundingBox:function(){var t=new i;return function(e){var r=this._matrixStack.length,i=this._matrixStack[r-1];u.exactEquals(i,u.IDENTITY)?this._bb.expandByBoundingBox(e):e.valid()&&(e.transformMat4(t,i),this._bb.expandByBoundingBox(t))}}(),apply:function(t){var e=t.getTypeID();if(t instanceof c)return void this.applyTransform(t);if(e===s.getTypeID()){var r=this._bs,i=this._matrixStack[this._matrixStack.length-1];if(t.getBound().transformMat4(r,i),0!==this._cameraFrustum.getCurrentMask()&&!this._cameraFrustum.containsBoundingSphere(r))return;if(0!==this._lightFrustum.getCurrentMask()&&!this._lightFrustum.containsBoundingSphere(r))return;return void this.applyBoundingBox(t.getBoundingBox())}e===a.getTypeID()||e===o.getTypeID(),this.traverse(t)},pushMatrix:function(t){this._matrixStack.push(t)},popMatrix:function(){this._matrixStack.pop()}}),t.exports=p},function(t,e,r){"use strict";var i=r(44),n=r(52),a=r(43),s=r(77),o=r(59),u=r(16).mat4,h=r(53),c=r(11),l=r(111),d=r(22),f=r(21),p=r(178),g=r(32),_=r(12),m=r(33),v=r(7),b=r(38),x=r(16).vec3,y=r(16).vec4,S=r(117),T=r(29),M=r(234),A=r(230),w=r(235),C=r(236),E=function(t){this._shadowTechnique=t};E.prototype={cull:function(t,e){this._shadowTechnique.getShadowedScene().nodeTraverse(e);var r=e.getCurrentCullingSet(),i=e.getCurrentProjectionMatrix(),n=e.getComputedNear(),a=e.getComputedFar();return u.getFrustumPlanes(r.getFrustum().getPlanes(),i,e.getCurrentModelViewMatrix(),!1),r.getFrustum().setupMask(6),this._shadowTechnique.setLightFrustum(r.getFrustum(),n,a),!1}};var R=function(t,e){w.call(this),this._projectionMatrix=u.create(),this._viewMatrix=u.create(),this._lightNumberArrayIndex=-1,this._lightUp=x.fromValues(0,0,1),this._light=t.light,this._cameraShadow=new i,this._cameraShadow.setCullCallback(new E(this)),
this._cameraShadow.setRenderOrder(i.PRE_RENDER,0),this._cameraShadow.setReferenceFrame(_.ABSOLUTE_RF),this._cameraShadow.setClearColor(y.fromValues(1,1,1,1)),e?this._texture=e:(this._texture=new C,this._textureUnitBase=4,this._textureUnit=this._textureUnitBase,this._textureMagFilter=void 0,this._textureMinFilter=void 0),this._textureSize=256;var r=m.createFloat2("RenderSize");this._texelSizeUniform=m.createFloat1(1/this._textureSize,"texelSize"),this._renderSize=r.getInternalArray(),this._renderSize[0]=this._renderSize[1]=this._textureSize,this._receivingStateset=void 0,this._casterStateSet=new f,this._casterStateSet.addUniform(m.createFloat1(0,"exponent0")),this._casterStateSet.addUniform(m.createFloat1(0,"exponent1")),this._casterStateSet.addUniform(m.createFloat1(.005,"bias")),this._casterStateSet.addUniform(this._texelSizeUniform),this._casterStateSet.addUniform(r),this._casterStateSet.setAttributeAndModes(new s(s.LESS),d.ON|d.OVERRIDE),this._casterStateSet.setAttributeAndModes(new a,d.ON|d.OVERRIDE),this._shadowReceiveAttribute=new M(this._light.getLightNumber()),this._casterStateSet.setAttributeAndModes(this._shadowReceiveAttribute,d.ON|d.OVERRIDE),this._shadowCastShaderGeneratorName="ShadowCast";var n=.001,o=1e3,h=m.createFloat4("uShadowDepthRange");this._casterStateSet.addUniform(h),this._depthRange=h.getInternalArray(),this._depthRange[0]=n,this._depthRange[1]=o,this._depthRange[2]=o-n,this._depthRange[3]=1/(o-n),this._worldLightPos=y.create(),this._worldLightPos[3]=0,this._worldLightDir=y.create(),this._worldLightDir[3]=1,this._castsShadowDrawTraversalMask=4294967295,this._castsShadowBoundsTraversalMask=4294967295,this._shaderProcessor=void 0,this._tmpVec=x.create(),this._tmpVecBis=x.create(),this._tmpVecTercio=x.create(),this._tmpMatrix=u.create(),t&&this.setShadowSettings(t),this._infiniteFrustum=!0;var c=new A(!1,this._shadowReceiveAttribute);this._casterStateSet.setAttributeAndModes(c,d.ON|d.OVERRIDE),this._casterStateSet.setShaderGeneratorName(this._shadowCastShaderGeneratorName,d.OVERRIDE|d.ON),this._debug=!1};R.prototype=v.objectLibraryClass(v.objectInherit(w.prototype,{getDepthRange:function(){return this._depthRange},setLightFrustum:function(t,e,r){this._lightFrustum=t,this._depthRange[0]=e,this._depthRange[1]=r,this.nearFarBounding(),this._debug&&(this._debugGeomFrustum.updateGeometry(this._projectionMatrix,this._depthRange),u.invert(this._debugNodeFrustum.getMatrix(),this._viewMatrix))},getCamera:function(){return this._cameraShadow},getTexture:function(){return this._texture},isDirty:function(){return this._dirty},setTextureUnitBase:function(t){this._textureUnitBase=t,this._textureUnit=t},setShadowSettings:function(t){t&&(this._light=t.light,this._shadowCastShaderGeneratorName=t.getShadowCastShaderGeneratorName(),this.setCastsShadowDrawTraversalMask(t.castsShadowDrawTraversalMask),this.setCastsShadowBoundsTraversalMask(t.castsShadowBoundsTraversalMask),this.setLight(this._light),this.setTextureSize(t.textureSize),this.setTexturePrecision(t.textureType),this.setKernelSizePCF(t.kernelSizePCF),this.setBias(t.bias),this.setNormalBias(t.normalBias))},setCastsShadowDrawTraversalMask:function(t){this._castsShadowDrawTraversalMask=t},getCastsShadowDrawTraversalMask:function(){return this._castsDrawShadowTraversalMask},setCastsShadowBoundsTraversalMask:function(t){this._castsShadowBoundsTraversalMask=t},getCastsShadowBoundsTraversalMask:function(){return this._castsShadowBoundsTraversalMask},getNormalBias:function(){return this._shadowReceiveAttribute.getNormalBias()},setNormalBias:function(t){this._shadowReceiveAttribute.setNormalBias(t)},getBias:function(){return this._shadowReceiveAttribute.getBias()},setBias:function(t){this._shadowReceiveAttribute.setBias(t),this._casterStateSet.getUniformList().bias.getUniform().setFloat(t)},getKernelSizePCF:function(){return this._shadowReceiveAttribute.getKernelSizePCF()},setKernelSizePCF:function(t){this._shadowReceiveAttribute.setKernelSizePCF(t)},setShadowedScene:function(t){w.prototype.setShadowedScene.call(this,t),this._receivingStateset=this._shadowedScene.getReceivingStateSet(),this.dirty()},checkLightNumber:function(){var t=this._light.getLightNumber();this._shadowReceiveAttribute.getLightNumber()!==t&&this._receivingStateset.getAttribute(this._shadowReceiveAttribute.getTypeMember())===this._shadowReceiveAttribute&&this._receivingStateset.removeAttribute(this._shadowReceiveAttribute.getTypeMember()),c.assert(this._shadowReceiveAttribute.getTypeMember()===this._shadowReceiveAttribute.attributeType+t,"TypeMember isnt reflecting light number"+this._shadowReceiveAttribute.getTypeMember()+" !== "+this._shadowReceiveAttribute.attributeType+t),this._texture&&!this._texture.hasLightNumber(t)&&this._receivingStateset.getTextureAttribute(this._textureUnit,this._texture.getTypeMember())===this._texture&&this._receivingStateset.removeTextureAttribute(this._textureUnit,this._texture.getTypeMember())},init:function(t,e,r){if(this._shadowedScene){this._filledOnce=!1,this.checkLightNumber(),this._cameraShadow||(this._cameraShadow=new i,this._cameraShadow.setCullCallback(new E(this)),this._cameraShadow.setRenderOrder(i.PRE_RENDER,0),this._cameraShadow.setReferenceFrame(_.ABSOLUTE_RF),this._cameraShadow.setClearColor(y.fromValues(1,1,1,1)));var n=this._light.getLightNumber();t?(this._texture=t,this._lightNumberArrayIndex=e,this._textureUnit=r,this._shadowReceiveAttribute.setAtlas(!0)):(this.initTexture(),this._textureUnit=this._textureUnitBase+n,this._texture.setLightNumber(n),this._texture.setName("ShadowTexture"+this._textureUnit),this._shadowReceiveAttribute.setAtlas(!1)),this._cameraShadow.setName("light_shadow_camera"+this._light.getName()),this._shadowReceiveAttribute.setLightNumber(n);var a=d.OVERRIDE|d.ON;this._receivingStateset.setAttributeAndModes(this._shadowReceiveAttribute,a),this._preventTextureBindingDuringShadowCasting(),this._casterStateSet.setTextureAttributeAndModes(this._textureUnit,g.textureNull,d.PROTECTED),this._receivingStateset.setTextureAttributeAndModes(this._textureUnit,this._texture,a),this._dirty=!1}},_preventTextureBindingDuringShadowCasting:function(){for(var t=T.instance().getWebGLParameter("MAX_TEXTURE_IMAGE_UNITS"),e=0;e<t;e++)this._casterStateSet.setTextureAttributeAndModes(e,g.textureNull,d.OVERRIDE|d.ON)},valid:function(){return!0},updateShadowTechnique:function(t,e){var r=this._cameraShadow,i=this._texture;if(r&&i){var n=r.getViewport();n||(n=new S,r.setViewport(n)),e?n.x()===e[0]&&n.y()===e[1]&&n.width()===e[2]&&n.height()===e[3]||(r.detachAll(),r.attachTexture(o.COLOR_ATTACHMENT0,i),r.attachRenderBuffer(o.DEPTH_ATTACHMENT,o.DEPTH_COMPONENT16),r.getViewport().setViewport(e[0],e[1],e[2],e[3])):n.width()===i.getWidth()&&n.height()===i.getHeight()||(r.detachAll(),r.attachTexture(o.COLOR_ATTACHMENT0,i),r.attachRenderBuffer(o.DEPTH_ATTACHMENT,o.DEPTH_COMPONENT16),r.getViewport().setViewport(0,0,i.getWidth(),i.getHeight()))}},updateShadowTechnic:function(){c.log("ShadowMap.updateShadowTechnic() is deprecated, use updateShadowTechnique instead"),this.updateShadowTechnique()},setTextureFiltering:function(){var t,e=this.getTexturePrecision();switch(e){case"HALF_FLOAT":t=g.HALF_FLOAT;break;case"FLOAT":t=g.FLOAT;break;default:case"UNSIGNED_BYTE":t=g.UNSIGNED_BYTE}this._texture.setInternalFormatType(t),this._texture.setMinFilter(g.NEAREST),this._texture.setMagFilter(g.NEAREST),this._textureMagFilter=g.NEAREST,this._textureMinFilter=g.NEAREST},initTexture:function(){if(this._dirty){this._texture||(this._texture=new C,this._textureUnit=this._textureUnitBase),this._texture.setTextureSize(this._textureSize,this._textureSize),this._texelSizeUniform.setFloat(1/this._textureSize),this._renderSize[0]=this._textureSize,this._renderSize[1]=this._textureSize;var t;t=g.RGBA,this.setTextureFiltering(),this._texture.setInternalFormat(t),this._texture.setWrapS(g.CLAMP_TO_EDGE),this._texture.setWrapT(g.CLAMP_TO_EDGE),this._texture.dirty()}},setTexturePrecision:function(t){t!==this._shadowReceiveAttribute.getPrecision()&&(this._shadowReceiveAttribute.setPrecision(t),this.dirty())},getTexturePrecision:function(){return this._shadowReceiveAttribute.getPrecision()},setTextureSize:function(t){t!==this._textureSize&&(this._textureSize=t,this.dirty())},getCasterStateSet:function(){return this._casterStateSet},setLight:function(t){t&&t!==this._light&&(this._light=t,this.dirty())},getUp:function(t){return Math.abs(x.dot(this._lightUp,t))>=1&&(1===this._lightUp[0]?(this._lightUp[0]=0,this._lightUp[1]=1,this._lightUp[2]=0):(this._lightUp[0]=1,this._lightUp[1]=0,this._lightUp[2]=0)),this._lightUp},nearFarBounding:function(){var t=this._depthRange[0],e=this._depthRange[1],r=R.EPSILON;e<t-r?(this._emptyCasterScene=!0,e=1,t=r):t<r&&(t=r),this._depthRange[0]=t,this._depthRange[1]=e},makePerspectiveFromBoundingBox:function(t,e,r,i,n,a){var s=t.center(this._tmpVec),o=t.radius(),h=R.EPSILON,c=h,l=1;this._radius=o;var d=x.distance(s,r);d<-o?this._emptyCasterScene=!0:d<=0?(c=h,l=d+o):d<o?(c=h,l=d+o):(c=d-o,l=d+o),this._depthRange[0]=c,this._depthRange[1]=l,this.nearFarBounding();var f=this._depthRange[0]*Math.tan(e*Math.PI/180);f=f>o?o:f;var p=f,g=-p,_=f,m=-_,v=this.getUp(i);this._infiniteFrustum?u.infiniteFrustum(a,m,_,g,p,this._depthRange[0]):u.frustum(a,m,_,g,p,this._depthRange[0],this._depthRange[1]),u.lookAtDirection(n,r,i,v)},makeOrthoFromBoundingBox:function(t,e,r,i){var n=t.center(this._tmpVecTercio),a=t.radius(),s=a+a,o=1e-4,h=s+1e-4,c=this._tmpVec;x.scaleAndAdd(c,n,e,-s),o=a,h+=a;var l=.001;o<h*l&&(o=h*l);var d=this.getUp(e);u.lookAtDirection(r,c,e,d);var f,p;p=a,f=p,u.ortho(i,-f,f,-p,p,o,h),this._depthRange[0]=o,this._depthRange[1]=h},aimShadowCastingCamera:function(t,e){var r=this._light;if(!r)return void(this._emptyCasterScene=!0);var i=this._cameraShadow,n=this._worldLightPos,a=this._worldLightDir;u.copy(this._projectionMatrix,i.getProjectionMatrix()),u.copy(this._viewMatrix,i.getViewMatrix());var s,o=this._projectionMatrix,h=this._viewMatrix,l=t.getCurrentRenderBin().getPositionedAttribute();if(l=l.find(function(t){return t.length>0&&t[1]===r&&(s=t[0],!0)}),void 0===s)return c.warn("light isnt inside children of shadowedScene Node"),void(this._emptyCasterScene=!0);var d=this._tmpMatrix;if(u.invert(d,t.getCurrentModelViewMatrix()),this._light.isDirectionLight())y.transformMat4(n,r.getPosition(),s),y.transformMat4(n,n,d),x.scale(n,n,-1),x.normalize(n,n),this.makeOrthoFromBoundingBox(e,n,h,o),this._debug&&u.invert(this._debugNodeFrustum.getMatrix(),h);else{u.mul(this._tmpMatrix,d,s);var f=this._tmpMatrix;x.transformMat4(n,r.getPosition(),f),f[12]=0,f[13]=0,f[14]=0,u.invert(f,f),u.transpose(f,f),x.copy(a,r.getDirection()),y.transformMat4(a,a,f),x.normalize(a,a),this.makePerspectiveFromBoundingBox(e,r.getSpotCutoff(),n,a,h,o)}u.copy(i.getProjectionMatrix(),this._projectionMatrix),u.copy(i.getViewMatrix(),this._viewMatrix),this.setShadowUniformsDepthValue()},frameShadowCastingFrustum:function(t){this._infiniteFrustum||n.prototype.clampProjectionMatrix(this._projectionMatrix,this._depthRange[0],this._depthRange[1],t.getNearFarRatio(),this._depthRange),this.setShadowUniformsDepthValue();var e=this._cameraShadow;u.copy(e.getProjectionMatrix(),this._projectionMatrix),u.copy(e.getViewMatrix(),this._viewMatrix)},setShadowUniformsDepthValue:function(){this._depthRange[2]=this._depthRange[1]-this._depthRange[0],this._depthRange[3]=1/this._depthRange[2],this._lightNumberArrayIndex!==-1?(this._texture.setViewMatrix(this._lightNumberArrayIndex,this._viewMatrix),this._texture.setProjectionMatrix(this._lightNumberArrayIndex,this._projectionMatrix),this._texture.setDepthRange(this._lightNumberArrayIndex,this._depthRange)):(this._texture.setViewMatrix(this._viewMatrix),this._texture.setProjectionMatrix(this._projectionMatrix),this._texture.setDepthRange(this._depthRange))},noDraw:function(){this._depthRange[0]=0,this._depthRange[1]=0,this._depthRange[2]=0,this._depthRange[3]=0;var t=this._casterStateSet.getUniformList();t.uShadowDepthRange.getUniform().setVec4(this._depthRange),this._texture.setDepthRange(this._depthRange);var e=this._cameraShadow;u.copy(this._projectionMatrix,e.getProjectionMatrix()),u.copy(this._viewMatrix,e.getViewMatrix()),this._lightNumberArrayIndex!==-1?(this._texture.setViewMatrix(this._lightNumberArrayIndex,this._viewMatrix),this._texture.setProjectionMatrix(this._lightNumberArrayIndex,this._projectionMatrix)):(this._texture.setViewMatrix(this._viewMatrix),this._texture.setProjectionMatrix(this._projectionMatrix)),this._filledOnce=!0},cullShadowCasting:function(t,e){if(this._debug){var r=e.getMin(),i=e.getMax();e.center(this._tmpVec);var n=this._debugNodeSceneCast.getMatrix();u.fromScaling(n,[i[0]-r[0],i[1]-r[1],i[2]-r[2],1]),u.setTranslation(n,this._tmpVec)}if(this._emptyCasterScene=!1,this.aimShadowCastingCamera(t,e),this._emptyCasterScene)return void this.noDraw();var a=t.getTraversalMask();t.setTraversalMask(this._castsShadowDrawTraversalMask),t.pushStateSet(this._casterStateSet),this._cameraShadow.setEnableFrustumCulling(!0),this._cameraShadow.setComputeNearFar(!0),this._debug&&this._debugNode.accept(t),this._cameraShadow.accept(t),this.nearFarBounding(),this.frameShadowCastingFrustum(t),this._cameraShadow.setComputeNearFar(!1),t.popStateSet(),t.setTraversalMask(a),this._filledOnce=!0},cleanReceivingStateSet:function(){this._receivingStateset&&(this._texture&&this._receivingStateset.getTextureAttribute(this._textureUnit,this._texture.getTypeMember())===this._texture&&this._receivingStateset.removeTextureAttribute(this._textureUnit,this._texture.getTypeMember()),this._receivingStateset.getAttribute(this._shadowReceiveAttribute.getTypeMember())===this._shadowReceiveAttribute&&this._receivingStateset.removeAttribute(this._shadowReceiveAttribute.getTypeMember()))},cleanSceneGraph:function(){this._cameraShadow=void 0,this._filledOnce=!1,this.cleanReceivingStateSet(),this._texture=void 0,this._shadowedScene=void 0},setDebug:function(t){t&&!this._debug&&(this._debugNode||(this._debugGeomFrustum=p.createDebugFrustumGeometry(),this._debugGeomSceneCast=l.createBoundingBoxGeometry(),this._debugGeomSceneCast.getPrimitives()[0].mode=b.LINES,this._debugNode=new h,this._debugNodeFrustum=new h,this._debugNodeSceneCast=new h,this._debugNodeFrustum.addChild(this._debugGeomFrustum),this._debugNodeSceneCast.addChild(this._debugGeomSceneCast),this._debugNode.addChild(this._debugNodeFrustum),this._debugNode.addChild(this._debugNodeSceneCast))),this._debug=t},getDebug:function(){return this._debug}}),"osgShadow","ShadowMap"),R.EPSILON=.005,v.setTypeID(R),t.exports=R},function(t,e,r){"use strict";var i=r(7),n=r(22),a=r(33),s=r(11),o=function(t,e){n.call(this),this._lightNumber=t,this._bias=.001,this._normalBias=void 0,this._precision="UNSIGNED_BYTE",this._kernelSizePCF=void 0,this._fakePCF=!0,this._rotateOffset=!1,this._enable=!e,this._isAtlasTexture=!1};o.uniforms={},o.prototype=i.objectLibraryClass(i.objectInherit(n.prototype,{attributeType:"ShadowReceive",cloneType:function(){return new o(this._lightNumber,!0)},getTypeMember:function(){return this.attributeType+this.getLightNumber()},getLightNumber:function(){return this._lightNumber},getUniformName:function(t){var e=this.getType()+this.getLightNumber().toString();return"u"+e+"_"+t},getAtlas:function(){return this._isAtlasTexture},setAtlas:function(t){this._isAtlasTexture=t},setBias:function(t){this._bias=t},getBias:function(){return this._bias},setNormalBias:function(t){this._normalBias=t},getNormalBias:function(){return this._normalBias},getKernelSizePCF:function(){return this._kernelSizePCF},setKernelSizePCF:function(t){this._kernelSizePCF=t},setPrecision:function(t){this._precision=t},getPrecision:function(){return this._precision},setLightNumber:function(t){this._lightNumber=t},getOrCreateUniforms:function(){var t=o,e=this.getTypeMember();return t.uniforms[e]?t.uniforms[e]:(t.uniforms[e]={bias:a.createFloat(this.getUniformName("bias")),normalBias:a.createFloat(this.getUniformName("normalBias"))},t.uniforms[e])},getExtensions:function(){return["#extension GL_OES_standard_derivatives : enable"]},getDefines:function(){var t=this.getPrecision(),e=[],r=!1;"UNSIGNED_BYTE"!==t&&(r=!0);var i=this.getKernelSizePCF();switch(i){case"4Tap(16texFetch)":e.push("#define _PCFx4");break;case"9Tap(36texFetch)":e.push("#define _PCFx9");break;case"16Tap(64texFetch)":e.push("#define _PCFx25");break;default:case"1Tap(4texFetch)":e.push("#define _PCFx1")}return r&&e.push("#define _FLOATTEX"),this.getAtlas()&&e.push("#define _ATLAS_SHADOW"),this.getNormalBias()&&e.push("#define _NORMAL_OFFSET"),e},apply:function(){if(this._enable){var t=this.getOrCreateUniforms();t.normalBias.setFloat(this._normalBias),t.bias.setFloat(this._bias)}},isEnabled:function(){return this._enable},isEnable:function(){return s.log("ShadowAttribute.isEnable() is deprecated, use isEnabled() instead"),this.isEnabled()},getHash:function(){return this.getTypeMember()+"_"+this.getKernelSizePCF()}}),"osgShadow","ShadowReceiveAttribute"),i.setTypeID(o),t.exports=o},function(t,e,r){"use strict";var i=r(11),n=r(14),a=r(7),s=function(){n.call(this),this._shadowedScene=void 0,this._dirty=!1,this._enabled=!0,this._filledOnce=!1};s.prototype=a.objectLibraryClass(a.objectInherit(n.prototype,{dirty:function(){this._dirty=!0},getShadowedScene:function(){return this._shadowedScene},setEnabled:function(t){this._enabled=t},isEnabled:function(){return this._enabled},isFilledOnce:function(){return this._filledOnce},requestRedraw:function(){this._filledOnce=!1},setShadowedScene:function(t){this._shadowedScene=t},init:function(){i.log("No ShadowTechnique activated: normal rendering activated")},valid:function(){return!1},updateShadowTechnique:function(){},cullShadowCasting:function(){},cleanSceneGraph:function(){i.log("No ShadowTechnique activated: normal rendering activated")}}),"osgShadow","ShadowTechnique"),a.setTypeID(s),t.exports=s},function(t,e,r){"use strict";var i=r(11),n=r(32),a=r(33),s=r(7),o=r(16).vec4,u=function(){n.call(this),this._uniforms={},this._mapSize=o.create(),this._renderSize=o.create(),this._lightNumber=-1};u.uniforms={},u.prototype=s.objectLibraryClass(s.objectInherit(n.prototype,{cloneType:function(){return new u},hasLightNumber:function(t){return this._lightNumber===t},setLightNumber:function(t){this._lightNumber=t},getLightNumber:function(){return this._lightNumber},getUniformName:function(t){var e="Shadow_"+this.getType()+this._lightNumber.toString();return"u"+e+"_"+t},getOrCreateUniforms:function(t){var e=u;if(i.assert(void 0!==t),i.assert(this._lightNumber!==-1),void 0!==e.uniforms[t])return e.uniforms[t];var r=e.uniforms[t]={ViewMatrix:a.createMat4(this.getUniformName("viewMatrix")),ProjectionMatrix:a.createMat4(this.getUniformName("projectionMatrix")),DepthRange:a.createFloat4(this.getUniformName("depthRange")),MapSize:a.createFloat4(this.getUniformName("mapSize")),RenderSize:a.createFloat4(this.getUniformName("renderSize"))},n="Texture"+t,s=a.createInt1(t,n);return r[n]=s,e.uniforms[t]},setViewMatrix:function(t){this._viewMatrix=t},setProjectionMatrix:function(t){this._projectionMatrix=t},setDepthRange:function(t){this._depthRange=t},setTextureSize:function(t,e){n.prototype.setTextureSize.call(this,t,e),this.dirty(),this._mapSize[0]=t,this._mapSize[1]=e,this._mapSize[2]=1/t,this._mapSize[3]=1/e,this._renderSize[0]=t,this._renderSize[1]=e,this._renderSize[2]=1/t,this._renderSize[3]=1/e},apply:function(t,e){if(n.prototype.apply.call(this,t,e),this._lightNumber!==-1){var r=this.getOrCreateUniforms(e);r.ViewMatrix.setMatrix4(this._viewMatrix),r.ProjectionMatrix.setMatrix4(this._projectionMatrix),r.DepthRange.setFloat4(this._depthRange),r.MapSize.setFloat4(this._mapSize),r.RenderSize.setFloat4(this._renderSize)}},getHash:function(){return this.getTypeMember()+"_"+this._lightNumber+"_"+this._type}}),"osgShadow","ShadowTexture"),s.setTypeID(u),t.exports=u},function(t,e,r){"use strict";var i=r(11),n=r(22),a=r(32),s=r(33),o=r(7),u=r(118),h=r(16).vec4,c=r(235),l=r(238),d=r(233),f=function(t){this._lights=[],this._shadowMaps=[],this._viewportDimension=[],c.apply(this,arguments),this._shadowSettings=t,this._texture=new l,this._textureUnitBase=4,this._textureUnit=this._textureUnitBase,this._textureMagFilter=void 0,this._textureMinFilter=void 0,this._textureSize=1024,this._shadowMapSize=256,this._receivingStateset=void 0,this._shaderProcessor=void 0,t&&(this.setShadowSettings(t),t.atlasSize&&(this._textureSize=t.atlasSize),t.textureSize&&(this._shadowMapSize=t.textureSize)),this._texelSizeUniform=s.createFloat1(1/this._textureSize,"texelSize");var e=s.createFloat2("RenderSize");this._renderSize=e.getInternalArray(),this._renderSize[0]=this._renderSize[1]=this._textureSize,this._numShadowWidth=this._textureSize/this._shadowMapSize,this._numShadowHeight=this._textureSize/this._shadowMapSize};f.prototype=o.objectLibraryClass(o.objectInherit(c.prototype,{getTexture:function(){return this._texture},isDirty:function(t){if(void 0!==t)return this._shadowMaps[t].isDirty();for(var e=0,r=this._shadowMaps.length;e<r;e++)if(this._shadowMaps[e].isDirty())return!0;return!1},setTextureUnitBase:function(t){this._textureUnitBase=t,this._textureUnit=t;for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setTextureUnitBase(t)},setShadowSettings:function(t){if(t){this._shadowSettings=t;for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setShadowSettings(t);this.setTextureSize(t.textureSize),this.setTexturePrecision(t.textureType)}},setCastsShadowDrawTraversalMask:function(t){for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setCastsShadowDrawTraversalMask(t)},getCastsShadowDrawTraversalMask:function(t){return void 0!==t?this._shadowMaps[t].getCastsShadowDrawTraversalMask():0!==this._shadowMaps.length?this._shadowMaps[0].getCastsShadowDrawTraversalMask():void 0},setCastsShadowBoundsTraversalMask:function(t){for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setCastsShadowBoundsTraversalMask(t)},getCastsShadowBoundsTraversalMask:function(t){return void 0!==t?this._shadowMaps[t].getCastsShadowDrawTraversalMask():0!==this._shadowMaps.length?this._shadowMaps[0].getCastsShadowDrawTraversalMask():void 0},getNormalBias:function(t){return void 0!==t?this._shadowMaps[t].getNormalBias():0!==this._shadowMaps.length?this._shadowMaps[0].getNormalBias():void 0},setNormalBias:function(t){for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setNormalBias(t)},getBias:function(t){return void 0!==t?this._shadowMaps[t].getBias():0!==this._shadowMaps.length?this._shadowMaps[0].getBias():void 0},setBias:function(t){for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setBias(t)},getKernelSizePCF:function(t){return void 0!==t?this._shadowMaps[t].getKernelSizePCF():1!==this._shadowMaps.length?this._shadowMaps[0].getKernelSizePCF():void 0},setKernelSizePCF:function(t){for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setKernelSizePCF(t)},setShadowedScene:function(t){c.prototype.setShadowedScene.call(this,t),this._receivingStateset=this._shadowedScene.getReceivingStateSet();for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setShadowedScene(t)},setTexturePrecision:function(t){for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].setTexturePrecision(t)},getTexturePrecision:function(t){return void 0!==t?this._shadowMaps[t].getTexturePrecision():1!==this._shadowMaps.length?this._shadowMaps[0].getTexturePrecision():void 0},setTextureSize:function(t){t!==this._textureSize&&(this._shadowMapSize=t,this._numShadowWidth=this._textureSize/this._shadowMapSize,this._numShadowHeight=this._textureSize/this._shadowMapSize,this.dirty())},getShadowMap:function(t){return this._shadowMaps[t]},addLight:function(t){if(!t||this._lights.indexOf(t)!==-1)return i.warn("no light or light already added"),-1;var e=this._lights.length;if(e===this._numShadowWidth*this._numShadowHeight)return void i.warn("can't allocate shadow for light "+t.getLightNumber()+" ShadowAtlas already full ");this._lights.push(t),this._shadowSettings.setLight(t);var r=new d(this._shadowSettings,this._texture);this._shadowMaps.push(r);var n=this._shadowMapSize,a=n*(e%this._numShadowWidth),s=n*Math.floor(e/this._numShadowHeight);return r.setShadowedScene(this._shadowedScene),this._viewportDimension.push(h.fromValues(s,a,n,n)),r},init:function(){if(this._shadowedScene){this.initTexture();for(var t=[],e=0;e<this._lights.length;e++)t.push(this._lights[e].getLightNumber());this._texture.setLightNumberArray(t),this._textureUnit=this._textureUnitBase,this._texture.setName("ShadowTexture"+this._textureUnit),this._numShadowWidth=this._textureSize/this._shadowMapSize,this._numShadowHeight=this._textureSize/this._shadowMapSize;var r=s.createFloat2("RenderSize");this._texelSizeUniform=s.createFloat1(1/this._textureSize,"texelSize"),this._renderSize=r.getInternalArray(),this._renderSize[0]=this._renderSize[1]=this._textureSize;for(var i=0,a=this._shadowMaps.length;i<a;i++){var o=this._shadowMapSize,c=o*(i%this._numShadowWidth),l=o*Math.floor(i/this._numShadowHeight);this._viewportDimension[i]=h.fromValues(l,c,o,o),this._shadowMaps[i].init(this._texture,i,this._textureUnitBase),this._texture.setLightShadowMapSize(i,this._viewportDimension[i]);var d=this._shadowMaps[i].getCamera().getOrCreateStateSet(),f=new u(l,c,o,o);d.setAttributeAndModes(f,n.ON|n.OVERRIDE)}}},valid:function(){return!0},updateShadowTechnique:function(t){for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].updateShadowTechnique(t,this._viewportDimension[e])},initTexture:function(){if(this._dirty){this._texture||(this._texture=new l,this._textureUnit=this._textureUnitBase),this._texture.setTextureSize(this._textureSize,this._textureSize),this._texelSizeUniform.setFloat(1/this._textureSize),this._renderSize[0]=this._textureSize,this._renderSize[1]=this._textureSize;var t;t=a.RGBA,d.prototype.setTextureFiltering.call(this),this._texture.setInternalFormat(t),this._texture.setWrapS(a.CLAMP_TO_EDGE),this._texture.setWrapT(a.CLAMP_TO_EDGE),this._texture.dirty()}},cullShadowCasting:function(t){for(var e=0,r=this._shadowMaps.length;e<r;e++)this._shadowMaps[e].cullShadowCasting(t)},cleanReceivingStateSet:function(){if(this._receivingStateset){this._texture&&this._receivingStateset.getTextureAttribute(this._textureUnit,this._texture.getTypeMember())===this._texture&&this._receivingStateset.removeTextureAttribute(this._textureUnit,this._texture.getTypeMember());for(var t=0,e=this._shadowMaps.length;t<e;t++)this._shadowMaps[t].cleanReceivingStateSet()}},cleanSceneGraph:function(){this._texture=void 0,this._shadowedScene=void 0},setDebug:function(t,e){if(e)this._shadowMaps[e].setDebug(t);else for(var r=0,i=this._shadowMaps.length;r<i;r++)this._shadowMaps[r].setDebug(t)}}),"osgShadow","ShadowMapAtlas"),o.setTypeID(f),t.exports=f},function(t,e,r){"use strict";var i=r(11),n=r(32),a=r(33),s=r(7),o=r(16).vec4,u=function(){n.call(this),this._uniforms={},this._lightNumberArray=[],this._viewMatrices=[],this._projectionMatrices=[],this._depthRanges=[],this._mapSizes=[],this._renderSize=o.create()};u.uniforms={},u.prototype=s.objectLibraryClass(s.objectInherit(n.prototype,{cloneType:function(){return new u},gettLightNumberArray:function(){return this._lightNumberArray},hasLightNumber:function(t){return this._lightNumberArray.indexOf(t)!==-1},setLightNumberArray:function(t){this._lightNumberArray=t;var e=t.length;this._viewMatrices.length=e,this._projectionMatrices.length=e,this._depthRanges.length=e,this._mapSizes.length=e},getUniformName:function(t,e){var r="Shadow_"+this.getType()+t.toString();return"u"+r+"_"+e},getOrCreateUniforms:function(t){var e=u;if(i.assert(void 0!==t||0!==this._lightNumberArray.length),void 0!==e.uniforms[t])return e.uniforms[t];var r=e.uniforms[t]={},n=a.createFloat4(this.getUniformName(0,"renderSize"));r.RenderSize=n;for(var s=0,o=this._lightNumberArray.length;s<o;s++){var h=this._lightNumberArray[s];r["ViewMatrix_"+h]=a.createMat4(this.getUniformName(h,"viewMatrix")),r["ProjectionMatrix_"+h]=a.createMat4(this.getUniformName(h,"projectionMatrix")),r["DepthRange_"+h]=a.createFloat4(this.getUniformName(h,"depthRange")),r["MapSize_"+h]=a.createFloat4(this.getUniformName(h,"mapSize")),r["RenderSize_"+h]=n}var c="Texture"+t,l=a.createInt1(t,c);return r[c]=l,e.uniforms[t]},setViewMatrix:function(t,e){this._viewMatrices[t]=e},setProjectionMatrix:function(t,e){this._projectionMatrices[t]=e},setDepthRange:function(t,e){this._depthRanges[t]=e},setTextureSize:function(t,e){this._renderSize[0]=t,this._renderSize[1]=e,this._renderSize[2]=1/t,this._renderSize[3]=1/e,n.prototype.setTextureSize.call(this,t,e),this.dirty()},setLightShadowMapSize:function(t,e){this._mapSizes[t]=e},apply:function(t,e){if(n.prototype.apply.call(this,t,e),0!==this._lightNumberArray.length){for(var r=this.getOrCreateUniforms(e),i=0,a=this._lightNumberArray.length;i<a;i++){var s=this._lightNumberArray[i];r["ViewMatrix_"+s].setMatrix4(this._viewMatrices[i]),r["ProjectionMatrix_"+s].setMatrix4(this._projectionMatrices[i]),r["DepthRange_"+s].setFloat4(this._depthRanges[i]),r["MapSize_"+s].setFloat4(this._mapSizes[i]),r["RenderSize_"+s].setFloat4(this._renderSize)}r.RenderSize.setFloat4(this._renderSize)}},getHash:function(){for(var t=this.getTypeMember(),e=0,r=this._lightNumberArray.length;e<r;e++)t+="_"+this._lightNumberArray[e];return t+="_"+this._type}}),"osgShadow","ShadowTextureAtlas"),s.setTypeID(u),t.exports=u},function(t,e,r){"use strict";var i=r(7),n=r(32),a=["1Tap(4texFetch)","4Tap(16texFetch)","9Tap(36texFetch)","16Tap(64texFetch)"],s=function(t){this.castsShadowDrawTraversalMask=4294967295,this.castsShadowBoundsTraversalMask=4294967295,this.textureSize=1024,this.textureType="UNSIGNED_BYTE",this.textureFormat=n.RGBA,this.shadowProjection="fov",this.fov=50,this.kernelSizePCF="4Tap(4texFetch)",this.bias=.005,this.normalBias=void 0,this.shadowCastShaderGeneratorName="ShadowCast",i.objectMix(this,t)};s.kernelSizeList=a,s.prototype={setCastsShadowDrawTraversalMask:function(t){this.castsShadowDrawTraversalMask=t},getCastsShadowDrawTraversalMask:function(){return this.castsDrawShadowTraversalMask},setCastsShadowBoundsTraversalMask:function(t){this.castsShadowBoundsTraversalMask=t},getCastsShadowBoundsTraversalMask:function(){return this.castsShadowBoundsTraversalMask},setLight:function(t){this.light=t},getLight:function(){return this.light},setTextureSize:function(t){this.textureSize=t},getTextureSize:function(){return this.textureSize},setTextureType:function(t){this.textureType=t},getTextureType:function(){return this.textureType},setTextureFormat:function(t){this.textureFormat=t},getTextureFormat:function(){return this.textureFormat},setShadowCastShaderGeneratorName:function(t){this.shadowCastShaderGeneratorName=t},getShadowCastShaderGeneratorName:function(){return this.shadowCastShaderGeneratorName}},t.exports=s},function(t,e,r){"use strict";var i=r(52),n=r(16).mat4,a=r(13),s=r(23),o=r(21),u=r(7),h=r(16).vec4,c=r(27),l=r(231),d=function(t){a.call(this),this._shadowTechniques=[],this._optimizedFrustum=!1,this._frustumReceivers=[h.create(),h.create(),h.create(),h.create(),h.create(),h.create()],this._tmpMat=n.create(),this._receivingStateset=new o,this._computeBoundsVisitor=new c,this._castsShadowDrawTraversalMask=4294967295,this._castsShadowBoundsTraversalMask=4294967295,t&&this.setShadowSettings(t)};d.prototype=u.objectLibraryClass(u.objectInherit(a.prototype,{getReceivingStateSet:function(){return this._receivingStateset},getShadowTechniques:function(){return this._shadowTechniques},addShadowTechnique:function(t){this._shadowTechniques.length>0&&this._shadowTechniques.indexOf(t)!==-1||(this._shadowTechniques.push(t),t.valid()&&(t.setShadowedScene(this),t.dirty()))},removeShadowTechnique:function(t){if(this._shadowTechniques.length>0){var e=this._shadowTechniques.indexOf(t);e!==-1&&(this._shadowTechniques[e].valid()&&this._shadowTechniques[e].cleanSceneGraph(),this._shadowTechniques.splice(e,1));
}},cleanSceneGraph:function(){for(var t=0,e=this._shadowTechniques.length;t<e;t++)this._shadowTechniques[t]&&this._shadowTechniques[t].valid()&&this._shadowTechniques[t].cleanSceneGraph()},dirty:function(){for(var t=0;t<this._shadowTechniques.length;t++)this._shadowTechniques[t].dirty()},nodeTraverse:function(t){a.prototype.traverse.call(this,t)},setShadowSettings:function(t){this._settings=t,this.setCastsShadowDrawTraversalMask(t.castsShadowDrawTraversalMask),this.setCastsShadowBoundsTraversalMask(t.castsShadowBoundsTraversalMask),t.userShadowCasterVisitor!==!1&&(this._removeNodesNeverCastingVisitor=t.userShadowCasterVisitor||new l(this._castsShadowTraversalMask))},setCastsShadowDrawTraversalMask:function(t){this._castsShadowDrawTraversalMask=t},getCastsShadowDrawTraversalMask:function(){return this._castsDrawShadowTraversalMask},setCastsShadowBoundsTraversalMask:function(t){this._castsShadowBoundsTraversalMask=t},getCastsShadowBoundsTraversalMask:function(){return this._castsShadowBoundsTraversalMask},computeShadowedSceneBounds:function(){this._removeNodesNeverCastingVisitor&&(this._removeNodesNeverCastingVisitor.setNoCastMask(~(this._castsShadowBoundsTraversalMask|this._castsShadowDrawTraversalMask)),this._removeNodesNeverCastingVisitor.reset(),this.accept(this._removeNodesNeverCastingVisitor)),this._computeBoundsVisitor.setTraversalMask(this._castsShadowBoundsTraversalMask),this._computeBoundsVisitor.reset(),this.accept(this._computeBoundsVisitor);var t=this._computeBoundsVisitor.getBoundingBox();return!!t.valid()||(this.noDraw(),this._removeNodesNeverCastingVisitor&&this._removeNodesNeverCastingVisitor.restore(),!1)},traverse:function(t){if(t.getVisitorType()===s.CULL_VISITOR){var e,r,i=this._shadowTechniques.length;i&&t.pushStateSet(this._receivingStateset),this.nodeTraverse(t),i&&t.popStateSet();var n=!1;for(e=0;e<i;e++)r=this._shadowTechniques[e],r&&r.valid()&&(r.isDirty()&&(n=!0,r.init()),!r.isEnabled()&&r.isFilledOnce()||(n=!0));if(!n)return;var a=this.computeShadowedSceneBounds(t);if(!a){for(e=0;e<i;e++)r=this._shadowTechniques[e],r.noDraw();return void(this._removeNodesNeverCastingVisitor&&this._removeNodesNeverCastingVisitor.restore())}var o=this._computeBoundsVisitor.getBoundingBox(),u=t.getCurrentModelMatrix();for(o.transformMat4(o,u),e=0;e<i;e++)r=this._shadowTechniques[e],!r.isEnabled()&&r.isFilledOnce()||(r.updateShadowTechnique(t),r.cullShadowCasting(t,o));this._removeNodesNeverCastingVisitor&&this._removeNodesNeverCastingVisitor.restore()}else this.nodeTraverse(t)}}),"osgShadow","ShadowedScene"),u.setTypeID(d),i.prototype[d.typeID]=i.prototype[a.typeID],t.exports=d},function(t,e,r){"use strict";var i=r(147),n={};n.Text=i,t.exports=n},function(t,e,r){"use strict";var i=r(144),n=r(145),a=r(146),s={};s.osg=i,s.osgAnimation=n,s.osgText=a,t.exports=s},function(t,e,r){"use strict";var i=r(244),n=r(245),a={};a.ReaderWriterGLTF=i,a.ReaderWriterZIP=n,t.exports=a},function(t,e,r){"use strict";var i=r(83),n=r(137),a=r(136),s=r(142),o=r(121),u=r(125),h=r(63),c=r(65),l=r(134),d=r(131),f=r(133),p=r(69),g=r(122),_=g.createQuatChannel,m=g.createVec3Channel,v=r(43),b=r(28),x=r(32),y=r(53),S=r(89),T=r(37),M=r(38),A=r(40),w=r(66),C=r(67),E=r(148),R=r(33),i=r(83),N=r(16).vec3,I=r(16).quat,k=r(16).mat4,O=function(){this._filesMap=void 0,this._loadedFiles=void 0,this._bufferViewCache=void 0,this._basicAnimationManager=void 0,this._visitedNodes=void 0,this._animatedNodes=void 0,this._skeletons=void 0,this._bones=void 0,this._skeletonToInfluenceMap=void 0,this._inputImgReader=void 0,this._localPath="",this.init()};O.WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},O.TYPE_TABLE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},O.TEXTURE_FORMAT={6406:x.ALPHA,6407:x.RGB,6408:x.RGBA,6409:x.LUMINANCE,6410:x.LUMINANCE_ALPHA},O.PBR_SPEC_EXT="KHR_materials_pbrSpecularGlossiness",O.PBR_SPEC_MODE="PBR_specular_glossiness",O.PBR_METAL_MODE="PBR_metal_roughness",O.ALBEDO_TEXTURE_UNIT=2,O.DIFFUSE_TEXTURE_UNIT=2,O.SPECULAR_GLOSSINESS_TEXTURE_UNIT=3,O.METALLIC_ROUGHNESS_TEXTURE_UNIT=3,O.SPECULAR_TEXTURE_UNIT=4,O.NORMAL_TEXTURE_UNIT=5,O.AO_TEXTURE_UNIT=6,O.ALBEDO_UNIFORM="albedoMap",O.METALLIC_ROUGHNESS_UNIFORM="metallicRoughnessMap",O.SPECULAR_UNIFORM="specularMap",O.NORMAL_UNIFORM="normalMap",O.AO_UNIFORM="aoMap",O.prototype={init:function(){this._glTFJSON=void 0,this._bufferViewCache={},this._basicAnimationManager=void 0,this._localPath="",this._visitedNodes={},this._animatedNodes={},this._skeletons={},this._bones={},this._skeletonToInfluenceMap={},this._stateSetMap={},this._filesMap=new window.Map,this._inputReader=new a},loadFile:i.method(function(t){if(this._filesMap.has(t))return this._filesMap.get(t);var e,r=t.substr(t.lastIndexOf(".")+1),i=E.getTypeForExtension(r),n=this._localPath+t;return"blob"===i?e=this._inputReader.readImageURL(n,{imageLoadingUsePromise:!0}):"arraybuffer"===i&&(e=this._inputReader.readBinaryArrayURL(n,{fileType:i})),this._filesMap.set(t,e),e.then(function(t){return t}),e}),loadAccessorBuffer:function(t,e){var r=this._glTFJSON,i=r.bufferViews[t.bufferView],n=r.buffers[i.buffer],a=this.loadFile(n.uri),s=this;return a.then(function(r){return s.assignBuffers(r,t,e,i)})},assignBuffers:i.method(function(t,e,r,i){if(!t)return null;var n=O.WEBGL_COMPONENT_TYPES[e.componentType],a=null;this._bufferViewCache[e.bufferView]||(this._bufferViewCache[e.bufferView]=t.slice(i.byteOffset,i.byteOffset+i.byteLength));var s=this._bufferViewCache[e.bufferView];return a=new n(s,e.byteOffset,e.count*O.TYPE_TABLE[e.type]),r?new A(r,a,O.TYPE_TABLE[e.type],!0):a}),findByKey:function(t,e){return t&&t[e]},registerUpdateCallback:function(t,e){var r=this._glTFJSON,i=null;i=r.nodes[t].jointName?new w:new C,i.setName(t);var n=N.create();k.getTranslation(n,e.getMatrix());var a=I.create();k.getRotation(a,e.getMatrix());var s=N.create();k.getScale(s,e.getMatrix()),i.getStackedTransforms().push(new l("translation",n)),i.getStackedTransforms().push(new d("rotation",a)),i.getStackedTransforms().push(new f("scale",s)),e.addUpdateCallback(i)},createTextureAndSetAttrib:i.method(function(t,e,r,i){if(t){var n=this._glTFJSON,a=n.textures[t.index];if(a){var s=n.images[a.source];if(s){var o=new x;o.setFlipY(!1),o.setWrapS("REPEAT"),o.setWrapT("REPEAT"),this.loadFile(s.uri).then(function(t){t&&(o.setImage(t,O.TEXTURE_FORMAT[a.format]),e.setTextureAttributeAndModes(r,o),i&&e.addUniform(R.createInt(r,i)))})}}}}),loadTransform:function(t){var e=k.create();if(t.matrix)return k.copy(e,t.matrix),e;var r=t.scale||N.ONE,i=t.rotation||I.IDENTITY,n=t.translation||N.ZERO;return k.fromRotationTranslationScale(e,i,n,r),e},preprocessChannel:function(t,e){var r=this._glTFJSON,n=[],a=e.samplers[t.sampler],s=r.accessors[a.input],o=r.accessors[a.output],u=this.loadAccessorBuffer(s,null),h=this.loadAccessorBuffer(o,null);n.push(u,h);var c=this;return i.all(n).then(function(e){var r=e[0],i=e[1],n=null;return 4===O.TYPE_TABLE[o.type]?n=_(i,r,t.target.node,a.output,null):3===O.TYPE_TABLE[o.type]&&(n=m(i,r,t.target.node,a.output,null)),c._animatedNodes[t.target.node]=!0,n})},createAnimationFromChannels:function(t,e){return i.all(t).then(function(t){return o.createAnimation(t,e)})},preprocessAnimations:i.method(function(){var t=this._glTFJSON;if(t.animations){for(var e=[],r=window.Object.keys(t.animations),n=0;n<r.length;++n){for(var a=t.animations[r[n]],s=[],o=0;o<a.channels.length;++o){var h=a.channels[o],c=this.preprocessChannel(h,a);s.push(c)}var l=this.createAnimationFromChannels(s,r[n]);e.push(l)}var d=this;return i.all(e).then(function(t){var e=new u;e.init(t),d._basicAnimationManager=e})}}),loadBone:function(t,e){var r=this._glTFJSON,i=r.nodes[t],n=this,a=r.accessors[e.inverseBindMatrices],s=this.loadAccessorBuffer(a,null);return s.then(function(r){for(var a=0;a<e.jointNames.length&&e.jointNames[a]!==i.jointName;++a);var s=new c(i.jointName),o=r.subarray(16*a,16*a+16);return s.setInvBindMatrixInSkeletonSpace(o),n._bones[t]=s,s})},buildInfluenceMap:function(t,e){if(!this._skeletonToInfluenceMap[t]){this._skeletonToInfluenceMap[t]={};for(var r=0;r<e.jointNames.length;r++){var i=e.jointNames[r];this._skeletonToInfluenceMap[t][i]=r}}},mapBonesToSkin:function(){for(var t=this._glTFJSON,e={},r=window.Object.keys(t.skins),i=0;i<r.length;++i)for(var n=t.skins[r[i]],a=0;a<n.jointNames.length;++a)for(var s=n.jointNames[a],o=window.Object.keys(t.nodes),u=0;u<o.length;++u){var h=t.nodes[o[u]];h.jointName&&h.jointName===s&&(e[o[u]]=n)}return e},preprocessBones:function(t){for(var e=this._glTFJSON,r=window.Object.keys(e.nodes),n=[],a=0;a<r.length;++a){var s=r[a],o=e.nodes[s];if(o.jointName){var u=this.loadBone(s,t[s]);n.push(u)}}return i.all(n)},preprocessSkeletons:i.method(function(){var t=this._glTFJSON;if(t.skins){for(var e=this.mapBonesToSkin(),r=window.Object.keys(t.nodes),i=0;i<r.length;++i){var n=r[i],a=t.nodes[n],s=t.skins[a.skin];if(a.skeletons)for(var o=0;o<a.skeletons.length;++o){for(var u=null,c=a.skeletons[o],l=0;l<r.length;++l){var d=r[l],f=t.nodes[d];if(f.jointName){var p=t.nodes[c];if(f.jointName===p.jointName){u=d;break}}}u&&!this._skeletons[u]&&(this._skeletons[c]=new h,e[u]=s),this.buildInfluenceMap(c,s)}}return this.preprocessBones(e)}}),loadPBRMaterial:i.method(function(t,e,r,n){var a=e.pbrMetallicRoughness,s=r.getOrCreateStateSet(),o=[],u="";return a&&(a.baseColorTexture&&o.push(this.createTextureAndSetAttrib(a.baseColorTexture,s,O.ALBEDO_TEXTURE_UNIT,O.ALBEDO_UNIFORM)),a.metallicRoughnessTexture&&o.push(this.createTextureAndSetAttrib(a.metallicRoughnessTexture,s,O.METALLIC_ROUGHNESS_TEXTURE_UNIT,O.METALLIC_ROUGHNESS_UNIFORM)),u=O.PBR_METAL_MODE),n&&(n.diffuseTexture&&o.push(this.createTextureAndSetAttrib(n.diffuseTexture,s,O.DIFFUSE_TEXTURE_UNIT,O.ALBEDO_UNIFORM)),n.specularGlossinessTexture&&o.push(this.createTextureAndSetAttrib(n.specularGlossinessTexture,s,O.SPECULAR_GLOSSINESS_TEXTURE_UNIT,O.METALLIC_ROUGHNESS_UNIFORM)),u=O.PBR_SPEC_MODE),e.normalTexture&&o.push(this.createTextureAndSetAttrib(e.normalTexture,s,O.NORMAL_TEXTURE_UNIT,O.NORMAL_UNIFORM)),e.occlusionTexture&&o.push(this.createTextureAndSetAttrib(e.occlusionTexture,s,O.AO_TEXTURE_UNIT,O.AO_UNIFORM)),r.setUserData({pbrWorklow:u}),r.stateset=s,s.setRenderingHint("TRANSPARENT_BIN"),s.setRenderBinDetails(1e3,"RenderBin"),s.setAttributeAndModes(new v("SRC_ALPHA","ONE_MINUS_SRC_ALPHA")),this._stateSetMap[t]=s,i.all(o)}),loadMaterial:i.method(function(t,e){var r=this._glTFJSON,i=r.materials[t];if(this._stateSetMap[t])return void(e.stateset=this._stateSetMap[t]);var n=this.findByKey(i.extensions,O.PBR_SPEC_EXT);if(i.pbrMetallicRoughness||n)return this.loadPBRMaterial(t,i,e,n);var a=i.values;if(a){var s=new S,o=e.getOrCreateStateSet();if(o.setAttribute(s),a.ambient&&s.setAmbient(a.ambient),a.emission&&s.setEmission(a.emission),a.shininess&&s.setShininess(a.shininess),a.specular&&s.setSpecular(a.specular),a.diffuse){if("string"==typeof a.diffuse)return this.createTextureAndSetAttrib(a.diffuse,o,0);s.setDiffuse(a.diffuse)}e.stateset=o,this._stateSetMap[t]=o}}),createGeometry:function(t,e){var r=this._glTFJSON,n=[],a=new b,s=a,o=function(t,e){e&&(this.getVertexAttributeList()[t]=e)};e&&(s=new p,s._boneNameID=this._skeletonToInfluenceMap[e]);for(var u=function(t){if(t){s.getAttributes().Weights=t;for(var e=s.getAttributes().Weights.getElements(),r=0,i=e.length/4;r<i;++r){var n=e[4*r]+e[4*r+1]+e[4*r+2]+e[4*r+3],a=1/n;e[4*r]*=a,e[4*r+1]*=a,e[4*r+2]*=a,e[4*r+3]*=a}}},h=window.Object.keys(t.attributes),c=0;c<h.length;++c){var l=r.accessors[t.attributes[h[c]]],d=this.loadAccessorBuffer(l,A.ARRAY_BUFFER);if(h[c].indexOf("POSITION")!==-1)d.then(o.bind(a,"Vertex"));else if(h[c].indexOf("NORMAL")!==-1)d.then(o.bind(a,"Normal"));else if(h[c].indexOf("TANGENT")!==-1)d.then(o.bind(a,"Tangent"));else if(h[c].indexOf("JOINT")!==-1)d.then(o.bind(s,"Bones"));else if(h[c].indexOf("WEIGHT")!==-1)d.then(u);else if(h[c].indexOf("TEXCOORD")!==-1){var f=h[c].substr(9);d.then(o.bind(a,"TexCoord"+f))}n.push(d)}var g=r.accessors[t.indices],_=this.loadAccessorBuffer(g,A.ELEMENT_ARRAY_BUFFER);return _.then(function(t){if(t){var e=new T(M.TRIANGLES,t);a.getPrimitives().push(e)}}),n.push(_),void 0!==t.material&&n.push(this.loadMaterial(t.material,a)),i.all(n).then(function(){return e&&(s.setSourceGeometry(a),s.mergeChildrenData(),s.computeBoundingBox=a.computeBoundingBox),s})},loadGLTFPrimitives:function(t,e,r){for(var n=this._glTFJSON,a=n.meshes[t],s=a.primitives,o=[],u=0;u<s.length;++u){var h=s[u],c=this.createGeometry(h,r);o.push(c)}return i.all(o).then(function(t){for(var r=0;r<t.length;++r)e.addChild(t[r]);return t})},loadGLTFNode:i.method(function(t,e){if(!this._visitedNodes[t]){var r=this._glTFJSON,n=r.nodes[t],a=n.jointName?this._bones[t]:new y;if(a.setName(t),k.copy(a.getMatrix(),this.loadTransform(n)),n.jointName&&this._skeletons[n.joinName]){var s=this._skeletons[n.jointName];s.addChild(a),e.addChild(s)}var o,u=n.children,h=[];if(u)for(o=0;o<u.length;++o){var c=this.loadGLTFNode(u[o],a);h.push(c)}if(void 0!==n.mesh){var l=n.mesh;if(n.skeletons)for(var d=0;d<n.skeletons.length;++d){var f=n.skeletons[d],p=this._skeletons[f],g=new y;k.copy(g.getMatrix(),a.getMatrix());var _=this.loadGLTFPrimitives(l,g,f);p.addChild(g),h.push(_)}else{var m=this.loadGLTFPrimitives(l,a,null);h.push(m)}}return this._animatedNodes[t]&&this.registerUpdateCallback(t,a),this._skeletons[t]||e.addChild(a),this._visitedNodes[t]=!0,i.all(h)}}),readNodeURL:function(t,e){var r=i.defer(),a=this;if(this.init(),e&&void 0!==e.filesMap&&e.filesMap.size>0){this._filesMap=e.filesMap;var s=this._filesMap.get(t);return this.readJSON(s,t)}var o=t.lastIndexOf("/");this._localPath=o===-1?"":t.substr(0,o+1);var u=n(t);return u.then(function(t){r.resolve(a.readJSON(t))}),r.promise},readJSON:i.method(function(t,e){var r=new y;r.setName(e);var n=JSON.parse(t);if(n){this._glTFJSON=n;var a=[],s=this.preprocessAnimations(),o=this.preprocessSkeletons();a.push(o,s);var u=this;return i.all(a).then(function(){for(var t=[],e=window.Object.keys(n.scenes),a=0;a<e.length;++a){var s=n.scenes[e[a]];if(s)for(var o=0;o<s.nodes.length;++o){var h=u.loadGLTFNode(s.nodes[o],r);t.push(h)}}return u._basicAnimationManager&&r.addUpdateCallback(u._basicAnimationManager),i.all(t).then(function(){return r})})}})},s.instance().addReaderWriter("gltf",new O),t.exports=O},function(t,e,r){"use strict";var i=r(83),n=r(137),a=r(11),s=r(142),o=r(141),u=r(148),h=window.JSZip,c=function(){this._options=void 0,this._filesMap=new window.Map,this._fileName=""};c.prototype={readNodeURL:function(t,e){var r=i.defer();if(void 0===h)return a.error("You need to add JSZip as a dependency"),r.reject();a.log("starting to read: "+t);var s=this;if(e&&void 0!==e.filesMap&&e.filesMap.has(t)){var u=e.filesMap.get(t);return this.readZipFile(u).then(function(){return s._fileName.length?o.readNodeURL(s._fileName,{filesMap:s._filesMap}):i.reject(s)})}var c=n(t,{responseType:"blob"});return c.then(function(t){s.readZipFile(t).then(function(){r.resolve(o.readNodeURL(s._fileName,{filesMap:s._filesMap}))})}),r.promise},_registerZipImage:function(t,e,r,i){var n=i;"base64"===e&&(n=new window.Image,n.src="data:image/"+r+";base64,"+i),this._filesMap.set(t,n)},readZipFile:function(t){var e=i.defer();return h.loadAsync(t).then(function(t){var r=[];for(var n in t.files){var a=n.substr(n.lastIndexOf(".")+1),o=s.instance().getReaderWriterForExtension(a);void 0===o&&"osgjs"!==a||(this._fileName=n);var h=u.getTypeForExtension(a);if(void 0!==h){"blob"===h&&(h="base64");var c=t.file(n).async(h).then(this._registerZipImage.bind(this,n,h,a));r.push(c)}}i.all(r).then(function(){e.resolve()})}.bind(this)),e.promise}},s.instance().addReaderWriter("zip",new c),t.exports=c},,,,function(t,e,r){"use strict";var i=r(250),n=r(288),a=r(289),s=r(122),o=r(121),u=r(67),h=r(132),c=r(133),l=r(131),d=r(134),f=r(130),p=function(t){return"number"==typeof t};i.assert.equalVector=function(t,e,r,n){var a=n,s=r;p(r)&&(a=r),"string"==typeof n&&(s=n),void 0===a&&(a=1e-5);for(var o=new i.Assertion(t),u=t,h=e,c=!0,l=[],d=0;d<u.length;++d){var f=p(u[d])&&p(h[d]),g=Math.abs(u[d]-h[d]);l[d]=g,(g>a||f===!1)&&(c=!1)}return o.assert(c,s+"\nexpected [ "+t+"] approximate to [ "+e+" ]\ndiff > threshold "+a+"\n"+l.join("\n")),c};var g=function(t,e,r){return i.assert.equalVector(t,e,"",r)},_=function(){return{TEXTURE0:10,DEPTH_TEST:1,CULL_FACE:0,UNSIGNED_SHORT:0,HIGH_FLOAT:0,FRAGMENT_SHADER:0,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,UNPACK_FLIP_Y_WEBGL:0,drawBuffers:function(){},drawElements:function(){},createBuffer:function(){},deleteBuffer:function(){},blendColor:function(){},enable:function(){},disable:function(){},depthFunc:function(){},pixelStorei:function(){},depthRange:function(){},depthMask:function(){},deleteTexture:function(){},activeTexture:function(){},bindTexture:function(){},bufferData:function(){},bindBuffer:function(){},blendFunc:function(){},getExtension:function(){},bindAttribLocation:function(){},getShaderPrecisionFormat:function(){return{precision:1}},getSupportedExtensions:function(){return{}},enableVertexAttribArray:function(){},vertexAttribPointer:function(){},createTexture:function(){},createFramebuffer:function(){return 1},deleteFramebuffer:function(){},bindFramebuffer:function(){},framebufferTexture2D:function(){},checkFramebufferStatus:function(){return 36053},createRenderbuffer:function(){return 1},deleteRenderbuffer:function(){},bindRenderbuffer:function(){},renderbufferStorage:function(){},framebufferRenderbuffer:function(){},clear:function(){},viewport:function(){},cullFace:function(){},texImage2D:function(){},texParameteri:function(){},createShader:function(){return 1},deleteShader:function(){},shaderSource:function(){},compileShader:function(){},getShaderParameter:function(){return!0},isContextLost:function(){return!1},getShaderInfoLog:function(){},createProgram:function(){return{}},createVertexArray:function(){return{}},bindVertexArray:function(){},deleteProgram:function(){},attachShader:function(){},validateProgram:function(){},linkProgram:function(){},getParameter:function(){},getProgramParameter:function(){return!0},getProgramInfoLog:function(){},getUniformLocation:function(){return 0},getAttribLocation:function(){return 0},useProgram:function(){},uniformMatrix4fv:function(){},uniform1fv:function(){},uniform4fv:function(){},uniform3fv:function(){},uniform1iv:function(){},canvas:{clientWidth:300,clientHeight:300}}},m=function(){var t={addEventListener:function(){},getContext:function(){return _()},style:{width:300},getAttribute:function(){return 0}};return t},v=function(){var t=[1,1,1,0,0,0,3,3,3],e=[0,1,2];return s.createVec3Channel(t,e)},b=function(){var t=[1,0,3],e=0;arguments.length>0&&(e=arguments[0]);var r=[e+0,e+1,e+2];return s.createFloatChannel(t,r)},x=function(){var t=[1,2,3,0,1,3,3,4,5],e=[0,1,2];return s.createFloatCubicBezierChannel(t,e)},y=function(){var t=[1,1,1,2,2,2,5,5,5,6,6,6,9,9,9,8,8,8,6,6,6,6,6,6,6,6,6],e=[0,1,2];return s.createVec3CubicBezierChannel(t,e)},S=function(){var t=[1.22465e-16,1.22465e-16,1.22465e-16,-1,.300706,7.99708e-17,1.53623e-16,-.953717,.382683,6.62774e-17,1.60008e-16,-.92388,.382683,6.62774e-17,1.60008e-16,-.92388,.126911,-.0991929,.119115,-.979727],e=[0,.202899,.456522,1.21739,1.47101];return s.createQuatChannel(t,e)},T=function(t,e,r){var i=b();i.target=e||"a",i.name="rotateX";var n=b(2);return n.target=r||"b",n.name="rotateY",o.createAnimation([i,n],t)},M=function(t,e,r){var i=b(-10);i.target=e||"a",i.name="rotateX";var n=b(10);return n.target=r||"b",n.name="rotateY",o.createAnimation([i,n],t)},A={translate:d,rotate:h,rotateX:h,rotateY:h,rotateZ:h,matrix:f,scale:c,quat:l},w=function(t){for(var e={},r=0;r<t.length;r++)for(var i=t[r],n=0;n<i.channels.length;n++){var a=i.channels[n],s=a.target,o=a.name,h=e[s];h||(e[s]=new u,h=e[s],h.setName(s));var c=h.getStackedTransforms(),l=new A[o](o);c.push(l)}return e},C=function(t){if(t||navigator.userAgent.indexOf("PhantomJS")!==-1)return m();var e=document.body,r=""+(new Date).getTime(),i="<canvas id='"+r+"'></canvas>",n=document.createElement("div");return n.setAttribute("id","div_"+r),n.innerHTML=i,e.appendChild(n),document.getElementById(r)},E=function(t){if(t){var e=t.getAttribute("id"),r=document.getElementById("div_"+e);r&&r.removeChild(t)}};t.exports={checkNear:g,createFakeRenderer:_,removeCanvas:E,createCanvas:C,createVec3Keyframes:v,createFloatKeyframes:b,createFloatCubicBezierKeyframes:x,createVec3CubicBezierKeyframes:y,createQuatLerpKeyFrames:S,createAnimation:T,createAnimationWithNegativeKey:M,createAnimationUpdateCallback:w,getBoxScene:a,getScene:n}},function(t,e,r){t.exports=r(251)},function(t,e,r){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var i=[],e=t.exports={};/*!
	 * Chai version
	 */
e.version="3.5.0",/*!
	 * Assertion Error
	 */
e.AssertionError=r(252);/*!
	 * Utils for plugins (not exported)
	 */
var n=r(253);e.use=function(t){return~i.indexOf(t)||(t(this,n),i.push(t)),this},/*!
	 * Utility Functions
	 */
e.util=n;/*!
	 * Configuration
	 */
var a=r(266);e.config=a;/*!
	 * Primary `Assertion` prototype
	 */
var s=r(283);e.use(s);/*!
	 * Core Assertions
	 */
var o=r(284);e.use(o);/*!
	 * Expect interface
	 */
var u=r(285);e.use(u);/*!
	 * Should interface
	 */
var h=r(286);e.use(h);/*!
	 * Assert interface
	 */
var c=r(287);e.use(c)},function(t,e){/*!
	 * assertion-error
	 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
	 * MIT Licensed
	 */
/*!
	 * Return a function that will copy properties from
	 * one object to another excluding any originally
	 * listed. Returned function will create a new `{}`.
	 *
	 * @param {String} excluded properties ...
	 * @return {Function}
	 */
function r(){function t(t,r){Object.keys(r).forEach(function(i){~e.indexOf(i)||(t[i]=r[i])})}var e=[].slice.call(arguments);return function(){for(var e=[].slice.call(arguments),r=0,i={};r<e.length;r++)t(i,e[r]);return i}}function i(t,e,i){var n=r("name","message","stack","constructor","toJSON"),a=n(e||{});this.message=t||"Unspecified AssertionError",this.showDiff=!1;for(var s in a)this[s]=a[s];if(i=i||arguments.callee,i&&Error.captureStackTrace)Error.captureStackTrace(this,i);else try{throw new Error}catch(t){this.stack=t.stack}}/*!
	 * Primary Exports
	 */
t.exports=i,/*!
	 * Inherit from Error.prototype
	 */
i.prototype=Object.create(Error.prototype),/*!
	 * Statically set name
	 */
i.prototype.name="AssertionError",/*!
	 * Ensure correct constructor
	 */
i.prototype.constructor=i,i.prototype.toJSON=function(t){var e=r("constructor","toJSON","stack"),i=e({name:this.name},this);return!1!==t&&this.stack&&(i.stack=this.stack),i}},function(t,e,r){/*!
	 * chai
	 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Main exports
	 */
var e=t.exports={};/*!
	 * test utility
	 */
e.test=r(254),/*!
	 * type utility
	 */
e.type=r(256),/*!
	 * expectTypes utility
	 */
e.expectTypes=r(258),/*!
	 * message utility
	 */
e.getMessage=r(259),/*!
	 * actual utility
	 */
e.getActual=r(260),/*!
	 * Inspect util
	 */
e.inspect=r(261),/*!
	 * Object Display util
	 */
e.objDisplay=r(265),/*!
	 * Flag utility
	 */
e.flag=r(255),/*!
	 * Flag transferring utility
	 */
e.transferFlags=r(267),/*!
	 * Deep equal utility
	 */
e.eql=r(268),/*!
	 * Deep path value
	 */
e.getPathValue=r(274),/*!
	 * Deep path info
	 */
e.getPathInfo=r(275),/*!
	 * Check if a property exists
	 */
e.hasProperty=r(276),/*!
	 * Function name
	 */
e.getName=r(262),/*!
	 * add Property
	 */
e.addProperty=r(277),/*!
	 * add Method
	 */
e.addMethod=r(278),/*!
	 * overwrite Property
	 */
e.overwriteProperty=r(279),/*!
	 * overwrite Method
	 */
e.overwriteMethod=r(280),/*!
	 * Add a chainable method
	 */
e.addChainableMethod=r(281),/*!
	 * Overwrite chainable method
	 */
e.overwriteChainableMethod=r(282)},function(t,e,r){/*!
	 * Chai - test utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var i=r(255);t.exports=function(t,e){var r=i(t,"negate"),n=e[0];return r?!n:n}},function(t,e){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,r){var i=t.__flags||(t.__flags=Object.create(null));return 3!==arguments.length?i[e]:void(i[e]=r)}},function(t,e,r){t.exports=r(257)},function(t,e){function r(t){var e=Object.prototype.toString.call(t).match(n)[1].toLowerCase();return"function"==typeof Promise&&t instanceof Promise?"promise":null===t?"null":void 0===t?"undefined":e}function i(){return this instanceof i?void(this.tests={}):new i}/*!
	 * type-detect
	 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Primary Exports
	 */
var e=t.exports=r,n=/^\[object (.*)\]$/;e.Library=i,i.prototype.of=r,i.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},i.prototype.test=function(t,e){if(e===r(t))return!0;var i=this.tests[e];if(i&&"regexp"===r(i))return i.test(t);if(i&&"function"===r(i))return i(t);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},function(t,e,r){/*!
	 * Chai - expectTypes utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var i=r(252),n=r(255),a=r(256);t.exports=function(t,e){var t=n(t,"object");e=e.map(function(t){return t.toLowerCase()}),e.sort();var r=e.map(function(t,r){var i=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an":"a",n=e.length>1&&r===e.length-1?"or ":"";return n+i+" "+t}).join(", ");if(!e.some(function(e){return a(t)===e}))throw new i("object tested must be "+r+", but "+a(t)+" given")}},function(t,e,r){/*!
	 * Chai - message composition utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var i=r(255),n=r(260),a=(r(261),r(265));t.exports=function(t,e){var r=i(t,"negate"),s=i(t,"object"),o=e[3],u=n(t,e),h=r?e[2]:e[1],c=i(t,"message");return"function"==typeof h&&(h=h()),h=h||"",h=h.replace(/#\{this\}/g,function(){return a(s)}).replace(/#\{act\}/g,function(){return a(u)}).replace(/#\{exp\}/g,function(){return a(o)}),c?c+": "+h:h}},function(t,e){/*!
	 * Chai - getActual utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){return e.length>4?e[4]:t._obj}},function(t,e,r){function i(t,e,r,i){var a={showHidden:e,seen:[],stylize:function(t){return t}};return n(a,t,"undefined"==typeof r?2:r)}function n(t,r,i){if(r&&"function"==typeof r.inspect&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var p=r.inspect(i);return"string"!=typeof p&&(p=n(t,p,i)),p}var b=a(t,r);if(b)return b;if(v(r)){if("outerHTML"in r)return r.outerHTML;try{if(document.xmlVersion){var x=new XMLSerializer;return x.serializeToString(r)}var y="http://www.w3.org/1999/xhtml",S=document.createElementNS(y,"_");return S.appendChild(r.cloneNode(!1)),html=S.innerHTML.replace("><",">"+r.innerHTML+"<"),S.innerHTML="",html}catch(t){}}var T=m(r),M=t.showHidden?_(r):T;if(0===M.length||f(r)&&(1===M.length&&"stack"===M[0]||2===M.length&&"description"===M[0]&&"stack"===M[1])){if("function"==typeof r){var A=g(r),w=A?": "+A:"";return t.stylize("[Function"+w+"]","special")}if(l(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(d(r))return t.stylize(Date.prototype.toUTCString.call(r),"date");if(f(r))return s(r)}var C="",E=!1,R=["{","}"];if(c(r)&&(E=!0,R=["[","]"]),"function"==typeof r){var A=g(r),w=A?": "+A:"";C=" [Function"+w+"]"}if(l(r)&&(C=" "+RegExp.prototype.toString.call(r)),d(r)&&(C=" "+Date.prototype.toUTCString.call(r)),f(r))return s(r);if(0===M.length&&(!E||0==r.length))return R[0]+C+R[1];if(i<0)return l(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r);var N;return N=E?o(t,r,i,T,M):M.map(function(e){return u(t,r,i,T,e,E)}),t.seen.pop(),h(N,C,R)}function a(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string");case"number":return 0===e&&1/e===-(1/0)?t.stylize("-0","number"):t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}if(null===e)return t.stylize("null","null")}function s(t){return"["+Error.prototype.toString.call(t)+"]"}function o(t,e,r,i,n){for(var a=[],s=0,o=e.length;s<o;++s)Object.prototype.hasOwnProperty.call(e,String(s))?a.push(u(t,e,r,i,String(s),!0)):a.push("");return n.forEach(function(n){n.match(/^\d+$/)||a.push(u(t,e,r,i,n,!0))}),a}function u(t,e,r,i,a,s){var o,u;if(e.__lookupGetter__&&(e.__lookupGetter__(a)?u=e.__lookupSetter__(a)?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.__lookupSetter__(a)&&(u=t.stylize("[Setter]","special"))),i.indexOf(a)<0&&(o="["+a+"]"),u||(t.seen.indexOf(e[a])<0?(u=null===r?n(t,e[a],null):n(t,e[a],r-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),"undefined"==typeof o){if(s&&a.match(/^\d+$/))return u;o=JSON.stringify(""+a),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+u}function h(t,e,r){var i=0,n=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.length+1},0);return n>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function c(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===p(t)}function l(t){return"object"==typeof t&&"[object RegExp]"===p(t)}function d(t){return"object"==typeof t&&"[object Date]"===p(t)}function f(t){return"object"==typeof t&&"[object Error]"===p(t)}function p(t){return Object.prototype.toString.call(t)}var g=r(262),_=r(263),m=r(264);t.exports=i;var v=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}},function(t,e){/*!
	 * Chai - getName utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){if(t.name)return t.name;var e=/^\s?function ([^(]*)\(/.exec(t);return e&&e[1]?e[1]:""}},function(t,e){/*!
	 * Chai - getProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){function e(t){r.indexOf(t)===-1&&r.push(t)}for(var r=Object.getOwnPropertyNames(t),i=Object.getPrototypeOf(t);null!==i;)Object.getOwnPropertyNames(i).forEach(e),i=Object.getPrototypeOf(i);return r}},function(t,e){/*!
	 * Chai - getEnumerableProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){var e=[];for(var r in t)e.push(r);return e}},function(t,e,r){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var i=r(261),n=r(266);t.exports=function(t){var e=i(t),r=Object.prototype.toString.call(t);if(n.truncateThreshold&&e.length>=n.truncateThreshold){if("[object Function]"===r)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===r)return"[ Array("+t.length+") ]";if("[object Object]"===r){var a=Object.keys(t),s=a.length>2?a.splice(0,2).join(", ")+", ...":a.join(", ");return"{ Object ("+s+") }"}return e}return e}},function(t,e){t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},function(t,e){/*!
	 * Chai - transferFlags utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,r){var i=t.__flags||(t.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),r=3!==arguments.length||r;for(var n in i)(r||"object"!==n&&"ssfi"!==n&&"message"!=n)&&(e.__flags[n]=i[n])}},function(t,e,r){t.exports=r(269)},function(t,e,r){function i(t,e,r){return!!n(t,e)||("date"===g(t)?s(t,e):"regexp"===g(t)?o(t,e):p.isBuffer(t)?l(t,e):"arguments"===g(t)?u(t,e,r):!!a(t,e)&&("object"!==g(t)&&"object"!==g(e)&&"array"!==g(t)&&"array"!==g(e)?n(t,e):f(t,e,r)))}/*!
	 * Strict (egal) equality test. Ensures that NaN always
	 * equals NaN and `-0` does not equal `+0`.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} equal match
	 */
function n(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}/*!
	 * Compare the types of two given objects and
	 * return if they are equal. Note that an Array
	 * has a type of `array` (not `object`) and arguments
	 * have a type of `arguments` (not `array`/`object`).
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function a(t,e){return g(t)===g(e)}/*!
	 * Compare two Date objects by asserting that
	 * the time values are equal using `saveValue`.
	 *
	 * @param {Date} a
	 * @param {Date} b
	 * @return {Boolean} result
	 */
function s(t,e){return"date"===g(e)&&n(t.getTime(),e.getTime())}/*!
	 * Compare two regular expressions by converting them
	 * to string and checking for `sameValue`.
	 *
	 * @param {RegExp} a
	 * @param {RegExp} b
	 * @return {Boolean} result
	 */
function o(t,e){return"regexp"===g(e)&&n(t.toString(),e.toString())}/*!
	 * Assert deep equality of two `arguments` objects.
	 * Unfortunately, these must be sliced to arrays
	 * prior to test to ensure no bad behavior.
	 *
	 * @param {Arguments} a
	 * @param {Arguments} b
	 * @param {Array} memoize (optional)
	 * @return {Boolean} result
	 */
function u(t,e,r){return"arguments"===g(e)&&(t=[].slice.call(t),e=[].slice.call(e),i(t,e,r))}/*!
	 * Get enumerable properties of a given object.
	 *
	 * @param {Object} a
	 * @return {Array} property names
	 */
function h(t){var e=[];for(var r in t)e.push(r);return e}/*!
	 * Simple equality for flat iterable objects
	 * such as Arrays or Node.js buffers.
	 *
	 * @param {Iterable} a
	 * @param {Iterable} b
	 * @return {Boolean} result
	 */
function c(t,e){if(t.length!==e.length)return!1;for(var r=0,i=!0;r<t.length;r++)if(t[r]!==e[r]){i=!1;break}return i}/*!
	 * Extension to `iterableEqual` specifically
	 * for Node.js Buffers.
	 *
	 * @param {Buffer} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function l(t,e){return!!p.isBuffer(e)&&c(t,e)}/*!
	 * Block for `objectEqual` ensuring non-existing
	 * values don't get in.
	 *
	 * @param {Mixed} object
	 * @return {Boolean} result
	 */
function d(t){return null!==t&&void 0!==t}/*!
	 * Recursively check the equality of two objects.
	 * Once basic sameness has been established it will
	 * defer to `deepEqual` for each enumerable key
	 * in the object.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function f(t,e,r){if(!d(t)||!d(e))return!1;if(t.prototype!==e.prototype)return!1;var n;if(r){for(n=0;n<r.length;n++)if(r[n][0]===t&&r[n][1]===e||r[n][0]===e&&r[n][1]===t)return!0}else r=[];try{var a=h(t),s=h(e)}catch(t){return!1}if(a.sort(),s.sort(),!c(a,s))return!1;r.push([t,e]);var o;for(n=a.length-1;n>=0;n--)if(o=a[n],!i(t[o],e[o],r))return!1;return!0}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var p,g=r(256);try{p=r(270).Buffer}catch(t){p={},p.isBuffer=function(){return!1}}/*!
	 * Primary Export
	 */
t.exports=i},function(t,e,r){(function(t){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function n(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return o(this,t,e,r)}function o(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,r,i):"string"==typeof e?l(t,e,r):p(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,r,i){return u(e),e<=0?a(t,e):void 0!==r?"string"==typeof i?a(t,e).fill(r,i):a(t,e).fill(r):a(t,e)}function c(t,e){if(u(e),t=a(t,e<0?0:0|g(e)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(e,r);t=a(t,i);var n=t.write(e,r);return n!==i&&(t=t.slice(0,n)),t}function d(t,e){var r=e.length<0?0:0|g(e.length);t=a(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function f(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=d(t,e),t}function p(t,e){if(s.isBuffer(e)){var r=0|g(e.length);return t=a(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Q(e.length)?a(t,0):d(t,e);if("Buffer"===e.type&&$(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function _(t){return+t!=t&&(t=0),s.alloc(+t)}function m(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(i)return W(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return R(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function x(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=s.from(e,i)),s.isBuffer(e))return 0===e.length?-1:y(t,e,r,i,n);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,i,n){function a(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,o=t.length,u=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,o/=2,u/=2,r/=2}var h;if(n){var c=-1;for(h=r;h<o;h++)if(a(t,h)===a(e,c===-1?0:h-c)){if(c===-1&&(c=h),h-c+1===u)return c*s}else c!==-1&&(h-=h-c),c=-1}else for(r+u>o&&(r=o-u),h=r;h>=0;h--){for(var l=!0,d=0;d<u;d++)if(a(t,h+d)!==a(e,d)){l=!1;break}if(l)return h}return-1}function S(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var s=0;s<i;++s){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))return s;t[r+s]=o}return s}function T(t,e,r,i){return K(W(e,t.length-r),t,r,i)}function M(t,e,r,i){return K(H(e),t,r,i)}function A(t,e,r,i){return M(t,e,r,i)}function w(t,e,r,i){return K(X(e),t,r,i)}function C(t,e,r,i){return K(Y(e,t.length-r),t,r,i)}function E(t,e,r){return 0===e&&r===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(e,r))}function R(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var a=t[n],s=null,o=a>239?4:a>223?3:a>191?2:1;if(n+o<=r){var u,h,c,l;switch(o){case 1:a<128&&(s=a);break;case 2:u=t[n+1],128===(192&u)&&(l=(31&a)<<6|63&u,l>127&&(s=l));break;case 3:u=t[n+1],h=t[n+2],128===(192&u)&&128===(192&h)&&(l=(15&a)<<12|(63&u)<<6|63&h,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:u=t[n+1],h=t[n+2],c=t[n+3],128===(192&u)&&128===(192&h)&&128===(192&c)&&(l=(15&a)<<18|(63&u)<<12|(63&h)<<6|63&c,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=o}return N(i)}function N(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=tt));return r}function I(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function k(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function O(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",a=e;a<r;++a)n+=q(t[a]);return n}function P(t,e,r){for(var i=t.slice(e,r),n="",a=0;a<i.length;a+=2)n+=String.fromCharCode(i[a]+256*i[a+1]);return n}function L(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,r,i,n,a){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<a)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function V(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,a=Math.min(t.length-r,2);n<a;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function D(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,a=Math.min(t.length-r,4);n<a;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function B(t,e,r,i,n,a){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,i,n){return n||B(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,r,i,23,4),r+4}function G(t,e,r,i,n){return n||B(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,r,i,52,8),r+8}function j(t){if(t=z(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var r,i=t.length,n=null,a=[],s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function H(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function Y(t,e){for(var r,i,n,a=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,a.push(n),a.push(i);return a}function X(t){return Z.toByteArray(j(t))}function K(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Q(t){return t!==t}var Z=r(271),J=r(272),$=r(273);e.Buffer=s,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=n(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,r){return o(null,t,e,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,r){return h(null,t,e,r)},s.allocUnsafe=function(t){return c(null,t)},s.allocUnsafeSlow=function(t){return c(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,a=Math.min(r,i);n<a;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=s.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var a=t[r];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,n),n+=a.length}return i},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):v.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,i,n){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,i>>>=0,n>>>=0,this===t)return 0;for(var a=n-i,o=r-e,u=Math.min(a,o),h=this.slice(i,n),c=t.slice(e,r),l=0;l<u;++l)if(h[l]!==c[l]){a=h[l],o=c[l];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},s.prototype.indexOf=function(t,e,r){return x(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return x(this,t,e,r,!1)},s.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return S(this,t,e,r);case"utf8":case"utf-8":return T(this,t,e,r);case"ascii":return M(this,t,e,r);case"latin1":case"binary":return A(this,t,e,r);case"base64":return w(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;s.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var i;if(s.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=s.prototype;else{var n=e-t;i=new s(n,void 0);for(var a=0;a<n;++a)i[a]=this[a+t]}return i},s.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var i=this[t],n=1,a=0;++a<e&&(n*=256);)i+=this[t+a]*n;return i},s.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},s.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var i=this[t],n=1,a=0;++a<e&&(n*=256);)i+=this[t+a]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*e)),i},s.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var i=e,n=1,a=this[t+--i];i>0&&(n*=256);)a+=this[t+--i]*n;return n*=128,a>=n&&(a-=Math.pow(2,8*e)),a},s.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),J.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),J.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),J.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),J.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e|=0,r|=0,!i){var n=Math.pow(2,8*r)-1;F(this,t,e,r,n,0)}var a=1,s=0;for(this[e]=255&t;++s<r&&(a*=256);)this[e+s]=t/a&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e|=0,r|=0,!i){var n=Math.pow(2,8*r)-1;F(this,t,e,r,n,0)}var a=r-1,s=1;for(this[e+a]=255&t;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);F(this,t,e,r,n-1,-n)}var a=0,s=1,o=0;for(this[e]=255&t;++a<r&&(s*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+r},s.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);F(this,t,e,r,n-1,-n)}var a=r-1,s=1,o=0;for(this[e+a]=255&t;--a>=0&&(s*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return G(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return G(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,a=i-r;if(this===t&&r<e&&e<i)for(n=a-1;n>=0;--n)t[n+e]=this[n+r];else if(a<1e3||!s.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},s.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=s.isBuffer(t)?t:W(new s(t,i).toString()),u=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function n(t){var e,i,n,a,s,o=t.length;a=r(t),s=new c(3*o/4-a),i=a>0?o-4:o;var u=0;for(e=0;e<i;e+=4)n=h[t.charCodeAt(e)]<<18|h[t.charCodeAt(e+1)]<<12|h[t.charCodeAt(e+2)]<<6|h[t.charCodeAt(e+3)],s[u++]=n>>16&255,s[u++]=n>>8&255,s[u++]=255&n;return 2===a?(n=h[t.charCodeAt(e)]<<2|h[t.charCodeAt(e+1)]>>4,s[u++]=255&n):1===a&&(n=h[t.charCodeAt(e)]<<10|h[t.charCodeAt(e+1)]<<4|h[t.charCodeAt(e+2)]>>2,s[u++]=n>>8&255,s[u++]=255&n),s}function a(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,r){for(var i,n=[],s=e;s<r;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],n.push(a(i));return n.join("")}function o(t){for(var e,r=t.length,i=r%3,n="",a=[],o=16383,h=0,c=r-i;h<c;h+=o)a.push(s(t,h,h+o>c?c:h+o));return 1===i?(e=t[r-1],n+=u[e>>2],n+=u[e<<4&63],n+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],n+=u[e>>10],n+=u[e>>4&63],n+=u[e<<2&63],n+="="),a.push(n),a.join("")}e.byteLength=i,e.toByteArray=n,e.fromByteArray=o;for(var u=[],h=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,f=l.length;d<f;++d)u[d]=l[d],h[l.charCodeAt(d)]=d;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,i,n){var a,s,o=8*n-i-1,u=(1<<o)-1,h=u>>1,c=-7,l=r?n-1:0,d=r?-1:1,f=t[e+l];for(l+=d,a=f&(1<<-c)-1,f>>=-c,c+=o;c>0;a=256*a+t[e+l],l+=d,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=i;c>0;s=256*s+t[e+l],l+=d,c-=8);if(0===a)a=1-h;else{if(a===u)return s?NaN:(f?-1:1)*(1/0);s+=Math.pow(2,i),a-=h}return(f?-1:1)*s*Math.pow(2,a-i)},e.write=function(t,e,r,i,n,a){var s,o,u,h=8*a-n-1,c=(1<<h)-1,l=c>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:a-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+l>=1?d/u:d*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=c?(o=0,s=c):s+l>=1?(o=(e*u-1)*Math.pow(2,n),s+=l):(o=e*Math.pow(2,l-1)*Math.pow(2,n),s=0));n>=8;t[r+f]=255&o,f+=p,o/=256,n-=8);for(s=s<<n|o,h+=n;h>0;t[r+f]=255&s,f+=p,s/=256,h-=8);t[r+f-p]|=128*g}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){/*!
	 * Chai - getPathValue utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * @see https://github.com/logicalparadox/filtr
	 * MIT Licensed
	 */
var i=r(275);t.exports=function(t,e){var r=i(t,e);return r.value}},function(t,e,r){/*!
	 * ## parsePath(path)
	 *
	 * Helper function used to parse string object
	 * paths. Use in conjunction with `_getPathValue`.
	 *
	 *      var parsed = parsePath('myobject.property.subprop');
	 *
	 * ### Paths:
	 *
	 * * Can be as near infinitely deep and nested
	 * * Arrays are also valid using the formal `myobject.document[3].property`.
	 * * Literal dots and brackets (not delimiter) must be backslash-escaped.
	 *
	 * @param {String} path
	 * @returns {Object} parsed
	 * @api private
	 */
function i(t){var e=t.replace(/([^\\])\[/g,"$1.["),r=e.match(/(\\\.|[^.]+?)+/g);return r.map(function(t){var e=/^\[(\d+)\]$/,r=e.exec(t);return r?{i:parseFloat(r[1])}:{p:t.replace(/\\([.\[\]])/g,"$1")}})}/*!
	 * ## _getPathValue(parsed, obj)
	 *
	 * Helper companion function for `.parsePath` that returns
	 * the value located at the parsed address.
	 *
	 *      var value = getPathValue(parsed, obj);
	 *
	 * @param {Object} parsed definition from `parsePath`.
	 * @param {Object} object to search against
	 * @param {Number} object to search against
	 * @returns {Object|Undefined} value
	 * @api private
	 */
function n(t,e,r){var i,n=e;r=void 0===r?t.length:r;for(var a=0,s=r;a<s;a++){var o=t[a];n?("undefined"!=typeof o.p?n=n[o.p]:"undefined"!=typeof o.i&&(n=n[o.i]),a==s-1&&(i=n)):i=void 0}return i}/*!
	 * Chai - getPathInfo utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var a=r(276);t.exports=function(t,e){var r=i(t),s=r[r.length-1],o={parent:r.length>1?n(r,e,r.length-1):e,name:s.p||s.i,value:n(r,e)};return o.exists=a(o.name,o.parent),o}},function(t,e,r){/*!
	 * Chai - hasProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var i=r(256),n={number:Number,string:String};t.exports=function(t,e){var r=i(e);return"null"!==r&&"undefined"!==r&&(n[r]&&"object"!=typeof e&&(e=new n[r](e)),t in e)}},function(t,e,r){/*!
	 * Chai - addProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var i=r(266),n=r(255);t.exports=function(t,e,r){Object.defineProperty(t,e,{get:function t(){var e=n(this,"ssfi");e&&i.includeStack===!1&&n(this,"ssfi",t);var a=r.call(this);return void 0===a?this:a},configurable:!0})}},function(t,e,r){/*!
	 * Chai - addMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var i=r(266),n=r(255);t.exports=function(t,e,r){t[e]=function(){var a=n(this,"ssfi");a&&i.includeStack===!1&&n(this,"ssfi",t[e]);var s=r.apply(this,arguments);return void 0===s?this:s}}},function(t,e){/*!
	 * Chai - overwriteProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,r){var i=Object.getOwnPropertyDescriptor(t,e),n=function(){};i&&"function"==typeof i.get&&(n=i.get),Object.defineProperty(t,e,{get:function(){var t=r(n).call(this);return void 0===t?this:t},configurable:!0})}},function(t,e){/*!
	 * Chai - overwriteMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,r){var i=t[e],n=function(){return this};i&&"function"==typeof i&&(n=i),t[e]=function(){var t=r(n).apply(this,arguments);return void 0===t?this:t}}},function(t,e,r){/*!
	 * Chai - addChainingMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var i=r(267),n=r(255),a=r(266),s="__proto__"in Object,o=/^(?:length|name|arguments|caller)$/,u=Function.prototype.call,h=Function.prototype.apply;t.exports=function(t,e,r,c){"function"!=typeof c&&(c=function(){});var l={method:r,chainingBehavior:c};t.__methods||(t.__methods={}),t.__methods[e]=l,Object.defineProperty(t,e,{get:function(){l.chainingBehavior.call(this);var e=function t(){var e=n(this,"ssfi");e&&a.includeStack===!1&&n(this,"ssfi",t);var r=l.method.apply(this,arguments);return void 0===r?this:r};if(s){var r=e.__proto__=Object.create(this);r.call=u,r.apply=h}else{var c=Object.getOwnPropertyNames(t);c.forEach(function(r){if(!o.test(r)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i)}})}return i(this,e),e},configurable:!0})}},function(t,e){/*!
	 * Chai - overwriteChainableMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,r,i){var n=t.__methods[e],a=n.chainingBehavior;n.chainingBehavior=function(){var t=i(a).call(this);return void 0===t?this:t};var s=n.method;n.method=function(){var t=r(s).apply(this,arguments);return void 0===t?this:t}}},function(t,e,r){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var i=r(266);t.exports=function(t,e){/*!
	   * Assertion Constructor
	   *
	   * Creates object for chaining.
	   *
	   * @api private
	   */
function r(t,e,r){a(this,"ssfi",r||arguments.callee),a(this,"object",t),a(this,"message",e)}/*!
	   * Module dependencies.
	   */
var n=t.AssertionError,a=e.flag;/*!
	   * Module export.
	   */
t.Assertion=r,Object.defineProperty(r,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),i.includeStack},set:function(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),i.includeStack=t}}),Object.defineProperty(r,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),i.showDiff},set:function(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),i.showDiff=t}}),r.addProperty=function(t,r){e.addProperty(this.prototype,t,r)},r.addMethod=function(t,r){e.addMethod(this.prototype,t,r)},r.addChainableMethod=function(t,r,i){e.addChainableMethod(this.prototype,t,r,i)},r.overwriteProperty=function(t,r){e.overwriteProperty(this.prototype,t,r)},r.overwriteMethod=function(t,r){e.overwriteMethod(this.prototype,t,r)},r.overwriteChainableMethod=function(t,r,i){e.overwriteChainableMethod(this.prototype,t,r,i)},r.prototype.assert=function(t,r,s,o,u,h){var c=e.test(this,arguments);if(!0!==h&&(h=!1),!0!==i.showDiff&&(h=!1),!c){var r=e.getMessage(this,arguments),l=e.getActual(this,arguments);throw new n(r,{actual:l,expected:o,showDiff:h},i.includeStack?this.assert:a(this,"ssfi"))}},/*!
	   * ### ._obj
	   *
	   * Quick reference to stored `actual` value for plugin developers.
	   *
	   * @api private
	   */
Object.defineProperty(r.prototype,"_obj",{get:function(){return a(this,"object")},set:function(t){a(this,"object",t)}})}},function(t,e){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){function r(t,r){r&&R(this,"message",r),t=t.toLowerCase();var i=R(this,"object"),n=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(i),"expected #{this} to be "+n+t,"expected #{this} not to be "+n+t)}function i(){R(this,"contains",!0)}function n(t,r){e.expectTypes(this,["array","object","string"]),r&&R(this,"message",r);var i=R(this,"object"),n=!1;if("array"===e.type(i)&&"object"===e.type(t)){for(var a in i)if(e.eql(i[a],t)){n=!0;break}}else if("object"===e.type(t)){if(!R(this,"negate")){for(var s in t)new E(i).property(s,t[s]);return}var o={};for(var s in t)o[s]=i[s];n=e.eql(o,t)}else n=void 0!=i&&~i.indexOf(t);this.assert(n,"expected #{this} to include "+e.inspect(t),"expected #{this} to not include "+e.inspect(t))}function a(){var t=R(this,"object"),e=Object.prototype.toString.call(t);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function s(t,e){e&&R(this,"message",e);var r=R(this,"object");return R(this,"deep")?this.eql(t):void this.assert(t===r,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function o(t,r){r&&R(this,"message",r),this.assert(e.eql(t,R(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function u(t,e){e&&R(this,"message",e);var r=R(this,"object");if(R(this,"doLength")){new E(r,e).to.have.property("length");var i=r.length;this.assert(i>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,i)}else this.assert(r>t,"expected #{this} to be above "+t,"expected #{this} to be at most "+t)}function h(t,e){e&&R(this,"message",e);var r=R(this,"object");if(R(this,"doLength")){new E(r,e).to.have.property("length");var i=r.length;this.assert(i>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,i)}else this.assert(r>=t,"expected #{this} to be at least "+t,"expected #{this} to be below "+t)}function c(t,e){e&&R(this,"message",e);var r=R(this,"object");if(R(this,"doLength")){new E(r,e).to.have.property("length");var i=r.length;this.assert(i<t,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,i)}else this.assert(r<t,"expected #{this} to be below "+t,"expected #{this} to be at least "+t)}function l(t,e){e&&R(this,"message",e);var r=R(this,"object");if(R(this,"doLength")){new E(r,e).to.have.property("length");var i=r.length;this.assert(i<=t,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,i)}else this.assert(r<=t,"expected #{this} to be at most "+t,"expected #{this} to be above "+t)}function d(t,r){r&&R(this,"message",r);var i=e.getName(t);this.assert(R(this,"object")instanceof t,"expected #{this} to be an instance of "+i,"expected #{this} to not be an instance of "+i)}function f(t,r){r&&R(this,"message",r);var i=R(this,"object");this.assert(i.hasOwnProperty(t),"expected #{this} to have own property "+e.inspect(t),"expected #{this} to not have own property "+e.inspect(t))}function p(t,r,i){"string"==typeof r&&(i=r,r=null),i&&R(this,"message",i);var n=R(this,"object"),a=Object.getOwnPropertyDescriptor(Object(n),t);a&&r?this.assert(e.eql(r,a),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to match "+e.inspect(r)+", got "+e.inspect(a),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to not match "+e.inspect(r),r,a,!0):this.assert(a,"expected #{this} to have an own property descriptor for "+e.inspect(t),"expected #{this} to not have an own property descriptor for "+e.inspect(t)),R(this,"object",a)}function g(){R(this,"doLength",!0)}function _(t,e){e&&R(this,"message",e);var r=R(this,"object");new E(r,e).to.have.property("length");var i=r.length;this.assert(i==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,i)}function m(t,e){e&&R(this,"message",e);var r=R(this,"object");this.assert(t.exec(r),"expected #{this} to match "+t,"expected #{this} not to match "+t)}function v(t){var r,i=R(this,"object"),n=!0,a="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(e.type(t)){case"array":if(arguments.length>1)throw new Error(a);break;case"object":if(arguments.length>1)throw new Error(a);t=Object.keys(t);break;default:t=Array.prototype.slice.call(arguments)}if(!t.length)throw new Error("keys required");var s=Object.keys(i),o=t,u=t.length,h=R(this,"any"),c=R(this,"all");if(h||c||(c=!0),h){var l=o.filter(function(t){return~s.indexOf(t)});n=l.length>0}if(c&&(n=t.every(function(t){return~s.indexOf(t)}),R(this,"negate")||R(this,"contains")||(n=n&&t.length==s.length)),u>1){t=t.map(function(t){return e.inspect(t)});var d=t.pop();c&&(r=t.join(", ")+", and "+d),h&&(r=t.join(", ")+", or "+d)}else r=e.inspect(t[0]);r=(u>1?"keys ":"key ")+r,r=(R(this,"contains")?"contain ":"have ")+r,this.assert(n,"expected #{this} to "+r,"expected #{this} to not "+r,o.slice(0).sort(),s.sort(),!0)}function b(t,r,i){i&&R(this,"message",i);var n=R(this,"object");new E(n,i).is.a("function");var a=!1,s=null,o=null,u=null;0===arguments.length?(r=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)?(r=t,t=null):t&&t instanceof Error?(s=t,t=null,r=null):"function"==typeof t?(o=t.prototype.name,(!o||"Error"===o&&t!==Error)&&(o=t.name||(new t).name)):t=null;try{n()}catch(i){if(s)return this.assert(i===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,i instanceof Error?i.toString():i),R(this,"object",i),this;if(t&&(this.assert(i instanceof t,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",o,i instanceof Error?i.toString():i),!r))return R(this,"object",i),this;var h="error"===e.type(i)&&"message"in i?i.message:""+i;if(null!=h&&r&&r instanceof RegExp)return this.assert(r.exec(h),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",r,h),R(this,"object",i),this;if(null!=h&&r&&"string"==typeof r)return this.assert(~h.indexOf(r),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",r,h),R(this,"object",i),this;a=!0,u=i}var c="",l=null!==o?o:s?"#{exp}":"an error";a&&(c=" but #{act} was thrown"),this.assert(a===!0,"expected #{this} to throw "+l+c,"expected #{this} to not throw "+l+c,s instanceof Error?s.toString():s,u instanceof Error?u.toString():u),R(this,"object",u)}function x(t,r){r&&R(this,"message",r);var i=R(this,"object"),n=R(this,"itself"),a="function"!==e.type(i)||n?i[t]:i.prototype[t];this.assert("function"==typeof a,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}function y(t,r){r&&R(this,"message",r);var i=R(this,"object"),n=t(i);this.assert(n,"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),!this.negate,n)}function S(t,r,i){i&&R(this,"message",i);var n=R(this,"object");if(new E(n,i).is.a("number"),"number"!==e.type(t)||"number"!==e.type(r))throw new Error("the arguments to closeTo or approximately must be numbers");this.assert(Math.abs(n-t)<=r,"expected #{this} to be close to "+t+" +/- "+r,"expected #{this} not to be close to "+t+" +/- "+r)}function T(t,e,r){return t.every(function(t){return r?e.some(function(e){return r(t,e)}):e.indexOf(t)!==-1})}function M(t,e){e&&R(this,"message",e);var r=R(this,"object");new E(t).to.be.an("array"),this.assert(t.indexOf(r)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",t,r)}function A(t,e,r){r&&R(this,"message",r);var i=R(this,"object");new E(t,r).to.have.property(e),new E(i).is.a("function");var n=t[e];i(),this.assert(n!==t[e],"expected ."+e+" to change","expected ."+e+" to not change")}function w(t,e,r){r&&R(this,"message",r);var i=R(this,"object");new E(t,r).to.have.property(e),new E(i).is.a("function");var n=t[e];i(),this.assert(t[e]-n>0,"expected ."+e+" to increase","expected ."+e+" to not increase")}function C(t,e,r){r&&R(this,"message",r);var i=R(this,"object");new E(t,r).to.have.property(e),new E(i).is.a("function");var n=t[e];i(),this.assert(t[e]-n<0,"expected ."+e+" to decrease","expected ."+e+" to not decrease")}var E=t.Assertion,R=(Object.prototype.toString,e.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(t){E.addProperty(t,function(){return this})}),E.addProperty("not",function(){R(this,"negate",!0)}),E.addProperty("deep",function(){R(this,"deep",!0)}),E.addProperty("any",function(){R(this,"any",!0),R(this,"all",!1)}),E.addProperty("all",function(){R(this,"all",!0),R(this,"any",!1)}),E.addChainableMethod("an",r),E.addChainableMethod("a",r),E.addChainableMethod("include",n,i),E.addChainableMethod("contain",n,i),E.addChainableMethod("contains",n,i),E.addChainableMethod("includes",n,i),E.addProperty("ok",function(){this.assert(R(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),E.addProperty("true",function(){this.assert(!0===R(this,"object"),"expected #{this} to be true","expected #{this} to be false",!this.negate)}),E.addProperty("false",function(){this.assert(!1===R(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!this.negate)}),E.addProperty("null",function(){this.assert(null===R(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),E.addProperty("undefined",function(){this.assert(void 0===R(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),E.addProperty("NaN",function(){this.assert(isNaN(R(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),E.addProperty("exist",function(){this.assert(null!=R(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),E.addProperty("empty",function(){var t=R(this,"object"),e=t;Array.isArray(t)||"string"==typeof object?e=t.length:"object"==typeof t&&(e=Object.keys(t).length),this.assert(!e,"expected #{this} to be empty","expected #{this} not to be empty")}),E.addProperty("arguments",a),E.addProperty("Arguments",a),E.addMethod("equal",s),E.addMethod("equals",s),E.addMethod("eq",s),E.addMethod("eql",o),E.addMethod("eqls",o),E.addMethod("above",u),E.addMethod("gt",u),E.addMethod("greaterThan",u),E.addMethod("least",h),E.addMethod("gte",h),E.addMethod("below",c),E.addMethod("lt",c),E.addMethod("lessThan",c),E.addMethod("most",l),E.addMethod("lte",l),E.addMethod("within",function(t,e,r){r&&R(this,"message",r);var i=R(this,"object"),n=t+".."+e;if(R(this,"doLength")){new E(i,r).to.have.property("length");var a=i.length;this.assert(a>=t&&a<=e,"expected #{this} to have a length within "+n,"expected #{this} to not have a length within "+n)}else this.assert(i>=t&&i<=e,"expected #{this} to be within "+n,"expected #{this} to not be within "+n)}),E.addMethod("instanceof",d),E.addMethod("instanceOf",d),E.addMethod("property",function(t,r,i){i&&R(this,"message",i);var n=!!R(this,"deep"),a=n?"deep property ":"property ",s=R(this,"negate"),o=R(this,"object"),u=n?e.getPathInfo(t,o):null,h=n?u.exists:e.hasProperty(t,o),c=n?u.value:o[t];if(s&&arguments.length>1){if(void 0===c)throw i=null!=i?i+": ":"",new Error(i+e.inspect(o)+" has no "+a+e.inspect(t))}else this.assert(h,"expected #{this} to have a "+a+e.inspect(t),"expected #{this} to not have "+a+e.inspect(t));arguments.length>1&&this.assert(r===c,"expected #{this} to have a "+a+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have a "+a+e.inspect(t)+" of #{act}",r,c),R(this,"object",c)}),E.addMethod("ownProperty",f),E.addMethod("haveOwnProperty",f),E.addMethod("ownPropertyDescriptor",p),E.addMethod("haveOwnPropertyDescriptor",p),E.addChainableMethod("length",_,g),E.addMethod("lengthOf",_),E.addMethod("match",m),E.addMethod("matches",m),E.addMethod("string",function(t,r){r&&R(this,"message",r);var i=R(this,"object");new E(i,r).is.a("string"),this.assert(~i.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),E.addMethod("keys",v),E.addMethod("key",v),E.addMethod("throw",b),E.addMethod("throws",b),E.addMethod("Throw",b),E.addMethod("respondTo",x),E.addMethod("respondsTo",x),E.addProperty("itself",function(){R(this,"itself",!0)}),E.addMethod("satisfy",y),E.addMethod("satisfies",y),E.addMethod("closeTo",S),E.addMethod("approximately",S),E.addMethod("members",function(t,r){r&&R(this,"message",r);var i=R(this,"object");new E(i).to.be.an("array"),new E(t).to.be.an("array");var n=R(this,"deep")?e.eql:void 0;return R(this,"contains")?this.assert(T(t,i,n),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",i,t):void this.assert(T(i,t,n)&&T(t,i,n),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",i,t)}),E.addMethod("oneOf",M),E.addChainableMethod("change",A),E.addChainableMethod("changes",A),E.addChainableMethod("increase",w),E.addChainableMethod("increases",w),E.addChainableMethod("decrease",C),E.addChainableMethod("decreases",C),E.addProperty("extensible",function(){var t,e=R(this,"object");try{t=Object.isExtensible(e)}catch(e){if(!(e instanceof TypeError))throw e;t=!1}this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")}),E.addProperty("sealed",function(){var t,e=R(this,"object");try{t=Object.isSealed(e)}catch(e){if(!(e instanceof TypeError))throw e;t=!0}this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")}),E.addProperty("frozen",function(){var t,e=R(this,"object");try{t=Object.isFrozen(e)}catch(e){if(!(e instanceof TypeError))throw e;t=!0}this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")})}},function(t,e){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){t.expect=function(e,r){return new t.Assertion(e,r)},t.expect.fail=function(e,r,i,n){throw i=i||"expect.fail()",new t.AssertionError(i,{actual:e,expected:r,operator:n},t.expect.fail)}}},function(t,e){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){function r(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean?new i(this.valueOf(),null,e):new i(this,null,e)}function r(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:r,get:e,configurable:!0});var n={};return n.fail=function(e,r,i,a){throw i=i||"should.fail()",new t.AssertionError(i,{actual:e,expected:r,operator:a},n.fail)},n.equal=function(t,e,r){new i(t,r).to.equal(e)},n.Throw=function(t,e,r,n){new i(t,n).to.Throw(e,r)},n.exist=function(t,e){new i(t,e).to.exist},n.not={},n.not.equal=function(t,e,r){new i(t,r).to.not.equal(e)},n.not.Throw=function(t,e,r,n){new i(t,n).to.not.Throw(e,r)},n.not.exist=function(t,e){new i(t,e).to.not.exist},n.throw=n.Throw,n.not.throw=n.not.Throw,n}var i=t.Assertion;t.should=r,t.Should=r}},function(t,e){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){/*!
	   * Chai dependencies.
	   */
var r=t.Assertion,i=e.flag,n=t.assert=function(e,i){var n=new r(null,null,t.assert);n.assert(e,i,"[ negation message unavailable ]")};n.fail=function(e,r,i,a){throw i=i||"assert.fail()",new t.AssertionError(i,{actual:e,expected:r,operator:a},n.fail)},n.isOk=function(t,e){new r(t,e).is.ok},n.isNotOk=function(t,e){new r(t,e).is.not.ok},n.equal=function(t,e,a){var s=new r(t,a,n.equal);s.assert(e==i(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t)},n.notEqual=function(t,e,a){var s=new r(t,a,n.notEqual);s.assert(e!=i(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t)},n.strictEqual=function(t,e,i){new r(t,i).to.equal(e)},n.notStrictEqual=function(t,e,i){new r(t,i).to.not.equal(e)},n.deepEqual=function(t,e,i){new r(t,i).to.eql(e)},n.notDeepEqual=function(t,e,i){new r(t,i).to.not.eql(e)},n.isAbove=function(t,e,i){new r(t,i).to.be.above(e)},n.isAtLeast=function(t,e,i){new r(t,i).to.be.least(e)},n.isBelow=function(t,e,i){new r(t,i).to.be.below(e)},n.isAtMost=function(t,e,i){new r(t,i).to.be.most(e)},n.isTrue=function(t,e){new r(t,e).is.true},n.isNotTrue=function(t,e){new r(t,e).to.not.equal(!0)},n.isFalse=function(t,e){new r(t,e).is.false},n.isNotFalse=function(t,e){new r(t,e).to.not.equal(!1)},n.isNull=function(t,e){new r(t,e).to.equal(null)},n.isNotNull=function(t,e){new r(t,e).to.not.equal(null)},n.isNaN=function(t,e){new r(t,e).to.be.NaN},n.isNotNaN=function(t,e){new r(t,e).not.to.be.NaN},n.isUndefined=function(t,e){new r(t,e).to.equal(void 0)},n.isDefined=function(t,e){new r(t,e).to.not.equal(void 0)},n.isFunction=function(t,e){new r(t,e).to.be.a("function")},n.isNotFunction=function(t,e){new r(t,e).to.not.be.a("function")},n.isObject=function(t,e){new r(t,e).to.be.a("object")},n.isNotObject=function(t,e){new r(t,e).to.not.be.a("object")},n.isArray=function(t,e){new r(t,e).to.be.an("array")},n.isNotArray=function(t,e){new r(t,e).to.not.be.an("array")},n.isString=function(t,e){new r(t,e).to.be.a("string")},n.isNotString=function(t,e){new r(t,e).to.not.be.a("string")},n.isNumber=function(t,e){new r(t,e).to.be.a("number")},n.isNotNumber=function(t,e){new r(t,e).to.not.be.a("number")},n.isBoolean=function(t,e){new r(t,e).to.be.a("boolean")},n.isNotBoolean=function(t,e){new r(t,e).to.not.be.a("boolean")},n.typeOf=function(t,e,i){new r(t,i).to.be.a(e)},n.notTypeOf=function(t,e,i){new r(t,i).to.not.be.a(e)},n.instanceOf=function(t,e,i){new r(t,i).to.be.instanceOf(e)},n.notInstanceOf=function(t,e,i){new r(t,i).to.not.be.instanceOf(e)},n.include=function(t,e,i){new r(t,i,n.include).include(e)},n.notInclude=function(t,e,i){new r(t,i,n.notInclude).not.include(e)},n.match=function(t,e,i){new r(t,i).to.match(e)},n.notMatch=function(t,e,i){new r(t,i).to.not.match(e)},n.property=function(t,e,i){new r(t,i).to.have.property(e)},n.notProperty=function(t,e,i){new r(t,i).to.not.have.property(e)},n.deepProperty=function(t,e,i){new r(t,i).to.have.deep.property(e)},n.notDeepProperty=function(t,e,i){new r(t,i).to.not.have.deep.property(e)},n.propertyVal=function(t,e,i,n){new r(t,n).to.have.property(e,i)},n.propertyNotVal=function(t,e,i,n){new r(t,n).to.not.have.property(e,i)},n.deepPropertyVal=function(t,e,i,n){new r(t,n).to.have.deep.property(e,i)},n.deepPropertyNotVal=function(t,e,i,n){new r(t,n).to.not.have.deep.property(e,i)},n.lengthOf=function(t,e,i){new r(t,i).to.have.length(e)},n.throws=function(t,e,n,a){("string"==typeof e||e instanceof RegExp)&&(n=e,e=null);var s=new r(t,a).to.throw(e,n);return i(s,"object")},n.doesNotThrow=function(t,e,i){"string"==typeof e&&(i=e,e=null),new r(t,i).to.not.Throw(e)},n.operator=function(t,n,a,s){var o;switch(n){case"==":o=t==a;break;case"===":o=t===a;break;case">":o=t>a;break;case">=":o=t>=a;break;case"<":o=t<a;break;case"<=":o=t<=a;break;case"!=":o=t!=a;break;case"!==":o=t!==a;break;default:throw new Error('Invalid operator "'+n+'"')}var u=new r(o,s);u.assert(!0===i(u,"object"),"expected "+e.inspect(t)+" to be "+n+" "+e.inspect(a),"expected "+e.inspect(t)+" to not be "+n+" "+e.inspect(a))},n.closeTo=function(t,e,i,n){new r(t,n).to.be.closeTo(e,i)},n.approximately=function(t,e,i,n){new r(t,n).to.be.approximately(e,i)},n.sameMembers=function(t,e,i){new r(t,i).to.have.same.members(e)},n.sameDeepMembers=function(t,e,i){new r(t,i).to.have.same.deep.members(e)},n.includeMembers=function(t,e,i){new r(t,i).to.include.members(e)},n.includeDeepMembers=function(t,e,i){new r(t,i).to.include.deep.members(e)},n.oneOf=function(t,e,i){new r(t,i).to.be.oneOf(e)},n.changes=function(t,e,i){new r(t).to.change(e,i)},n.doesNotChange=function(t,e,i){new r(t).to.not.change(e,i)},n.increases=function(t,e,i){new r(t).to.increase(e,i)},n.doesNotIncrease=function(t,e,i){new r(t).to.not.increase(e,i)},n.decreases=function(t,e,i){new r(t).to.decrease(e,i)},n.doesNotDecrease=function(t,e,i){new r(t).to.not.decrease(e,i)},/*!
	   * ### .ifError(object)
	   *
	   * Asserts if value is not a false value, and throws if it is a true value.
	   * This is added to allow for chai to be a drop-in replacement for Node's
	   * assert class.
	   *
	   *     var err = new Error('I am a custom error');
	   *     assert.ifError(err); // Rethrows err!
	   *
	   * @name ifError
	   * @param {Object} object
	   * @namespace Assert
	   * @api public
	   */
n.ifError=function(t){if(t)throw t},n.isExtensible=function(t,e){new r(t,e).to.be.extensible},n.isNotExtensible=function(t,e){new r(t,e).to.not.be.extensible},n.isSealed=function(t,e){new r(t,e).to.be.sealed},n.isNotSealed=function(t,e){new r(t,e).to.not.be.sealed},n.isFrozen=function(t,e){new r(t,e).to.be.frozen},n.isNotFrozen=function(t,e){new r(t,e).to.not.be.frozen},/*!
	   * Aliases.
	   */
function t(e,r){return n[r]=n[e],t}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")}},function(t,e){"use strict";var r=function(){return{children:[{children:[{children:[{children:[{attributes:{Normal:{elements:[.04907,.00483,-.99878,.04907,.00483,-.99878,.04907,.00483,-.99878,.14671,.01445,-.98907,.14671,.01445,-.98907,.14671,.01445,-.98907,.14671,.01445,-.98907,.24291,.02392,-.96975,.24291,.02392,-.96975,.24291,.02392,-.96975,.24291,.02392,-.96975,.3367,.03316,-.94103,.3367,.03316,-.94103,.3367,.03316,-.94103,.3367,.03316,-.94103,.42718,.04207,-.90319,.42718,.04207,-.90319,.42718,.04207,-.90319,.42718,.04207,-.90319,.51345,.05057,-.85663,.51345,.05057,-.85663,.51345,.05057,-.85663,.51345,.05057,-.85663,.59468,.05857,-.80183,.59468,.05857,-.80183,.59468,.05857,-.80183,.59468,.05857,-.80183,.6701,.066,-.73934,.6701,.066,-.73934,.6701,.066,-.73934,.6701,.066,-.73934,.73899,.07278,-.66978,.73899,.07278,-.66978,.73899,.07278,-.66978,.73899,.07278,-.66978,.80071,.07886,-.59384,.80071,.07886,-.59384,.80071,.07886,-.59384,.80071,.07886,-.59384,.85468,.08418,-.51228,.85468,.08418,-.51228,.85468,.08418,-.51228,.85468,.08418,-.51228,.90043,.08868,-.42587,.90043,.08868,-.42587,.90043,.08868,-.42587,.90043,.08868,-.42587,.93752,.09233,-.33545,.93752,.09233,-.33545,.93752,.09233,-.33545,.93752,.09233,-.33545,.96563,.0951,-.24188,.96563,.0951,-.24188,.96563,.0951,-.24188,.96563,.0951,-.24188,.98452,.09696,-.14604,.98452,.09696,-.14604,.98452,.09696,-.14604,.98452,.09696,-.14604,.994,.0979,-.04883,.994,.0979,-.04883,.994,.0979,-.04883,.994,.0979,-.04883,.994,.0979,.04883,.994,.0979,.04883,.994,.0979,.04883,.994,.0979,.04883,.98452,.09696,.14604,.98452,.09696,.14604,.98452,.09696,.14604,.98452,.09696,.14604,.96563,.0951,.24188,.96563,.0951,.24188,.96563,.0951,.24188,.96563,.0951,.24188,.93752,.09233,.33545,.93752,.09233,.33545,.93752,.09233,.33545,.93752,.09233,.33545,.90043,.08868,.42587,.90043,.08868,.42587,.90043,.08868,.42587,.90043,.08868,.42587,.85468,.08418,.51228,.85468,.08418,.51228,.85468,.08418,.51228,.85468,.08418,.51228,.80071,.07886,.59384,.80071,.07886,.59384,.80071,.07886,.59384,.80071,.07886,.59384,.73899,.07278,.66978,.73899,.07278,.66978,.73899,.07278,.66978,.73899,.07278,.66978,.6701,.066,.73934,.6701,.066,.73934,.6701,.066,.73934,.6701,.066,.73934,.59468,.05857,.80183,.59468,.05857,.80183,.59468,.05857,.80183,.59468,.05857,.80183,.51345,.05057,.85663,.51345,.05057,.85663,.51345,.05057,.85663,.51345,.05057,.85663,.42718,.04207,.90319,.42718,.04207,.90319,.42718,.04207,.90319,.42718,.04207,.90319,.33671,.03316,.94103,.33671,.03316,.94103,.33671,.03316,.94103,.33671,.03316,.94103,.24291,.02392,.96975,.24291,.02392,.96975,.24291,.02392,.96975,.24291,.02392,.96975,.14672,.01445,.98907,.14672,.01445,.98907,.14672,.01445,.98907,.14672,.01445,.98907,.04907,.00483,.99878,.04907,.00483,.99878,.04907,.00483,.99878,.04718,.01431,.99878,.04718,.01431,.99878,.04718,.01431,.99878,.14108,.0428,.98907,.14108,.0428,.98907,.14108,.0428,.98907,.14108,.0428,.98907,.23358,.07085,.96975,.23358,.07085,.96975,.23358,.07085,.96975,.23358,.07085,.96975,.32377,.09821,.94103,.32377,.09821,.94103,.32377,.09821,.94103,.32377,.09821,.94103,.41076,.1246,.90319,.41076,.1246,.90319,.41076,.1246,.90319,.41076,.1246,.90319,.49371,.14977,.85663,.49371,.14977,.85663,.49371,.14977,.85663,.49371,.14977,.85663,.57182,.17346,.80183,.57182,.17346,.80183,.57182,.17346,.80183,.57182,.17346,.80183,.64434,.19546,.73934,.64434,.19546,.73934,.64434,.19546,.73934,.64434,.19546,.73934,.71059,.21555,.66978,.71059,.21555,.66978,.71059,.21555,.66978,.71059,.21555,.66978,.76994,.23356,.59384,.76994,.23356,.59384,.76994,.23356,.59384,.76994,.23356,.59384,.82184,.2493,.51228,.82184,.2493,.51228,.82184,.2493,.51228,.82184,.2493,.51228,.86582,.26265,.42587,.86582,.26265,.42587,.86582,.26265,.42587,.86582,.26265,.42587,.90149,.27347,.33545,.90149,.27347,.33545,.90149,.27347,.33545,.90149,.27347,.33545,.92853,.28167,.24188,.92853,.28167,.24188,.92853,.28167,.24188,.92853,.28167,.24188,.94668,.28717,.14604,.94668,.28717,.14604,.94668,.28717,.14604,.94668,.28717,.14604,.9558,.28994,.04883,.9558,.28994,.04883,.9558,.28994,.04883,.9558,.28994,.04883,.9558,.28994,-.04883,.9558,.28994,-.04883,.9558,.28994,-.04883,.9558,.28994,-.04883,.94668,.28717,-.14604,.94668,.28717,-.14604,.94668,.28717,-.14604,.94668,.28717,-.14604,.92853,.28167,-.24188,.92853,.28167,-.24188,.92853,.28167,-.24188,.92853,.28167,-.24188,.90149,.27347,-.33545,.90149,.27347,-.33545,.90149,.27347,-.33545,.90149,.27347,-.33545,.86582,.26265,-.42587,.86582,.26265,-.42587,.86582,.26265,-.42587,.86582,.26265,-.42587,.82184,.2493,-.51228,.82184,.2493,-.51228,.82184,.2493,-.51228,.82184,.2493,-.51228,.76993,.23356,-.59384,.76993,.23356,-.59384,.76993,.23356,-.59384,.76993,.23356,-.59384,.71059,.21555,-.66978,.71059,.21555,-.66978,.71059,.21555,-.66978,.71059,.21555,-.66978,.64434,.19546,-.73934,.64434,.19546,-.73934,.64434,.19546,-.73934,.64434,.19546,-.73934,.57182,.17346,-.80183,.57182,.17346,-.80183,.57182,.17346,-.80183,.57182,.17346,-.80183,.49371,.14977,-.85663,.49371,.14977,-.85663,.49371,.14977,-.85663,.49371,.14977,-.85663,.41076,.1246,-.90319,.41076,.1246,-.90319,.41076,.1246,-.90319,.41076,.1246,-.90319,.32376,.09821,-.94103,.32376,.09821,-.94103,.32376,.09821,-.94103,.32376,.09821,-.94103,.23357,.07085,-.96975,.23357,.07085,-.96975,.23357,.07085,-.96975,.23357,.07085,-.96975,.14108,.0428,-.98907,.14108,.0428,-.98907,.14108,.0428,-.98907,.14108,.0428,-.98907,.04718,.01431,-.99878,.04718,.01431,-.99878,.04718,.01431,-.99878,.04348,.02324,-.99878,.04348,.02324,-.99878,.04348,.02324,-.99878,.13002,.0695,-.98907,.13002,.0695,-.98907,.13002,.0695,-.98907,.13002,.0695,-.98907,.21526,.11506,-.96975,.21526,.11506,-.96975,.21526,.11506,-.96975,.21526,.11506,-.96975,.29838,.15949,-.94103,.29838,.15949,-.94103,.29838,.15949,-.94103,.29838,.15949,-.94103,.37856,.20234,-.90319,.37856,.20234,-.90319,.37856,.20234,-.90319,.37856,.20234,-.90319,.45501,.24321,-.85663,.45501,.24321,-.85663,.45501,.24321,-.85663,.45501,.24321,-.85663,.527,.28168,-.80183,.527,.28168,-.80183,.527,.28168,-.80183,.527,.28168,-.80183,.59383,.31741,-.73934,.59383,.31741,-.73934,.59383,.31741,-.73934,.59383,.31741,-.73934,.65488,.35004,-.66978,.65488,.35004,-.66978,.65488,.35004,-.66978,.65488,.35004,-.66978,.70958,.37928,-.59384,.70958,.37928,-.59384,.70958,.37928,-.59384,.70958,.37928,-.59384,.75741,.40484,-.51228,.75741,.40484,-.51228,.75741,.40484,-.51228,.75741,.40484,-.51228,.79795,.42651,-.42587,.79795,.42651,-.42587,.79795,.42651,-.42587,.79795,.42651,-.42587,.83082,.44408,-.33545,.83082,.44408,-.33545,.83082,.44408,-.33545,.83082,.44408,-.33545,.85573,.4574,-.24188,.85573,.4574,-.24188,.85573,.4574,-.24188,.85573,.4574,-.24188,.87247,.46634,-.14604,.87247,.46634,-.14604,.87247,.46634,-.14604,.87247,.46634,-.14604,.88087,.47083,-.04883,.88087,.47083,-.04883,.88087,.47083,-.04883,.88087,.47083,-.04883,.88087,.47083,.04883,.88087,.47083,.04883,.88087,.47083,.04883,.88087,.47083,.04883,.87247,.46634,.14604,.87247,.46634,.14604,.87247,.46634,.14604,.87247,.46634,.14604,.85573,.4574,.24188,.85573,.4574,.24188,.85573,.4574,.24188,.85573,.4574,.24188,.83082,.44408,.33545,.83082,.44408,.33545,.83082,.44408,.33545,.83082,.44408,.33545,.79795,.42651,.42587,.79795,.42651,.42587,.79795,.42651,.42587,.79795,.42651,.42587,.75741,.40484,.51228,.75741,.40484,.51228,.75741,.40484,.51228,.75741,.40484,.51228,.70958,.37928,.59384,.70958,.37928,.59384,.70958,.37928,.59384,.70958,.37928,.59384,.65488,.35004,.66978,.65488,.35004,.66978,.65488,.35004,.66978,.65488,.35004,.66978,.59383,.31741,.73934,.59383,.31741,.73934,.59383,.31741,.73934,.59383,.31741,.73934,.527,.28169,.80183,.527,.28169,.80183,.527,.28169,.80183,.527,.28169,.80183,.45501,.24321,.85663,.45501,.24321,.85663,.45501,.24321,.85663,.45501,.24321,.85663,.37856,.20234,.90319,.37856,.20234,.90319,.37856,.20234,.90319,.37856,.20234,.90319,.29838,.15949,.94103,.29838,.15949,.94103,.29838,.15949,.94103,.29838,.15949,.94103,.21526,.11506,.96975,.21526,.11506,.96975,.21526,.11506,.96975,.21526,.11506,.96975,.13002,.0695,.98907,.13002,.0695,.98907,.13002,.0695,.98907,.13002,.0695,.98907,.04348,.02324,.99878,.04348,.02324,.99878,.04348,.02324,.99878,.03811,.03128,.99878,.03811,.03128,.99878,.03811,.03128,.99878,.11396,.09353,.98907,.11396,.09353,.98907,.11396,.09353,.98907,.11396,.09353,.98907,.18868,.15485,.96975,.18868,.15485,.96975,.18868,.15485,.96975,.18868,.15485,.96975,.26154,.21464,.94103,.26154,.21464,.94103,.26154,.21464,.94103,.26154,.21464,.94103,.33181,.27231,.90319,.33181,.27231,.90319,.33181,.27231,.90319,.33181,.27231,.90319,.39882,.3273,.85663,.39882,.3273,.85663,.39882,.3273,.85663,.39882,.3273,.85663,.46192,.37908,.80183,.46192,.37908,.80183,.46192,.37908,.80183,.46192,.37908,.80183,.5205,.42716,.73934,.5205,.42716,.73934,.5205,.42716,.73934,.5205,.42716,.73934,.57401,.47108,.66978,.57401,.47108,.66978,.57401,.47108,.66978,.57401,.47108,.66978,.62195,.51042,.59384,.62195,.51042,.59384,.62195,.51042,.59384,.62195,.51042,.59384,.66388,.54483,.51228,.66388,.54483,.51228,.66388,.54483,.51228,.66388,.54483,.51228,.69941,.57399,.42587,.69941,.57399,.42587,.69941,.57399,.42587,.69941,.57399,.42587,.72822,.59764,.33545,.72822,.59764,.33545,.72822,.59764,.33545,.72822,.59764,.33545,.75006,.61556,.24188,.75006,.61556,.24188,.75006,.61556,.24188,.75006,.61556,.24188,.76472,.62759,.14604,.76472,.62759,.14604,.76472,.62759,.14604,.76472,.62759,.14604,.77209,.63364,.04883,.77209,.63364,.04883,.77209,.63364,.04883,.77209,.63364,.04883,.77209,.63364,-.04883,.77209,.63364,-.04883,.77209,.63364,-.04883,.77209,.63364,-.04883,.76472,.62759,-.14604,.76472,.62759,-.14604,.76472,.62759,-.14604,.76472,.62759,-.14604,.75006,.61556,-.24188,.75006,.61556,-.24188,.75006,.61556,-.24188,.75006,.61556,-.24188,.72822,.59764,-.33545,.72822,.59764,-.33545,.72822,.59764,-.33545,.72822,.59764,-.33545,.69941,.57399,-.42587,.69941,.57399,-.42587,.69941,.57399,-.42587,.69941,.57399,-.42587,.66388,.54483,-.51228,.66388,.54483,-.51228,.66388,.54483,-.51228,.66388,.54483,-.51228,.62195,.51042,-.59384,.62195,.51042,-.59384,.62195,.51042,-.59384,.62195,.51042,-.59384,.57401,.47108,-.66978,.57401,.47108,-.66978,.57401,.47108,-.66978,.57401,.47108,-.66978,.5205,.42716,-.73934,.5205,.42716,-.73934,.5205,.42716,-.73934,.5205,.42716,-.73934,.46192,.37908,-.80183,.46192,.37908,-.80183,.46192,.37908,-.80183,.46192,.37908,-.80183,.39882,.3273,-.85663,.39882,.3273,-.85663,.39882,.3273,-.85663,.39882,.3273,-.85663,.33181,.27231,-.90319,.33181,.27231,-.90319,.33181,.27231,-.90319,.33181,.27231,-.90319,.26154,.21464,-.94103,.26154,.21464,-.94103,.26154,.21464,-.94103,.26154,.21464,-.94103,.18868,.15485,-.96975,.18868,.15485,-.96975,.18868,.15485,-.96975,.18868,.15485,-.96975,.11396,.09353,-.98907,.11396,.09353,-.98907,.11396,.09353,-.98907,.11396,.09353,-.98907,.03811,.03128,-.99878,.03811,.03128,-.99878,.03811,.03128,-.99878,.03128,.03811,-.99878,.03128,.03811,-.99878,.03128,.03811,-.99878,.09353,.11396,-.98907,.09353,.11396,-.98907,.09353,.11396,-.98907,.09353,.11396,-.98907,.15485,.18868,-.96975,.15485,.18868,-.96975,.15485,.18868,-.96975,.15485,.18868,-.96975,.21464,.26154,-.94103,.21464,.26154,-.94103,.21464,.26154,-.94103,.21464,.26154,-.94103,.27231,.33181,-.90319,.27231,.33181,-.90319,.27231,.33181,-.90319,.27231,.33181,-.90319,.3273,.39882,-.85663,.3273,.39882,-.85663,.3273,.39882,-.85663,.3273,.39882,-.85663,.37908,.46192,-.80183,.37908,.46192,-.80183,.37908,.46192,-.80183,.37908,.46192,-.80183,.42716,.5205,-.73934,.42716,.5205,-.73934,.42716,.5205,-.73934,.42716,.5205,-.73934,.47108,.57401,-.66978,.47108,.57401,-.66978,.47108,.57401,-.66978,.47108,.57401,-.66978,.51042,.62195,-.59384,.51042,.62195,-.59384,.51042,.62195,-.59384,.51042,.62195,-.59384,.54483,.66388,-.51228,.54483,.66388,-.51228,.54483,.66388,-.51228,.54483,.66388,-.51228,.57399,.69941,-.42587,.57399,.69941,-.42587,.57399,.69941,-.42587,.57399,.69941,-.42587,.59764,.72822,-.33545,.59764,.72822,-.33545,.59764,.72822,-.33545,.59764,.72822,-.33545,.61556,.75006,-.24188,.61556,.75006,-.24188,.61556,.75006,-.24188,.61556,.75006,-.24188,.62759,.76472,-.14604,.62759,.76472,-.14604,.62759,.76472,-.14604,.62759,.76472,-.14604,.63364,.77209,-.04883,.63364,.77209,-.04883,.63364,.77209,-.04883,.63364,.77209,-.04883,.63364,.77209,.04883,.63364,.77209,.04883,.63364,.77209,.04883,.63364,.77209,.04883,.62759,.76472,.14604,.62759,.76472,.14604,.62759,.76472,.14604,.62759,.76472,.14604,.61556,.75006,.24188,.61556,.75006,.24188,.61556,.75006,.24188,.61556,.75006,.24188,.59763,.72822,.33545,.59763,.72822,.33545,.59763,.72822,.33545,.59763,.72822,.33545,.57399,.69941,.42587,.57399,.69941,.42587,.57399,.69941,.42587,.57399,.69941,.42587,.54483,.66388,.51228,.54483,.66388,.51228,.54483,.66388,.51228,.54483,.66388,.51228,.51042,.62195,.59384,.51042,.62195,.59384,.51042,.62195,.59384,.51042,.62195,.59384,.47108,.57401,.66978,.47108,.57401,.66978,.47108,.57401,.66978,.47108,.57401,.66978,.42716,.5205,.73934,.42716,.5205,.73934,.42716,.5205,.73934,.42716,.5205,.73934,.37908,.46192,.80183,.37908,.46192,.80183,.37908,.46192,.80183,.37908,.46192,.80183,.3273,.39882,.85663,.3273,.39882,.85663,.3273,.39882,.85663,.3273,.39882,.85663,.27231,.33181,.90319,.27231,.33181,.90319,.27231,.33181,.90319,.27231,.33181,.90319,.21464,.26154,.94103,.21464,.26154,.94103,.21464,.26154,.94103,.21464,.26154,.94103,.15485,.18868,.96975,.15485,.18868,.96975,.15485,.18868,.96975,.15485,.18868,.96975,.09353,.11396,.98907,.09353,.11396,.98907,.09353,.11396,.98907,.09353,.11396,.98907,.03128,.03811,.99878,.03128,.03811,.99878,.03128,.03811,.99878,.02324,.04348,.99878,.02324,.04348,.99878,.02324,.04348,.99878,.0695,.13002,.98907,.0695,.13002,.98907,.0695,.13002,.98907,.0695,.13002,.98907,.11506,.21526,.96975,.11506,.21526,.96975,.11506,.21526,.96975,.11506,.21526,.96975,.15949,.29838,.94103,.15949,.29838,.94103,.15949,.29838,.94103,.15949,.29838,.94103,.20234,.37856,.90319,.20234,.37856,.90319,.20234,.37856,.90319,.20234,.37856,.90319,.24321,.45501,.85663,.24321,.45501,.85663,.24321,.45501,.85663,.24321,.45501,.85663,.28168,.527,.80183,.28168,.527,.80183,.28168,.527,.80183,.28168,.527,.80183,.31741,.59383,.73934,.31741,.59383,.73934,.31741,.59383,.73934,.31741,.59383,.73934,.35004,.65488,.66978,.35004,.65488,.66978,.35004,.65488,.66978,.35004,.65488,.66978,.37928,.70958,.59384,.37928,.70958,.59384,.37928,.70958,.59384,.37928,.70958,.59384,.40484,.75741,.51228,.40484,.75741,.51228,.40484,.75741,.51228,.40484,.75741,.51228,.42651,.79795,.42587,.42651,.79795,.42587,.42651,.79795,.42587,.42651,.79795,.42587,.44408,.83082,.33545,.44408,.83082,.33545,.44408,.83082,.33545,.44408,.83082,.33545,.4574,.85573,.24188,.4574,.85573,.24188,.4574,.85573,.24188,.4574,.85573,.24188,.46634,.87247,.14604,.46634,.87247,.14604,.46634,.87247,.14604,.46634,.87247,.14604,.47083,.88087,.04883,.47083,.88087,.04883,.47083,.88087,.04883,.47083,.88087,.04883,.47083,.88087,-.04883,.47083,.88087,-.04883,.47083,.88087,-.04883,.47083,.88087,-.04883,.46634,.87247,-.14604,.46634,.87247,-.14604,.46634,.87247,-.14604,.46634,.87247,-.14604,.4574,.85573,-.24188,.4574,.85573,-.24188,.4574,.85573,-.24188,.4574,.85573,-.24188,.44408,.83082,-.33545,.44408,.83082,-.33545,.44408,.83082,-.33545,.44408,.83082,-.33545,.42651,.79795,-.42587,.42651,.79795,-.42587,.42651,.79795,-.42587,.42651,.79795,-.42587,.40484,.75741,-.51228,.40484,.75741,-.51228,.40484,.75741,-.51228,.40484,.75741,-.51228,.37928,.70958,-.59384,.37928,.70958,-.59384,.37928,.70958,-.59384,.37928,.70958,-.59384,.35004,.65488,-.66978,.35004,.65488,-.66978,.35004,.65488,-.66978,.35004,.65488,-.66978,.31741,.59383,-.73934,.31741,.59383,-.73934,.31741,.59383,-.73934,.31741,.59383,-.73934,.28168,.527,-.80183,.28168,.527,-.80183,.28168,.527,-.80183,.28168,.527,-.80183,.24321,.45501,-.85663,.24321,.45501,-.85663,.24321,.45501,-.85663,.24321,.45501,-.85663,.20234,.37856,-.90319,.20234,.37856,-.90319,.20234,.37856,-.90319,.20234,.37856,-.90319,.15949,.29838,-.94103,.15949,.29838,-.94103,.15949,.29838,-.94103,.15949,.29838,-.94103,.11506,.21526,-.96975,.11506,.21526,-.96975,.11506,.21526,-.96975,.11506,.21526,-.96975,.0695,.13002,-.98907,.0695,.13002,-.98907,.0695,.13002,-.98907,.0695,.13002,-.98907,.02324,.04348,-.99878,.02324,.04348,-.99878,.02324,.04348,-.99878,.01431,.04718,-.99878,.01431,.04718,-.99878,.01431,.04718,-.99878,.0428,.14108,-.98907,.0428,.14108,-.98907,.0428,.14108,-.98907,.0428,.14108,-.98907,.07085,.23357,-.96975,.07085,.23357,-.96975,.07085,.23357,-.96975,.07085,.23357,-.96975,.09821,.32377,-.94103,.09821,.32377,-.94103,.09821,.32377,-.94103,.09821,.32377,-.94103,.1246,.41076,-.90319,.1246,.41076,-.90319,.1246,.41076,-.90319,.1246,.41076,-.90319,.14977,.49371,-.85663,.14977,.49371,-.85663,.14977,.49371,-.85663,.14977,.49371,-.85663,.17346,.57182,-.80183,.17346,.57182,-.80183,.17346,.57182,-.80183,.17346,.57182,-.80183,.19546,.64434,-.73934,.19546,.64434,-.73934,.19546,.64434,-.73934,.19546,.64434,-.73934,.21555,.71059,-.66978,.21555,.71059,-.66978,.21555,.71059,-.66978,.21555,.71059,-.66978,.23356,.76993,-.59384,.23356,.76993,-.59384,.23356,.76993,-.59384,.23356,.76993,-.59384,.2493,.82184,-.51228,.2493,.82184,-.51228,.2493,.82184,-.51228,.2493,.82184,-.51228,.26264,.86582,-.42587,.26264,.86582,-.42587,.26264,.86582,-.42587,.26264,.86582,-.42587,.27346,.90149,-.33545,.27346,.90149,-.33545,.27346,.90149,-.33545,.27346,.90149,-.33545,.28166,.92853,-.24188,.28166,.92853,-.24188,.28166,.92853,-.24188,.28166,.92853,-.24188,.28717,.94668,-.14604,.28717,.94668,-.14604,.28717,.94668,-.14604,.28717,.94668,-.14604,.28994,.9558,-.04883,.28994,.9558,-.04883,.28994,.9558,-.04883,.28994,.9558,-.04883,.28994,.9558,.04883,.28994,.9558,.04883,.28994,.9558,.04883,.28994,.9558,.04883,.28717,.94668,.14604,.28717,.94668,.14604,.28717,.94668,.14604,.28717,.94668,.14604,.28166,.92853,.24188,.28166,.92853,.24188,.28166,.92853,.24188,.28166,.92853,.24188,.27346,.90149,.33545,.27346,.90149,.33545,.27346,.90149,.33545,.27346,.90149,.33545,.26264,.86582,.42587,.26264,.86582,.42587,.26264,.86582,.42587,.26264,.86582,.42587,.2493,.82184,.51228,.2493,.82184,.51228,.2493,.82184,.51228,.2493,.82184,.51228,.23356,.76994,.59384,.23356,.76994,.59384,.23356,.76994,.59384,.23356,.76994,.59384,.21555,.71059,.66978,.21555,.71059,.66978,.21555,.71059,.66978,.21555,.71059,.66978,.19546,.64434,.73934,.19546,.64434,.73934,.19546,.64434,.73934,.19546,.64434,.73934,.17346,.57182,.80183,.17346,.57182,.80183,.17346,.57182,.80183,.17346,.57182,.80183,.14977,.49371,.85663,.14977,.49371,.85663,.14977,.49371,.85663,.14977,.49371,.85663,.1246,.41076,.90319,.1246,.41076,.90319,.1246,.41076,.90319,.1246,.41076,.90319,.09821,.32377,.94103,.09821,.32377,.94103,.09821,.32377,.94103,.09821,.32377,.94103,.07085,.23358,.96975,.07085,.23358,.96975,.07085,.23358,.96975,.07085,.23358,.96975,.0428,.14108,.98907,.0428,.14108,.98907,.0428,.14108,.98907,.0428,.14108,.98907,.01431,.04718,.99878,.01431,.04718,.99878,.01431,.04718,.99878,.00483,.04907,.99878,.00483,.04907,.99878,.00483,.04907,.99878,.01445,.14672,.98907,.01445,.14672,.98907,.01445,.14672,.98907,.01445,.14672,.98907,.02392,.24291,.96975,.02392,.24291,.96975,.02392,.24291,.96975,.02392,.24291,.96975,.03316,.33671,.94103,.03316,.33671,.94103,.03316,.33671,.94103,.03316,.33671,.94103,.04207,.42718,.90319,.04207,.42718,.90319,.04207,.42718,.90319,.04207,.42718,.90319,.05057,.51344,.85663,.05057,.51344,.85663,.05057,.51344,.85663,.05057,.51344,.85663,.05857,.59468,.80183,.05857,.59468,.80183,.05857,.59468,.80183,.05857,.59468,.80183,.066,.67009,.73934,.066,.67009,.73934,.066,.67009,.73934,.066,.67009,.73934,.07278,.73899,.66978,.07278,.73899,.66978,.07278,.73899,.66978,.07278,.73899,.66978,.07886,.80071,.59384,.07886,.80071,.59384,.07886,.80071,.59384,.07886,.80071,.59384,.08418,.85468,.51228,.08418,.85468,.51228,.08418,.85468,.51228,.08418,.85468,.51228,.08868,.90043,.42587,.08868,.90043,.42587,.08868,.90043,.42587,.08868,.90043,.42587,.09234,.93752,.33545,.09234,.93752,.33545,.09234,.93752,.33545,.09234,.93752,.33545,.09511,.96563,.24188,.09511,.96563,.24188,.09511,.96563,.24188,.09511,.96563,.24188,.09697,.98452,.14604,.09697,.98452,.14604,.09697,.98452,.14604,.09697,.98452,.14604,.0979,.994,.04883,.0979,.994,.04883,.0979,.994,.04883,.0979,.994,.04883,.0979,.994,-.04883,.0979,.994,-.04883,.0979,.994,-.04883,.0979,.994,-.04883,.09697,.98452,-.14604,.09697,.98452,-.14604,.09697,.98452,-.14604,.09697,.98452,-.14604,.09511,.96563,-.24188,.09511,.96563,-.24188,.09511,.96563,-.24188,.09511,.96563,-.24188,.09234,.93752,-.33545,.09234,.93752,-.33545,.09234,.93752,-.33545,.09234,.93752,-.33545,.08868,.90043,-.42587,.08868,.90043,-.42587,.08868,.90043,-.42587,.08868,.90043,-.42587,.08418,.85468,-.51228,.08418,.85468,-.51228,.08418,.85468,-.51228,.08418,.85468,-.51228,.07886,.80071,-.59384,.07886,.80071,-.59384,.07886,.80071,-.59384,.07886,.80071,-.59384,.07278,.73899,-.66978,.07278,.73899,-.66978,.07278,.73899,-.66978,.07278,.73899,-.66978,.066,.67009,-.73934,.066,.67009,-.73934,.066,.67009,-.73934,.066,.67009,-.73934,.05857,.59468,-.80183,.05857,.59468,-.80183,.05857,.59468,-.80183,.05857,.59468,-.80183,.05057,.51344,-.85663,.05057,.51344,-.85663,.05057,.51344,-.85663,.05057,.51344,-.85663,.04207,.42718,-.90319,.04207,.42718,-.90319,.04207,.42718,-.90319,.04207,.42718,-.90319,.03316,.3367,-.94103,.03316,.3367,-.94103,.03316,.3367,-.94103,.03316,.3367,-.94103,.02392,.24291,-.96975,.02392,.24291,-.96975,.02392,.24291,-.96975,.02392,.24291,-.96975,.01445,.14671,-.98907,.01445,.14671,-.98907,.01445,.14671,-.98907,.01445,.14671,-.98907,.00483,.04907,-.99878,.00483,.04907,-.99878,.00483,.04907,-.99878,-.00483,.04907,-.99878,-.00483,.04907,-.99878,-.00483,.04907,-.99878,-.01445,.14671,-.98907,-.01445,.14671,-.98907,-.01445,.14671,-.98907,-.01445,.14671,-.98907,-.02392,.24291,-.96975,-.02392,.24291,-.96975,-.02392,.24291,-.96975,-.02392,.24291,-.96975,-.03316,.3367,-.94103,-.03316,.3367,-.94103,-.03316,.3367,-.94103,-.03316,.3367,-.94103,-.04207,.42718,-.90319,-.04207,.42718,-.90319,-.04207,.42718,-.90319,-.04207,.42718,-.90319,-.05057,.51344,-.85663,-.05057,.51344,-.85663,-.05057,.51344,-.85663,-.05057,.51344,-.85663,-.05857,.59468,-.80183,-.05857,.59468,-.80183,-.05857,.59468,-.80183,-.05857,.59468,-.80183,-.066,.67009,-.73934,-.066,.67009,-.73934,-.066,.67009,-.73934,-.066,.67009,-.73934,-.07278,.73899,-.66978,-.07278,.73899,-.66978,-.07278,.73899,-.66978,-.07278,.73899,-.66978,-.07886,.80071,-.59384,-.07886,.80071,-.59384,-.07886,.80071,-.59384,-.07886,.80071,-.59384,-.08418,.85468,-.51228,-.08418,.85468,-.51228,-.08418,.85468,-.51228,-.08418,.85468,-.51228,-.08868,.90043,-.42587,-.08868,.90043,-.42587,-.08868,.90043,-.42587,-.08868,.90043,-.42587,-.09234,.93752,-.33545,-.09234,.93752,-.33545,-.09234,.93752,-.33545,-.09234,.93752,-.33545,-.09511,.96563,-.24188,-.09511,.96563,-.24188,-.09511,.96563,-.24188,-.09511,.96563,-.24188,-.09697,.98451,-.14604,-.09697,.98451,-.14604,-.09697,.98451,-.14604,-.09697,.98451,-.14604,-.0979,.994,-.04883,-.0979,.994,-.04883,-.0979,.994,-.04883,-.0979,.994,-.04883,-.0979,.994,.04883,-.0979,.994,.04883,-.0979,.994,.04883,-.0979,.994,.04883,-.09697,.98452,.14604,-.09697,.98452,.14604,-.09697,.98452,.14604,-.09697,.98452,.14604,-.09511,.96563,.24188,-.09511,.96563,.24188,-.09511,.96563,.24188,-.09511,.96563,.24188,-.09234,.93752,.33545,-.09234,.93752,.33545,-.09234,.93752,.33545,-.09234,.93752,.33545,-.08868,.90043,.42587,-.08868,.90043,.42587,-.08868,.90043,.42587,-.08868,.90043,.42587,-.08418,.85468,.51228,-.08418,.85468,.51228,-.08418,.85468,.51228,-.08418,.85468,.51228,-.07886,.80071,.59384,-.07886,.80071,.59384,-.07886,.80071,.59384,-.07886,.80071,.59384,-.07278,.73899,.66978,-.07278,.73899,.66978,-.07278,.73899,.66978,-.07278,.73899,.66978,-.066,.67009,.73934,-.066,.67009,.73934,-.066,.67009,.73934,-.066,.67009,.73934,-.05857,.59468,.80183,-.05857,.59468,.80183,-.05857,.59468,.80183,-.05857,.59468,.80183,-.05057,.51344,.85663,-.05057,.51344,.85663,-.05057,.51344,.85663,-.05057,.51344,.85663,-.04207,.42718,.90319,-.04207,.42718,.90319,-.04207,.42718,.90319,-.04207,.42718,.90319,-.03316,.33671,.94103,-.03316,.33671,.94103,-.03316,.33671,.94103,-.03316,.33671,.94103,-.02392,.24291,.96975,-.02392,.24291,.96975,-.02392,.24291,.96975,-.02392,.24291,.96975,-.01445,.14672,.98907,-.01445,.14672,.98907,-.01445,.14672,.98907,-.01445,.14672,.98907,-.00483,.04907,.99878,-.00483,.04907,.99878,-.00483,.04907,.99878,-.01431,.04718,.99878,-.01431,.04718,.99878,-.01431,.04718,.99878,-.0428,.14108,.98907,-.0428,.14108,.98907,-.0428,.14108,.98907,-.0428,.14108,.98907,-.07085,.23358,.96975,-.07085,.23358,.96975,-.07085,.23358,.96975,-.07085,.23358,.96975,-.09821,.32377,.94103,-.09821,.32377,.94103,-.09821,.32377,.94103,-.09821,.32377,.94103,-.1246,.41076,.90319,-.1246,.41076,.90319,-.1246,.41076,.90319,-.1246,.41076,.90319,-.14977,.49371,.85663,-.14977,.49371,.85663,-.14977,.49371,.85663,-.14977,.49371,.85663,-.17346,.57182,.80183,-.17346,.57182,.80183,-.17346,.57182,.80183,-.17346,.57182,.80183,-.19546,.64434,.73934,-.19546,.64434,.73934,-.19546,.64434,.73934,-.19546,.64434,.73934,-.21555,.71059,.66978,-.21555,.71059,.66978,-.21555,.71059,.66978,-.21555,.71059,.66978,-.23356,.76994,.59384,-.23356,.76994,.59384,-.23356,.76994,.59384,-.23356,.76994,.59384,-.2493,.82184,.51228,-.2493,.82184,.51228,-.2493,.82184,.51228,-.2493,.82184,.51228,-.26265,.86582,.42587,-.26265,.86582,.42587,-.26265,.86582,.42587,-.26265,.86582,.42587,-.27347,.90149,.33545,-.27347,.90149,.33545,-.27347,.90149,.33545,-.27347,.90149,.33545,-.28167,.92853,.24188,-.28167,.92853,.24188,-.28167,.92853,.24188,-.28167,.92853,.24188,-.28717,.94668,.14604,-.28717,.94668,.14604,-.28717,.94668,.14604,-.28717,.94668,.14604,-.28994,.9558,.04883,-.28994,.9558,.04883,-.28994,.9558,.04883,-.28994,.9558,.04883,-.28994,.9558,-.04883,-.28994,.9558,-.04883,-.28994,.9558,-.04883,-.28994,.9558,-.04883,-.28717,.94668,-.14604,-.28717,.94668,-.14604,-.28717,.94668,-.14604,-.28717,.94668,-.14604,-.28167,.92853,-.24188,-.28167,.92853,-.24188,-.28167,.92853,-.24188,-.28167,.92853,-.24188,-.27347,.90149,-.33545,-.27347,.90149,-.33545,-.27347,.90149,-.33545,-.27347,.90149,-.33545,-.26265,.86582,-.42587,-.26265,.86582,-.42587,-.26265,.86582,-.42587,-.26265,.86582,-.42587,-.2493,.82184,-.51228,-.2493,.82184,-.51228,-.2493,.82184,-.51228,-.2493,.82184,-.51228,-.23356,.76993,-.59384,-.23356,.76993,-.59384,-.23356,.76993,-.59384,-.23356,.76993,-.59384,-.21555,.71059,-.66978,-.21555,.71059,-.66978,-.21555,.71059,-.66978,-.21555,.71059,-.66978,-.19546,.64434,-.73934,-.19546,.64434,-.73934,-.19546,.64434,-.73934,-.19546,.64434,-.73934,-.17346,.57182,-.80183,-.17346,.57182,-.80183,-.17346,.57182,-.80183,-.17346,.57182,-.80183,-.14977,.49371,-.85663,-.14977,.49371,-.85663,-.14977,.49371,-.85663,-.14977,.49371,-.85663,-.1246,.41076,-.90319,-.1246,.41076,-.90319,-.1246,.41076,-.90319,-.1246,.41076,-.90319,-.09821,.32377,-.94103,-.09821,.32377,-.94103,-.09821,.32377,-.94103,-.09821,.32377,-.94103,-.07085,.23357,-.96975,-.07085,.23357,-.96975,-.07085,.23357,-.96975,-.07085,.23357,-.96975,-.0428,.14108,-.98907,-.0428,.14108,-.98907,-.0428,.14108,-.98907,-.0428,.14108,-.98907,-.01431,.04718,-.99878,-.01431,.04718,-.99878,-.01431,.04718,-.99878,-.02324,.04348,-.99878,-.02324,.04348,-.99878,-.02324,.04348,-.99878,-.0695,.13002,-.98907,-.0695,.13002,-.98907,-.0695,.13002,-.98907,-.0695,.13002,-.98907,-.11506,.21526,-.96975,-.11506,.21526,-.96975,-.11506,.21526,-.96975,-.11506,.21526,-.96975,-.15949,.29838,-.94103,-.15949,.29838,-.94103,-.15949,.29838,-.94103,-.15949,.29838,-.94103,-.20234,.37856,-.90319,-.20234,.37856,-.90319,-.20234,.37856,-.90319,-.20234,.37856,-.90319,-.24321,.45501,-.85663,-.24321,.45501,-.85663,-.24321,.45501,-.85663,-.24321,.45501,-.85663,-.28168,.527,-.80183,-.28168,.527,-.80183,-.28168,.527,-.80183,-.28168,.527,-.80183,-.31741,.59383,-.73934,-.31741,.59383,-.73934,-.31741,.59383,-.73934,-.31741,.59383,-.73934,-.35004,.65488,-.66978,-.35004,.65488,-.66978,-.35004,.65488,-.66978,-.35004,.65488,-.66978,-.37928,.70958,-.59384,-.37928,.70958,-.59384,-.37928,.70958,-.59384,-.37928,.70958,-.59384,-.40484,.75741,-.51228,-.40484,.75741,-.51228,-.40484,.75741,-.51228,-.40484,.75741,-.51228,-.42651,.79795,-.42587,-.42651,.79795,-.42587,-.42651,.79795,-.42587,-.42651,.79795,-.42587,-.44408,.83082,-.33545,-.44408,.83082,-.33545,-.44408,.83082,-.33545,-.44408,.83082,-.33545,-.4574,.85573,-.24188,-.4574,.85573,-.24188,-.4574,.85573,-.24188,-.4574,.85573,-.24188,-.46634,.87247,-.14604,-.46634,.87247,-.14604,-.46634,.87247,-.14604,-.46634,.87247,-.14604,-.47083,.88087,-.04883,-.47083,.88087,-.04883,-.47083,.88087,-.04883,-.47083,.88087,-.04883,-.47083,.88087,.04883,-.47083,.88087,.04883,-.47083,.88087,.04883,-.47083,.88087,.04883,-.46634,.87247,.14604,-.46634,.87247,.14604,-.46634,.87247,.14604,-.46634,.87247,.14604,-.4574,.85573,.24188,-.4574,.85573,.24188,-.4574,.85573,.24188,-.4574,.85573,.24188,-.44408,.83082,.33545,-.44408,.83082,.33545,-.44408,.83082,.33545,-.44408,.83082,.33545,-.42651,.79795,.42587,-.42651,.79795,.42587,-.42651,.79795,.42587,-.42651,.79795,.42587,-.40484,.75741,.51228,-.40484,.75741,.51228,-.40484,.75741,.51228,-.40484,.75741,.51228,-.37928,.70958,.59384,-.37928,.70958,.59384,-.37928,.70958,.59384,-.37928,.70958,.59384,-.35004,.65488,.66978,-.35004,.65488,.66978,-.35004,.65488,.66978,-.35004,.65488,.66978,-.31741,.59383,.73934,-.31741,.59383,.73934,-.31741,.59383,.73934,-.31741,.59383,.73934,-.28169,.527,.80183,-.28169,.527,.80183,-.28169,.527,.80183,-.28169,.527,.80183,-.24321,.45501,.85663,-.24321,.45501,.85663,-.24321,.45501,.85663,-.24321,.45501,.85663,-.20234,.37856,.90319,-.20234,.37856,.90319,-.20234,.37856,.90319,-.20234,.37856,.90319,-.15949,.29838,.94103,-.15949,.29838,.94103,-.15949,.29838,.94103,-.15949,.29838,.94103,-.11506,.21526,.96975,-.11506,.21526,.96975,-.11506,.21526,.96975,-.11506,.21526,.96975,-.0695,.13002,.98907,-.0695,.13002,.98907,-.0695,.13002,.98907,-.0695,.13002,.98907,-.02324,.04348,.99878,-.02324,.04348,.99878,-.02324,.04348,.99878,-.03128,.03811,.99878,-.03128,.03811,.99878,-.03128,.03811,.99878,-.09353,.11396,.98907,-.09353,.11396,.98907,-.09353,.11396,.98907,-.09353,.11396,.98907,-.15485,.18868,.96975,-.15485,.18868,.96975,-.15485,.18868,.96975,-.15485,.18868,.96975,-.21464,.26154,.94103,-.21464,.26154,.94103,-.21464,.26154,.94103,-.21464,.26154,.94103,-.27231,.33181,.90319,-.27231,.33181,.90319,-.27231,.33181,.90319,-.27231,.33181,.90319,-.3273,.39882,.85663,-.3273,.39882,.85663,-.3273,.39882,.85663,-.3273,.39882,.85663,-.37908,.46192,.80183,-.37908,.46192,.80183,-.37908,.46192,.80183,-.37908,.46192,.80183,-.42716,.5205,.73934,-.42716,.5205,.73934,-.42716,.5205,.73934,-.42716,.5205,.73934,-.47108,.57401,.66978,-.47108,.57401,.66978,-.47108,.57401,.66978,-.47108,.57401,.66978,-.51042,.62195,.59384,-.51042,.62195,.59384,-.51042,.62195,.59384,-.51042,.62195,.59384,-.54483,.66388,.51228,-.54483,.66388,.51228,-.54483,.66388,.51228,-.54483,.66388,.51228,-.57399,.69941,.42587,-.57399,.69941,.42587,-.57399,.69941,.42587,-.57399,.69941,.42587,-.59764,.72822,.33545,-.59764,.72822,.33545,-.59764,.72822,.33545,-.59764,.72822,.33545,-.61556,.75006,.24188,-.61556,.75006,.24188,-.61556,.75006,.24188,-.61556,.75006,.24188,-.62759,.76472,.14604,-.62759,.76472,.14604,-.62759,.76472,.14604,-.62759,.76472,.14604,-.63364,.77209,.04883,-.63364,.77209,.04883,-.63364,.77209,.04883,-.63364,.77209,.04883,-.63364,.77209,-.04883,-.63364,.77209,-.04883,-.63364,.77209,-.04883,-.63364,.77209,-.04883,-.62759,.76472,-.14604,-.62759,.76472,-.14604,-.62759,.76472,-.14604,-.62759,.76472,-.14604,-.61556,.75006,-.24188,-.61556,.75006,-.24188,-.61556,.75006,-.24188,-.61556,.75006,-.24188,-.59764,.72822,-.33545,-.59764,.72822,-.33545,-.59764,.72822,-.33545,-.59764,.72822,-.33545,-.57399,.69941,-.42587,-.57399,.69941,-.42587,-.57399,.69941,-.42587,-.57399,.69941,-.42587,-.54483,.66388,-.51228,-.54483,.66388,-.51228,-.54483,.66388,-.51228,-.54483,.66388,-.51228,-.51042,.62195,-.59384,-.51042,.62195,-.59384,-.51042,.62195,-.59384,-.51042,.62195,-.59384,-.47108,.57401,-.66978,-.47108,.57401,-.66978,-.47108,.57401,-.66978,-.47108,.57401,-.66978,-.42716,.5205,-.73934,-.42716,.5205,-.73934,-.42716,.5205,-.73934,-.42716,.5205,-.73934,-.37908,.46192,-.80183,-.37908,.46192,-.80183,-.37908,.46192,-.80183,-.37908,.46192,-.80183,-.3273,.39882,-.85663,-.3273,.39882,-.85663,-.3273,.39882,-.85663,-.3273,.39882,-.85663,-.27231,.33181,-.90319,-.27231,.33181,-.90319,-.27231,.33181,-.90319,-.27231,.33181,-.90319,-.21464,.26154,-.94103,-.21464,.26154,-.94103,-.21464,.26154,-.94103,-.21464,.26154,-.94103,-.15485,.18868,-.96975,-.15485,.18868,-.96975,-.15485,.18868,-.96975,-.15485,.18868,-.96975,-.09353,.11396,-.98907,-.09353,.11396,-.98907,-.09353,.11396,-.98907,-.09353,.11396,-.98907,-.03128,.03811,-.99878,-.03128,.03811,-.99878,-.03128,.03811,-.99878,-.03811,.03128,-.99878,-.03811,.03128,-.99878,-.03811,.03128,-.99878,-.11396,.09353,-.98907,-.11396,.09353,-.98907,-.11396,.09353,-.98907,-.11396,.09353,-.98907,-.18868,.15485,-.96975,-.18868,.15485,-.96975,-.18868,.15485,-.96975,-.18868,.15485,-.96975,-.26154,.21464,-.94103,-.26154,.21464,-.94103,-.26154,.21464,-.94103,-.26154,.21464,-.94103,-.33181,.27231,-.90319,-.33181,.27231,-.90319,-.33181,.27231,-.90319,-.33181,.27231,-.90319,-.39882,.3273,-.85663,-.39882,.3273,-.85663,-.39882,.3273,-.85663,-.39882,.3273,-.85663,-.46192,.37908,-.80183,-.46192,.37908,-.80183,-.46192,.37908,-.80183,-.46192,.37908,-.80183,-.5205,.42716,-.73934,-.5205,.42716,-.73934,-.5205,.42716,-.73934,-.5205,.42716,-.73934,-.57401,.47108,-.66978,-.57401,.47108,-.66978,-.57401,.47108,-.66978,-.57401,.47108,-.66978,-.62195,.51042,-.59384,-.62195,.51042,-.59384,-.62195,.51042,-.59384,-.62195,.51042,-.59384,-.66388,.54483,-.51228,-.66388,.54483,-.51228,-.66388,.54483,-.51228,-.66388,.54483,-.51228,-.69941,.57399,-.42587,-.69941,.57399,-.42587,-.69941,.57399,-.42587,-.69941,.57399,-.42587,-.72822,.59763,-.33545,-.72822,.59763,-.33545,-.72822,.59763,-.33545,-.72822,.59763,-.33545,-.75006,.61556,-.24188,-.75006,.61556,-.24188,-.75006,.61556,-.24188,-.75006,.61556,-.24188,-.76472,.62759,-.14604,-.76472,.62759,-.14604,-.76472,.62759,-.14604,-.76472,.62759,-.14604,-.77209,.63364,-.04883,-.77209,.63364,-.04883,-.77209,.63364,-.04883,-.77209,.63364,-.04883,-.77209,.63364,.04883,-.77209,.63364,.04883,-.77209,.63364,.04883,-.77209,.63364,.04883,-.76472,.62759,.14604,-.76472,.62759,.14604,-.76472,.62759,.14604,-.76472,.62759,.14604,-.75006,.61556,.24188,-.75006,.61556,.24188,-.75006,.61556,.24188,-.75006,.61556,.24188,-.72822,.59763,.33545,-.72822,.59763,.33545,-.72822,.59763,.33545,-.72822,.59763,.33545,-.69941,.57399,.42587,-.69941,.57399,.42587,-.69941,.57399,.42587,-.69941,.57399,.42587,-.66388,.54483,.51228,-.66388,.54483,.51228,-.66388,.54483,.51228,-.66388,.54483,.51228,-.62195,.51042,.59384,-.62195,.51042,.59384,-.62195,.51042,.59384,-.62195,.51042,.59384,-.57401,.47108,.66978,-.57401,.47108,.66978,-.57401,.47108,.66978,-.57401,.47108,.66978,-.5205,.42716,.73934,-.5205,.42716,.73934,-.5205,.42716,.73934,-.5205,.42716,.73934,-.46192,.37908,.80183,-.46192,.37908,.80183,-.46192,.37908,.80183,-.46192,.37908,.80183,-.39882,.3273,.85663,-.39882,.3273,.85663,-.39882,.3273,.85663,-.39882,.3273,.85663,-.33181,.27231,.90319,-.33181,.27231,.90319,-.33181,.27231,.90319,-.33181,.27231,.90319,-.26154,.21464,.94103,-.26154,.21464,.94103,-.26154,.21464,.94103,-.26154,.21464,.94103,-.18868,.15485,.96975,-.18868,.15485,.96975,-.18868,.15485,.96975,-.18868,.15485,.96975,-.11396,.09353,.98907,-.11396,.09353,.98907,-.11396,.09353,.98907,-.11396,.09353,.98907,-.03811,.03128,.99878,-.03811,.03128,.99878,-.03811,.03128,.99878,-.04348,.02324,.99878,-.04348,.02324,.99878,-.04348,.02324,.99878,-.13002,.0695,.98907,-.13002,.0695,.98907,-.13002,.0695,.98907,-.13002,.0695,.98907,-.21526,.11506,.96975,-.21526,.11506,.96975,-.21526,.11506,.96975,-.21526,.11506,.96975,-.29838,.15949,.94103,-.29838,.15949,.94103,-.29838,.15949,.94103,-.29838,.15949,.94103,-.37856,.20234,.90319,-.37856,.20234,.90319,-.37856,.20234,.90319,-.37856,.20234,.90319,-.45501,.24321,.85663,-.45501,.24321,.85663,-.45501,.24321,.85663,-.45501,.24321,.85663,-.527,.28168,.80183,-.527,.28168,.80183,-.527,.28168,.80183,-.527,.28168,.80183,-.59383,.31741,.73934,-.59383,.31741,.73934,-.59383,.31741,.73934,-.59383,.31741,.73934,-.65488,.35004,.66978,-.65488,.35004,.66978,-.65488,.35004,.66978,-.65488,.35004,.66978,-.70958,.37928,.59384,-.70958,.37928,.59384,-.70958,.37928,.59384,-.70958,.37928,.59384,-.75741,.40484,.51228,-.75741,.40484,.51228,-.75741,.40484,.51228,-.75741,.40484,.51228,-.79795,.42651,.42587,-.79795,.42651,.42587,-.79795,.42651,.42587,-.79795,.42651,.42587,-.83082,.44408,.33545,-.83082,.44408,.33545,-.83082,.44408,.33545,-.83082,.44408,.33545,-.85573,.4574,.24188,-.85573,.4574,.24188,-.85573,.4574,.24188,-.85573,.4574,.24188,-.87247,.46634,.14604,-.87247,.46634,.14604,-.87247,.46634,.14604,-.87247,.46634,.14604,-.88087,.47083,.04883,-.88087,.47083,.04883,-.88087,.47083,.04883,-.88087,.47083,.04883,-.88087,.47083,-.04883,-.88087,.47083,-.04883,-.88087,.47083,-.04883,-.88087,.47083,-.04883,-.87247,.46634,-.14604,-.87247,.46634,-.14604,-.87247,.46634,-.14604,-.87247,.46634,-.14604,-.85573,.4574,-.24188,-.85573,.4574,-.24188,-.85573,.4574,-.24188,-.85573,.4574,-.24188,-.83082,.44408,-.33545,-.83082,.44408,-.33545,-.83082,.44408,-.33545,-.83082,.44408,-.33545,-.79795,.42651,-.42587,-.79795,.42651,-.42587,-.79795,.42651,-.42587,-.79795,.42651,-.42587,-.75741,.40484,-.51228,-.75741,.40484,-.51228,-.75741,.40484,-.51228,-.75741,.40484,-.51228,-.70958,.37928,-.59384,-.70958,.37928,-.59384,-.70958,.37928,-.59384,-.70958,.37928,-.59384,-.65488,.35004,-.66978,-.65488,.35004,-.66978,-.65488,.35004,-.66978,-.65488,.35004,-.66978,-.59383,.31741,-.73934,-.59383,.31741,-.73934,-.59383,.31741,-.73934,-.59383,.31741,-.73934,-.527,.28168,-.80183,-.527,.28168,-.80183,-.527,.28168,-.80183,-.527,.28168,-.80183,-.45501,.24321,-.85663,-.45501,.24321,-.85663,-.45501,.24321,-.85663,-.45501,.24321,-.85663,-.37856,.20234,-.90319,-.37856,.20234,-.90319,-.37856,.20234,-.90319,-.37856,.20234,-.90319,-.29838,.15949,-.94103,-.29838,.15949,-.94103,-.29838,.15949,-.94103,-.29838,.15949,-.94103,-.21526,.11506,-.96975,-.21526,.11506,-.96975,-.21526,.11506,-.96975,-.21526,.11506,-.96975,-.13002,.0695,-.98907,-.13002,.0695,-.98907,-.13002,.0695,-.98907,-.13002,.0695,-.98907,-.04348,.02324,-.99878,-.04348,.02324,-.99878,-.04348,.02324,-.99878,-.04718,.01431,-.99878,-.04718,.01431,-.99878,-.04718,.01431,-.99878,-.14108,.0428,-.98907,-.14108,.0428,-.98907,-.14108,.0428,-.98907,-.14108,.0428,-.98907,-.23357,.07085,-.96975,-.23357,.07085,-.96975,-.23357,.07085,-.96975,-.23357,.07085,-.96975,-.32377,.09821,-.94103,-.32377,.09821,-.94103,-.32377,.09821,-.94103,-.32377,.09821,-.94103,-.41076,.1246,-.90319,-.41076,.1246,-.90319,-.41076,.1246,-.90319,-.41076,.1246,-.90319,-.49371,.14977,-.85663,-.49371,.14977,-.85663,-.49371,.14977,-.85663,-.49371,.14977,-.85663,-.57182,.17346,-.80183,-.57182,.17346,-.80183,-.57182,.17346,-.80183,-.57182,.17346,-.80183,-.64434,.19546,-.73934,-.64434,.19546,-.73934,-.64434,.19546,-.73934,-.64434,.19546,-.73934,-.71059,.21555,-.66978,-.71059,.21555,-.66978,-.71059,.21555,-.66978,-.71059,.21555,-.66978,-.76993,.23356,-.59384,-.76993,.23356,-.59384,-.76993,.23356,-.59384,-.76993,.23356,-.59384,-.82184,.2493,-.51228,-.82184,.2493,-.51228,-.82184,.2493,-.51228,-.82184,.2493,-.51228,-.86582,.26264,-.42587,-.86582,.26264,-.42587,-.86582,.26264,-.42587,-.86582,.26264,-.42587,-.90149,.27346,-.33545,-.90149,.27346,-.33545,-.90149,.27346,-.33545,-.90149,.27346,-.33545,-.92853,.28166,-.24188,-.92853,.28166,-.24188,-.92853,.28166,-.24188,-.92853,.28166,-.24188,-.94668,.28717,-.14604,-.94668,.28717,-.14604,-.94668,.28717,-.14604,-.94668,.28717,-.14604,-.9558,.28994,-.04883,-.9558,.28994,-.04883,-.9558,.28994,-.04883,-.9558,.28994,-.04883,-.9558,.28994,.04883,-.9558,.28994,.04883,-.9558,.28994,.04883,-.9558,.28994,.04883,-.94668,.28717,.14604,-.94668,.28717,.14604,-.94668,.28717,.14604,-.94668,.28717,.14604,-.92853,.28166,.24188,-.92853,.28166,.24188,-.92853,.28166,.24188,-.92853,.28166,.24188,-.90149,.27346,.33545,-.90149,.27346,.33545,-.90149,.27346,.33545,-.90149,.27346,.33545,-.86583,.26264,.42587,-.86583,.26264,.42587,-.86583,.26264,.42587,-.86583,.26264,.42587,-.82184,.2493,.51228,-.82184,.2493,.51228,-.82184,.2493,.51228,-.82184,.2493,.51228,-.76994,.23356,.59384,-.76994,.23356,.59384,-.76994,.23356,.59384,-.76994,.23356,.59384,-.71059,.21555,.66978,-.71059,.21555,.66978,-.71059,.21555,.66978,-.71059,.21555,.66978,-.64434,.19546,.73934,-.64434,.19546,.73934,-.64434,.19546,.73934,-.64434,.19546,.73934,-.57182,.17346,.80183,-.57182,.17346,.80183,-.57182,.17346,.80183,-.57182,.17346,.80183,-.49371,.14977,.85663,-.49371,.14977,.85663,-.49371,.14977,.85663,-.49371,.14977,.85663,-.41076,.1246,.90319,-.41076,.1246,.90319,-.41076,.1246,.90319,-.41076,.1246,.90319,-.32377,.09821,.94103,-.32377,.09821,.94103,-.32377,.09821,.94103,-.32377,.09821,.94103,-.23358,.07085,.96975,-.23358,.07085,.96975,-.23358,.07085,.96975,-.23358,.07085,.96975,-.14108,.0428,.98907,-.14108,.0428,.98907,-.14108,.0428,.98907,-.14108,.0428,.98907,-.04718,.01431,.99878,-.04718,.01431,.99878,-.04718,.01431,.99878,-.04907,.00483,.99878,-.04907,.00483,.99878,-.04907,.00483,.99878,-.14672,.01445,.98907,-.14672,.01445,.98907,-.14672,.01445,.98907,-.14672,.01445,.98907,-.24291,.02392,.96975,-.24291,.02392,.96975,-.24291,.02392,.96975,-.24291,.02392,.96975,-.33671,.03316,.94103,-.33671,.03316,.94103,-.33671,.03316,.94103,-.33671,.03316,.94103,-.42718,.04207,.90319,-.42718,.04207,.90319,-.42718,.04207,.90319,-.42718,.04207,.90319,-.51345,.05057,.85663,-.51345,.05057,.85663,-.51345,.05057,.85663,-.51345,.05057,.85663,-.59468,.05857,.80183,-.59468,.05857,.80183,-.59468,.05857,.80183,-.59468,.05857,.80183,-.67009,.066,.73934,-.67009,.066,.73934,-.67009,.066,.73934,-.67009,.066,.73934,-.73899,.07278,.66978,-.73899,.07278,.66978,-.73899,.07278,.66978,-.73899,.07278,.66978,-.80071,.07886,.59384,-.80071,.07886,.59384,-.80071,.07886,.59384,-.80071,.07886,.59384,-.85468,.08418,.51228,-.85468,.08418,.51228,-.85468,.08418,.51228,-.85468,.08418,.51228,-.90043,.08868,.42587,-.90043,.08868,.42587,-.90043,.08868,.42587,-.90043,.08868,.42587,-.93752,.09234,.33545,-.93752,.09234,.33545,-.93752,.09234,.33545,-.93752,.09234,.33545,-.96563,.09511,.24188,-.96563,.09511,.24188,-.96563,.09511,.24188,-.96563,.09511,.24188,-.98452,.09697,.14604,-.98452,.09697,.14604,-.98452,.09697,.14604,-.98452,.09697,.14604,-.994,.0979,.04883,-.994,.0979,.04883,-.994,.0979,.04883,-.994,.0979,.04883,-.994,.0979,-.04883,-.994,.0979,-.04883,-.994,.0979,-.04883,-.994,.0979,-.04883,-.98452,.09697,-.14604,-.98452,.09697,-.14604,-.98452,.09697,-.14604,-.98452,.09697,-.14604,-.96563,.09511,-.24188,-.96563,.09511,-.24188,-.96563,.09511,-.24188,-.96563,.09511,-.24188,-.93752,.09234,-.33545,-.93752,.09234,-.33545,-.93752,.09234,-.33545,-.93752,.09234,-.33545,-.90043,.08868,-.42587,-.90043,.08868,-.42587,-.90043,.08868,-.42587,-.90043,.08868,-.42587,-.85468,.08418,-.51228,-.85468,.08418,-.51228,-.85468,.08418,-.51228,-.85468,.08418,-.51228,-.80071,.07886,-.59384,-.80071,.07886,-.59384,-.80071,.07886,-.59384,-.80071,.07886,-.59384,-.73899,.07278,-.66978,-.73899,.07278,-.66978,-.73899,.07278,-.66978,-.73899,.07278,-.66978,-.67009,.066,-.73934,-.67009,.066,-.73934,-.67009,.066,-.73934,-.67009,.066,-.73934,-.59468,.05857,-.80183,-.59468,.05857,-.80183,-.59468,.05857,-.80183,-.59468,.05857,-.80183,-.51345,.05057,-.85663,-.51345,.05057,-.85663,-.51345,.05057,-.85663,-.51345,.05057,-.85663,-.42718,.04207,-.90319,-.42718,.04207,-.90319,-.42718,.04207,-.90319,-.42718,.04207,-.90319,-.3367,.03316,-.94103,-.3367,.03316,-.94103,-.3367,.03316,-.94103,-.3367,.03316,-.94103,-.24291,.02392,-.96975,-.24291,.02392,-.96975,-.24291,.02392,-.96975,-.24291,.02392,-.96975,-.14671,.01445,-.98907,-.14671,.01445,-.98907,-.14671,.01445,-.98907,-.14671,.01445,-.98907,-.04907,.00483,-.99878,-.04907,.00483,-.99878,-.04907,.00483,-.99878,-.04907,-.00483,-.99878,-.04907,-.00483,-.99878,-.04907,-.00483,-.99878,-.14671,-.01445,-.98907,-.14671,-.01445,-.98907,-.14671,-.01445,-.98907,-.14671,-.01445,-.98907,-.24291,-.02392,-.96975,-.24291,-.02392,-.96975,-.24291,-.02392,-.96975,-.24291,-.02392,-.96975,-.3367,-.03316,-.94103,-.3367,-.03316,-.94103,-.3367,-.03316,-.94103,-.3367,-.03316,-.94103,-.42718,-.04207,-.90319,-.42718,-.04207,-.90319,-.42718,-.04207,-.90319,-.42718,-.04207,-.90319,-.51345,-.05057,-.85663,-.51345,-.05057,-.85663,-.51345,-.05057,-.85663,-.51345,-.05057,-.85663,-.59468,-.05857,-.80183,-.59468,-.05857,-.80183,-.59468,-.05857,-.80183,-.59468,-.05857,-.80183,-.67009,-.066,-.73934,-.67009,-.066,-.73934,-.67009,-.066,-.73934,-.67009,-.066,-.73934,-.73899,-.07278,-.66978,-.73899,-.07278,-.66978,-.73899,-.07278,-.66978,-.73899,-.07278,-.66978,-.80071,-.07886,-.59384,-.80071,-.07886,-.59384,-.80071,-.07886,-.59384,-.80071,-.07886,-.59384,-.85468,-.08418,-.51228,-.85468,-.08418,-.51228,-.85468,-.08418,-.51228,-.85468,-.08418,-.51228,-.90043,-.08868,-.42587,-.90043,-.08868,-.42587,-.90043,-.08868,-.42587,-.90043,-.08868,-.42587,-.93752,-.09234,-.33545,-.93752,-.09234,-.33545,-.93752,-.09234,-.33545,-.93752,-.09234,-.33545,-.96563,-.09511,-.24188,-.96563,-.09511,-.24188,-.96563,-.09511,-.24188,-.96563,-.09511,-.24188,-.98452,-.09697,-.14604,-.98452,-.09697,-.14604,-.98452,-.09697,-.14604,-.98452,-.09697,-.14604,-.994,-.0979,-.04883,-.994,-.0979,-.04883,-.994,-.0979,-.04883,-.994,-.0979,-.04883,-.994,-.0979,.04883,-.994,-.0979,.04883,-.994,-.0979,.04883,-.994,-.0979,.04883,-.98452,-.09697,.14604,-.98452,-.09697,.14604,-.98452,-.09697,.14604,-.98452,-.09697,.14604,-.96563,-.09511,.24188,-.96563,-.09511,.24188,-.96563,-.09511,.24188,-.96563,-.09511,.24188,-.93752,-.09234,.33545,-.93752,-.09234,.33545,-.93752,-.09234,.33545,-.93752,-.09234,.33545,-.90043,-.08868,.42587,-.90043,-.08868,.42587,-.90043,-.08868,.42587,-.90043,-.08868,.42587,-.85468,-.08418,.51228,-.85468,-.08418,.51228,-.85468,-.08418,.51228,-.85468,-.08418,.51228,-.80071,-.07886,.59384,-.80071,-.07886,.59384,-.80071,-.07886,.59384,-.80071,-.07886,.59384,-.73899,-.07278,.66978,-.73899,-.07278,.66978,-.73899,-.07278,.66978,-.73899,-.07278,.66978,-.67009,-.066,.73934,-.67009,-.066,.73934,-.67009,-.066,.73934,-.67009,-.066,.73934,-.59468,-.05857,.80183,-.59468,-.05857,.80183,-.59468,-.05857,.80183,-.59468,-.05857,.80183,-.51345,-.05057,.85663,-.51345,-.05057,.85663,-.51345,-.05057,.85663,-.51345,-.05057,.85663,-.42718,-.04207,.90319,-.42718,-.04207,.90319,-.42718,-.04207,.90319,-.42718,-.04207,.90319,-.33671,-.03316,.94103,-.33671,-.03316,.94103,-.33671,-.03316,.94103,-.33671,-.03316,.94103,-.24291,-.02392,.96975,-.24291,-.02392,.96975,-.24291,-.02392,.96975,-.24291,-.02392,.96975,-.14672,-.01445,.98907,-.14672,-.01445,.98907,-.14672,-.01445,.98907,-.14672,-.01445,.98907,-.04907,-.00483,.99878,-.04907,-.00483,.99878,-.04907,-.00483,.99878,-.04718,-.01431,.99878,-.04718,-.01431,.99878,-.04718,-.01431,.99878,-.14108,-.0428,.98907,-.14108,-.0428,.98907,-.14108,-.0428,.98907,-.14108,-.0428,.98907,-.23358,-.07085,.96975,-.23358,-.07085,.96975,-.23358,-.07085,.96975,-.23358,-.07085,.96975,-.32377,-.09821,.94103,-.32377,-.09821,.94103,-.32377,-.09821,.94103,-.32377,-.09821,.94103,-.41076,-.1246,.90319,-.41076,-.1246,.90319,-.41076,-.1246,.90319,-.41076,-.1246,.90319,-.49371,-.14977,.85663,-.49371,-.14977,.85663,-.49371,-.14977,.85663,-.49371,-.14977,.85663,-.57182,-.17346,.80183,-.57182,-.17346,.80183,-.57182,-.17346,.80183,-.57182,-.17346,.80183,-.64434,-.19546,.73934,-.64434,-.19546,.73934,-.64434,-.19546,.73934,-.64434,-.19546,.73934,-.71059,-.21555,.66978,-.71059,-.21555,.66978,-.71059,-.21555,.66978,-.71059,-.21555,.66978,-.76994,-.23356,.59384,-.76994,-.23356,.59384,-.76994,-.23356,.59384,-.76994,-.23356,.59384,-.82184,-.2493,.51228,-.82184,-.2493,.51228,-.82184,-.2493,.51228,-.82184,-.2493,.51228,-.86582,-.26265,.42587,-.86582,-.26265,.42587,-.86582,-.26265,.42587,-.86582,-.26265,.42587,-.90149,-.27347,.33545,-.90149,-.27347,.33545,-.90149,-.27347,.33545,-.90149,-.27347,.33545,-.92853,-.28167,.24188,-.92853,-.28167,.24188,-.92853,-.28167,.24188,-.92853,-.28167,.24188,-.94668,-.28717,.14604,-.94668,-.28717,.14604,-.94668,-.28717,.14604,-.94668,-.28717,.14604,-.9558,-.28994,.04883,-.9558,-.28994,.04883,-.9558,-.28994,.04883,-.9558,-.28994,.04883,-.9558,-.28994,-.04883,-.9558,-.28994,-.04883,-.9558,-.28994,-.04883,-.9558,-.28994,-.04883,-.94668,-.28717,-.14604,-.94668,-.28717,-.14604,-.94668,-.28717,-.14604,-.94668,-.28717,-.14604,-.92853,-.28167,-.24188,-.92853,-.28167,-.24188,-.92853,-.28167,-.24188,-.92853,-.28167,-.24188,-.90149,-.27347,-.33545,-.90149,-.27347,-.33545,-.90149,-.27347,-.33545,-.90149,-.27347,-.33545,-.86582,-.26265,-.42587,-.86582,-.26265,-.42587,-.86582,-.26265,-.42587,-.86582,-.26265,-.42587,-.82184,-.2493,-.51228,-.82184,-.2493,-.51228,-.82184,-.2493,-.51228,-.82184,-.2493,-.51228,-.76993,-.23356,-.59384,-.76993,-.23356,-.59384,-.76993,-.23356,-.59384,-.76993,-.23356,-.59384,-.71059,-.21555,-.66978,-.71059,-.21555,-.66978,-.71059,-.21555,-.66978,-.71059,-.21555,-.66978,-.64434,-.19546,-.73934,-.64434,-.19546,-.73934,-.64434,-.19546,-.73934,-.64434,-.19546,-.73934,-.57182,-.17346,-.80183,-.57182,-.17346,-.80183,-.57182,-.17346,-.80183,-.57182,-.17346,-.80183,-.49371,-.14977,-.85663,-.49371,-.14977,-.85663,-.49371,-.14977,-.85663,-.49371,-.14977,-.85663,-.41076,-.1246,-.90319,-.41076,-.1246,-.90319,-.41076,-.1246,-.90319,-.41076,-.1246,-.90319,-.32377,-.09821,-.94103,-.32377,-.09821,-.94103,-.32377,-.09821,-.94103,-.32377,-.09821,-.94103,-.23357,-.07085,-.96975,-.23357,-.07085,-.96975,-.23357,-.07085,-.96975,-.23357,-.07085,-.96975,-.14108,-.0428,-.98907,-.14108,-.0428,-.98907,-.14108,-.0428,-.98907,-.14108,-.0428,-.98907,-.04718,-.01431,-.99878,-.04718,-.01431,-.99878,-.04718,-.01431,-.99878,-.04348,-.02324,-.99878,-.04348,-.02324,-.99878,-.04348,-.02324,-.99878,-.13002,-.0695,-.98907,-.13002,-.0695,-.98907,-.13002,-.0695,-.98907,-.13002,-.0695,-.98907,-.21526,-.11506,-.96975,-.21526,-.11506,-.96975,-.21526,-.11506,-.96975,-.21526,-.11506,-.96975,-.29838,-.15949,-.94103,-.29838,-.15949,-.94103,-.29838,-.15949,-.94103,-.29838,-.15949,-.94103,-.37856,-.20234,-.90319,-.37856,-.20234,-.90319,-.37856,-.20234,-.90319,-.37856,-.20234,-.90319,-.45501,-.24321,-.85663,-.45501,-.24321,-.85663,-.45501,-.24321,-.85663,-.45501,-.24321,-.85663,-.527,-.28169,-.80183,-.527,-.28169,-.80183,-.527,-.28169,-.80183,-.527,-.28169,-.80183,-.59383,-.31741,-.73934,-.59383,-.31741,-.73934,-.59383,-.31741,-.73934,-.59383,-.31741,-.73934,-.65488,-.35004,-.66978,-.65488,-.35004,-.66978,-.65488,-.35004,-.66978,-.65488,-.35004,-.66978,-.70958,-.37928,-.59384,-.70958,-.37928,-.59384,-.70958,-.37928,-.59384,-.70958,-.37928,-.59384,-.75741,-.40484,-.51228,-.75741,-.40484,-.51228,-.75741,-.40484,-.51228,-.75741,-.40484,-.51228,-.79795,-.42651,-.42587,-.79795,-.42651,-.42587,-.79795,-.42651,-.42587,-.79795,-.42651,-.42587,-.83082,-.44408,-.33545,-.83082,-.44408,-.33545,-.83082,-.44408,-.33545,-.83082,-.44408,-.33545,-.85573,-.4574,-.24188,-.85573,-.4574,-.24188,-.85573,-.4574,-.24188,-.85573,-.4574,-.24188,-.87247,-.46634,-.14604,-.87247,-.46634,-.14604,-.87247,-.46634,-.14604,-.87247,-.46634,-.14604,-.88087,-.47083,-.04883,-.88087,-.47083,-.04883,-.88087,-.47083,-.04883,-.88087,-.47083,-.04883,-.88087,-.47083,.04883,-.88087,-.47083,.04883,-.88087,-.47083,.04883,-.88087,-.47083,.04883,-.87247,-.46634,.14604,-.87247,-.46634,.14604,-.87247,-.46634,.14604,-.87247,-.46634,.14604,-.85573,-.4574,.24188,-.85573,-.4574,.24188,-.85573,-.4574,.24188,-.85573,-.4574,.24188,-.83082,-.44408,.33545,-.83082,-.44408,.33545,-.83082,-.44408,.33545,-.83082,-.44408,.33545,-.79795,-.42651,.42587,-.79795,-.42651,.42587,-.79795,-.42651,.42587,-.79795,-.42651,.42587,-.75741,-.40484,.51228,-.75741,-.40484,.51228,-.75741,-.40484,.51228,-.75741,-.40484,.51228,-.70958,-.37928,.59384,-.70958,-.37928,.59384,-.70958,-.37928,.59384,-.70958,-.37928,.59384,-.65488,-.35004,.66978,-.65488,-.35004,.66978,-.65488,-.35004,.66978,-.65488,-.35004,.66978,-.59383,-.31741,.73934,-.59383,-.31741,.73934,-.59383,-.31741,.73934,-.59383,-.31741,.73934,-.527,-.28169,.80183,-.527,-.28169,.80183,-.527,-.28169,.80183,-.527,-.28169,.80183,-.45501,-.24321,.85663,-.45501,-.24321,.85663,-.45501,-.24321,.85663,-.45501,-.24321,.85663,-.37856,-.20234,.90319,-.37856,-.20234,.90319,-.37856,-.20234,.90319,-.37856,-.20234,.90319,-.29838,-.15949,.94103,-.29838,-.15949,.94103,-.29838,-.15949,.94103,-.29838,-.15949,.94103,-.21526,-.11506,.96975,-.21526,-.11506,.96975,-.21526,-.11506,.96975,-.21526,-.11506,.96975,-.13002,-.0695,.98907,-.13002,-.0695,.98907,-.13002,-.0695,.98907,-.13002,-.0695,.98907,-.04348,-.02324,.99878,-.04348,-.02324,.99878,-.04348,-.02324,.99878,-.03811,-.03128,.99878,-.03811,-.03128,.99878,-.03811,-.03128,.99878,-.11396,-.09353,.98907,-.11396,-.09353,.98907,-.11396,-.09353,.98907,-.11396,-.09353,.98907,-.18868,-.15485,.96975,-.18868,-.15485,.96975,-.18868,-.15485,.96975,-.18868,-.15485,.96975,-.26154,-.21464,.94103,-.26154,-.21464,.94103,-.26154,-.21464,.94103,-.26154,-.21464,.94103,-.33181,-.27231,.90319,-.33181,-.27231,.90319,-.33181,-.27231,.90319,-.33181,-.27231,.90319,-.39882,-.3273,.85663,-.39882,-.3273,.85663,-.39882,-.3273,.85663,-.39882,-.3273,.85663,-.46192,-.37908,.80183,-.46192,-.37908,.80183,-.46192,-.37908,.80183,-.46192,-.37908,.80183,-.5205,-.42716,.73934,-.5205,-.42716,.73934,-.5205,-.42716,.73934,-.5205,-.42716,.73934,-.57401,-.47108,.66978,-.57401,-.47108,.66978,-.57401,-.47108,.66978,-.57401,-.47108,.66978,-.62195,-.51042,.59384,-.62195,-.51042,.59384,-.62195,-.51042,.59384,-.62195,-.51042,.59384,-.66388,-.54483,.51228,-.66388,-.54483,.51228,-.66388,-.54483,.51228,-.66388,-.54483,.51228,-.69941,-.57399,.42587,-.69941,-.57399,.42587,-.69941,-.57399,.42587,-.69941,-.57399,.42587,-.72822,-.59764,.33545,-.72822,-.59764,.33545,-.72822,-.59764,.33545,-.72822,-.59764,.33545,-.75006,-.61556,.24188,-.75006,-.61556,.24188,-.75006,-.61556,.24188,-.75006,-.61556,.24188,-.76472,-.62759,.14604,-.76472,-.62759,.14604,-.76472,-.62759,.14604,-.76472,-.62759,.14604,-.77209,-.63364,.04883,-.77209,-.63364,.04883,-.77209,-.63364,.04883,-.77209,-.63364,.04883,-.77209,-.63364,-.04883,-.77209,-.63364,-.04883,-.77209,-.63364,-.04883,-.77209,-.63364,-.04883,-.76472,-.62759,-.14604,-.76472,-.62759,-.14604,-.76472,-.62759,-.14604,-.76472,-.62759,-.14604,-.75006,-.61556,-.24188,-.75006,-.61556,-.24188,-.75006,-.61556,-.24188,-.75006,-.61556,-.24188,-.72822,-.59764,-.33545,-.72822,-.59764,-.33545,-.72822,-.59764,-.33545,-.72822,-.59764,-.33545,-.69941,-.57399,-.42587,-.69941,-.57399,-.42587,-.69941,-.57399,-.42587,-.69941,-.57399,-.42587,-.66388,-.54483,-.51228,-.66388,-.54483,-.51228,-.66388,-.54483,-.51228,-.66388,-.54483,-.51228,-.62195,-.51042,-.59384,-.62195,-.51042,-.59384,-.62195,-.51042,-.59384,-.62195,-.51042,-.59384,-.57401,-.47108,-.66978,-.57401,-.47108,-.66978,-.57401,-.47108,-.66978,-.57401,-.47108,-.66978,-.5205,-.42716,-.73934,-.5205,-.42716,-.73934,-.5205,-.42716,-.73934,-.5205,-.42716,-.73934,-.46192,-.37908,-.80183,-.46192,-.37908,-.80183,-.46192,-.37908,-.80183,-.46192,-.37908,-.80183,-.39882,-.3273,-.85663,-.39882,-.3273,-.85663,-.39882,-.3273,-.85663,-.39882,-.3273,-.85663,-.33181,-.27231,-.90319,-.33181,-.27231,-.90319,-.33181,-.27231,-.90319,-.33181,-.27231,-.90319,-.26154,-.21464,-.94103,-.26154,-.21464,-.94103,-.26154,-.21464,-.94103,-.26154,-.21464,-.94103,-.18868,-.15485,-.96975,-.18868,-.15485,-.96975,-.18868,-.15485,-.96975,-.18868,-.15485,-.96975,-.11396,-.09353,-.98907,-.11396,-.09353,-.98907,-.11396,-.09353,-.98907,-.11396,-.09353,-.98907,-.03811,-.03128,-.99878,-.03811,-.03128,-.99878,-.03811,-.03128,-.99878,-.03128,-.03811,-.99878,-.03128,-.03811,-.99878,-.03128,-.03811,-.99878,-.09353,-.11396,-.98907,-.09353,-.11396,-.98907,-.09353,-.11396,-.98907,-.09353,-.11396,-.98907,-.15485,-.18868,-.96975,-.15485,-.18868,-.96975,-.15485,-.18868,-.96975,-.15485,-.18868,-.96975,-.21464,-.26154,-.94103,-.21464,-.26154,-.94103,-.21464,-.26154,-.94103,-.21464,-.26154,-.94103,-.27231,-.33181,-.90319,-.27231,-.33181,-.90319,-.27231,-.33181,-.90319,-.27231,-.33181,-.90319,-.3273,-.39882,-.85663,-.3273,-.39882,-.85663,-.3273,-.39882,-.85663,-.3273,-.39882,-.85663,-.37908,-.46192,-.80183,-.37908,-.46192,-.80183,-.37908,-.46192,-.80183,-.37908,-.46192,-.80183,-.42716,-.5205,-.73934,-.42716,-.5205,-.73934,-.42716,-.5205,-.73934,-.42716,-.5205,-.73934,-.47108,-.57401,-.66978,-.47108,-.57401,-.66978,-.47108,-.57401,-.66978,-.47108,-.57401,-.66978,-.51042,-.62195,-.59384,-.51042,-.62195,-.59384,-.51042,-.62195,-.59384,-.51042,-.62195,-.59384,-.54483,-.66388,-.51228,-.54483,-.66388,-.51228,-.54483,-.66388,-.51228,-.54483,-.66388,-.51228,-.57399,-.69941,-.42587,-.57399,-.69941,-.42587,-.57399,-.69941,-.42587,-.57399,-.69941,-.42587,-.59763,-.72822,-.33545,-.59763,-.72822,-.33545,-.59763,-.72822,-.33545,-.59763,-.72822,-.33545,-.61556,-.75006,-.24188,-.61556,-.75006,-.24188,-.61556,-.75006,-.24188,-.61556,-.75006,-.24188,-.62759,-.76472,-.14604,-.62759,-.76472,-.14604,-.62759,-.76472,-.14604,-.62759,-.76472,-.14604,-.63364,-.77209,-.04883,-.63364,-.77209,-.04883,-.63364,-.77209,-.04883,-.63364,-.77209,-.04883,-.63364,-.77209,.04883,-.63364,-.77209,.04883,-.63364,-.77209,.04883,-.63364,-.77209,.04883,-.62759,-.76472,.14604,-.62759,-.76472,.14604,-.62759,-.76472,.14604,-.62759,-.76472,.14604,-.61556,-.75006,.24188,-.61556,-.75006,.24188,-.61556,-.75006,.24188,-.61556,-.75006,.24188,-.59764,-.72822,.33545,-.59764,-.72822,.33545,-.59764,-.72822,.33545,-.59764,-.72822,.33545,-.57399,-.69941,.42587,-.57399,-.69941,.42587,-.57399,-.69941,.42587,-.57399,-.69941,.42587,-.54483,-.66388,.51228,-.54483,-.66388,.51228,-.54483,-.66388,.51228,-.54483,-.66388,.51228,-.51042,-.62195,.59384,-.51042,-.62195,.59384,-.51042,-.62195,.59384,-.51042,-.62195,.59384,-.47108,-.57401,.66978,-.47108,-.57401,.66978,-.47108,-.57401,.66978,-.47108,-.57401,.66978,-.42716,-.5205,.73934,-.42716,-.5205,.73934,-.42716,-.5205,.73934,-.42716,-.5205,.73934,-.37908,-.46192,.80183,-.37908,-.46192,.80183,-.37908,-.46192,.80183,-.37908,-.46192,.80183,-.3273,-.39882,.85663,-.3273,-.39882,.85663,-.3273,-.39882,.85663,-.3273,-.39882,.85663,-.27231,-.33181,.90319,-.27231,-.33181,.90319,-.27231,-.33181,.90319,-.27231,-.33181,.90319,-.21464,-.26154,.94103,-.21464,-.26154,.94103,-.21464,-.26154,.94103,-.21464,-.26154,.94103,-.15485,-.18868,.96975,-.15485,-.18868,.96975,-.15485,-.18868,.96975,-.15485,-.18868,.96975,-.09353,-.11396,.98907,-.09353,-.11396,.98907,-.09353,-.11396,.98907,-.09353,-.11396,.98907,-.03128,-.03811,.99878,-.03128,-.03811,.99878,-.03128,-.03811,.99878,-.02324,-.04348,.99878,-.02324,-.04348,.99878,-.02324,-.04348,.99878,-.0695,-.13002,.98907,-.0695,-.13002,.98907,-.0695,-.13002,.98907,-.0695,-.13002,.98907,-.11506,-.21526,.96975,-.11506,-.21526,.96975,-.11506,-.21526,.96975,-.11506,-.21526,.96975,-.15949,-.29838,.94103,-.15949,-.29838,.94103,-.15949,-.29838,.94103,-.15949,-.29838,.94103,-.20234,-.37856,.90319,-.20234,-.37856,.90319,-.20234,-.37856,.90319,-.20234,-.37856,.90319,-.24321,-.45501,.85663,-.24321,-.45501,.85663,-.24321,-.45501,.85663,-.24321,-.45501,.85663,-.28168,-.527,.80183,-.28168,-.527,.80183,-.28168,-.527,.80183,-.28168,-.527,.80183,-.31741,-.59383,.73934,-.31741,-.59383,.73934,-.31741,-.59383,.73934,-.31741,-.59383,.73934,-.35004,-.65488,.66978,-.35004,-.65488,.66978,-.35004,-.65488,.66978,-.35004,-.65488,.66978,-.37928,-.70958,.59384,-.37928,-.70958,.59384,-.37928,-.70958,.59384,-.37928,-.70958,.59384,-.40484,-.75741,.51228,-.40484,-.75741,.51228,-.40484,-.75741,.51228,-.40484,-.75741,.51228,-.42651,-.79795,.42587,-.42651,-.79795,.42587,-.42651,-.79795,.42587,-.42651,-.79795,.42587,-.44408,-.83082,.33545,-.44408,-.83082,.33545,-.44408,-.83082,.33545,-.44408,-.83082,.33545,-.4574,-.85573,.24188,-.4574,-.85573,.24188,-.4574,-.85573,.24188,-.4574,-.85573,.24188,-.46634,-.87247,.14604,-.46634,-.87247,.14604,-.46634,-.87247,.14604,-.46634,-.87247,.14604,-.47083,-.88087,.04883,-.47083,-.88087,.04883,-.47083,-.88087,.04883,-.47083,-.88087,.04883,-.47083,-.88087,-.04883,-.47083,-.88087,-.04883,-.47083,-.88087,-.04883,-.47083,-.88087,-.04883,-.46634,-.87247,-.14604,-.46634,-.87247,-.14604,-.46634,-.87247,-.14604,-.46634,-.87247,-.14604,-.4574,-.85573,-.24188,-.4574,-.85573,-.24188,-.4574,-.85573,-.24188,-.4574,-.85573,-.24188,-.44408,-.83082,-.33545,-.44408,-.83082,-.33545,-.44408,-.83082,-.33545,-.44408,-.83082,-.33545,-.42651,-.79795,-.42587,-.42651,-.79795,-.42587,-.42651,-.79795,-.42587,-.42651,-.79795,-.42587,-.40484,-.75741,-.51228,-.40484,-.75741,-.51228,-.40484,-.75741,-.51228,-.40484,-.75741,-.51228,-.37928,-.70958,-.59384,-.37928,-.70958,-.59384,-.37928,-.70958,-.59384,-.37928,-.70958,-.59384,-.35004,-.65488,-.66978,-.35004,-.65488,-.66978,-.35004,-.65488,-.66978,-.35004,-.65488,-.66978,-.31741,-.59383,-.73934,-.31741,-.59383,-.73934,-.31741,-.59383,-.73934,-.31741,-.59383,-.73934,-.28168,-.527,-.80183,-.28168,-.527,-.80183,-.28168,-.527,-.80183,-.28168,-.527,-.80183,-.24321,-.45501,-.85663,-.24321,-.45501,-.85663,-.24321,-.45501,-.85663,-.24321,-.45501,-.85663,-.20234,-.37856,-.90319,-.20234,-.37856,-.90319,-.20234,-.37856,-.90319,-.20234,-.37856,-.90319,-.15949,-.29838,-.94103,-.15949,-.29838,-.94103,-.15949,-.29838,-.94103,-.15949,-.29838,-.94103,-.11506,-.21526,-.96975,-.11506,-.21526,-.96975,-.11506,-.21526,-.96975,-.11506,-.21526,-.96975,-.0695,-.13002,-.98907,-.0695,-.13002,-.98907,-.0695,-.13002,-.98907,-.0695,-.13002,-.98907,-.02324,-.04348,-.99878,-.02324,-.04348,-.99878,-.02324,-.04348,-.99878,-.01431,-.04718,-.99878,-.01431,-.04718,-.99878,-.01431,-.04718,-.99878,-.0428,-.14108,-.98907,-.0428,-.14108,-.98907,-.0428,-.14108,-.98907,-.0428,-.14108,-.98907,-.07085,-.23357,-.96975,-.07085,-.23357,-.96975,-.07085,-.23357,-.96975,-.07085,-.23357,-.96975,-.09821,-.32377,-.94103,-.09821,-.32377,-.94103,-.09821,-.32377,-.94103,-.09821,-.32377,-.94103,-.1246,-.41076,-.90319,-.1246,-.41076,-.90319,-.1246,-.41076,-.90319,-.1246,-.41076,-.90319,-.14977,-.49371,-.85663,-.14977,-.49371,-.85663,-.14977,-.49371,-.85663,-.14977,-.49371,-.85663,-.17346,-.57182,-.80183,-.17346,-.57182,-.80183,-.17346,-.57182,-.80183,-.17346,-.57182,-.80183,-.19546,-.64434,-.73934,-.19546,-.64434,-.73934,-.19546,-.64434,-.73934,-.19546,-.64434,-.73934,-.21555,-.71059,-.66978,-.21555,-.71059,-.66978,-.21555,-.71059,-.66978,-.21555,-.71059,-.66978,-.23356,-.76994,-.59384,-.23356,-.76994,-.59384,-.23356,-.76994,-.59384,-.23356,-.76994,-.59384,-.2493,-.82184,-.51228,-.2493,-.82184,-.51228,-.2493,-.82184,-.51228,-.2493,-.82184,-.51228,-.26264,-.86583,-.42587,-.26264,-.86583,-.42587,-.26264,-.86583,-.42587,-.26264,-.86583,-.42587,-.27346,-.90149,-.33545,-.27346,-.90149,-.33545,-.27346,-.90149,-.33545,-.27346,-.90149,-.33545,-.28166,-.92853,-.24188,-.28166,-.92853,-.24188,-.28166,-.92853,-.24188,-.28166,-.92853,-.24188,-.28717,-.94668,-.14604,-.28717,-.94668,-.14604,-.28717,-.94668,-.14604,-.28717,-.94668,-.14604,-.28994,-.9558,-.04883,-.28994,-.9558,-.04883,-.28994,-.9558,-.04883,-.28994,-.9558,-.04883,-.28994,-.9558,.04883,-.28994,-.9558,.04883,-.28994,-.9558,.04883,-.28994,-.9558,.04883,-.28717,-.94668,.14604,-.28717,-.94668,.14604,-.28717,-.94668,.14604,-.28717,-.94668,.14604,-.28167,-.92853,.24188,-.28167,-.92853,.24188,-.28167,-.92853,.24188,-.28167,-.92853,.24188,-.27346,-.90149,.33545,-.27346,-.90149,.33545,-.27346,-.90149,.33545,-.27346,-.90149,.33545,-.26264,-.86582,.42587,-.26264,-.86582,.42587,-.26264,-.86582,.42587,-.26264,-.86582,.42587,-.2493,-.82184,.51228,-.2493,-.82184,.51228,-.2493,-.82184,.51228,-.2493,-.82184,.51228,-.23356,-.76994,.59384,-.23356,-.76994,.59384,-.23356,-.76994,.59384,-.23356,-.76994,.59384,-.21555,-.71059,.66978,-.21555,-.71059,.66978,-.21555,-.71059,.66978,-.21555,-.71059,.66978,-.19546,-.64434,.73934,-.19546,-.64434,.73934,-.19546,-.64434,.73934,-.19546,-.64434,.73934,-.17346,-.57182,.80183,-.17346,-.57182,.80183,-.17346,-.57182,.80183,-.17346,-.57182,.80183,-.14977,-.49371,.85663,-.14977,-.49371,.85663,-.14977,-.49371,.85663,-.14977,-.49371,.85663,-.1246,-.41076,.90319,-.1246,-.41076,.90319,-.1246,-.41076,.90319,-.1246,-.41076,.90319,-.09821,-.32377,.94103,-.09821,-.32377,.94103,-.09821,-.32377,.94103,-.09821,-.32377,.94103,-.07085,-.23358,.96975,-.07085,-.23358,.96975,-.07085,-.23358,.96975,-.07085,-.23358,.96975,-.0428,-.14108,.98907,-.0428,-.14108,.98907,-.0428,-.14108,.98907,-.0428,-.14108,.98907,-.01431,-.04718,.99878,-.01431,-.04718,.99878,-.01431,-.04718,.99878,-.00483,-.04907,.99878,-.00483,-.04907,.99878,-.00483,-.04907,.99878,-.01445,-.14672,.98907,-.01445,-.14672,.98907,-.01445,-.14672,.98907,-.01445,-.14672,.98907,-.02392,-.24291,.96975,-.02392,-.24291,.96975,-.02392,-.24291,.96975,-.02392,-.24291,.96975,-.03316,-.33671,.94103,-.03316,-.33671,.94103,-.03316,-.33671,.94103,-.03316,-.33671,.94103,-.04207,-.42718,.90319,-.04207,-.42718,.90319,-.04207,-.42718,.90319,-.04207,-.42718,.90319,-.05057,-.51345,.85663,-.05057,-.51345,.85663,-.05057,-.51345,.85663,-.05057,-.51345,.85663,-.05857,-.59468,.80183,-.05857,-.59468,.80183,-.05857,-.59468,.80183,-.05857,-.59468,.80183,-.066,-.67009,.73934,-.066,-.67009,.73934,-.066,-.67009,.73934,-.066,-.67009,.73934,-.07278,-.73899,.66978,-.07278,-.73899,.66978,-.07278,-.73899,.66978,-.07278,-.73899,.66978,-.07886,-.80071,.59384,-.07886,-.80071,.59384,-.07886,-.80071,.59384,-.07886,-.80071,.59384,-.08418,-.85468,.51228,-.08418,-.85468,.51228,-.08418,-.85468,.51228,-.08418,-.85468,.51228,-.08868,-.90043,.42587,-.08868,-.90043,.42587,-.08868,-.90043,.42587,-.08868,-.90043,.42587,-.09234,-.93752,.33545,-.09234,-.93752,.33545,-.09234,-.93752,.33545,-.09234,-.93752,.33545,-.09511,-.96563,.24188,-.09511,-.96563,.24188,-.09511,-.96563,.24188,-.09511,-.96563,.24188,-.09697,-.98452,.14604,-.09697,-.98452,.14604,-.09697,-.98452,.14604,-.09697,-.98452,.14604,-.0979,-.994,.04883,-.0979,-.994,.04883,-.0979,-.994,.04883,-.0979,-.994,.04883,-.0979,-.994,-.04883,-.0979,-.994,-.04883,-.0979,-.994,-.04883,-.0979,-.994,-.04883,-.09697,-.98452,-.14604,-.09697,-.98452,-.14604,-.09697,-.98452,-.14604,-.09697,-.98452,-.14604,-.09511,-.96563,-.24188,-.09511,-.96563,-.24188,-.09511,-.96563,-.24188,-.09511,-.96563,-.24188,-.09234,-.93752,-.33545,-.09234,-.93752,-.33545,-.09234,-.93752,-.33545,-.09234,-.93752,-.33545,-.08868,-.90043,-.42587,-.08868,-.90043,-.42587,-.08868,-.90043,-.42587,-.08868,-.90043,-.42587,-.08418,-.85468,-.51228,-.08418,-.85468,-.51228,-.08418,-.85468,-.51228,-.08418,-.85468,-.51228,-.07886,-.80071,-.59384,-.07886,-.80071,-.59384,-.07886,-.80071,-.59384,-.07886,-.80071,-.59384,-.07278,-.73899,-.66978,-.07278,-.73899,-.66978,-.07278,-.73899,-.66978,-.07278,-.73899,-.66978,-.066,-.6701,-.73934,-.066,-.6701,-.73934,-.066,-.6701,-.73934,-.066,-.6701,-.73934,-.05857,-.59468,-.80183,-.05857,-.59468,-.80183,-.05857,-.59468,-.80183,-.05857,-.59468,-.80183,-.05057,-.51345,-.85663,-.05057,-.51345,-.85663,-.05057,-.51345,-.85663,-.05057,-.51345,-.85663,-.04207,-.42718,-.90319,-.04207,-.42718,-.90319,-.04207,-.42718,-.90319,-.04207,-.42718,-.90319,-.03316,-.3367,-.94103,-.03316,-.3367,-.94103,-.03316,-.3367,-.94103,-.03316,-.3367,-.94103,-.02392,-.24291,-.96975,-.02392,-.24291,-.96975,-.02392,-.24291,-.96975,-.02392,-.24291,-.96975,-.01445,-.14671,-.98907,-.01445,-.14671,-.98907,-.01445,-.14671,-.98907,-.01445,-.14671,-.98907,-.00483,-.04907,-.99878,-.00483,-.04907,-.99878,-.00483,-.04907,-.99878,.00483,-.04907,-.99878,.00483,-.04907,-.99878,.00483,-.04907,-.99878,.01445,-.14671,-.98907,.01445,-.14671,-.98907,.01445,-.14671,-.98907,.01445,-.14671,-.98907,.02392,-.24291,-.96975,.02392,-.24291,-.96975,.02392,-.24291,-.96975,.02392,-.24291,-.96975,.03316,-.3367,-.94103,.03316,-.3367,-.94103,.03316,-.3367,-.94103,.03316,-.3367,-.94103,.04207,-.42718,-.90319,.04207,-.42718,-.90319,.04207,-.42718,-.90319,.04207,-.42718,-.90319,.05057,-.51345,-.85663,.05057,-.51345,-.85663,.05057,-.51345,-.85663,.05057,-.51345,-.85663,.05857,-.59468,-.80183,.05857,-.59468,-.80183,.05857,-.59468,-.80183,.05857,-.59468,-.80183,.066,-.6701,-.73934,.066,-.6701,-.73934,.066,-.6701,-.73934,.066,-.6701,-.73934,.07278,-.73899,-.66978,.07278,-.73899,-.66978,.07278,-.73899,-.66978,.07278,-.73899,-.66978,.07886,-.80071,-.59384,.07886,-.80071,-.59384,.07886,-.80071,-.59384,.07886,-.80071,-.59384,.08418,-.85468,-.51228,.08418,-.85468,-.51228,.08418,-.85468,-.51228,.08418,-.85468,-.51228,.08868,-.90043,-.42587,.08868,-.90043,-.42587,.08868,-.90043,-.42587,.08868,-.90043,-.42587,.09234,-.93752,-.33545,.09234,-.93752,-.33545,.09234,-.93752,-.33545,.09234,-.93752,-.33545,.09511,-.96563,-.24188,.09511,-.96563,-.24188,.09511,-.96563,-.24188,.09511,-.96563,-.24188,.09697,-.98452,-.14604,.09697,-.98452,-.14604,.09697,-.98452,-.14604,.09697,-.98452,-.14604,.0979,-.994,-.04883,.0979,-.994,-.04883,.0979,-.994,-.04883,.0979,-.994,-.04883,.0979,-.994,.04883,.0979,-.994,.04883,.0979,-.994,.04883,.0979,-.994,.04883,.09697,-.98452,.14604,.09697,-.98452,.14604,.09697,-.98452,.14604,.09697,-.98452,.14604,.09511,-.96563,.24188,.09511,-.96563,.24188,.09511,-.96563,.24188,.09511,-.96563,.24188,.09234,-.93752,.33545,.09234,-.93752,.33545,.09234,-.93752,.33545,.09234,-.93752,.33545,.08868,-.90043,.42587,.08868,-.90043,.42587,.08868,-.90043,.42587,.08868,-.90043,.42587,.08418,-.85468,.51228,.08418,-.85468,.51228,.08418,-.85468,.51228,.08418,-.85468,.51228,.07886,-.80071,.59384,.07886,-.80071,.59384,.07886,-.80071,.59384,.07886,-.80071,.59384,.07278,-.73899,.66978,.07278,-.73899,.66978,.07278,-.73899,.66978,.07278,-.73899,.66978,.066,-.67009,.73934,.066,-.67009,.73934,.066,-.67009,.73934,.066,-.67009,.73934,.05857,-.59468,.80183,.05857,-.59468,.80183,.05857,-.59468,.80183,.05857,-.59468,.80183,.05057,-.51345,.85663,.05057,-.51345,.85663,.05057,-.51345,.85663,.05057,-.51345,.85663,.04207,-.42718,.90319,.04207,-.42718,.90319,.04207,-.42718,.90319,.04207,-.42718,.90319,.03316,-.33671,.94103,.03316,-.33671,.94103,.03316,-.33671,.94103,.03316,-.33671,.94103,.02392,-.24291,.96975,.02392,-.24291,.96975,.02392,-.24291,.96975,.02392,-.24291,.96975,.01445,-.14672,.98907,.01445,-.14672,.98907,.01445,-.14672,.98907,.01445,-.14672,.98907,.00483,-.04907,.99878,.00483,-.04907,.99878,.00483,-.04907,.99878,.01431,-.04718,.99878,.01431,-.04718,.99878,.01431,-.04718,.99878,.0428,-.14108,.98907,.0428,-.14108,.98907,.0428,-.14108,.98907,.0428,-.14108,.98907,.07085,-.23358,.96975,.07085,-.23358,.96975,.07085,-.23358,.96975,.07085,-.23358,.96975,.09821,-.32377,.94103,.09821,-.32377,.94103,.09821,-.32377,.94103,.09821,-.32377,.94103,.1246,-.41076,.90319,.1246,-.41076,.90319,.1246,-.41076,.90319,.1246,-.41076,.90319,.14977,-.49371,.85663,.14977,-.49371,.85663,.14977,-.49371,.85663,.14977,-.49371,.85663,.17346,-.57182,.80183,.17346,-.57182,.80183,.17346,-.57182,.80183,.17346,-.57182,.80183,.19546,-.64434,.73934,.19546,-.64434,.73934,.19546,-.64434,.73934,.19546,-.64434,.73934,.21555,-.71059,.66978,.21555,-.71059,.66978,.21555,-.71059,.66978,.21555,-.71059,.66978,.23356,-.76994,.59384,.23356,-.76994,.59384,.23356,-.76994,.59384,.23356,-.76994,.59384,.2493,-.82184,.51228,.2493,-.82184,.51228,.2493,-.82184,.51228,.2493,-.82184,.51228,.26265,-.86583,.42587,.26265,-.86583,.42587,.26265,-.86583,.42587,.26265,-.86583,.42587,.27347,-.90149,.33545,.27347,-.90149,.33545,.27347,-.90149,.33545,.27347,-.90149,.33545,.28167,-.92853,.24188,.28167,-.92853,.24188,.28167,-.92853,.24188,.28167,-.92853,.24188,.28717,-.94668,.14604,.28717,-.94668,.14604,.28717,-.94668,.14604,.28717,-.94668,.14604,.28994,-.9558,.04883,.28994,-.9558,.04883,.28994,-.9558,.04883,.28994,-.9558,.04883,.28994,-.9558,-.04883,.28994,-.9558,-.04883,.28994,-.9558,-.04883,.28994,-.9558,-.04883,.28717,-.94668,-.14604,.28717,-.94668,-.14604,.28717,-.94668,-.14604,.28717,-.94668,-.14604,.28167,-.92853,-.24188,.28167,-.92853,-.24188,.28167,-.92853,-.24188,.28167,-.92853,-.24188,.27347,-.90149,-.33545,.27347,-.90149,-.33545,.27347,-.90149,-.33545,.27347,-.90149,-.33545,.26265,-.86583,-.42587,.26265,-.86583,-.42587,.26265,-.86583,-.42587,.26265,-.86583,-.42587,.2493,-.82184,-.51228,.2493,-.82184,-.51228,.2493,-.82184,-.51228,.2493,-.82184,-.51228,.23356,-.76994,-.59384,.23356,-.76994,-.59384,.23356,-.76994,-.59384,.23356,-.76994,-.59384,.21555,-.71059,-.66978,.21555,-.71059,-.66978,.21555,-.71059,-.66978,.21555,-.71059,-.66978,.19546,-.64434,-.73934,.19546,-.64434,-.73934,.19546,-.64434,-.73934,.19546,-.64434,-.73934,.17346,-.57182,-.80183,.17346,-.57182,-.80183,.17346,-.57182,-.80183,.17346,-.57182,-.80183,.14977,-.49371,-.85663,.14977,-.49371,-.85663,.14977,-.49371,-.85663,.14977,-.49371,-.85663,.1246,-.41076,-.90319,.1246,-.41076,-.90319,.1246,-.41076,-.90319,.1246,-.41076,-.90319,.09821,-.32377,-.94103,.09821,-.32377,-.94103,.09821,-.32377,-.94103,.09821,-.32377,-.94103,.07085,-.23357,-.96975,.07085,-.23357,-.96975,.07085,-.23357,-.96975,.07085,-.23357,-.96975,.0428,-.14108,-.98907,.0428,-.14108,-.98907,.0428,-.14108,-.98907,.0428,-.14108,-.98907,.01431,-.04718,-.99878,.01431,-.04718,-.99878,.01431,-.04718,-.99878,.02324,-.04348,-.99878,.02324,-.04348,-.99878,.02324,-.04348,-.99878,.0695,-.13002,-.98907,.0695,-.13002,-.98907,.0695,-.13002,-.98907,.0695,-.13002,-.98907,.11506,-.21526,-.96975,.11506,-.21526,-.96975,.11506,-.21526,-.96975,.11506,-.21526,-.96975,.15949,-.29838,-.94103,.15949,-.29838,-.94103,.15949,-.29838,-.94103,.15949,-.29838,-.94103,.20234,-.37856,-.90319,.20234,-.37856,-.90319,.20234,-.37856,-.90319,.20234,-.37856,-.90319,.24321,-.45501,-.85663,.24321,-.45501,-.85663,.24321,-.45501,-.85663,.24321,-.45501,-.85663,.28169,-.527,-.80183,.28169,-.527,-.80183,.28169,-.527,-.80183,.28169,-.527,-.80183,.31741,-.59383,-.73934,.31741,-.59383,-.73934,.31741,-.59383,-.73934,.31741,-.59383,-.73934,.35004,-.65488,-.66978,.35004,-.65488,-.66978,.35004,-.65488,-.66978,.35004,-.65488,-.66978,.37928,-.70958,-.59384,.37928,-.70958,-.59384,.37928,-.70958,-.59384,.37928,-.70958,-.59384,.40484,-.75741,-.51228,.40484,-.75741,-.51228,.40484,-.75741,-.51228,.40484,-.75741,-.51228,.42651,-.79795,-.42587,.42651,-.79795,-.42587,.42651,-.79795,-.42587,.42651,-.79795,-.42587,.44408,-.83082,-.33545,.44408,-.83082,-.33545,.44408,-.83082,-.33545,.44408,-.83082,-.33545,.4574,-.85573,-.24188,.4574,-.85573,-.24188,.4574,-.85573,-.24188,.4574,-.85573,-.24188,.46634,-.87247,-.14604,.46634,-.87247,-.14604,.46634,-.87247,-.14604,.46634,-.87247,-.14604,.47083,-.88087,-.04883,.47083,-.88087,-.04883,.47083,-.88087,-.04883,.47083,-.88087,-.04883,.47083,-.88087,.04883,.47083,-.88087,.04883,.47083,-.88087,.04883,.47083,-.88087,.04883,.46634,-.87247,.14604,.46634,-.87247,.14604,.46634,-.87247,.14604,.46634,-.87247,.14604,.4574,-.85573,.24188,.4574,-.85573,.24188,.4574,-.85573,.24188,.4574,-.85573,.24188,.44408,-.83082,.33545,.44408,-.83082,.33545,.44408,-.83082,.33545,.44408,-.83082,.33545,.42651,-.79795,.42587,.42651,-.79795,.42587,.42651,-.79795,.42587,.42651,-.79795,.42587,.40484,-.75741,.51228,.40484,-.75741,.51228,.40484,-.75741,.51228,.40484,-.75741,.51228,.37928,-.70958,.59384,.37928,-.70958,.59384,.37928,-.70958,.59384,.37928,-.70958,.59384,.35004,-.65488,.66978,.35004,-.65488,.66978,.35004,-.65488,.66978,.35004,-.65488,.66978,.31741,-.59383,.73934,.31741,-.59383,.73934,.31741,-.59383,.73934,.31741,-.59383,.73934,.28169,-.527,.80183,.28169,-.527,.80183,.28169,-.527,.80183,.28169,-.527,.80183,.24321,-.45501,.85663,.24321,-.45501,.85663,.24321,-.45501,.85663,.24321,-.45501,.85663,.20234,-.37856,.90319,.20234,-.37856,.90319,.20234,-.37856,.90319,.20234,-.37856,.90319,.15949,-.29838,.94103,.15949,-.29838,.94103,.15949,-.29838,.94103,.15949,-.29838,.94103,.11506,-.21526,.96975,.11506,-.21526,.96975,.11506,-.21526,.96975,.11506,-.21526,.96975,.0695,-.13002,.98907,.0695,-.13002,.98907,.0695,-.13002,.98907,.0695,-.13002,.98907,.02324,-.04348,.99878,.02324,-.04348,.99878,.02324,-.04348,.99878,.03128,-.03811,.99878,.03128,-.03811,.99878,.03128,-.03811,.99878,.09353,-.11396,.98907,.09353,-.11396,.98907,.09353,-.11396,.98907,.09353,-.11396,.98907,.15485,-.18868,.96975,.15485,-.18868,.96975,.15485,-.18868,.96975,.15485,-.18868,.96975,.21464,-.26154,.94103,.21464,-.26154,.94103,.21464,-.26154,.94103,.21464,-.26154,.94103,.27231,-.33181,.90319,.27231,-.33181,.90319,.27231,-.33181,.90319,.27231,-.33181,.90319,.3273,-.39882,.85663,.3273,-.39882,.85663,.3273,-.39882,.85663,.3273,-.39882,.85663,.37908,-.46192,.80183,.37908,-.46192,.80183,.37908,-.46192,.80183,.37908,-.46192,.80183,.42716,-.5205,.73934,.42716,-.5205,.73934,.42716,-.5205,.73934,.42716,-.5205,.73934,.47108,-.57401,.66978,.47108,-.57401,.66978,.47108,-.57401,.66978,.47108,-.57401,.66978,.51042,-.62195,.59384,.51042,-.62195,.59384,.51042,-.62195,.59384,.51042,-.62195,.59384,.54483,-.66388,.51228,.54483,-.66388,.51228,.54483,-.66388,.51228,.54483,-.66388,.51228,.57399,-.69941,.42587,.57399,-.69941,.42587,.57399,-.69941,.42587,.57399,-.69941,.42587,.59764,-.72822,.33545,.59764,-.72822,.33545,.59764,-.72822,.33545,.59764,-.72822,.33545,.61556,-.75006,.24188,.61556,-.75006,.24188,.61556,-.75006,.24188,.61556,-.75006,.24188,.62759,-.76472,.14604,.62759,-.76472,.14604,.62759,-.76472,.14604,.62759,-.76472,.14604,.63364,-.77209,.04883,.63364,-.77209,.04883,.63364,-.77209,.04883,.63364,-.77209,.04883,.63364,-.77209,-.04883,.63364,-.77209,-.04883,.63364,-.77209,-.04883,.63364,-.77209,-.04883,.62759,-.76472,-.14604,.62759,-.76472,-.14604,.62759,-.76472,-.14604,.62759,-.76472,-.14604,.61556,-.75006,-.24188,.61556,-.75006,-.24188,.61556,-.75006,-.24188,.61556,-.75006,-.24188,.59764,-.72822,-.33545,.59764,-.72822,-.33545,.59764,-.72822,-.33545,.59764,-.72822,-.33545,.57399,-.69941,-.42587,.57399,-.69941,-.42587,.57399,-.69941,-.42587,.57399,-.69941,-.42587,.54483,-.66388,-.51228,.54483,-.66388,-.51228,.54483,-.66388,-.51228,.54483,-.66388,-.51228,.51042,-.62195,-.59384,.51042,-.62195,-.59384,.51042,-.62195,-.59384,.51042,-.62195,-.59384,.47108,-.57401,-.66978,.47108,-.57401,-.66978,.47108,-.57401,-.66978,.47108,-.57401,-.66978,.42716,-.5205,-.73934,.42716,-.5205,-.73934,.42716,-.5205,-.73934,.42716,-.5205,-.73934,.37908,-.46192,-.80183,.37908,-.46192,-.80183,.37908,-.46192,-.80183,.37908,-.46192,-.80183,.3273,-.39882,-.85663,.3273,-.39882,-.85663,.3273,-.39882,-.85663,.3273,-.39882,-.85663,.27231,-.33181,-.90319,.27231,-.33181,-.90319,.27231,-.33181,-.90319,.27231,-.33181,-.90319,.21464,-.26154,-.94103,.21464,-.26154,-.94103,.21464,-.26154,-.94103,.21464,-.26154,-.94103,.15485,-.18868,-.96975,.15485,-.18868,-.96975,.15485,-.18868,-.96975,.15485,-.18868,-.96975,.09353,-.11396,-.98907,.09353,-.11396,-.98907,.09353,-.11396,-.98907,.09353,-.11396,-.98907,.03128,-.03811,-.99878,.03128,-.03811,-.99878,.03128,-.03811,-.99878,.03811,-.03128,-.99878,.03811,-.03128,-.99878,.03811,-.03128,-.99878,.11396,-.09353,-.98907,.11396,-.09353,-.98907,.11396,-.09353,-.98907,.11396,-.09353,-.98907,.18868,-.15485,-.96975,.18868,-.15485,-.96975,.18868,-.15485,-.96975,.18868,-.15485,-.96975,.26154,-.21464,-.94103,.26154,-.21464,-.94103,.26154,-.21464,-.94103,.26154,-.21464,-.94103,.33181,-.27231,-.90319,.33181,-.27231,-.90319,.33181,-.27231,-.90319,.33181,-.27231,-.90319,.39882,-.3273,-.85663,.39882,-.3273,-.85663,.39882,-.3273,-.85663,.39882,-.3273,-.85663,.46192,-.37908,-.80183,.46192,-.37908,-.80183,.46192,-.37908,-.80183,.46192,-.37908,-.80183,.5205,-.42716,-.73934,.5205,-.42716,-.73934,.5205,-.42716,-.73934,.5205,-.42716,-.73934,.57401,-.47108,-.66978,.57401,-.47108,-.66978,.57401,-.47108,-.66978,.57401,-.47108,-.66978,.62195,-.51042,-.59384,.62195,-.51042,-.59384,.62195,-.51042,-.59384,.62195,-.51042,-.59384,.66388,-.54483,-.51228,.66388,-.54483,-.51228,.66388,-.54483,-.51228,.66388,-.54483,-.51228,.69941,-.57399,-.42587,.69941,-.57399,-.42587,.69941,-.57399,-.42587,.69941,-.57399,-.42587,.72822,-.59763,-.33545,.72822,-.59763,-.33545,.72822,-.59763,-.33545,.72822,-.59763,-.33545,.75006,-.61556,-.24188,.75006,-.61556,-.24188,.75006,-.61556,-.24188,.75006,-.61556,-.24188,.76472,-.62759,-.14604,.76472,-.62759,-.14604,.76472,-.62759,-.14604,.76472,-.62759,-.14604,.77209,-.63364,-.04883,.77209,-.63364,-.04883,.77209,-.63364,-.04883,.77209,-.63364,-.04883,.77209,-.63364,.04883,.77209,-.63364,.04883,.77209,-.63364,.04883,.77209,-.63364,.04883,.76472,-.62759,.14604,.76472,-.62759,.14604,.76472,-.62759,.14604,.76472,-.62759,.14604,.75006,-.61556,.24188,.75006,-.61556,.24188,.75006,-.61556,.24188,.75006,-.61556,.24188,.72822,-.59763,.33545,.72822,-.59763,.33545,.72822,-.59763,.33545,.72822,-.59763,.33545,.69941,-.57399,.42587,.69941,-.57399,.42587,.69941,-.57399,.42587,.69941,-.57399,.42587,.66388,-.54483,.51228,.66388,-.54483,.51228,.66388,-.54483,.51228,.66388,-.54483,.51228,.62195,-.51042,.59384,.62195,-.51042,.59384,.62195,-.51042,.59384,.62195,-.51042,.59384,.57401,-.47108,.66978,.57401,-.47108,.66978,.57401,-.47108,.66978,.57401,-.47108,.66978,.5205,-.42716,.73934,.5205,-.42716,.73934,.5205,-.42716,.73934,.5205,-.42716,.73934,.46192,-.37908,.80183,.46192,-.37908,.80183,.46192,-.37908,.80183,.46192,-.37908,.80183,.39882,-.3273,.85663,.39882,-.3273,.85663,.39882,-.3273,.85663,.39882,-.3273,.85663,.33181,-.27231,.90319,.33181,-.27231,.90319,.33181,-.27231,.90319,.33181,-.27231,.90319,.26154,-.21464,.94103,.26154,-.21464,.94103,.26154,-.21464,.94103,.26154,-.21464,.94103,.18868,-.15485,.96975,.18868,-.15485,.96975,.18868,-.15485,.96975,.18868,-.15485,.96975,.11396,-.09353,.98907,.11396,-.09353,.98907,.11396,-.09353,.98907,.11396,-.09353,.98907,.03811,-.03128,.99878,.03811,-.03128,.99878,.03811,-.03128,.99878,.04348,-.02324,.99878,.04348,-.02324,.99878,.04348,-.02324,.99878,.13002,-.0695,.98907,.13002,-.0695,.98907,.13002,-.0695,.98907,.13002,-.0695,.98907,.21526,-.11506,.96975,.21526,-.11506,.96975,.21526,-.11506,.96975,.21526,-.11506,.96975,.29838,-.15949,.94103,.29838,-.15949,.94103,.29838,-.15949,.94103,.29838,-.15949,.94103,.37856,-.20234,.90319,.37856,-.20234,.90319,.37856,-.20234,.90319,.37856,-.20234,.90319,.45501,-.24321,.85663,.45501,-.24321,.85663,.45501,-.24321,.85663,.45501,-.24321,.85663,.527,-.28168,.80183,.527,-.28168,.80183,.527,-.28168,.80183,.527,-.28168,.80183,.59383,-.31741,.73934,.59383,-.31741,.73934,.59383,-.31741,.73934,.59383,-.31741,.73934,.65488,-.35004,.66978,.65488,-.35004,.66978,.65488,-.35004,.66978,.65488,-.35004,.66978,.70958,-.37928,.59384,.70958,-.37928,.59384,.70958,-.37928,.59384,.70958,-.37928,.59384,.75741,-.40484,.51228,.75741,-.40484,.51228,.75741,-.40484,.51228,.75741,-.40484,.51228,.79795,-.42651,.42587,.79795,-.42651,.42587,.79795,-.42651,.42587,.79795,-.42651,.42587,.83082,-.44408,.33545,.83082,-.44408,.33545,.83082,-.44408,.33545,.83082,-.44408,.33545,.85573,-.4574,.24188,.85573,-.4574,.24188,.85573,-.4574,.24188,.85573,-.4574,.24188,.87247,-.46634,.14604,.87247,-.46634,.14604,.87247,-.46634,.14604,.87247,-.46634,.14604,.88087,-.47083,.04883,.88087,-.47083,.04883,.88087,-.47083,.04883,.88087,-.47083,.04883,.88087,-.47083,-.04883,.88087,-.47083,-.04883,.88087,-.47083,-.04883,.88087,-.47083,-.04883,.87247,-.46634,-.14604,.87247,-.46634,-.14604,.87247,-.46634,-.14604,.87247,-.46634,-.14604,.85573,-.4574,-.24188,.85573,-.4574,-.24188,.85573,-.4574,-.24188,.85573,-.4574,-.24188,.83082,-.44408,-.33545,.83082,-.44408,-.33545,.83082,-.44408,-.33545,.83082,-.44408,-.33545,.79795,-.42651,-.42587,.79795,-.42651,-.42587,.79795,-.42651,-.42587,.79795,-.42651,-.42587,.75741,-.40484,-.51228,.75741,-.40484,-.51228,.75741,-.40484,-.51228,.75741,-.40484,-.51228,.70958,-.37928,-.59384,.70958,-.37928,-.59384,.70958,-.37928,-.59384,.70958,-.37928,-.59384,.65488,-.35004,-.66978,.65488,-.35004,-.66978,.65488,-.35004,-.66978,.65488,-.35004,-.66978,.59383,-.31741,-.73934,.59383,-.31741,-.73934,.59383,-.31741,-.73934,.59383,-.31741,-.73934,.527,-.28168,-.80183,.527,-.28168,-.80183,.527,-.28168,-.80183,.527,-.28168,-.80183,.45501,-.24321,-.85663,.45501,-.24321,-.85663,.45501,-.24321,-.85663,.45501,-.24321,-.85663,.37856,-.20234,-.90319,.37856,-.20234,-.90319,.37856,-.20234,-.90319,.37856,-.20234,-.90319,.29838,-.15949,-.94103,.29838,-.15949,-.94103,.29838,-.15949,-.94103,.29838,-.15949,-.94103,.21526,-.11506,-.96975,.21526,-.11506,-.96975,.21526,-.11506,-.96975,.21526,-.11506,-.96975,.13002,-.0695,-.98907,.13002,-.0695,-.98907,.13002,-.0695,-.98907,.13002,-.0695,-.98907,.04348,-.02324,-.99878,.04348,-.02324,-.99878,.04348,-.02324,-.99878,.04718,-.01431,-.99878,.04718,-.01431,-.99878,.04718,-.01431,-.99878,.14108,-.0428,-.98907,.14108,-.0428,-.98907,.14108,-.0428,-.98907,.14108,-.0428,-.98907,.23357,-.07085,-.96975,.23357,-.07085,-.96975,.23357,-.07085,-.96975,.23357,-.07085,-.96975,.32377,-.09821,-.94103,.32377,-.09821,-.94103,.32377,-.09821,-.94103,.32377,-.09821,-.94103,.41076,-.1246,-.90319,.41076,-.1246,-.90319,.41076,-.1246,-.90319,.41076,-.1246,-.90319,.49371,-.14977,-.85663,.49371,-.14977,-.85663,.49371,-.14977,-.85663,.49371,-.14977,-.85663,.57182,-.17346,-.80183,.57182,-.17346,-.80183,.57182,-.17346,-.80183,.57182,-.17346,-.80183,.64434,-.19546,-.73934,.64434,-.19546,-.73934,.64434,-.19546,-.73934,.64434,-.19546,-.73934,.71059,-.21555,-.66978,.71059,-.21555,-.66978,.71059,-.21555,-.66978,.71059,-.21555,-.66978,.76994,-.23356,-.59384,.76994,-.23356,-.59384,.76994,-.23356,-.59384,.76994,-.23356,-.59384,.82184,-.2493,-.51228,.82184,-.2493,-.51228,.82184,-.2493,-.51228,.82184,-.2493,-.51228,.86583,-.26264,-.42587,.86583,-.26264,-.42587,.86583,-.26264,-.42587,.86583,-.26264,-.42587,.90149,-.27346,-.33545,.90149,-.27346,-.33545,.90149,-.27346,-.33545,.90149,-.27346,-.33545,.92853,-.28166,-.24188,.92853,-.28166,-.24188,.92853,-.28166,-.24188,.92853,-.28166,-.24188,.94668,-.28717,-.14604,.94668,-.28717,-.14604,.94668,-.28717,-.14604,.94668,-.28717,-.14604,.9558,-.28994,-.04883,.9558,-.28994,-.04883,.9558,-.28994,-.04883,.9558,-.28994,-.04883,.9558,-.28994,.04883,.9558,-.28994,.04883,.9558,-.28994,.04883,.9558,-.28994,.04883,.94668,-.28717,.14604,.94668,-.28717,.14604,.94668,-.28717,.14604,.94668,-.28717,.14604,.92853,-.28166,.24188,.92853,-.28166,.24188,.92853,-.28166,.24188,.92853,-.28166,.24188,.90149,-.27346,.33545,.90149,-.27346,.33545,.90149,-.27346,.33545,.90149,-.27346,.33545,.86583,-.26264,.42587,.86583,-.26264,.42587,.86583,-.26264,.42587,.86583,-.26264,.42587,.82184,-.2493,.51228,.82184,-.2493,.51228,.82184,-.2493,.51228,.82184,-.2493,.51228,.76994,-.23356,.59384,.76994,-.23356,.59384,.76994,-.23356,.59384,.76994,-.23356,.59384,.71059,-.21555,.66978,.71059,-.21555,.66978,.71059,-.21555,.66978,.71059,-.21555,.66978,.64434,-.19546,.73934,.64434,-.19546,.73934,.64434,-.19546,.73934,.64434,-.19546,.73934,.57182,-.17346,.80183,.57182,-.17346,.80183,.57182,-.17346,.80183,.57182,-.17346,.80183,.49371,-.14977,.85663,.49371,-.14977,.85663,.49371,-.14977,.85663,.49371,-.14977,.85663,.41076,-.1246,.90319,.41076,-.1246,.90319,.41076,-.1246,.90319,.41076,-.1246,.90319,.32377,-.09821,.94103,.32377,-.09821,.94103,.32377,-.09821,.94103,.32377,-.09821,.94103,.23358,-.07085,.96975,.23358,-.07085,.96975,.23358,-.07085,.96975,.23358,-.07085,.96975,.14108,-.0428,.98907,.14108,-.0428,.98907,.14108,-.0428,.98907,.14108,-.0428,.98907,.04718,-.01431,.99878,.04718,-.01431,.99878,.04718,-.01431,.99878,.04907,-.00483,.99878,.04907,-.00483,.99878,.04907,-.00483,.99878,.14672,-.01445,.98907,.14672,-.01445,.98907,.14672,-.01445,.98907,.14672,-.01445,.98907,.24291,-.02392,.96975,.24291,-.02392,.96975,.24291,-.02392,.96975,.24291,-.02392,.96975,.33671,-.03316,.94103,.33671,-.03316,.94103,.33671,-.03316,.94103,.33671,-.03316,.94103,.42718,-.04207,.90319,.42718,-.04207,.90319,.42718,-.04207,.90319,.42718,-.04207,.90319,.51345,-.05057,.85663,.51345,-.05057,.85663,.51345,-.05057,.85663,.51345,-.05057,.85663,.59468,-.05857,.80183,.59468,-.05857,.80183,.59468,-.05857,.80183,.59468,-.05857,.80183,.67009,-.066,.73934,.67009,-.066,.73934,.67009,-.066,.73934,.67009,-.066,.73934,.73899,-.07278,.66978,.73899,-.07278,.66978,.73899,-.07278,.66978,.73899,-.07278,.66978,.80071,-.07886,.59384,.80071,-.07886,.59384,.80071,-.07886,.59384,.80071,-.07886,.59384,.85468,-.08418,.51228,.85468,-.08418,.51228,.85468,-.08418,.51228,.85468,-.08418,.51228,.90043,-.08868,.42587,.90043,-.08868,.42587,.90043,-.08868,.42587,.90043,-.08868,.42587,.93752,-.09234,.33545,.93752,-.09234,.33545,.93752,-.09234,.33545,.93752,-.09234,.33545,.96563,-.09511,.24188,.96563,-.09511,.24188,.96563,-.09511,.24188,.96563,-.09511,.24188,.98452,-.09697,.14604,.98452,-.09697,.14604,.98452,-.09697,.14604,.98452,-.09697,.14604,.994,-.0979,.04883,.994,-.0979,.04883,.994,-.0979,.04883,.994,-.0979,.04883,.994,-.0979,-.04883,.994,-.0979,-.04883,.994,-.0979,-.04883,.994,-.0979,-.04883,.98452,-.09697,-.14604,.98452,-.09697,-.14604,.98452,-.09697,-.14604,.98452,-.09697,-.14604,.96563,-.09511,-.24188,.96563,-.09511,-.24188,.96563,-.09511,-.24188,.96563,-.09511,-.24188,.93752,-.09234,-.33545,.93752,-.09234,-.33545,.93752,-.09234,-.33545,.93752,-.09234,-.33545,.90043,-.08868,-.42587,.90043,-.08868,-.42587,.90043,-.08868,-.42587,.90043,-.08868,-.42587,.85468,-.08418,-.51228,.85468,-.08418,-.51228,.85468,-.08418,-.51228,.85468,-.08418,-.51228,.80071,-.07886,-.59384,.80071,-.07886,-.59384,.80071,-.07886,-.59384,.80071,-.07886,-.59384,.73899,-.07278,-.66978,.73899,-.07278,-.66978,.73899,-.07278,-.66978,.73899,-.07278,-.66978,.6701,-.066,-.73934,.6701,-.066,-.73934,.6701,-.066,-.73934,.6701,-.066,-.73934,.59468,-.05857,-.80183,.59468,-.05857,-.80183,.59468,-.05857,-.80183,.59468,-.05857,-.80183,.51345,-.05057,-.85663,.51345,-.05057,-.85663,.51345,-.05057,-.85663,.51345,-.05057,-.85663,.42718,-.04207,-.90319,.42718,-.04207,-.90319,.42718,-.04207,-.90319,.42718,-.04207,-.90319,.3367,-.03316,-.94103,.3367,-.03316,-.94103,.3367,-.03316,-.94103,.3367,-.03316,-.94103,.24291,-.02392,-.96975,.24291,-.02392,-.96975,.24291,-.02392,-.96975,.24291,-.02392,-.96975,.14671,-.01445,-.98907,.14671,-.01445,-.98907,.14671,-.01445,-.98907,.14671,-.01445,-.98907,.04907,-.00483,-.99878,.04907,-.00483,-.99878,.04907,-.00483,-.99878],
itemSize:3,type:"ARRAY_BUFFER"},TexCoord0:{elements:[.3212,-0,.78125,.03125,.75,.03125,.75,.03125,.78125,.03125,.78125,.0625,.75,.0625,.75,.0625,.78125,.0625,.78125,.09375,.75,.09375,.75,.09375,.78125,.09375,.78125,.125,.75,.125,.75,.125,.78125,.125,.78125,.15625,.75,.15625,.75,.15625,.78125,.15625,.78125,.1875,.75,.1875,.75,.1875,.78125,.1875,.78125,.21875,.75,.21875,.75,.21875,.78125,.21875,.78125,.25,.75,.25,.75,.25,.78125,.25,.78125,.28125,.75,.28125,.75,.28125,.78125,.28125,.78125,.3125,.75,.3125,.75,.3125,.78125,.3125,.78125,.34375,.75,.34375,.75,.34375,.78125,.34375,.78125,.375,.75,.375,.75,.375,.78125,.375,.78125,.40625,.75,.40625,.75,.40625,.78125,.40625,.78125,.4375,.75,.4375,.75,.4375,.78125,.4375,.78125,.46875,.75,.46875,.75,.46875,.78125,.46875,.78125,.5,.75,.5,.75,.5,.78125,.5,.78125,.53125,.75,.53125,.75,.53125,.78125,.53125,.78125,.5625,.75,.5625,.75,.5625,.78125,.5625,.78125,.59375,.75,.59375,.75,.59375,.78125,.59375,.78125,.625,.75,.625,.75,.625,.78125,.625,.78125,.65625,.75,.65625,.75,.65625,.78125,.65625,.78125,.6875,.75,.6875,.75,.6875,.78125,.6875,.78125,.71875,.75,.71875,.75,.71875,.78125,.71875,.78125,.75,.75,.75,.75,.75,.78125,.75,.78125,.78125,.75,.78125,.75,.78125,.78125,.78125,.78125,.8125,.75,.8125,.75,.8125,.78125,.8125,.78125,.84375,.75,.84375,.75,.84375,.78125,.84375,.78125,.875,.75,.875,.75,.875,.78125,.875,.78125,.90625,.75,.90625,.75,.90625,.78125,.90625,.78125,.9375,.75,.9375,.75,.9375,.78125,.9375,.78125,.96875,.75,.96875,.78125,.96875,.63412,1,.75,.96875,.8125,.96875,.63412,1,.78125,.96875,.78125,.9375,.8125,.9375,.8125,.96875,.78125,.96875,.78125,.90625,.8125,.90625,.8125,.9375,.78125,.9375,.78125,.875,.8125,.875,.8125,.90625,.78125,.90625,.78125,.84375,.8125,.84375,.8125,.875,.78125,.875,.78125,.8125,.8125,.8125,.8125,.84375,.78125,.84375,.78125,.78125,.8125,.78125,.8125,.8125,.78125,.8125,.78125,.75,.8125,.75,.8125,.78125,.78125,.78125,.78125,.71875,.8125,.71875,.8125,.75,.78125,.75,.78125,.6875,.8125,.6875,.8125,.71875,.78125,.71875,.78125,.65625,.8125,.65625,.8125,.6875,.78125,.6875,.78125,.625,.8125,.625,.8125,.65625,.78125,.65625,.78125,.59375,.8125,.59375,.8125,.625,.78125,.625,.78125,.5625,.8125,.5625,.8125,.59375,.78125,.59375,.78125,.53125,.8125,.53125,.8125,.5625,.78125,.5625,.78125,.5,.8125,.5,.8125,.53125,.78125,.53125,.78125,.46875,.8125,.46875,.8125,.5,.78125,.5,.78125,.4375,.8125,.4375,.8125,.46875,.78125,.46875,.78125,.40625,.8125,.40625,.8125,.4375,.78125,.4375,.78125,.375,.8125,.375,.8125,.40625,.78125,.40625,.78125,.34375,.8125,.34375,.8125,.375,.78125,.375,.78125,.3125,.8125,.3125,.8125,.34375,.78125,.34375,.78125,.28125,.8125,.28125,.8125,.3125,.78125,.3125,.78125,.25,.8125,.25,.8125,.28125,.78125,.28125,.78125,.21875,.8125,.21875,.8125,.25,.78125,.25,.78125,.1875,.8125,.1875,.8125,.21875,.78125,.21875,.78125,.15625,.8125,.15625,.8125,.1875,.78125,.1875,.78125,.125,.8125,.125,.8125,.15625,.78125,.15625,.78125,.09375,.8125,.09375,.8125,.125,.78125,.125,.78125,.0625,.8125,.0625,.8125,.09375,.78125,.09375,.78125,.03125,.8125,.03125,.8125,.0625,.78125,.0625,.3212,-0,.8125,.03125,.78125,.03125,1.3212,-0,.84375,.03125,.8125,.03125,.8125,.03125,.84375,.03125,.84375,.0625,.8125,.0625,.8125,.0625,.84375,.0625,.84375,.09375,.8125,.09375,.8125,.09375,.84375,.09375,.84375,.125,.8125,.125,.8125,.125,.84375,.125,.84375,.15625,.8125,.15625,.8125,.15625,.84375,.15625,.84375,.1875,.8125,.1875,.8125,.1875,.84375,.1875,.84375,.21875,.8125,.21875,.8125,.21875,.84375,.21875,.84375,.25,.8125,.25,.8125,.25,.84375,.25,.84375,.28125,.8125,.28125,.8125,.28125,.84375,.28125,.84375,.3125,.8125,.3125,.8125,.3125,.84375,.3125,.84375,.34375,.8125,.34375,.8125,.34375,.84375,.34375,.84375,.375,.8125,.375,.8125,.375,.84375,.375,.84375,.40625,.8125,.40625,.8125,.40625,.84375,.40625,.84375,.4375,.8125,.4375,.8125,.4375,.84375,.4375,.84375,.46875,.8125,.46875,.8125,.46875,.84375,.46875,.84375,.5,.8125,.5,.8125,.5,.84375,.5,.84375,.53125,.8125,.53125,.8125,.53125,.84375,.53125,.84375,.5625,.8125,.5625,.8125,.5625,.84375,.5625,.84375,.59375,.8125,.59375,.8125,.59375,.84375,.59375,.84375,.625,.8125,.625,.8125,.625,.84375,.625,.84375,.65625,.8125,.65625,.8125,.65625,.84375,.65625,.84375,.6875,.8125,.6875,.8125,.6875,.84375,.6875,.84375,.71875,.8125,.71875,.8125,.71875,.84375,.71875,.84375,.75,.8125,.75,.8125,.75,.84375,.75,.84375,.78125,.8125,.78125,.8125,.78125,.84375,.78125,.84375,.8125,.8125,.8125,.8125,.8125,.84375,.8125,.84375,.84375,.8125,.84375,.8125,.84375,.84375,.84375,.84375,.875,.8125,.875,.8125,.875,.84375,.875,.84375,.90625,.8125,.90625,.8125,.90625,.84375,.90625,.84375,.9375,.8125,.9375,.8125,.9375,.84375,.9375,.84375,.96875,.8125,.96875,.84375,.96875,.63412,1,.8125,.96875,.875,.96875,.63412,1,.84375,.96875,.84375,.9375,.875,.9375,.875,.96875,.84375,.96875,.84375,.90625,.875,.90625,.875,.9375,.84375,.9375,.84375,.875,.875,.875,.875,.90625,.84375,.90625,.84375,.84375,.875,.84375,.875,.875,.84375,.875,.84375,.8125,.875,.8125,.875,.84375,.84375,.84375,.84375,.78125,.875,.78125,.875,.8125,.84375,.8125,.84375,.75,.875,.75,.875,.78125,.84375,.78125,.84375,.71875,.875,.71875,.875,.75,.84375,.75,.84375,.6875,.875,.6875,.875,.71875,.84375,.71875,.84375,.65625,.875,.65625,.875,.6875,.84375,.6875,.84375,.625,.875,.625,.875,.65625,.84375,.65625,.84375,.59375,.875,.59375,.875,.625,.84375,.625,.84375,.5625,.875,.5625,.875,.59375,.84375,.59375,.84375,.53125,.875,.53125,.875,.5625,.84375,.5625,.84375,.5,.875,.5,.875,.53125,.84375,.53125,.84375,.46875,.875,.46875,.875,.5,.84375,.5,.84375,.4375,.875,.4375,.875,.46875,.84375,.46875,.84375,.40625,.875,.40625,.875,.4375,.84375,.4375,.84375,.375,.875,.375,.875,.40625,.84375,.40625,.84375,.34375,.875,.34375,.875,.375,.84375,.375,.84375,.3125,.875,.3125,.875,.34375,.84375,.34375,.84375,.28125,.875,.28125,.875,.3125,.84375,.3125,.84375,.25,.875,.25,.875,.28125,.84375,.28125,.84375,.21875,.875,.21875,.875,.25,.84375,.25,.84375,.1875,.875,.1875,.875,.21875,.84375,.21875,.84375,.15625,.875,.15625,.875,.1875,.84375,.1875,.84375,.125,.875,.125,.875,.15625,.84375,.15625,.84375,.09375,.875,.09375,.875,.125,.84375,.125,.84375,.0625,.875,.0625,.875,.09375,.84375,.09375,.84375,.03125,.875,.03125,.875,.0625,.84375,.0625,1.3212,-0,.875,.03125,.84375,.03125,1.3212,-0,.90625,.03125,.875,.03125,.875,.03125,.90625,.03125,.90625,.0625,.875,.0625,.875,.0625,.90625,.0625,.90625,.09375,.875,.09375,.875,.09375,.90625,.09375,.90625,.125,.875,.125,.875,.125,.90625,.125,.90625,.15625,.875,.15625,.875,.15625,.90625,.15625,.90625,.1875,.875,.1875,.875,.1875,.90625,.1875,.90625,.21875,.875,.21875,.875,.21875,.90625,.21875,.90625,.25,.875,.25,.875,.25,.90625,.25,.90625,.28125,.875,.28125,.875,.28125,.90625,.28125,.90625,.3125,.875,.3125,.875,.3125,.90625,.3125,.90625,.34375,.875,.34375,.875,.34375,.90625,.34375,.90625,.375,.875,.375,.875,.375,.90625,.375,.90625,.40625,.875,.40625,.875,.40625,.90625,.40625,.90625,.4375,.875,.4375,.875,.4375,.90625,.4375,.90625,.46875,.875,.46875,.875,.46875,.90625,.46875,.90625,.5,.875,.5,.875,.5,.90625,.5,.90625,.53125,.875,.53125,.875,.53125,.90625,.53125,.90625,.5625,.875,.5625,.875,.5625,.90625,.5625,.90625,.59375,.875,.59375,.875,.59375,.90625,.59375,.90625,.625,.875,.625,.875,.625,.90625,.625,.90625,.65625,.875,.65625,.875,.65625,.90625,.65625,.90625,.6875,.875,.6875,.875,.6875,.90625,.6875,.90625,.71875,.875,.71875,.875,.71875,.90625,.71875,.90625,.75,.875,.75,.875,.75,.90625,.75,.90625,.78125,.875,.78125,.875,.78125,.90625,.78125,.90625,.8125,.875,.8125,.875,.8125,.90625,.8125,.90625,.84375,.875,.84375,.875,.84375,.90625,.84375,.90625,.875,.875,.875,.875,.875,.90625,.875,.90625,.90625,.875,.90625,.875,.90625,.90625,.90625,.90625,.9375,.875,.9375,.875,.9375,.90625,.9375,.90625,.96875,.875,.96875,.90625,.96875,.63412,1,.875,.96875,.9375,.96875,.63412,1,.90625,.96875,.90625,.9375,.9375,.9375,.9375,.96875,.90625,.96875,.90625,.90625,.9375,.90625,.9375,.9375,.90625,.9375,.90625,.875,.9375,.875,.9375,.90625,.90625,.90625,.90625,.84375,.9375,.84375,.9375,.875,.90625,.875,.90625,.8125,.9375,.8125,.9375,.84375,.90625,.84375,.90625,.78125,.9375,.78125,.9375,.8125,.90625,.8125,.90625,.75,.9375,.75,.9375,.78125,.90625,.78125,.90625,.71875,.9375,.71875,.9375,.75,.90625,.75,.90625,.6875,.9375,.6875,.9375,.71875,.90625,.71875,.90625,.65625,.9375,.65625,.9375,.6875,.90625,.6875,.90625,.625,.9375,.625,.9375,.65625,.90625,.65625,.90625,.59375,.9375,.59375,.9375,.625,.90625,.625,.90625,.5625,.9375,.5625,.9375,.59375,.90625,.59375,.90625,.53125,.9375,.53125,.9375,.5625,.90625,.5625,.90625,.5,.9375,.5,.9375,.53125,.90625,.53125,.90625,.46875,.9375,.46875,.9375,.5,.90625,.5,.90625,.4375,.9375,.4375,.9375,.46875,.90625,.46875,.90625,.40625,.9375,.40625,.9375,.4375,.90625,.4375,.90625,.375,.9375,.375,.9375,.40625,.90625,.40625,.90625,.34375,.9375,.34375,.9375,.375,.90625,.375,.90625,.3125,.9375,.3125,.9375,.34375,.90625,.34375,.90625,.28125,.9375,.28125,.9375,.3125,.90625,.3125,.90625,.25,.9375,.25,.9375,.28125,.90625,.28125,.90625,.21875,.9375,.21875,.9375,.25,.90625,.25,.90625,.1875,.9375,.1875,.9375,.21875,.90625,.21875,.90625,.15625,.9375,.15625,.9375,.1875,.90625,.1875,.90625,.125,.9375,.125,.9375,.15625,.90625,.15625,.90625,.09375,.9375,.09375,.9375,.125,.90625,.125,.90625,.0625,.9375,.0625,.9375,.09375,.90625,.09375,.90625,.03125,.9375,.03125,.9375,.0625,.90625,.0625,1.3212,-0,.9375,.03125,.90625,.03125,1.3212,-0,.96875,.03125,.9375,.03125,.9375,.03125,.96875,.03125,.96875,.0625,.9375,.0625,.9375,.0625,.96875,.0625,.96875,.09375,.9375,.09375,.9375,.09375,.96875,.09375,.96875,.125,.9375,.125,.9375,.125,.96875,.125,.96875,.15625,.9375,.15625,.9375,.15625,.96875,.15625,.96875,.1875,.9375,.1875,.9375,.1875,.96875,.1875,.96875,.21875,.9375,.21875,.9375,.21875,.96875,.21875,.96875,.25,.9375,.25,.9375,.25,.96875,.25,.96875,.28125,.9375,.28125,.9375,.28125,.96875,.28125,.96875,.3125,.9375,.3125,.9375,.3125,.96875,.3125,.96875,.34375,.9375,.34375,.9375,.34375,.96875,.34375,.96875,.375,.9375,.375,.9375,.375,.96875,.375,.96875,.40625,.9375,.40625,.9375,.40625,.96875,.40625,.96875,.4375,.9375,.4375,.9375,.4375,.96875,.4375,.96875,.46875,.9375,.46875,.9375,.46875,.96875,.46875,.96875,.5,.9375,.5,.9375,.5,.96875,.5,.96875,.53125,.9375,.53125,.9375,.53125,.96875,.53125,.96875,.5625,.9375,.5625,.9375,.5625,.96875,.5625,.96875,.59375,.9375,.59375,.9375,.59375,.96875,.59375,.96875,.625,.9375,.625,.9375,.625,.96875,.625,.96875,.65625,.9375,.65625,.9375,.65625,.96875,.65625,.96875,.6875,.9375,.6875,.9375,.6875,.96875,.6875,.96875,.71875,.9375,.71875,.9375,.71875,.96875,.71875,.96875,.75,.9375,.75,.9375,.75,.96875,.75,.96875,.78125,.9375,.78125,.9375,.78125,.96875,.78125,.96875,.8125,.9375,.8125,.9375,.8125,.96875,.8125,.96875,.84375,.9375,.84375,.9375,.84375,.96875,.84375,.96875,.875,.9375,.875,.9375,.875,.96875,.875,.96875,.90625,.9375,.90625,.9375,.90625,.96875,.90625,.96875,.9375,.9375,.9375,.9375,.9375,.96875,.9375,.96875,.96875,.9375,.96875,.96875,.96875,.63412,1,.9375,.96875,1,.96875,.63412,1,.96875,.96875,.96875,.9375,1,.9375,1,.96875,.96875,.96875,.96875,.90625,1,.90625,1,.9375,.96875,.9375,.96875,.875,1,.875,1,.90625,.96875,.90625,.96875,.84375,1,.84375,1,.875,.96875,.875,.96875,.8125,1,.8125,1,.84375,.96875,.84375,.96875,.78125,1,.78125,1,.8125,.96875,.8125,.96875,.75,1,.75,1,.78125,.96875,.78125,.96875,.71875,1,.71875,1,.75,.96875,.75,.96875,.6875,1,.6875,1,.71875,.96875,.71875,.96875,.65625,1,.65625,1,.6875,.96875,.6875,.96875,.625,1,.625,1,.65625,.96875,.65625,.96875,.59375,1,.59375,1,.625,.96875,.625,.96875,.5625,1,.5625,1,.59375,.96875,.59375,.96875,.53125,1,.53125,1,.5625,.96875,.5625,.96875,.5,1,.5,1,.53125,.96875,.53125,.96875,.46875,1,.46875,1,.5,.96875,.5,.96875,.4375,1,.4375,1,.46875,.96875,.46875,.96875,.40625,1,.40625,1,.4375,.96875,.4375,.96875,.375,1,.375,1,.40625,.96875,.40625,.96875,.34375,1,.34375,1,.375,.96875,.375,.96875,.3125,1,.3125,1,.34375,.96875,.34375,.96875,.28125,1,.28125,1,.3125,.96875,.3125,.96875,.25,1,.25,1,.28125,.96875,.28125,.96875,.21875,1,.21875,1,.25,.96875,.25,.96875,.1875,1,.1875,1,.21875,.96875,.21875,.96875,.15625,1,.15625,1,.1875,.96875,.1875,.96875,.125,1,.125,1,.15625,.96875,.15625,.96875,.09375,1,.09375,1,.125,.96875,.125,.96875,.0625,1,.0625,1,.09375,.96875,.09375,.96875,.03125,1,.03125,1,.0625,.96875,.0625,1.3212,-0,1,.03125,.96875,.03125,.3212,-0,.03125,.03125,0,.03125,0,.03125,.03125,.03125,.03125,.0625,0,.0625,0,.0625,.03125,.0625,.03125,.09375,0,.09375,0,.09375,.03125,.09375,.03125,.125,0,.125,0,.125,.03125,.125,.03125,.15625,0,.15625,0,.15625,.03125,.15625,.03125,.1875,0,.1875,0,.1875,.03125,.1875,.03125,.21875,0,.21875,0,.21875,.03125,.21875,.03125,.25,0,.25,0,.25,.03125,.25,.03125,.28125,0,.28125,0,.28125,.03125,.28125,.03125,.3125,0,.3125,0,.3125,.03125,.3125,.03125,.34375,0,.34375,0,.34375,.03125,.34375,.03125,.375,0,.375,0,.375,.03125,.375,.03125,.40625,0,.40625,0,.40625,.03125,.40625,.03125,.4375,0,.4375,0,.4375,.03125,.4375,.03125,.46875,0,.46875,0,.46875,.03125,.46875,.03125,.5,0,.5,0,.5,.03125,.5,.03125,.53125,0,.53125,0,.53125,.03125,.53125,.03125,.5625,0,.5625,0,.5625,.03125,.5625,.03125,.59375,0,.59375,0,.59375,.03125,.59375,.03125,.625,0,.625,0,.625,.03125,.625,.03125,.65625,0,.65625,0,.65625,.03125,.65625,.03125,.6875,0,.6875,0,.6875,.03125,.6875,.03125,.71875,0,.71875,0,.71875,.03125,.71875,.03125,.75,0,.75,0,.75,.03125,.75,.03125,.78125,0,.78125,0,.78125,.03125,.78125,.03125,.8125,0,.8125,0,.8125,.03125,.8125,.03125,.84375,0,.84375,0,.84375,.03125,.84375,.03125,.875,0,.875,1,.875,1.03125,.875,1.03125,.90625,1,.90625,1,.90625,1.03125,.90625,1.03125,.9375,1,.9375,1,.9375,1.03125,.9375,1.03125,.96875,1,.96875,1.03125,.96875,.63412,1,1,.96875,1.0625,.96875,.63412,1,1.03125,.96875,.03125,.9375,.0625,.9375,.0625,.96875,.03125,.96875,.03125,.90625,.0625,.90625,.0625,.9375,.03125,.9375,.03125,.875,.0625,.875,.0625,.90625,.03125,.90625,.03125,.84375,.0625,.84375,.0625,.875,.03125,.875,.03125,.8125,.0625,.8125,.0625,.84375,.03125,.84375,.03125,.78125,.0625,.78125,.0625,.8125,.03125,.8125,.03125,.75,.0625,.75,.0625,.78125,.03125,.78125,.03125,.71875,.0625,.71875,.0625,.75,.03125,.75,.03125,.6875,.0625,.6875,.0625,.71875,.03125,.71875,.03125,.65625,.0625,.65625,.0625,.6875,.03125,.6875,.03125,.625,.0625,.625,.0625,.65625,.03125,.65625,.03125,.59375,.0625,.59375,.0625,.625,.03125,.625,.03125,.5625,.0625,.5625,.0625,.59375,.03125,.59375,.03125,.53125,.0625,.53125,.0625,.5625,.03125,.5625,.03125,.5,.0625,.5,.0625,.53125,.03125,.53125,.03125,.46875,.0625,.46875,.0625,.5,.03125,.5,.03125,.4375,.0625,.4375,.0625,.46875,.03125,.46875,.03125,.40625,.0625,.40625,.0625,.4375,.03125,.4375,.03125,.375,.0625,.375,.0625,.40625,.03125,.40625,.03125,.34375,.0625,.34375,.0625,.375,.03125,.375,.03125,.3125,.0625,.3125,.0625,.34375,.03125,.34375,.03125,.28125,.0625,.28125,.0625,.3125,.03125,.3125,.03125,.25,.0625,.25,.0625,.28125,.03125,.28125,.03125,.21875,.0625,.21875,.0625,.25,.03125,.25,.03125,.1875,.0625,.1875,.0625,.21875,.03125,.21875,.03125,.15625,.0625,.15625,.0625,.1875,.03125,.1875,.03125,.125,.0625,.125,.0625,.15625,.03125,.15625,.03125,.09375,.0625,.09375,.0625,.125,.03125,.125,.03125,.0625,.0625,.0625,.0625,.09375,.03125,.09375,.03125,.03125,.0625,.03125,.0625,.0625,.03125,.0625,.3212,-0,.0625,.03125,.03125,.03125,.3212,-0,.09375,.03125,.0625,.03125,.0625,.03125,.09375,.03125,.09375,.0625,.0625,.0625,.0625,.0625,.09375,.0625,.09375,.09375,.0625,.09375,.0625,.09375,.09375,.09375,.09375,.125,.0625,.125,.0625,.125,.09375,.125,.09375,.15625,.0625,.15625,.0625,.15625,.09375,.15625,.09375,.1875,.0625,.1875,.0625,.1875,.09375,.1875,.09375,.21875,.0625,.21875,.0625,.21875,.09375,.21875,.09375,.25,.0625,.25,.0625,.25,.09375,.25,.09375,.28125,.0625,.28125,.0625,.28125,.09375,.28125,.09375,.3125,.0625,.3125,.0625,.3125,.09375,.3125,.09375,.34375,.0625,.34375,.0625,.34375,.09375,.34375,.09375,.375,.0625,.375,.0625,.375,.09375,.375,.09375,.40625,.0625,.40625,.0625,.40625,.09375,.40625,.09375,.4375,.0625,.4375,.0625,.4375,.09375,.4375,.09375,.46875,.0625,.46875,.0625,.46875,.09375,.46875,.09375,.5,.0625,.5,.0625,.5,.09375,.5,.09375,.53125,.0625,.53125,.0625,.53125,.09375,.53125,.09375,.5625,.0625,.5625,.0625,.5625,.09375,.5625,.09375,.59375,.0625,.59375,.0625,.59375,.09375,.59375,.09375,.625,.0625,.625,.0625,.625,.09375,.625,.09375,.65625,.0625,.65625,.0625,.65625,.09375,.65625,.09375,.6875,.0625,.6875,.0625,.6875,.09375,.6875,.09375,.71875,.0625,.71875,.0625,.71875,.09375,.71875,.09375,.75,.0625,.75,.0625,.75,.09375,.75,.09375,.78125,.0625,.78125,.0625,.78125,.09375,.78125,.09375,.8125,.0625,.8125,.0625,.8125,.09375,.8125,.09375,.84375,.0625,.84375,.0625,.84375,.09375,.84375,.09375,.875,.0625,.875,.0625,.875,.09375,.875,.09375,.90625,.0625,.90625,.0625,.90625,.09375,.90625,.09375,.9375,.0625,.9375,.0625,.9375,.09375,.9375,.09375,.96875,.0625,.96875,1.09375,.96875,.63412,1,1.0625,.96875,1.125,.96875,.63412,1,1.09375,.96875,.09375,.9375,.125,.9375,.125,.96875,.09375,.96875,.09375,.90625,.125,.90625,.125,.9375,.09375,.9375,.09375,.875,.125,.875,.125,.90625,.09375,.90625,.09375,.84375,.125,.84375,.125,.875,.09375,.875,.09375,.8125,.125,.8125,.125,.84375,.09375,.84375,.09375,.78125,.125,.78125,.125,.8125,.09375,.8125,.09375,.75,.125,.75,.125,.78125,.09375,.78125,.09375,.71875,.125,.71875,.125,.75,.09375,.75,.09375,.6875,.125,.6875,.125,.71875,.09375,.71875,.09375,.65625,.125,.65625,.125,.6875,.09375,.6875,.09375,.625,.125,.625,.125,.65625,.09375,.65625,.09375,.59375,.125,.59375,.125,.625,.09375,.625,.09375,.5625,.125,.5625,.125,.59375,.09375,.59375,.09375,.53125,.125,.53125,.125,.5625,.09375,.5625,.09375,.5,.125,.5,.125,.53125,.09375,.53125,.09375,.46875,.125,.46875,.125,.5,.09375,.5,.09375,.4375,.125,.4375,.125,.46875,.09375,.46875,.09375,.40625,.125,.40625,.125,.4375,.09375,.4375,.09375,.375,.125,.375,.125,.40625,.09375,.40625,.09375,.34375,.125,.34375,.125,.375,.09375,.375,.09375,.3125,.125,.3125,.125,.34375,.09375,.34375,.09375,.28125,.125,.28125,.125,.3125,.09375,.3125,.09375,.25,.125,.25,.125,.28125,.09375,.28125,.09375,.21875,.125,.21875,.125,.25,.09375,.25,.09375,.1875,.125,.1875,.125,.21875,.09375,.21875,.09375,.15625,.125,.15625,.125,.1875,.09375,.1875,.09375,.125,.125,.125,.125,.15625,.09375,.15625,.09375,.09375,.125,.09375,.125,.125,.09375,.125,.09375,.0625,.125,.0625,.125,.09375,.09375,.09375,.09375,.03125,.125,.03125,.125,.0625,.09375,.0625,.3212,-0,.125,.03125,.09375,.03125,.3212,-0,.15625,.03125,.125,.03125,.125,.03125,.15625,.03125,.15625,.0625,.125,.0625,.125,.0625,.15625,.0625,.15625,.09375,.125,.09375,.125,.09375,.15625,.09375,.15625,.125,.125,.125,.125,.125,.15625,.125,.15625,.15625,.125,.15625,.125,.15625,.15625,.15625,.15625,.1875,.125,.1875,.125,.1875,.15625,.1875,.15625,.21875,.125,.21875,.125,.21875,.15625,.21875,.15625,.25,.125,.25,.125,.25,.15625,.25,.15625,.28125,.125,.28125,.125,.28125,.15625,.28125,.15625,.3125,.125,.3125,.125,.3125,.15625,.3125,.15625,.34375,.125,.34375,.125,.34375,.15625,.34375,.15625,.375,.125,.375,.125,.375,.15625,.375,.15625,.40625,.125,.40625,.125,.40625,.15625,.40625,.15625,.4375,.125,.4375,.125,.4375,.15625,.4375,.15625,.46875,.125,.46875,.125,.46875,.15625,.46875,.15625,.5,.125,.5,.125,.5,.15625,.5,.15625,.53125,.125,.53125,.125,.53125,.15625,.53125,.15625,.5625,.125,.5625,.125,.5625,.15625,.5625,.15625,.59375,.125,.59375,.125,.59375,.15625,.59375,.15625,.625,.125,.625,.125,.625,.15625,.625,.15625,.65625,.125,.65625,.125,.65625,.15625,.65625,.15625,.6875,.125,.6875,.125,.6875,.15625,.6875,.15625,.71875,.125,.71875,.125,.71875,.15625,.71875,.15625,.75,.125,.75,.125,.75,.15625,.75,.15625,.78125,.125,.78125,.125,.78125,.15625,.78125,.15625,.8125,.125,.8125,.125,.8125,.15625,.8125,.15625,.84375,.125,.84375,.125,.84375,.15625,.84375,.15625,.875,.125,.875,.125,.875,.15625,.875,.15625,.90625,.125,.90625,.125,.90625,.15625,.90625,.15625,.9375,.125,.9375,.125,.9375,.15625,.9375,.15625,.96875,.125,.96875,.15625,.96875,.63412,1,1.125,.96875,.1875,.96875,.63412,1,.15625,.96875,.15625,.9375,.1875,.9375,.1875,.96875,.15625,.96875,.15625,.90625,.1875,.90625,.1875,.9375,.15625,.9375,.15625,.875,.1875,.875,.1875,.90625,.15625,.90625,.15625,.84375,.1875,.84375,.1875,.875,.15625,.875,.15625,.8125,.1875,.8125,.1875,.84375,.15625,.84375,.15625,.78125,.1875,.78125,.1875,.8125,.15625,.8125,.15625,.75,.1875,.75,.1875,.78125,.15625,.78125,.15625,.71875,.1875,.71875,.1875,.75,.15625,.75,.15625,.6875,.1875,.6875,.1875,.71875,.15625,.71875,.15625,.65625,.1875,.65625,.1875,.6875,.15625,.6875,.15625,.625,.1875,.625,.1875,.65625,.15625,.65625,.15625,.59375,.1875,.59375,.1875,.625,.15625,.625,.15625,.5625,.1875,.5625,.1875,.59375,.15625,.59375,.15625,.53125,.1875,.53125,.1875,.5625,.15625,.5625,.15625,.5,.1875,.5,.1875,.53125,.15625,.53125,.15625,.46875,.1875,.46875,.1875,.5,.15625,.5,.15625,.4375,.1875,.4375,.1875,.46875,.15625,.46875,.15625,.40625,.1875,.40625,.1875,.4375,.15625,.4375,.15625,.375,.1875,.375,.1875,.40625,.15625,.40625,.15625,.34375,.1875,.34375,.1875,.375,.15625,.375,.15625,.3125,.1875,.3125,.1875,.34375,.15625,.34375,.15625,.28125,.1875,.28125,.1875,.3125,.15625,.3125,.15625,.25,.1875,.25,.1875,.28125,.15625,.28125,.15625,.21875,.1875,.21875,.1875,.25,.15625,.25,.15625,.1875,.1875,.1875,.1875,.21875,.15625,.21875,.15625,.15625,.1875,.15625,.1875,.1875,.15625,.1875,.15625,.125,.1875,.125,.1875,.15625,.15625,.15625,.15625,.09375,.1875,.09375,.1875,.125,.15625,.125,.15625,.0625,.1875,.0625,.1875,.09375,.15625,.09375,.15625,.03125,.1875,.03125,.1875,.0625,.15625,.0625,.3212,-0,.1875,.03125,.15625,.03125,.3212,-0,.21875,.03125,.1875,.03125,.1875,.03125,.21875,.03125,.21875,.0625,.1875,.0625,.1875,.0625,.21875,.0625,.21875,.09375,.1875,.09375,.1875,.09375,.21875,.09375,.21875,.125,.1875,.125,.1875,.125,.21875,.125,.21875,.15625,.1875,.15625,.1875,.15625,.21875,.15625,.21875,.1875,.1875,.1875,.1875,.1875,.21875,.1875,.21875,.21875,.1875,.21875,.1875,.21875,.21875,.21875,.21875,.25,.1875,.25,.1875,.25,.21875,.25,.21875,.28125,.1875,.28125,.1875,.28125,.21875,.28125,.21875,.3125,.1875,.3125,.1875,.3125,.21875,.3125,.21875,.34375,.1875,.34375,.1875,.34375,.21875,.34375,.21875,.375,.1875,.375,.1875,.375,.21875,.375,.21875,.40625,.1875,.40625,.1875,.40625,.21875,.40625,.21875,.4375,.1875,.4375,.1875,.4375,.21875,.4375,.21875,.46875,.1875,.46875,.1875,.46875,.21875,.46875,.21875,.5,.1875,.5,.1875,.5,.21875,.5,.21875,.53125,.1875,.53125,.1875,.53125,.21875,.53125,.21875,.5625,.1875,.5625,.1875,.5625,.21875,.5625,.21875,.59375,.1875,.59375,.1875,.59375,.21875,.59375,.21875,.625,.1875,.625,.1875,.625,.21875,.625,.21875,.65625,.1875,.65625,.1875,.65625,.21875,.65625,.21875,.6875,.1875,.6875,.1875,.6875,.21875,.6875,.21875,.71875,.1875,.71875,.1875,.71875,.21875,.71875,.21875,.75,.1875,.75,.1875,.75,.21875,.75,.21875,.78125,.1875,.78125,.1875,.78125,.21875,.78125,.21875,.8125,.1875,.8125,.1875,.8125,.21875,.8125,.21875,.84375,.1875,.84375,.1875,.84375,.21875,.84375,.21875,.875,.1875,.875,.1875,.875,.21875,.875,.21875,.90625,.1875,.90625,.1875,.90625,.21875,.90625,.21875,.9375,.1875,.9375,.1875,.9375,.21875,.9375,.21875,.96875,.1875,.96875,.21875,.96875,.63412,1,.1875,.96875,.25,.96875,.63412,1,.21875,.96875,.21875,.9375,.25,.9375,.25,.96875,.21875,.96875,.21875,.90625,.25,.90625,.25,.9375,.21875,.9375,.21875,.875,.25,.875,.25,.90625,.21875,.90625,.21875,.84375,.25,.84375,.25,.875,.21875,.875,.21875,.8125,.25,.8125,.25,.84375,.21875,.84375,.21875,.78125,.25,.78125,.25,.8125,.21875,.8125,.21875,.75,.25,.75,.25,.78125,.21875,.78125,.21875,.71875,.25,.71875,.25,.75,.21875,.75,.21875,.6875,.25,.6875,.25,.71875,.21875,.71875,.21875,.65625,.25,.65625,.25,.6875,.21875,.6875,.21875,.625,.25,.625,.25,.65625,.21875,.65625,.21875,.59375,.25,.59375,.25,.625,.21875,.625,.21875,.5625,.25,.5625,.25,.59375,.21875,.59375,.21875,.53125,.25,.53125,.25,.5625,.21875,.5625,.21875,.5,.25,.5,.25,.53125,.21875,.53125,.21875,.46875,.25,.46875,.25,.5,.21875,.5,.21875,.4375,.25,.4375,.25,.46875,.21875,.46875,.21875,.40625,.25,.40625,.25,.4375,.21875,.4375,.21875,.375,.25,.375,.25,.40625,.21875,.40625,.21875,.34375,.25,.34375,.25,.375,.21875,.375,.21875,.3125,.25,.3125,.25,.34375,.21875,.34375,.21875,.28125,.25,.28125,.25,.3125,.21875,.3125,.21875,.25,.25,.25,.25,.28125,.21875,.28125,.21875,.21875,.25,.21875,.25,.25,.21875,.25,.21875,.1875,.25,.1875,.25,.21875,.21875,.21875,.21875,.15625,.25,.15625,.25,.1875,.21875,.1875,.21875,.125,.25,.125,.25,.15625,.21875,.15625,.21875,.09375,.25,.09375,.25,.125,.21875,.125,.21875,.0625,.25,.0625,.25,.09375,.21875,.09375,.21875,.03125,.25,.03125,.25,.0625,.21875,.0625,.3212,-0,.25,.03125,.21875,.03125,.3212,-0,.28125,.03125,.25,.03125,.25,.03125,.28125,.03125,.28125,.0625,.25,.0625,.25,.0625,.28125,.0625,.28125,.09375,.25,.09375,.25,.09375,.28125,.09375,.28125,.125,.25,.125,.25,.125,.28125,.125,.28125,.15625,.25,.15625,.25,.15625,.28125,.15625,.28125,.1875,.25,.1875,.25,.1875,.28125,.1875,.28125,.21875,.25,.21875,.25,.21875,.28125,.21875,.28125,.25,.25,.25,.25,.25,.28125,.25,.28125,.28125,.25,.28125,.25,.28125,.28125,.28125,.28125,.3125,.25,.3125,.25,.3125,.28125,.3125,.28125,.34375,.25,.34375,.25,.34375,.28125,.34375,.28125,.375,.25,.375,.25,.375,.28125,.375,.28125,.40625,.25,.40625,.25,.40625,.28125,.40625,.28125,.4375,.25,.4375,.25,.4375,.28125,.4375,.28125,.46875,.25,.46875,.25,.46875,.28125,.46875,.28125,.5,.25,.5,.25,.5,.28125,.5,.28125,.53125,.25,.53125,.25,.53125,.28125,.53125,.28125,.5625,.25,.5625,.25,.5625,.28125,.5625,.28125,.59375,.25,.59375,.25,.59375,.28125,.59375,.28125,.625,.25,.625,.25,.625,.28125,.625,.28125,.65625,.25,.65625,.25,.65625,.28125,.65625,.28125,.6875,.25,.6875,.25,.6875,.28125,.6875,.28125,.71875,.25,.71875,.25,.71875,.28125,.71875,.28125,.75,.25,.75,.25,.75,.28125,.75,.28125,.78125,.25,.78125,.25,.78125,.28125,.78125,.28125,.8125,.25,.8125,.25,.8125,.28125,.8125,.28125,.84375,.25,.84375,.25,.84375,.28125,.84375,.28125,.875,.25,.875,.25,.875,.28125,.875,.28125,.90625,.25,.90625,.25,.90625,.28125,.90625,.28125,.9375,.25,.9375,.25,.9375,.28125,.9375,.28125,.96875,.25,.96875,.28125,.96875,.63412,1,.25,.96875,.3125,.96875,.63412,1,.28125,.96875,.28125,.9375,.3125,.9375,.3125,.96875,.28125,.96875,.28125,.90625,.3125,.90625,.3125,.9375,.28125,.9375,.28125,.875,.3125,.875,.3125,.90625,.28125,.90625,.28125,.84375,.3125,.84375,.3125,.875,.28125,.875,.28125,.8125,.3125,.8125,.3125,.84375,.28125,.84375,.28125,.78125,.3125,.78125,.3125,.8125,.28125,.8125,.28125,.75,.3125,.75,.3125,.78125,.28125,.78125,.28125,.71875,.3125,.71875,.3125,.75,.28125,.75,.28125,.6875,.3125,.6875,.3125,.71875,.28125,.71875,.28125,.65625,.3125,.65625,.3125,.6875,.28125,.6875,.28125,.625,.3125,.625,.3125,.65625,.28125,.65625,.28125,.59375,.3125,.59375,.3125,.625,.28125,.625,.28125,.5625,.3125,.5625,.3125,.59375,.28125,.59375,.28125,.53125,.3125,.53125,.3125,.5625,.28125,.5625,.28125,.5,.3125,.5,.3125,.53125,.28125,.53125,.28125,.46875,.3125,.46875,.3125,.5,.28125,.5,.28125,.4375,.3125,.4375,.3125,.46875,.28125,.46875,.28125,.40625,.3125,.40625,.3125,.4375,.28125,.4375,.28125,.375,.3125,.375,.3125,.40625,.28125,.40625,.28125,.34375,.3125,.34375,.3125,.375,.28125,.375,.28125,.3125,.3125,.3125,.3125,.34375,.28125,.34375,.28125,.28125,.3125,.28125,.3125,.3125,.28125,.3125,.28125,.25,.3125,.25,.3125,.28125,.28125,.28125,.28125,.21875,.3125,.21875,.3125,.25,.28125,.25,.28125,.1875,.3125,.1875,.3125,.21875,.28125,.21875,.28125,.15625,.3125,.15625,.3125,.1875,.28125,.1875,.28125,.125,.3125,.125,.3125,.15625,.28125,.15625,.28125,.09375,.3125,.09375,.3125,.125,.28125,.125,.28125,.0625,.3125,.0625,.3125,.09375,.28125,.09375,.28125,.03125,.3125,.03125,.3125,.0625,.28125,.0625,.3212,-0,.3125,.03125,.28125,.03125,.3212,-0,.34375,.03125,.3125,.03125,.3125,.03125,.34375,.03125,.34375,.0625,.3125,.0625,.3125,.0625,.34375,.0625,.34375,.09375,.3125,.09375,.3125,.09375,.34375,.09375,.34375,.125,.3125,.125,.3125,.125,.34375,.125,.34375,.15625,.3125,.15625,.3125,.15625,.34375,.15625,.34375,.1875,.3125,.1875,.3125,.1875,.34375,.1875,.34375,.21875,.3125,.21875,.3125,.21875,.34375,.21875,.34375,.25,.3125,.25,.3125,.25,.34375,.25,.34375,.28125,.3125,.28125,.3125,.28125,.34375,.28125,.34375,.3125,.3125,.3125,.3125,.3125,.34375,.3125,.34375,.34375,.3125,.34375,.3125,.34375,.34375,.34375,.34375,.375,.3125,.375,.3125,.375,.34375,.375,.34375,.40625,.3125,.40625,.3125,.40625,.34375,.40625,.34375,.4375,.3125,.4375,.3125,.4375,.34375,.4375,.34375,.46875,.3125,.46875,.3125,.46875,.34375,.46875,.34375,.5,.3125,.5,.3125,.5,.34375,.5,.34375,.53125,.3125,.53125,.3125,.53125,.34375,.53125,.34375,.5625,.3125,.5625,.3125,.5625,.34375,.5625,.34375,.59375,.3125,.59375,.3125,.59375,.34375,.59375,.34375,.625,.3125,.625,.3125,.625,.34375,.625,.34375,.65625,.3125,.65625,.3125,.65625,.34375,.65625,.34375,.6875,.3125,.6875,.3125,.6875,.34375,.6875,.34375,.71875,.3125,.71875,.3125,.71875,.34375,.71875,.34375,.75,.3125,.75,.3125,.75,.34375,.75,.34375,.78125,.3125,.78125,.3125,.78125,.34375,.78125,.34375,.8125,.3125,.8125,.3125,.8125,.34375,.8125,.34375,.84375,.3125,.84375,.3125,.84375,.34375,.84375,.34375,.875,.3125,.875,.3125,.875,.34375,.875,.34375,.90625,.3125,.90625,.3125,.90625,.34375,.90625,.34375,.9375,.3125,.9375,.3125,.9375,.34375,.9375,.34375,.96875,.3125,.96875,.34375,.96875,.63412,1,.3125,.96875,.375,.96875,.63412,1,.34375,.96875,.34375,.9375,.375,.9375,.375,.96875,.34375,.96875,.34375,.90625,.375,.90625,.375,.9375,.34375,.9375,.34375,.875,.375,.875,.375,.90625,.34375,.90625,.34375,.84375,.375,.84375,.375,.875,.34375,.875,.34375,.8125,.375,.8125,.375,.84375,.34375,.84375,.34375,.78125,.375,.78125,.375,.8125,.34375,.8125,.34375,.75,.375,.75,.375,.78125,.34375,.78125,.34375,.71875,.375,.71875,.375,.75,.34375,.75,.34375,.6875,.375,.6875,.375,.71875,.34375,.71875,.34375,.65625,.375,.65625,.375,.6875,.34375,.6875,.34375,.625,.375,.625,.375,.65625,.34375,.65625,.34375,.59375,.375,.59375,.375,.625,.34375,.625,.34375,.5625,.375,.5625,.375,.59375,.34375,.59375,.34375,.53125,.375,.53125,.375,.5625,.34375,.5625,.34375,.5,.375,.5,.375,.53125,.34375,.53125,.34375,.46875,.375,.46875,.375,.5,.34375,.5,.34375,.4375,.375,.4375,.375,.46875,.34375,.46875,.34375,.40625,.375,.40625,.375,.4375,.34375,.4375,.34375,.375,.375,.375,.375,.40625,.34375,.40625,.34375,.34375,.375,.34375,.375,.375,.34375,.375,.34375,.3125,.375,.3125,.375,.34375,.34375,.34375,.34375,.28125,.375,.28125,.375,.3125,.34375,.3125,.34375,.25,.375,.25,.375,.28125,.34375,.28125,.34375,.21875,.375,.21875,.375,.25,.34375,.25,.34375,.1875,.375,.1875,.375,.21875,.34375,.21875,.34375,.15625,.375,.15625,.375,.1875,.34375,.1875,.34375,.125,.375,.125,.375,.15625,.34375,.15625,.34375,.09375,.375,.09375,.375,.125,.34375,.125,.34375,.0625,.375,.0625,.375,.09375,.34375,.09375,.34375,.03125,.375,.03125,.375,.0625,.34375,.0625,.3212,-0,.375,.03125,.34375,.03125,.3212,-0,.40625,.03125,.375,.03125,.375,.03125,.40625,.03125,.40625,.0625,.375,.0625,.375,.0625,.40625,.0625,.40625,.09375,.375,.09375,.375,.09375,.40625,.09375,.40625,.125,.375,.125,.375,.125,.40625,.125,.40625,.15625,.375,.15625,.375,.15625,.40625,.15625,.40625,.1875,.375,.1875,.375,.1875,.40625,.1875,.40625,.21875,.375,.21875,.375,.21875,.40625,.21875,.40625,.25,.375,.25,.375,.25,.40625,.25,.40625,.28125,.375,.28125,.375,.28125,.40625,.28125,.40625,.3125,.375,.3125,.375,.3125,.40625,.3125,.40625,.34375,.375,.34375,.375,.34375,.40625,.34375,.40625,.375,.375,.375,.375,.375,.40625,.375,.40625,.40625,.375,.40625,.375,.40625,.40625,.40625,.40625,.4375,.375,.4375,.375,.4375,.40625,.4375,.40625,.46875,.375,.46875,.375,.46875,.40625,.46875,.40625,.5,.375,.5,.375,.5,.40625,.5,.40625,.53125,.375,.53125,.375,.53125,.40625,.53125,.40625,.5625,.375,.5625,.375,.5625,.40625,.5625,.40625,.59375,.375,.59375,.375,.59375,.40625,.59375,.40625,.625,.375,.625,.375,.625,.40625,.625,.40625,.65625,.375,.65625,.375,.65625,.40625,.65625,.40625,.6875,.375,.6875,.375,.6875,.40625,.6875,.40625,.71875,.375,.71875,.375,.71875,.40625,.71875,.40625,.75,.375,.75,.375,.75,.40625,.75,.40625,.78125,.375,.78125,.375,.78125,.40625,.78125,.40625,.8125,.375,.8125,.375,.8125,.40625,.8125,.40625,.84375,.375,.84375,.375,.84375,.40625,.84375,.40625,.875,.375,.875,.375,.875,.40625,.875,.40625,.90625,.375,.90625,.375,.90625,.40625,.90625,.40625,.9375,.375,.9375,.375,.9375,.40625,.9375,.40625,.96875,.375,.96875,.40625,.96875,.63412,1,.375,.96875,.4375,.96875,.63412,1,.40625,.96875,.40625,.9375,.4375,.9375,.4375,.96875,.40625,.96875,.40625,.90625,.4375,.90625,.4375,.9375,.40625,.9375,.40625,.875,.4375,.875,.4375,.90625,.40625,.90625,.40625,.84375,.4375,.84375,.4375,.875,.40625,.875,.40625,.8125,.4375,.8125,.4375,.84375,.40625,.84375,.40625,.78125,.4375,.78125,.4375,.8125,.40625,.8125,.40625,.75,.4375,.75,.4375,.78125,.40625,.78125,.40625,.71875,.4375,.71875,.4375,.75,.40625,.75,.40625,.6875,.4375,.6875,.4375,.71875,.40625,.71875,.40625,.65625,.4375,.65625,.4375,.6875,.40625,.6875,.40625,.625,.4375,.625,.4375,.65625,.40625,.65625,.40625,.59375,.4375,.59375,.4375,.625,.40625,.625,.40625,.5625,.4375,.5625,.4375,.59375,.40625,.59375,.40625,.53125,.4375,.53125,.4375,.5625,.40625,.5625,.40625,.5,.4375,.5,.4375,.53125,.40625,.53125,.40625,.46875,.4375,.46875,.4375,.5,.40625,.5,.40625,.4375,.4375,.4375,.4375,.46875,.40625,.46875,.40625,.40625,.4375,.40625,.4375,.4375,.40625,.4375,.40625,.375,.4375,.375,.4375,.40625,.40625,.40625,.40625,.34375,.4375,.34375,.4375,.375,.40625,.375,.40625,.3125,.4375,.3125,.4375,.34375,.40625,.34375,.40625,.28125,.4375,.28125,.4375,.3125,.40625,.3125,.40625,.25,.4375,.25,.4375,.28125,.40625,.28125,.40625,.21875,.4375,.21875,.4375,.25,.40625,.25,.40625,.1875,.4375,.1875,.4375,.21875,.40625,.21875,.40625,.15625,.4375,.15625,.4375,.1875,.40625,.1875,.40625,.125,.4375,.125,.4375,.15625,.40625,.15625,.40625,.09375,.4375,.09375,.4375,.125,.40625,.125,.40625,.0625,.4375,.0625,.4375,.09375,.40625,.09375,.40625,.03125,.4375,.03125,.4375,.0625,.40625,.0625,.3212,-0,.4375,.03125,.40625,.03125,.3212,-0,.46875,.03125,.4375,.03125,.4375,.03125,.46875,.03125,.46875,.0625,.4375,.0625,.4375,.0625,.46875,.0625,.46875,.09375,.4375,.09375,.4375,.09375,.46875,.09375,.46875,.125,.4375,.125,.4375,.125,.46875,.125,.46875,.15625,.4375,.15625,.4375,.15625,.46875,.15625,.46875,.1875,.4375,.1875,.4375,.1875,.46875,.1875,.46875,.21875,.4375,.21875,.4375,.21875,.46875,.21875,.46875,.25,.4375,.25,.4375,.25,.46875,.25,.46875,.28125,.4375,.28125,.4375,.28125,.46875,.28125,.46875,.3125,.4375,.3125,.4375,.3125,.46875,.3125,.46875,.34375,.4375,.34375,.4375,.34375,.46875,.34375,.46875,.375,.4375,.375,.4375,.375,.46875,.375,.46875,.40625,.4375,.40625,.4375,.40625,.46875,.40625,.46875,.4375,.4375,.4375,.4375,.4375,.46875,.4375,.46875,.46875,.4375,.46875,.4375,.46875,.46875,.46875,.46875,.5,.4375,.5,.4375,.5,.46875,.5,.46875,.53125,.4375,.53125,.4375,.53125,.46875,.53125,.46875,.5625,.4375,.5625,.4375,.5625,.46875,.5625,.46875,.59375,.4375,.59375,.4375,.59375,.46875,.59375,.46875,.625,.4375,.625,.4375,.625,.46875,.625,.46875,.65625,.4375,.65625,.4375,.65625,.46875,.65625,.46875,.6875,.4375,.6875,.4375,.6875,.46875,.6875,.46875,.71875,.4375,.71875,.4375,.71875,.46875,.71875,.46875,.75,.4375,.75,.4375,.75,.46875,.75,.46875,.78125,.4375,.78125,.4375,.78125,.46875,.78125,.46875,.8125,.4375,.8125,.4375,.8125,.46875,.8125,.46875,.84375,.4375,.84375,.4375,.84375,.46875,.84375,.46875,.875,.4375,.875,.4375,.875,.46875,.875,.46875,.90625,.4375,.90625,.4375,.90625,.46875,.90625,.46875,.9375,.4375,.9375,.4375,.9375,.46875,.9375,.46875,.96875,.4375,.96875,.46875,.96875,.63412,1,.4375,.96875,.5,.96875,.63412,1,.46875,.96875,.46875,.9375,.5,.9375,.5,.96875,.46875,.96875,.46875,.90625,.5,.90625,.5,.9375,.46875,.9375,.46875,.875,.5,.875,.5,.90625,.46875,.90625,.46875,.84375,.5,.84375,.5,.875,.46875,.875,.46875,.8125,.5,.8125,.5,.84375,.46875,.84375,.46875,.78125,.5,.78125,.5,.8125,.46875,.8125,.46875,.75,.5,.75,.5,.78125,.46875,.78125,.46875,.71875,.5,.71875,.5,.75,.46875,.75,.46875,.6875,.5,.6875,.5,.71875,.46875,.71875,.46875,.65625,.5,.65625,.5,.6875,.46875,.6875,.46875,.625,.5,.625,.5,.65625,.46875,.65625,.46875,.59375,.5,.59375,.5,.625,.46875,.625,.46875,.5625,.5,.5625,.5,.59375,.46875,.59375,.46875,.53125,.5,.53125,.5,.5625,.46875,.5625,.46875,.5,.5,.5,.5,.53125,.46875,.53125,.46875,.46875,.5,.46875,.5,.5,.46875,.5,.46875,.4375,.5,.4375,.5,.46875,.46875,.46875,.46875,.40625,.5,.40625,.5,.4375,.46875,.4375,.46875,.375,.5,.375,.5,.40625,.46875,.40625,.46875,.34375,.5,.34375,.5,.375,.46875,.375,.46875,.3125,.5,.3125,.5,.34375,.46875,.34375,.46875,.28125,.5,.28125,.5,.3125,.46875,.3125,.46875,.25,.5,.25,.5,.28125,.46875,.28125,.46875,.21875,.5,.21875,.5,.25,.46875,.25,.46875,.1875,.5,.1875,.5,.21875,.46875,.21875,.46875,.15625,.5,.15625,.5,.1875,.46875,.1875,.46875,.125,.5,.125,.5,.15625,.46875,.15625,.46875,.09375,.5,.09375,.5,.125,.46875,.125,.46875,.0625,.5,.0625,.5,.09375,.46875,.09375,.46875,.03125,.5,.03125,.5,.0625,.46875,.0625,.3212,-0,.5,.03125,.46875,.03125,.3212,-0,.53125,.03125,.5,.03125,.5,.03125,.53125,.03125,.53125,.0625,.5,.0625,.5,.0625,.53125,.0625,.53125,.09375,.5,.09375,.5,.09375,.53125,.09375,.53125,.125,.5,.125,.5,.125,.53125,.125,.53125,.15625,.5,.15625,.5,.15625,.53125,.15625,.53125,.1875,.5,.1875,.5,.1875,.53125,.1875,.53125,.21875,.5,.21875,.5,.21875,.53125,.21875,.53125,.25,.5,.25,.5,.25,.53125,.25,.53125,.28125,.5,.28125,.5,.28125,.53125,.28125,.53125,.3125,.5,.3125,.5,.3125,.53125,.3125,.53125,.34375,.5,.34375,.5,.34375,.53125,.34375,.53125,.375,.5,.375,.5,.375,.53125,.375,.53125,.40625,.5,.40625,.5,.40625,.53125,.40625,.53125,.4375,.5,.4375,.5,.4375,.53125,.4375,.53125,.46875,.5,.46875,.5,.46875,.53125,.46875,.53125,.5,.5,.5,.5,.5,.53125,.5,.53125,.53125,.5,.53125,.5,.53125,.53125,.53125,.53125,.5625,.5,.5625,.5,.5625,.53125,.5625,.53125,.59375,.5,.59375,.5,.59375,.53125,.59375,.53125,.625,.5,.625,.5,.625,.53125,.625,.53125,.65625,.5,.65625,.5,.65625,.53125,.65625,.53125,.6875,.5,.6875,.5,.6875,.53125,.6875,.53125,.71875,.5,.71875,.5,.71875,.53125,.71875,.53125,.75,.5,.75,.5,.75,.53125,.75,.53125,.78125,.5,.78125,.5,.78125,.53125,.78125,.53125,.8125,.5,.8125,.5,.8125,.53125,.8125,.53125,.84375,.5,.84375,.5,.84375,.53125,.84375,.53125,.875,.5,.875,.5,.875,.53125,.875,.53125,.90625,.5,.90625,.5,.90625,.53125,.90625,.53125,.9375,.5,.9375,.5,.9375,.53125,.9375,.53125,.96875,.5,.96875,.53125,.96875,.63412,1,.5,.96875,.5625,.96875,.63412,1,.53125,.96875,.53125,.9375,.5625,.9375,.5625,.96875,.53125,.96875,.53125,.90625,.5625,.90625,.5625,.9375,.53125,.9375,.53125,.875,.5625,.875,.5625,.90625,.53125,.90625,.53125,.84375,.5625,.84375,.5625,.875,.53125,.875,.53125,.8125,.5625,.8125,.5625,.84375,.53125,.84375,.53125,.78125,.5625,.78125,.5625,.8125,.53125,.8125,.53125,.75,.5625,.75,.5625,.78125,.53125,.78125,.53125,.71875,.5625,.71875,.5625,.75,.53125,.75,.53125,.6875,.5625,.6875,.5625,.71875,.53125,.71875,.53125,.65625,.5625,.65625,.5625,.6875,.53125,.6875,.53125,.625,.5625,.625,.5625,.65625,.53125,.65625,.53125,.59375,.5625,.59375,.5625,.625,.53125,.625,.53125,.5625,.5625,.5625,.5625,.59375,.53125,.59375,.53125,.53125,.5625,.53125,.5625,.5625,.53125,.5625,.53125,.5,.5625,.5,.5625,.53125,.53125,.53125,.53125,.46875,.5625,.46875,.5625,.5,.53125,.5,.53125,.4375,.5625,.4375,.5625,.46875,.53125,.46875,.53125,.40625,.5625,.40625,.5625,.4375,.53125,.4375,.53125,.375,.5625,.375,.5625,.40625,.53125,.40625,.53125,.34375,.5625,.34375,.5625,.375,.53125,.375,.53125,.3125,.5625,.3125,.5625,.34375,.53125,.34375,.53125,.28125,.5625,.28125,.5625,.3125,.53125,.3125,.53125,.25,.5625,.25,.5625,.28125,.53125,.28125,.53125,.21875,.5625,.21875,.5625,.25,.53125,.25,.53125,.1875,.5625,.1875,.5625,.21875,.53125,.21875,.53125,.15625,.5625,.15625,.5625,.1875,.53125,.1875,.53125,.125,.5625,.125,.5625,.15625,.53125,.15625,.53125,.09375,.5625,.09375,.5625,.125,.53125,.125,.53125,.0625,.5625,.0625,.5625,.09375,.53125,.09375,.53125,.03125,.5625,.03125,.5625,.0625,.53125,.0625,.3212,-0,.5625,.03125,.53125,.03125,.3212,-0,.59375,.03125,.5625,.03125,.5625,.03125,.59375,.03125,.59375,.0625,.5625,.0625,.5625,.0625,.59375,.0625,.59375,.09375,.5625,.09375,.5625,.09375,.59375,.09375,.59375,.125,.5625,.125,.5625,.125,.59375,.125,.59375,.15625,.5625,.15625,.5625,.15625,.59375,.15625,.59375,.1875,.5625,.1875,.5625,.1875,.59375,.1875,.59375,.21875,.5625,.21875,.5625,.21875,.59375,.21875,.59375,.25,.5625,.25,.5625,.25,.59375,.25,.59375,.28125,.5625,.28125,.5625,.28125,.59375,.28125,.59375,.3125,.5625,.3125,.5625,.3125,.59375,.3125,.59375,.34375,.5625,.34375,.5625,.34375,.59375,.34375,.59375,.375,.5625,.375,.5625,.375,.59375,.375,.59375,.40625,.5625,.40625,.5625,.40625,.59375,.40625,.59375,.4375,.5625,.4375,.5625,.4375,.59375,.4375,.59375,.46875,.5625,.46875,.5625,.46875,.59375,.46875,.59375,.5,.5625,.5,.5625,.5,.59375,.5,.59375,.53125,.5625,.53125,.5625,.53125,.59375,.53125,.59375,.5625,.5625,.5625,.5625,.5625,.59375,.5625,.59375,.59375,.5625,.59375,.5625,.59375,.59375,.59375,.59375,.625,.5625,.625,.5625,.625,.59375,.625,.59375,.65625,.5625,.65625,.5625,.65625,.59375,.65625,.59375,.6875,.5625,.6875,.5625,.6875,.59375,.6875,.59375,.71875,.5625,.71875,.5625,.71875,.59375,.71875,.59375,.75,.5625,.75,.5625,.75,.59375,.75,.59375,.78125,.5625,.78125,.5625,.78125,.59375,.78125,.59375,.8125,.5625,.8125,.5625,.8125,.59375,.8125,.59375,.84375,.5625,.84375,.5625,.84375,.59375,.84375,.59375,.875,.5625,.875,.5625,.875,.59375,.875,.59375,.90625,.5625,.90625,.5625,.90625,.59375,.90625,.59375,.9375,.5625,.9375,.5625,.9375,.59375,.9375,.59375,.96875,.5625,.96875,.59375,.96875,.63412,1,.5625,.96875,.625,.96875,.63412,1,.59375,.96875,.59375,.9375,.625,.9375,.625,.96875,.59375,.96875,.59375,.90625,.625,.90625,.625,.9375,.59375,.9375,.59375,.875,.625,.875,.625,.90625,.59375,.90625,.59375,.84375,.625,.84375,.625,.875,.59375,.875,.59375,.8125,.625,.8125,.625,.84375,.59375,.84375,.59375,.78125,.625,.78125,.625,.8125,.59375,.8125,.59375,.75,.625,.75,.625,.78125,.59375,.78125,.59375,.71875,.625,.71875,.625,.75,.59375,.75,.59375,.6875,.625,.6875,.625,.71875,.59375,.71875,.59375,.65625,.625,.65625,.625,.6875,.59375,.6875,.59375,.625,.625,.625,.625,.65625,.59375,.65625,.59375,.59375,.625,.59375,.625,.625,.59375,.625,.59375,.5625,.625,.5625,.625,.59375,.59375,.59375,.59375,.53125,.625,.53125,.625,.5625,.59375,.5625,.59375,.5,.625,.5,.625,.53125,.59375,.53125,.59375,.46875,.625,.46875,.625,.5,.59375,.5,.59375,.4375,.625,.4375,.625,.46875,.59375,.46875,.59375,.40625,.625,.40625,.625,.4375,.59375,.4375,.59375,.375,.625,.375,.625,.40625,.59375,.40625,.59375,.34375,.625,.34375,.625,.375,.59375,.375,.59375,.3125,.625,.3125,.625,.34375,.59375,.34375,.59375,.28125,.625,.28125,.625,.3125,.59375,.3125,.59375,.25,.625,.25,.625,.28125,.59375,.28125,.59375,.21875,.625,.21875,.625,.25,.59375,.25,.59375,.1875,.625,.1875,.625,.21875,.59375,.21875,.59375,.15625,.625,.15625,.625,.1875,.59375,.1875,.59375,.125,.625,.125,.625,.15625,.59375,.15625,.59375,.09375,.625,.09375,.625,.125,.59375,.125,.59375,.0625,.625,.0625,.625,.09375,.59375,.09375,.59375,.03125,.625,.03125,.625,.0625,.59375,.0625,.3212,-0,.625,.03125,.59375,.03125,.3212,-0,.65625,.03125,.625,.03125,.625,.03125,.65625,.03125,.65625,.0625,.625,.0625,.625,.0625,.65625,.0625,.65625,.09375,.625,.09375,.625,.09375,.65625,.09375,.65625,.125,.625,.125,.625,.125,.65625,.125,.65625,.15625,.625,.15625,.625,.15625,.65625,.15625,.65625,.1875,.625,.1875,.625,.1875,.65625,.1875,.65625,.21875,.625,.21875,.625,.21875,.65625,.21875,.65625,.25,.625,.25,.625,.25,.65625,.25,.65625,.28125,.625,.28125,.625,.28125,.65625,.28125,.65625,.3125,.625,.3125,.625,.3125,.65625,.3125,.65625,.34375,.625,.34375,.625,.34375,.65625,.34375,.65625,.375,.625,.375,.625,.375,.65625,.375,.65625,.40625,.625,.40625,.625,.40625,.65625,.40625,.65625,.4375,.625,.4375,.625,.4375,.65625,.4375,.65625,.46875,.625,.46875,.625,.46875,.65625,.46875,.65625,.5,.625,.5,.625,.5,.65625,.5,.65625,.53125,.625,.53125,.625,.53125,.65625,.53125,.65625,.5625,.625,.5625,.625,.5625,.65625,.5625,.65625,.59375,.625,.59375,.625,.59375,.65625,.59375,.65625,.625,.625,.625,.625,.625,.65625,.625,.65625,.65625,.625,.65625,.625,.65625,.65625,.65625,.65625,.6875,.625,.6875,.625,.6875,.65625,.6875,.65625,.71875,.625,.71875,.625,.71875,.65625,.71875,.65625,.75,.625,.75,.625,.75,.65625,.75,.65625,.78125,.625,.78125,.625,.78125,.65625,.78125,.65625,.8125,.625,.8125,.625,.8125,.65625,.8125,.65625,.84375,.625,.84375,.625,.84375,.65625,.84375,.65625,.875,.625,.875,.625,.875,.65625,.875,.65625,.90625,.625,.90625,.625,.90625,.65625,.90625,.65625,.9375,.625,.9375,.625,.9375,.65625,.9375,.65625,.96875,.625,.96875,.65625,.96875,.63412,1,.625,.96875,.6875,.96875,.63412,1,.65625,.96875,.65625,.9375,.6875,.9375,.6875,.96875,.65625,.96875,.65625,.90625,.6875,.90625,.6875,.9375,.65625,.9375,.65625,.875,.6875,.875,.6875,.90625,.65625,.90625,.65625,.84375,.6875,.84375,.6875,.875,.65625,.875,.65625,.8125,.6875,.8125,.6875,.84375,.65625,.84375,.65625,.78125,.6875,.78125,.6875,.8125,.65625,.8125,.65625,.75,.6875,.75,.6875,.78125,.65625,.78125,.65625,.71875,.6875,.71875,.6875,.75,.65625,.75,.65625,.6875,.6875,.6875,.6875,.71875,.65625,.71875,.65625,.65625,.6875,.65625,.6875,.6875,.65625,.6875,.65625,.625,.6875,.625,.6875,.65625,.65625,.65625,.65625,.59375,.6875,.59375,.6875,.625,.65625,.625,.65625,.5625,.6875,.5625,.6875,.59375,.65625,.59375,.65625,.53125,.6875,.53125,.6875,.5625,.65625,.5625,.65625,.5,.6875,.5,.6875,.53125,.65625,.53125,.65625,.46875,.6875,.46875,.6875,.5,.65625,.5,.65625,.4375,.6875,.4375,.6875,.46875,.65625,.46875,.65625,.40625,.6875,.40625,.6875,.4375,.65625,.4375,.65625,.375,.6875,.375,.6875,.40625,.65625,.40625,.65625,.34375,.6875,.34375,.6875,.375,.65625,.375,.65625,.3125,.6875,.3125,.6875,.34375,.65625,.34375,.65625,.28125,.6875,.28125,.6875,.3125,.65625,.3125,.65625,.25,.6875,.25,.6875,.28125,.65625,.28125,.65625,.21875,.6875,.21875,.6875,.25,.65625,.25,.65625,.1875,.6875,.1875,.6875,.21875,.65625,.21875,.65625,.15625,.6875,.15625,.6875,.1875,.65625,.1875,.65625,.125,.6875,.125,.6875,.15625,.65625,.15625,.65625,.09375,.6875,.09375,.6875,.125,.65625,.125,.65625,.0625,.6875,.0625,.6875,.09375,.65625,.09375,.65625,.03125,.6875,.03125,.6875,.0625,.65625,.0625,.3212,-0,.6875,.03125,.65625,.03125,.3212,-0,.71875,.03125,.6875,.03125,.6875,.03125,.71875,.03125,.71875,.0625,.6875,.0625,.6875,.0625,.71875,.0625,.71875,.09375,.6875,.09375,.6875,.09375,.71875,.09375,.71875,.125,.6875,.125,.6875,.125,.71875,.125,.71875,.15625,.6875,.15625,.6875,.15625,.71875,.15625,.71875,.1875,.6875,.1875,.6875,.1875,.71875,.1875,.71875,.21875,.6875,.21875,.6875,.21875,.71875,.21875,.71875,.25,.6875,.25,.6875,.25,.71875,.25,.71875,.28125,.6875,.28125,.6875,.28125,.71875,.28125,.71875,.3125,.6875,.3125,.6875,.3125,.71875,.3125,.71875,.34375,.6875,.34375,.6875,.34375,.71875,.34375,.71875,.375,.6875,.375,.6875,.375,.71875,.375,.71875,.40625,.6875,.40625,.6875,.40625,.71875,.40625,.71875,.4375,.6875,.4375,.6875,.4375,.71875,.4375,.71875,.46875,.6875,.46875,.6875,.46875,.71875,.46875,.71875,.5,.6875,.5,.6875,.5,.71875,.5,.71875,.53125,.6875,.53125,.6875,.53125,.71875,.53125,.71875,.5625,.6875,.5625,.6875,.5625,.71875,.5625,.71875,.59375,.6875,.59375,.6875,.59375,.71875,.59375,.71875,.625,.6875,.625,.6875,.625,.71875,.625,.71875,.65625,.6875,.65625,.6875,.65625,.71875,.65625,.71875,.6875,.6875,.6875,.6875,.6875,.71875,.6875,.71875,.71875,.6875,.71875,.6875,.71875,.71875,.71875,.71875,.75,.6875,.75,.6875,.75,.71875,.75,.71875,.78125,.6875,.78125,.6875,.78125,.71875,.78125,.71875,.8125,.6875,.8125,.6875,.8125,.71875,.8125,.71875,.84375,.6875,.84375,.6875,.84375,.71875,.84375,.71875,.875,.6875,.875,.6875,.875,.71875,.875,.71875,.90625,.6875,.90625,.6875,.90625,.71875,.90625,.71875,.9375,.6875,.9375,.6875,.9375,.71875,.9375,.71875,.96875,.6875,.96875,.71875,.96875,.63412,1,.6875,.96875,.75,.96875,.63412,1,.71875,.96875,.71875,.9375,.75,.9375,.75,.96875,.71875,.96875,.71875,.90625,.75,.90625,.75,.9375,.71875,.9375,.71875,.875,.75,.875,.75,.90625,.71875,.90625,.71875,.84375,.75,.84375,.75,.875,.71875,.875,.71875,.8125,.75,.8125,.75,.84375,.71875,.84375,.71875,.78125,.75,.78125,.75,.8125,.71875,.8125,.71875,.75,.75,.75,.75,.78125,.71875,.78125,.71875,.71875,.75,.71875,.75,.75,.71875,.75,.71875,.6875,.75,.6875,.75,.71875,.71875,.71875,.71875,.65625,.75,.65625,.75,.6875,.71875,.6875,.71875,.625,.75,.625,.75,.65625,.71875,.65625,.71875,.59375,.75,.59375,.75,.625,.71875,.625,.71875,.5625,.75,.5625,.75,.59375,.71875,.59375,.71875,.53125,.75,.53125,.75,.5625,.71875,.5625,.71875,.5,.75,.5,.75,.53125,.71875,.53125,.71875,.46875,.75,.46875,.75,.5,.71875,.5,.71875,.4375,.75,.4375,.75,.46875,.71875,.46875,.71875,.40625,.75,.40625,.75,.4375,.71875,.4375,.71875,.375,.75,.375,.75,.40625,.71875,.40625,.71875,.34375,.75,.34375,.75,.375,.71875,.375,.71875,.3125,.75,.3125,.75,.34375,.71875,.34375,.71875,.28125,.75,.28125,.75,.3125,.71875,.3125,.71875,.25,.75,.25,.75,.28125,.71875,.28125,.71875,.21875,.75,.21875,.75,.25,.71875,.25,.71875,.1875,.75,.1875,.75,.21875,.71875,.21875,.71875,.15625,.75,.15625,.75,.1875,.71875,.1875,.71875,.125,.75,.125,.75,.15625,.71875,.15625,.71875,.09375,.75,.09375,.75,.125,.71875,.125,.71875,.0625,.75,.0625,.75,.09375,.71875,.09375,.71875,.03125,.75,.03125,.75,.0625,.71875,.0625,.3212,-0,.75,.03125,.71875,.03125],
itemSize:2,type:"ARRAY_BUFFER"},Vertex:{elements:[-0,-0,-1,.09613,.01912,-.99518,.09802,0,-.99518,.09802,0,-.99518,.09613,.01912,-.99518,.19134,.03806,-.98079,.19509,0,-.98079,.19509,0,-.98079,.19134,.03806,-.98079,.28471,.05663,-.95694,.29028,0,-.95694,.29028,0,-.95694,.28471,.05663,-.95694,.37533,.07466,-.92388,.38268,0,-.92388,.38268,0,-.92388,.37533,.07466,-.92388,.46234,.09196,-.88192,.4714,0,-.88192,.4714,0,-.88192,.46234,.09196,-.88192,.54489,.10839,-.83147,.55557,0,-.83147,.55557,0,-.83147,.54489,.10839,-.83147,.6222,.12376,-.77301,.63439,0,-.77301,.63439,0,-.77301,.6222,.12376,-.77301,.69352,.13795,-.70711,.70711,0,-.70711,.70711,0,-.70711,.69352,.13795,-.70711,.75816,.15081,-.63439,.77301,0,-.63439,.77301,0,-.63439,.75816,.15081,-.63439,.81549,.16221,-.55557,.83147,0,-.55557,.83147,0,-.55557,.81549,.16221,-.55557,.86498,.17205,-.4714,.88192,0,-.4714,.88192,0,-.4714,.86498,.17205,-.4714,.90613,.18024,-.38268,.92388,0,-.38268,.92388,0,-.38268,.90613,.18024,-.38268,.93855,.18669,-.29028,.95694,0,-.29028,.95694,0,-.29028,.93855,.18669,-.29028,.96194,.19134,-.19509,.98078,0,-.19509,.98078,0,-.19509,.96194,.19134,-.19509,.97606,.19415,-.09802,.99518,0,-.09802,.99518,0,-.09802,.97606,.19415,-.09802,.98079,.19509,-0,1,0,-0,1,0,-0,.98079,.19509,-0,.97606,.19415,.09802,.99518,0,.09802,.99518,0,.09802,.97606,.19415,.09802,.96194,.19134,.19509,.98078,0,.19509,.98078,0,.19509,.96194,.19134,.19509,.93855,.18669,.29028,.95694,0,.29028,.95694,0,.29028,.93855,.18669,.29028,.90613,.18024,.38268,.92388,0,.38268,.92388,0,.38268,.90613,.18024,.38268,.86498,.17205,.4714,.88192,0,.4714,.88192,0,.4714,.86498,.17205,.4714,.81549,.16221,.55557,.83147,0,.55557,.83147,0,.55557,.81549,.16221,.55557,.75816,.15081,.63439,.77301,0,.63439,.77301,0,.63439,.75816,.15081,.63439,.69352,.13795,.70711,.70711,0,.70711,.70711,0,.70711,.69352,.13795,.70711,.6222,.12376,.77301,.63439,0,.77301,.63439,0,.77301,.6222,.12376,.77301,.5449,.10839,.83147,.55557,0,.83147,.55557,0,.83147,.5449,.10839,.83147,.46234,.09196,.88192,.4714,0,.88192,.4714,0,.88192,.46234,.09196,.88192,.37533,.07466,.92388,.38268,0,.92388,.38268,0,.92388,.37533,.07466,.92388,.28471,.05663,.95694,.29028,0,.95694,.29028,0,.95694,.28471,.05663,.95694,.19134,.03806,.98079,.19509,0,.98079,.19509,0,.98079,.19134,.03806,.98079,.09613,.01912,.99518,.09802,0,.99518,.09613,.01912,.99518,0,0,1,.09802,0,.99518,.09056,.03751,.99518,0,0,1,.09613,.01912,.99518,.19134,.03806,.98079,.18024,.07466,.98079,.09056,.03751,.99518,.09613,.01912,.99518,.28471,.05663,.95694,.26819,.11109,.95694,.18024,.07466,.98079,.19134,.03806,.98079,.37533,.07466,.92388,.35355,.14645,.92388,.26819,.11109,.95694,.28471,.05663,.95694,.46234,.09196,.88192,.43551,.1804,.88192,.35355,.14645,.92388,.37533,.07466,.92388,.5449,.10839,.83147,.51328,.21261,.83147,.43551,.1804,.88192,.46234,.09196,.88192,.6222,.12376,.77301,.5861,.24277,.77301,.51328,.21261,.83147,.5449,.10839,.83147,.69352,.13795,.70711,.65328,.2706,.70711,.5861,.24277,.77301,.6222,.12376,.77301,.75816,.15081,.63439,.71417,.29582,.63439,.65328,.2706,.70711,.69352,.13795,.70711,.81549,.16221,.55557,.76818,.31819,.55557,.71417,.29582,.63439,.75816,.15081,.63439,.86498,.17205,.4714,.81479,.3375,.4714,.76818,.31819,.55557,.81549,.16221,.55557,.90613,.18024,.38268,.85355,.35355,.38268,.81479,.3375,.4714,.86498,.17205,.4714,.93855,.18669,.29028,.8841,.36621,.29028,.85355,.35355,.38268,.90613,.18024,.38268,.96194,.19134,.19509,.90613,.37533,.19509,.8841,.36621,.29028,.93855,.18669,.29028,.97606,.19415,.09802,.91943,.38084,.09802,.90613,.37533,.19509,.96194,.19134,.19509,.98079,.19509,-0,.92388,.38268,-0,.91943,.38084,.09802,.97606,.19415,.09802,.97606,.19415,-.09802,.91943,.38084,-.09802,.92388,.38268,-0,.98079,.19509,-0,.96194,.19134,-.19509,.90613,.37533,-.19509,.91943,.38084,-.09802,.97606,.19415,-.09802,.93855,.18669,-.29028,.8841,.36621,-.29028,.90613,.37533,-.19509,.96194,.19134,-.19509,.90613,.18024,-.38268,.85355,.35355,-.38268,.8841,.36621,-.29028,.93855,.18669,-.29028,.86498,.17205,-.4714,.81479,.3375,-.4714,.85355,.35355,-.38268,.90613,.18024,-.38268,.81549,.16221,-.55557,.76818,.31819,-.55557,.81479,.3375,-.4714,.86498,.17205,-.4714,.75816,.15081,-.63439,.71417,.29582,-.63439,.76818,.31819,-.55557,.81549,.16221,-.55557,.69352,.13795,-.70711,.65328,.2706,-.70711,.71417,.29582,-.63439,.75816,.15081,-.63439,.6222,.12376,-.77301,.5861,.24277,-.77301,.65328,.2706,-.70711,.69352,.13795,-.70711,.54489,.10839,-.83147,.51328,.21261,-.83147,.5861,.24277,-.77301,.6222,.12376,-.77301,.46234,.09196,-.88192,.43551,.1804,-.88192,.51328,.21261,-.83147,.54489,.10839,-.83147,.37533,.07466,-.92388,.35355,.14645,-.92388,.43551,.1804,-.88192,.46234,.09196,-.88192,.28471,.05663,-.95694,.26819,.11109,-.95694,.35355,.14645,-.92388,.37533,.07466,-.92388,.19134,.03806,-.98079,.18024,.07466,-.98079,.26819,.11109,-.95694,.28471,.05663,-.95694,.09613,.01912,-.99518,.09056,.03751,-.99518,.18024,.07466,-.98079,.19134,.03806,-.98079,-0,-0,-1,.09056,.03751,-.99518,.09613,.01912,-.99518,-0,-0,-1,.0815,.05446,-.99518,.09056,.03751,-.99518,.09056,.03751,-.99518,.0815,.05446,-.99518,.16221,.10839,-.98079,.18024,.07466,-.98079,.18024,.07466,-.98079,.16221,.10839,-.98079,.24136,.16127,-.95694,.26819,.11109,-.95694,.26819,.11109,-.95694,.24136,.16127,-.95694,.31819,.21261,-.92388,.35355,.14645,-.92388,.35355,.14645,-.92388,.31819,.21261,-.92388,.39195,.26189,-.88192,.43551,.1804,-.88192,.43551,.1804,-.88192,.39195,.26189,-.88192,.46194,.30866,-.83147,.51328,.21261,-.83147,.51328,.21261,-.83147,.46194,.30866,-.83147,.52748,.35245,-.77301,.5861,.24277,-.77301,.5861,.24277,-.77301,.52748,.35245,-.77301,.58794,.39285,-.70711,.65328,.2706,-.70711,.65328,.2706,-.70711,.58794,.39285,-.70711,.64273,.42946,-.63439,.71417,.29582,-.63439,.71417,.29582,-.63439,.64273,.42946,-.63439,.69134,.46194,-.55557,.76818,.31819,-.55557,.76818,.31819,-.55557,.69134,.46194,-.55557,.73329,.48997,-.4714,.81479,.3375,-.4714,.81479,.3375,-.4714,.73329,.48997,-.4714,.76818,.51328,-.38268,.85355,.35355,-.38268,.85355,.35355,-.38268,.76818,.51328,-.38268,.79567,.53165,-.29028,.8841,.36621,-.29028,.8841,.36621,-.29028,.79567,.53165,-.29028,.81549,.5449,-.19509,.90613,.37533,-.19509,.90613,.37533,-.19509,.81549,.5449,-.19509,.82747,.55289,-.09802,.91943,.38084,-.09802,.91943,.38084,-.09802,.82747,.55289,-.09802,.83147,.55557,-0,.92388,.38268,-0,.92388,.38268,-0,.83147,.55557,-0,.82747,.55289,.09802,.91943,.38084,.09802,.91943,.38084,.09802,.82747,.55289,.09802,.81549,.5449,.19509,.90613,.37533,.19509,.90613,.37533,.19509,.81549,.5449,.19509,.79567,.53165,.29028,.8841,.36621,.29028,.8841,.36621,.29028,.79567,.53165,.29028,.76818,.51328,.38268,.85355,.35355,.38268,.85355,.35355,.38268,.76818,.51328,.38268,.73329,.48997,.4714,.81479,.3375,.4714,.81479,.3375,.4714,.73329,.48997,.4714,.69134,.46194,.55557,.76818,.31819,.55557,.76818,.31819,.55557,.69134,.46194,.55557,.64273,.42946,.63439,.71417,.29582,.63439,.71417,.29582,.63439,.64273,.42946,.63439,.58794,.39285,.70711,.65328,.2706,.70711,.65328,.2706,.70711,.58794,.39285,.70711,.52748,.35245,.77301,.5861,.24277,.77301,.5861,.24277,.77301,.52748,.35245,.77301,.46194,.30866,.83147,.51328,.21261,.83147,.51328,.21261,.83147,.46194,.30866,.83147,.39195,.26189,.88192,.43551,.1804,.88192,.43551,.1804,.88192,.39195,.26189,.88192,.31819,.21261,.92388,.35355,.14645,.92388,.35355,.14645,.92388,.31819,.21261,.92388,.24136,.16127,.95694,.26819,.11109,.95694,.26819,.11109,.95694,.24136,.16127,.95694,.16221,.10839,.98079,.18024,.07466,.98079,.18024,.07466,.98079,.16221,.10839,.98079,.0815,.05446,.99518,.09056,.03751,.99518,.0815,.05446,.99518,0,0,1,.09056,.03751,.99518,.06931,.06931,.99518,0,0,1,.0815,.05446,.99518,.16221,.10839,.98079,.13795,.13795,.98079,.06931,.06931,.99518,.0815,.05446,.99518,.24136,.16127,.95694,.20526,.20526,.95694,.13795,.13795,.98079,.16221,.10839,.98079,.31819,.21261,.92388,.2706,.2706,.92388,.20526,.20526,.95694,.24136,.16127,.95694,.39195,.26189,.88192,.33333,.33333,.88192,.2706,.2706,.92388,.31819,.21261,.92388,.46194,.30866,.83147,.39285,.39285,.83147,.33333,.33333,.88192,.39195,.26189,.88192,.52748,.35245,.77301,.44858,.44858,.77301,.39285,.39285,.83147,.46194,.30866,.83147,.58794,.39285,.70711,.5,.5,.70711,.44858,.44858,.77301,.52748,.35245,.77301,.64273,.42946,.63439,.5466,.5466,.63439,.5,.5,.70711,.58794,.39285,.70711,.69134,.46194,.55557,.58794,.58794,.55557,.5466,.5466,.63439,.64273,.42946,.63439,.73329,.48997,.4714,.62361,.62361,.4714,.58794,.58794,.55557,.69134,.46194,.55557,.76818,.51328,.38268,.65328,.65328,.38268,.62361,.62361,.4714,.73329,.48997,.4714,.79567,.53165,.29028,.67666,.67666,.29028,.65328,.65328,.38268,.76818,.51328,.38268,.81549,.5449,.19509,.69352,.69352,.19509,.67666,.67666,.29028,.79567,.53165,.29028,.82747,.55289,.09802,.7037,.7037,.09802,.69352,.69352,.19509,.81549,.5449,.19509,.83147,.55557,-0,.70711,.70711,-0,.7037,.7037,.09802,.82747,.55289,.09802,.82747,.55289,-.09802,.7037,.7037,-.09802,.70711,.70711,-0,.83147,.55557,-0,.81549,.5449,-.19509,.69352,.69352,-.19509,.7037,.7037,-.09802,.82747,.55289,-.09802,.79567,.53165,-.29028,.67666,.67666,-.29028,.69352,.69352,-.19509,.81549,.5449,-.19509,.76818,.51328,-.38268,.65328,.65328,-.38268,.67666,.67666,-.29028,.79567,.53165,-.29028,.73329,.48997,-.4714,.62361,.62361,-.4714,.65328,.65328,-.38268,.76818,.51328,-.38268,.69134,.46194,-.55557,.58794,.58794,-.55557,.62361,.62361,-.4714,.73329,.48997,-.4714,.64273,.42946,-.63439,.5466,.5466,-.63439,.58794,.58794,-.55557,.69134,.46194,-.55557,.58794,.39285,-.70711,.5,.5,-.70711,.5466,.5466,-.63439,.64273,.42946,-.63439,.52748,.35245,-.77301,.44858,.44858,-.77301,.5,.5,-.70711,.58794,.39285,-.70711,.46194,.30866,-.83147,.39285,.39285,-.83147,.44858,.44858,-.77301,.52748,.35245,-.77301,.39195,.26189,-.88192,.33333,.33333,-.88192,.39285,.39285,-.83147,.46194,.30866,-.83147,.31819,.21261,-.92388,.2706,.2706,-.92388,.33333,.33333,-.88192,.39195,.26189,-.88192,.24136,.16127,-.95694,.20526,.20526,-.95694,.2706,.2706,-.92388,.31819,.21261,-.92388,.16221,.10839,-.98079,.13795,.13795,-.98079,.20526,.20526,-.95694,.24136,.16127,-.95694,.0815,.05446,-.99518,.06931,.06931,-.99518,.13795,.13795,-.98079,.16221,.10839,-.98079,-0,-0,-1,.06931,.06931,-.99518,.0815,.05446,-.99518,-0,-0,-1,.05445,.0815,-.99518,.06931,.06931,-.99518,.06931,.06931,-.99518,.05445,.0815,-.99518,.10839,.16221,-.98079,.13795,.13795,-.98079,.13795,.13795,-.98079,.10839,.16221,-.98079,.16127,.24136,-.95694,.20526,.20526,-.95694,.20526,.20526,-.95694,.16127,.24136,-.95694,.21261,.31819,-.92388,.2706,.2706,-.92388,.2706,.2706,-.92388,.21261,.31819,-.92388,.26189,.39195,-.88192,.33333,.33333,-.88192,.33333,.33333,-.88192,.26189,.39195,-.88192,.30866,.46194,-.83147,.39285,.39285,-.83147,.39285,.39285,-.83147,.30866,.46194,-.83147,.35245,.52748,-.77301,.44858,.44858,-.77301,.44858,.44858,-.77301,.35245,.52748,-.77301,.39285,.58794,-.70711,.5,.5,-.70711,.5,.5,-.70711,.39285,.58794,-.70711,.42946,.64273,-.63439,.5466,.5466,-.63439,.5466,.5466,-.63439,.42946,.64273,-.63439,.46194,.69134,-.55557,.58794,.58794,-.55557,.58794,.58794,-.55557,.46194,.69134,-.55557,.48997,.73329,-.4714,.62361,.62361,-.4714,.62361,.62361,-.4714,.48997,.73329,-.4714,.51328,.76818,-.38268,.65328,.65328,-.38268,.65328,.65328,-.38268,.51328,.76818,-.38268,.53165,.79567,-.29028,.67666,.67666,-.29028,.67666,.67666,-.29028,.53165,.79567,-.29028,.54489,.81549,-.19509,.69352,.69352,-.19509,.69352,.69352,-.19509,.54489,.81549,-.19509,.55289,.82747,-.09802,.7037,.7037,-.09802,.7037,.7037,-.09802,.55289,.82747,-.09802,.55557,.83147,-0,.70711,.70711,-0,.70711,.70711,-0,.55557,.83147,-0,.55289,.82747,.09802,.7037,.7037,.09802,.7037,.7037,.09802,.55289,.82747,.09802,.54489,.81549,.19509,.69352,.69352,.19509,.69352,.69352,.19509,.54489,.81549,.19509,.53165,.79567,.29028,.67666,.67666,.29028,.67666,.67666,.29028,.53165,.79567,.29028,.51328,.76818,.38268,.65328,.65328,.38268,.65328,.65328,.38268,.51328,.76818,.38268,.48997,.73329,.4714,.62361,.62361,.4714,.62361,.62361,.4714,.48997,.73329,.4714,.46194,.69134,.55557,.58794,.58794,.55557,.58794,.58794,.55557,.46194,.69134,.55557,.42946,.64273,.63439,.5466,.5466,.63439,.5466,.5466,.63439,.42946,.64273,.63439,.39285,.58794,.70711,.5,.5,.70711,.5,.5,.70711,.39285,.58794,.70711,.35245,.52748,.77301,.44858,.44858,.77301,.44858,.44858,.77301,.35245,.52748,.77301,.30866,.46194,.83147,.39285,.39285,.83147,.39285,.39285,.83147,.30866,.46194,.83147,.26189,.39195,.88192,.33333,.33333,.88192,.33333,.33333,.88192,.26189,.39195,.88192,.21261,.31819,.92388,.2706,.2706,.92388,.2706,.2706,.92388,.21261,.31819,.92388,.16127,.24136,.95694,.20526,.20526,.95694,.20526,.20526,.95694,.16127,.24136,.95694,.10839,.16221,.98079,.13795,.13795,.98079,.13795,.13795,.98079,.10839,.16221,.98079,.05446,.0815,.99518,.06931,.06931,.99518,.05446,.0815,.99518,0,0,1,.06931,.06931,.99518,.03751,.09056,.99518,0,0,1,.05446,.0815,.99518,.10839,.16221,.98079,.07466,.18024,.98079,.03751,.09056,.99518,.05446,.0815,.99518,.16127,.24136,.95694,.11109,.26819,.95694,.07466,.18024,.98079,.10839,.16221,.98079,.21261,.31819,.92388,.14645,.35355,.92388,.11109,.26819,.95694,.16127,.24136,.95694,.26189,.39195,.88192,.1804,.43551,.88192,.14645,.35355,.92388,.21261,.31819,.92388,.30866,.46194,.83147,.21261,.51328,.83147,.1804,.43551,.88192,.26189,.39195,.88192,.35245,.52748,.77301,.24277,.5861,.77301,.21261,.51328,.83147,.30866,.46194,.83147,.39285,.58794,.70711,.2706,.65328,.70711,.24277,.5861,.77301,.35245,.52748,.77301,.42946,.64273,.63439,.29582,.71417,.63439,.2706,.65328,.70711,.39285,.58794,.70711,.46194,.69134,.55557,.31819,.76818,.55557,.29582,.71417,.63439,.42946,.64273,.63439,.48997,.73329,.4714,.3375,.81479,.4714,.31819,.76818,.55557,.46194,.69134,.55557,.51328,.76818,.38268,.35355,.85355,.38268,.3375,.81479,.4714,.48997,.73329,.4714,.53165,.79567,.29028,.36621,.8841,.29028,.35355,.85355,.38268,.51328,.76818,.38268,.54489,.81549,.19509,.37533,.90613,.19509,.36621,.8841,.29028,.53165,.79567,.29028,.55289,.82747,.09802,.38084,.91943,.09802,.37533,.90613,.19509,.54489,.81549,.19509,.55557,.83147,-0,.38268,.92388,-0,.38084,.91943,.09802,.55289,.82747,.09802,.55289,.82747,-.09802,.38084,.91943,-.09802,.38268,.92388,-0,.55557,.83147,-0,.54489,.81549,-.19509,.37533,.90613,-.19509,.38084,.91943,-.09802,.55289,.82747,-.09802,.53165,.79567,-.29028,.36621,.8841,-.29028,.37533,.90613,-.19509,.54489,.81549,-.19509,.51328,.76818,-.38268,.35355,.85355,-.38268,.36621,.8841,-.29028,.53165,.79567,-.29028,.48997,.73329,-.4714,.3375,.81479,-.4714,.35355,.85355,-.38268,.51328,.76818,-.38268,.46194,.69134,-.55557,.31819,.76818,-.55557,.3375,.81479,-.4714,.48997,.73329,-.4714,.42946,.64273,-.63439,.29582,.71417,-.63439,.31819,.76818,-.55557,.46194,.69134,-.55557,.39285,.58794,-.70711,.2706,.65328,-.70711,.29582,.71417,-.63439,.42946,.64273,-.63439,.35245,.52748,-.77301,.24277,.5861,-.77301,.2706,.65328,-.70711,.39285,.58794,-.70711,.30866,.46194,-.83147,.21261,.51328,-.83147,.24277,.5861,-.77301,.35245,.52748,-.77301,.26189,.39195,-.88192,.1804,.43551,-.88192,.21261,.51328,-.83147,.30866,.46194,-.83147,.21261,.31819,-.92388,.14645,.35355,-.92388,.1804,.43551,-.88192,.26189,.39195,-.88192,.16127,.24136,-.95694,.11109,.26819,-.95694,.14645,.35355,-.92388,.21261,.31819,-.92388,.10839,.16221,-.98079,.07466,.18024,-.98079,.11109,.26819,-.95694,.16127,.24136,-.95694,.05445,.0815,-.99518,.03751,.09056,-.99518,.07466,.18024,-.98079,.10839,.16221,-.98079,-0,-0,-1,.03751,.09056,-.99518,.05445,.0815,-.99518,-0,-0,-1,.01912,.09613,-.99518,.03751,.09056,-.99518,.03751,.09056,-.99518,.01912,.09613,-.99518,.03806,.19134,-.98079,.07466,.18024,-.98079,.07466,.18024,-.98079,.03806,.19134,-.98079,.05663,.28471,-.95694,.11109,.26819,-.95694,.11109,.26819,-.95694,.05663,.28471,-.95694,.07466,.37533,-.92388,.14645,.35355,-.92388,.14645,.35355,-.92388,.07466,.37533,-.92388,.09196,.46234,-.88192,.1804,.43551,-.88192,.1804,.43551,-.88192,.09196,.46234,-.88192,.10839,.54489,-.83147,.21261,.51328,-.83147,.21261,.51328,-.83147,.10839,.54489,-.83147,.12376,.6222,-.77301,.24277,.5861,-.77301,.24277,.5861,-.77301,.12376,.6222,-.77301,.13795,.69352,-.70711,.2706,.65328,-.70711,.2706,.65328,-.70711,.13795,.69352,-.70711,.15081,.75816,-.63439,.29582,.71417,-.63439,.29582,.71417,-.63439,.15081,.75816,-.63439,.16221,.81549,-.55557,.31819,.76818,-.55557,.31819,.76818,-.55557,.16221,.81549,-.55557,.17205,.86498,-.4714,.3375,.81479,-.4714,.3375,.81479,-.4714,.17205,.86498,-.4714,.18024,.90613,-.38268,.35355,.85355,-.38268,.35355,.85355,-.38268,.18024,.90613,-.38268,.18669,.93855,-.29028,.36621,.8841,-.29028,.36621,.8841,-.29028,.18669,.93855,-.29028,.19134,.96194,-.19509,.37533,.90613,-.19509,.37533,.90613,-.19509,.19134,.96194,-.19509,.19415,.97606,-.09802,.38084,.91943,-.09802,.38084,.91943,-.09802,.19415,.97606,-.09802,.19509,.98079,-0,.38268,.92388,-0,.38268,.92388,-0,.19509,.98079,-0,.19415,.97606,.09802,.38084,.91943,.09802,.38084,.91943,.09802,.19415,.97606,.09802,.19134,.96194,.19509,.37533,.90613,.19509,.37533,.90613,.19509,.19134,.96194,.19509,.18669,.93855,.29028,.36621,.8841,.29028,.36621,.8841,.29028,.18669,.93855,.29028,.18024,.90613,.38268,.35355,.85355,.38268,.35355,.85355,.38268,.18024,.90613,.38268,.17205,.86498,.4714,.3375,.81479,.4714,.3375,.81479,.4714,.17205,.86498,.4714,.16221,.81549,.55557,.31819,.76818,.55557,.31819,.76818,.55557,.16221,.81549,.55557,.15081,.75816,.63439,.29582,.71417,.63439,.29582,.71417,.63439,.15081,.75816,.63439,.13795,.69352,.70711,.2706,.65328,.70711,.2706,.65328,.70711,.13795,.69352,.70711,.12376,.6222,.77301,.24277,.5861,.77301,.24277,.5861,.77301,.12376,.6222,.77301,.10839,.5449,.83147,.21261,.51328,.83147,.21261,.51328,.83147,.10839,.5449,.83147,.09196,.46234,.88192,.1804,.43551,.88192,.1804,.43551,.88192,.09196,.46234,.88192,.07466,.37533,.92388,.14645,.35355,.92388,.14645,.35355,.92388,.07466,.37533,.92388,.05663,.28471,.95694,.11109,.26819,.95694,.11109,.26819,.95694,.05663,.28471,.95694,.03806,.19134,.98079,.07466,.18024,.98079,.07466,.18024,.98079,.03806,.19134,.98079,.01912,.09613,.99518,.03751,.09056,.99518,.01912,.09613,.99518,0,0,1,.03751,.09056,.99518,-0,.09802,.99518,0,0,1,.01912,.09613,.99518,.03806,.19134,.98079,-0,.19509,.98079,-0,.09802,.99518,.01912,.09613,.99518,.05663,.28471,.95694,-0,.29028,.95694,-0,.19509,.98079,.03806,.19134,.98079,.07466,.37533,.92388,-0,.38268,.92388,-0,.29028,.95694,.05663,.28471,.95694,.09196,.46234,.88192,-0,.4714,.88192,-0,.38268,.92388,.07466,.37533,.92388,.10839,.5449,.83147,-0,.55557,.83147,-0,.4714,.88192,.09196,.46234,.88192,.12376,.6222,.77301,-0,.63439,.77301,-0,.55557,.83147,.10839,.5449,.83147,.13795,.69352,.70711,-0,.70711,.70711,-0,.63439,.77301,.12376,.6222,.77301,.15081,.75816,.63439,-0,.77301,.63439,-0,.70711,.70711,.13795,.69352,.70711,.16221,.81549,.55557,0,.83147,.55557,-0,.77301,.63439,.15081,.75816,.63439,.17205,.86498,.4714,-0,.88192,.4714,0,.83147,.55557,.16221,.81549,.55557,.18024,.90613,.38268,-0,.92388,.38268,-0,.88192,.4714,.17205,.86498,.4714,.18669,.93855,.29028,-0,.95694,.29028,-0,.92388,.38268,.18024,.90613,.38268,.19134,.96194,.19509,-0,.98079,.19509,-0,.95694,.29028,.18669,.93855,.29028,.19415,.97606,.09802,-0,.99518,.09802,-0,.98079,.19509,.19134,.96194,.19509,.19509,.98079,-0,-0,1,-0,-0,.99518,.09802,.19415,.97606,.09802,.19415,.97606,-.09802,-0,.99518,-.09802,-0,1,-0,.19509,.98079,-0,.19134,.96194,-.19509,-0,.98078,-.19509,-0,.99518,-.09802,.19415,.97606,-.09802,.18669,.93855,-.29028,-0,.95694,-.29028,-0,.98078,-.19509,.19134,.96194,-.19509,.18024,.90613,-.38268,-0,.92388,-.38268,-0,.95694,-.29028,.18669,.93855,-.29028,.17205,.86498,-.4714,-0,.88192,-.4714,-0,.92388,-.38268,.18024,.90613,-.38268,.16221,.81549,-.55557,-0,.83147,-.55557,-0,.88192,-.4714,.17205,.86498,-.4714,.15081,.75816,-.63439,-0,.77301,-.63439,-0,.83147,-.55557,.16221,.81549,-.55557,.13795,.69352,-.70711,-0,.70711,-.70711,-0,.77301,-.63439,.15081,.75816,-.63439,.12376,.6222,-.77301,-0,.63439,-.77301,-0,.70711,-.70711,.13795,.69352,-.70711,.10839,.54489,-.83147,-0,.55557,-.83147,-0,.63439,-.77301,.12376,.6222,-.77301,.09196,.46234,-.88192,-0,.4714,-.88192,-0,.55557,-.83147,.10839,.54489,-.83147,.07466,.37533,-.92388,-0,.38268,-.92388,-0,.4714,-.88192,.09196,.46234,-.88192,.05663,.28471,-.95694,-0,.29028,-.95694,-0,.38268,-.92388,.07466,.37533,-.92388,.03806,.19134,-.98079,-0,.19509,-.98079,-0,.29028,-.95694,.05663,.28471,-.95694,.01912,.09613,-.99518,-0,.09802,-.99518,-0,.19509,-.98079,.03806,.19134,-.98079,-0,-0,-1,-0,.09802,-.99518,.01912,.09613,-.99518,-0,-0,-1,-.01912,.09613,-.99518,-0,.09802,-.99518,-0,.09802,-.99518,-.01912,.09613,-.99518,-.03806,.19134,-.98079,-0,.19509,-.98079,-0,.19509,-.98079,-.03806,.19134,-.98079,-.05663,.28471,-.95694,-0,.29028,-.95694,-0,.29028,-.95694,-.05663,.28471,-.95694,-.07466,.37533,-.92388,-0,.38268,-.92388,-0,.38268,-.92388,-.07466,.37533,-.92388,-.09196,.46234,-.88192,-0,.4714,-.88192,-0,.4714,-.88192,-.09196,.46234,-.88192,-.10839,.54489,-.83147,-0,.55557,-.83147,-0,.55557,-.83147,-.10839,.54489,-.83147,-.12376,.6222,-.77301,-0,.63439,-.77301,-0,.63439,-.77301,-.12376,.6222,-.77301,-.13795,.69352,-.70711,-0,.70711,-.70711,-0,.70711,-.70711,-.13795,.69352,-.70711,-.15081,.75816,-.63439,-0,.77301,-.63439,-0,.77301,-.63439,-.15081,.75816,-.63439,-.16221,.81549,-.55557,-0,.83147,-.55557,-0,.83147,-.55557,-.16221,.81549,-.55557,-.17205,.86498,-.4714,-0,.88192,-.4714,-0,.88192,-.4714,-.17205,.86498,-.4714,-.18024,.90613,-.38268,-0,.92388,-.38268,-0,.92388,-.38268,-.18024,.90613,-.38268,-.18669,.93855,-.29028,-0,.95694,-.29028,-0,.95694,-.29028,-.18669,.93855,-.29028,-.19134,.96194,-.19509,-0,.98078,-.19509,-0,.98078,-.19509,-.19134,.96194,-.19509,-.19415,.97606,-.09802,-0,.99518,-.09802,-0,.99518,-.09802,-.19415,.97606,-.09802,-.19509,.98078,-0,-0,1,-0,-0,1,-0,-.19509,.98078,-0,-.19415,.97606,.09802,-0,.99518,.09802,-0,.99518,.09802,-.19415,.97606,.09802,-.19134,.96194,.19509,-0,.98079,.19509,-0,.98079,.19509,-.19134,.96194,.19509,-.18669,.93855,.29028,-0,.95694,.29028,-0,.95694,.29028,-.18669,.93855,.29028,-.18024,.90613,.38268,-0,.92388,.38268,-0,.92388,.38268,-.18024,.90613,.38268,-.17205,.86498,.4714,-0,.88192,.4714,-0,.88192,.4714,-.17205,.86498,.4714,-.16221,.81549,.55557,0,.83147,.55557,0,.83147,.55557,-.16221,.81549,.55557,-.15081,.75816,.63439,-0,.77301,.63439,-0,.77301,.63439,-.15081,.75816,.63439,-.13795,.69352,.70711,-0,.70711,.70711,-0,.70711,.70711,-.13795,.69352,.70711,-.12376,.6222,.77301,-0,.63439,.77301,-0,.63439,.77301,-.12376,.6222,.77301,-.10839,.54489,.83147,-0,.55557,.83147,-0,.55557,.83147,-.10839,.54489,.83147,-.09196,.46234,.88192,-0,.4714,.88192,-0,.4714,.88192,-.09196,.46234,.88192,-.07466,.37533,.92388,-0,.38268,.92388,-0,.38268,.92388,-.07466,.37533,.92388,-.05663,.28471,.95694,-0,.29028,.95694,-0,.29028,.95694,-.05663,.28471,.95694,-.03806,.19134,.98079,-0,.19509,.98079,-0,.19509,.98079,-.03806,.19134,.98079,-.01912,.09613,.99518,-0,.09802,.99518,-.01912,.09613,.99518,0,0,1,-0,.09802,.99518,-.03751,.09056,.99518,0,0,1,-.01912,.09613,.99518,-.03806,.19134,.98079,-.07466,.18024,.98079,-.03751,.09056,.99518,-.01912,.09613,.99518,-.05663,.28471,.95694,-.11109,.26819,.95694,-.07466,.18024,.98079,-.03806,.19134,.98079,-.07466,.37533,.92388,-.14645,.35355,.92388,-.11109,.26819,.95694,-.05663,.28471,.95694,-.09196,.46234,.88192,-.1804,.43551,.88192,-.14645,.35355,.92388,-.07466,.37533,.92388,-.10839,.54489,.83147,-.21261,.51328,.83147,-.1804,.43551,.88192,-.09196,.46234,.88192,-.12376,.6222,.77301,-.24277,.5861,.77301,-.21261,.51328,.83147,-.10839,.54489,.83147,-.13795,.69352,.70711,-.2706,.65328,.70711,-.24277,.5861,.77301,-.12376,.6222,.77301,-.15081,.75816,.63439,-.29582,.71417,.63439,-.2706,.65328,.70711,-.13795,.69352,.70711,-.16221,.81549,.55557,-.31819,.76818,.55557,-.29582,.71417,.63439,-.15081,.75816,.63439,-.17205,.86498,.4714,-.3375,.81479,.4714,-.31819,.76818,.55557,-.16221,.81549,.55557,-.18024,.90613,.38268,-.35355,.85355,.38268,-.3375,.81479,.4714,-.17205,.86498,.4714,-.18669,.93855,.29028,-.36621,.8841,.29028,-.35355,.85355,.38268,-.18024,.90613,.38268,-.19134,.96194,.19509,-.37533,.90613,.19509,-.36621,.8841,.29028,-.18669,.93855,.29028,-.19415,.97606,.09802,-.38084,.91943,.09802,-.37533,.90613,.19509,-.19134,.96194,.19509,-.19509,.98078,-0,-.38268,.92388,-0,-.38084,.91943,.09802,-.19415,.97606,.09802,-.19415,.97606,-.09802,-.38084,.91943,-.09802,-.38268,.92388,-0,-.19509,.98078,-0,-.19134,.96194,-.19509,-.37533,.90613,-.19509,-.38084,.91943,-.09802,-.19415,.97606,-.09802,-.18669,.93855,-.29028,-.36621,.8841,-.29028,-.37533,.90613,-.19509,-.19134,.96194,-.19509,-.18024,.90613,-.38268,-.35355,.85355,-.38268,-.36621,.8841,-.29028,-.18669,.93855,-.29028,-.17205,.86498,-.4714,-.3375,.81479,-.4714,-.35355,.85355,-.38268,-.18024,.90613,-.38268,-.16221,.81549,-.55557,-.31819,.76818,-.55557,-.3375,.81479,-.4714,-.17205,.86498,-.4714,-.15081,.75816,-.63439,-.29582,.71417,-.63439,-.31819,.76818,-.55557,-.16221,.81549,-.55557,-.13795,.69352,-.70711,-.2706,.65328,-.70711,-.29582,.71417,-.63439,-.15081,.75816,-.63439,-.12376,.6222,-.77301,-.24277,.5861,-.77301,-.2706,.65328,-.70711,-.13795,.69352,-.70711,-.10839,.54489,-.83147,-.21261,.51328,-.83147,-.24277,.5861,-.77301,-.12376,.6222,-.77301,-.09196,.46234,-.88192,-.1804,.43551,-.88192,-.21261,.51328,-.83147,-.10839,.54489,-.83147,-.07466,.37533,-.92388,-.14645,.35355,-.92388,-.1804,.43551,-.88192,-.09196,.46234,-.88192,-.05663,.28471,-.95694,-.11109,.26819,-.95694,-.14645,.35355,-.92388,-.07466,.37533,-.92388,-.03806,.19134,-.98079,-.07466,.18024,-.98079,-.11109,.26819,-.95694,-.05663,.28471,-.95694,-.01912,.09613,-.99518,-.03751,.09056,-.99518,-.07466,.18024,-.98079,-.03806,.19134,-.98079,-0,-0,-1,-.03751,.09056,-.99518,-.01912,.09613,-.99518,-0,-0,-1,-.05445,.0815,-.99518,-.03751,.09056,-.99518,-.03751,.09056,-.99518,-.05445,.0815,-.99518,-.10839,.16221,-.98079,-.07466,.18024,-.98079,-.07466,.18024,-.98079,-.10839,.16221,-.98079,-.16127,.24136,-.95694,-.11109,.26819,-.95694,-.11109,.26819,-.95694,-.16127,.24136,-.95694,-.21261,.31819,-.92388,-.14645,.35355,-.92388,-.14645,.35355,-.92388,-.21261,.31819,-.92388,-.26189,.39195,-.88192,-.1804,.43551,-.88192,-.1804,.43551,-.88192,-.26189,.39195,-.88192,-.30866,.46194,-.83147,-.21261,.51328,-.83147,-.21261,.51328,-.83147,-.30866,.46194,-.83147,-.35245,.52748,-.77301,-.24277,.5861,-.77301,-.24277,.5861,-.77301,-.35245,.52748,-.77301,-.39285,.58794,-.70711,-.2706,.65328,-.70711,-.2706,.65328,-.70711,-.39285,.58794,-.70711,-.42946,.64273,-.63439,-.29582,.71417,-.63439,-.29582,.71417,-.63439,-.42946,.64273,-.63439,-.46194,.69134,-.55557,-.31819,.76818,-.55557,-.31819,.76818,-.55557,-.46194,.69134,-.55557,-.48997,.73329,-.4714,-.3375,.81479,-.4714,-.3375,.81479,-.4714,-.48997,.73329,-.4714,-.51328,.76818,-.38268,-.35355,.85355,-.38268,-.35355,.85355,-.38268,-.51328,.76818,-.38268,-.53165,.79567,-.29028,-.36621,.8841,-.29028,-.36621,.8841,-.29028,-.53165,.79567,-.29028,-.54489,.81549,-.19509,-.37533,.90613,-.19509,-.37533,.90613,-.19509,-.54489,.81549,-.19509,-.55289,.82747,-.09802,-.38084,.91943,-.09802,-.38084,.91943,-.09802,-.55289,.82747,-.09802,-.55557,.83147,-0,-.38268,.92388,-0,-.38268,.92388,-0,-.55557,.83147,-0,-.55289,.82747,.09802,-.38084,.91943,.09802,-.38084,.91943,.09802,-.55289,.82747,.09802,-.54489,.81549,.19509,-.37533,.90613,.19509,-.37533,.90613,.19509,-.54489,.81549,.19509,-.53165,.79567,.29028,-.36621,.8841,.29028,-.36621,.8841,.29028,-.53165,.79567,.29028,-.51328,.76818,.38268,-.35355,.85355,.38268,-.35355,.85355,.38268,-.51328,.76818,.38268,-.48997,.73329,.4714,-.3375,.81479,.4714,-.3375,.81479,.4714,-.48997,.73329,.4714,-.46194,.69134,.55557,-.31819,.76818,.55557,-.31819,.76818,.55557,-.46194,.69134,.55557,-.42946,.64273,.63439,-.29582,.71417,.63439,-.29582,.71417,.63439,-.42946,.64273,.63439,-.39285,.58794,.70711,-.2706,.65328,.70711,-.2706,.65328,.70711,-.39285,.58794,.70711,-.35245,.52748,.77301,-.24277,.5861,.77301,-.24277,.5861,.77301,-.35245,.52748,.77301,-.30866,.46194,.83147,-.21261,.51328,.83147,-.21261,.51328,.83147,-.30866,.46194,.83147,-.26189,.39195,.88192,-.1804,.43551,.88192,-.1804,.43551,.88192,-.26189,.39195,.88192,-.21261,.31819,.92388,-.14645,.35355,.92388,-.14645,.35355,.92388,-.21261,.31819,.92388,-.16127,.24136,.95694,-.11109,.26819,.95694,-.11109,.26819,.95694,-.16127,.24136,.95694,-.10839,.16221,.98079,-.07466,.18024,.98079,-.07466,.18024,.98079,-.10839,.16221,.98079,-.05446,.0815,.99518,-.03751,.09056,.99518,-.05446,.0815,.99518,0,0,1,-.03751,.09056,.99518,-.06931,.06931,.99518,0,0,1,-.05446,.0815,.99518,-.10839,.16221,.98079,-.13795,.13795,.98079,-.06931,.06931,.99518,-.05446,.0815,.99518,-.16127,.24136,.95694,-.20526,.20526,.95694,-.13795,.13795,.98079,-.10839,.16221,.98079,-.21261,.31819,.92388,-.2706,.2706,.92388,-.20526,.20526,.95694,-.16127,.24136,.95694,-.26189,.39195,.88192,-.33333,.33333,.88192,-.2706,.2706,.92388,-.21261,.31819,.92388,-.30866,.46194,.83147,-.39285,.39285,.83147,-.33333,.33333,.88192,-.26189,.39195,.88192,-.35245,.52748,.77301,-.44858,.44858,.77301,-.39285,.39285,.83147,-.30866,.46194,.83147,-.39285,.58794,.70711,-.5,.5,.70711,-.44858,.44858,.77301,-.35245,.52748,.77301,-.42946,.64273,.63439,-.5466,.5466,.63439,-.5,.5,.70711,-.39285,.58794,.70711,-.46194,.69134,.55557,-.58794,.58794,.55557,-.5466,.5466,.63439,-.42946,.64273,.63439,-.48997,.73329,.4714,-.62361,.62361,.4714,-.58794,.58794,.55557,-.46194,.69134,.55557,-.51328,.76818,.38268,-.65328,.65328,.38268,-.62361,.62361,.4714,-.48997,.73329,.4714,-.53165,.79567,.29028,-.67666,.67666,.29028,-.65328,.65328,.38268,-.51328,.76818,.38268,-.54489,.81549,.19509,-.69352,.69352,.19509,-.67666,.67666,.29028,-.53165,.79567,.29028,-.55289,.82747,.09802,-.7037,.7037,.09802,-.69352,.69352,.19509,-.54489,.81549,.19509,-.55557,.83147,-0,-.70711,.70711,-0,-.7037,.7037,.09802,-.55289,.82747,.09802,-.55289,.82747,-.09802,-.7037,.7037,-.09802,-.70711,.70711,-0,-.55557,.83147,-0,-.54489,.81549,-.19509,-.69352,.69352,-.19509,-.7037,.7037,-.09802,-.55289,.82747,-.09802,-.53165,.79567,-.29028,-.67666,.67666,-.29028,-.69352,.69352,-.19509,-.54489,.81549,-.19509,-.51328,.76818,-.38268,-.65328,.65328,-.38268,-.67666,.67666,-.29028,-.53165,.79567,-.29028,-.48997,.73329,-.4714,-.62361,.62361,-.4714,-.65328,.65328,-.38268,-.51328,.76818,-.38268,-.46194,.69134,-.55557,-.58794,.58794,-.55557,-.62361,.62361,-.4714,-.48997,.73329,-.4714,-.42946,.64273,-.63439,-.5466,.5466,-.63439,-.58794,.58794,-.55557,-.46194,.69134,-.55557,-.39285,.58794,-.70711,-.5,.5,-.70711,-.5466,.5466,-.63439,-.42946,.64273,-.63439,-.35245,.52748,-.77301,-.44858,.44858,-.77301,-.5,.5,-.70711,-.39285,.58794,-.70711,-.30866,.46194,-.83147,-.39285,.39285,-.83147,-.44858,.44858,-.77301,-.35245,.52748,-.77301,-.26189,.39195,-.88192,-.33333,.33333,-.88192,-.39285,.39285,-.83147,-.30866,.46194,-.83147,-.21261,.31819,-.92388,-.2706,.2706,-.92388,-.33333,.33333,-.88192,-.26189,.39195,-.88192,-.16127,.24136,-.95694,-.20526,.20526,-.95694,-.2706,.2706,-.92388,-.21261,.31819,-.92388,-.10839,.16221,-.98079,-.13795,.13795,-.98079,-.20526,.20526,-.95694,-.16127,.24136,-.95694,-.05445,.0815,-.99518,-.06931,.06931,-.99518,-.13795,.13795,-.98079,-.10839,.16221,-.98079,-0,-0,-1,-.06931,.06931,-.99518,-.05445,.0815,-.99518,-0,-0,-1,-.0815,.05445,-.99518,-.06931,.06931,-.99518,-.06931,.06931,-.99518,-.0815,.05445,-.99518,-.16221,.10839,-.98079,-.13795,.13795,-.98079,-.13795,.13795,-.98079,-.16221,.10839,-.98079,-.24136,.16127,-.95694,-.20526,.20526,-.95694,-.20526,.20526,-.95694,-.24136,.16127,-.95694,-.31819,.21261,-.92388,-.2706,.2706,-.92388,-.2706,.2706,-.92388,-.31819,.21261,-.92388,-.39195,.26189,-.88192,-.33333,.33333,-.88192,-.33333,.33333,-.88192,-.39195,.26189,-.88192,-.46194,.30866,-.83147,-.39285,.39285,-.83147,-.39285,.39285,-.83147,-.46194,.30866,-.83147,-.52748,.35245,-.77301,-.44858,.44858,-.77301,-.44858,.44858,-.77301,-.52748,.35245,-.77301,-.58794,.39285,-.70711,-.5,.5,-.70711,-.5,.5,-.70711,-.58794,.39285,-.70711,-.64273,.42946,-.63439,-.5466,.5466,-.63439,-.5466,.5466,-.63439,-.64273,.42946,-.63439,-.69134,.46194,-.55557,-.58794,.58794,-.55557,-.58794,.58794,-.55557,-.69134,.46194,-.55557,-.73329,.48997,-.4714,-.62361,.62361,-.4714,-.62361,.62361,-.4714,-.73329,.48997,-.4714,-.76818,.51328,-.38268,-.65328,.65328,-.38268,-.65328,.65328,-.38268,-.76818,.51328,-.38268,-.79567,.53165,-.29028,-.67666,.67666,-.29028,-.67666,.67666,-.29028,-.79567,.53165,-.29028,-.81549,.54489,-.19509,-.69352,.69352,-.19509,-.69352,.69352,-.19509,-.81549,.54489,-.19509,-.82747,.55289,-.09802,-.7037,.7037,-.09802,-.7037,.7037,-.09802,-.82747,.55289,-.09802,-.83147,.55557,-0,-.70711,.70711,-0,-.70711,.70711,-0,-.83147,.55557,-0,-.82747,.55289,.09802,-.7037,.7037,.09802,-.7037,.7037,.09802,-.82747,.55289,.09802,-.81549,.54489,.19509,-.69352,.69352,.19509,-.69352,.69352,.19509,-.81549,.54489,.19509,-.79567,.53165,.29028,-.67666,.67666,.29028,-.67666,.67666,.29028,-.79567,.53165,.29028,-.76818,.51328,.38268,-.65328,.65328,.38268,-.65328,.65328,.38268,-.76818,.51328,.38268,-.73329,.48997,.4714,-.62361,.62361,.4714,-.62361,.62361,.4714,-.73329,.48997,.4714,-.69134,.46194,.55557,-.58794,.58794,.55557,-.58794,.58794,.55557,-.69134,.46194,.55557,-.64273,.42946,.63439,-.5466,.5466,.63439,-.5466,.5466,.63439,-.64273,.42946,.63439,-.58794,.39285,.70711,-.5,.5,.70711,-.5,.5,.70711,-.58794,.39285,.70711,-.52748,.35245,.77301,-.44858,.44858,.77301,-.44858,.44858,.77301,-.52748,.35245,.77301,-.46194,.30866,.83147,-.39285,.39285,.83147,-.39285,.39285,.83147,-.46194,.30866,.83147,-.39195,.26189,.88192,-.33333,.33333,.88192,-.33333,.33333,.88192,-.39195,.26189,.88192,-.31819,.21261,.92388,-.2706,.2706,.92388,-.2706,.2706,.92388,-.31819,.21261,.92388,-.24136,.16127,.95694,-.20526,.20526,.95694,-.20526,.20526,.95694,-.24136,.16127,.95694,-.16221,.10839,.98079,-.13795,.13795,.98079,-.13795,.13795,.98079,-.16221,.10839,.98079,-.0815,.05446,.99518,-.06931,.06931,.99518,-.0815,.05446,.99518,0,0,1,-.06931,.06931,.99518,-.09056,.03751,.99518,0,0,1,-.0815,.05446,.99518,-.16221,.10839,.98079,-.18024,.07466,.98079,-.09056,.03751,.99518,-.0815,.05446,.99518,-.24136,.16127,.95694,-.26819,.11109,.95694,-.18024,.07466,.98079,-.16221,.10839,.98079,-.31819,.21261,.92388,-.35355,.14645,.92388,-.26819,.11109,.95694,-.24136,.16127,.95694,-.39195,.26189,.88192,-.43551,.1804,.88192,-.35355,.14645,.92388,-.31819,.21261,.92388,-.46194,.30866,.83147,-.51328,.21261,.83147,-.43551,.1804,.88192,-.39195,.26189,.88192,-.52748,.35245,.77301,-.5861,.24277,.77301,-.51328,.21261,.83147,-.46194,.30866,.83147,-.58794,.39285,.70711,-.65328,.2706,.70711,-.5861,.24277,.77301,-.52748,.35245,.77301,-.64273,.42946,.63439,-.71417,.29582,.63439,-.65328,.2706,.70711,-.58794,.39285,.70711,-.69134,.46194,.55557,-.76818,.31819,.55557,-.71417,.29582,.63439,-.64273,.42946,.63439,-.73329,.48997,.4714,-.81479,.3375,.4714,-.76818,.31819,.55557,-.69134,.46194,.55557,-.76818,.51328,.38268,-.85355,.35355,.38268,-.81479,.3375,.4714,-.73329,.48997,.4714,-.79567,.53165,.29028,-.8841,.3662,.29028,-.85355,.35355,.38268,-.76818,.51328,.38268,-.81549,.54489,.19509,-.90613,.37533,.19509,-.8841,.3662,.29028,-.79567,.53165,.29028,-.82747,.55289,.09802,-.91943,.38084,.09802,-.90613,.37533,.19509,-.81549,.54489,.19509,-.83147,.55557,-0,-.92388,.38268,-0,-.91943,.38084,.09802,-.82747,.55289,.09802,-.82747,.55289,-.09802,-.91943,.38084,-.09802,-.92388,.38268,-0,-.83147,.55557,-0,-.81549,.54489,-.19509,-.90613,.37533,-.19509,-.91943,.38084,-.09802,-.82747,.55289,-.09802,-.79567,.53165,-.29028,-.8841,.3662,-.29028,-.90613,.37533,-.19509,-.81549,.54489,-.19509,-.76818,.51328,-.38268,-.85355,.35355,-.38268,-.8841,.3662,-.29028,-.79567,.53165,-.29028,-.73329,.48997,-.4714,-.81479,.3375,-.4714,-.85355,.35355,-.38268,-.76818,.51328,-.38268,-.69134,.46194,-.55557,-.76818,.31819,-.55557,-.81479,.3375,-.4714,-.73329,.48997,-.4714,-.64273,.42946,-.63439,-.71417,.29582,-.63439,-.76818,.31819,-.55557,-.69134,.46194,-.55557,-.58794,.39285,-.70711,-.65328,.2706,-.70711,-.71417,.29582,-.63439,-.64273,.42946,-.63439,-.52748,.35245,-.77301,-.5861,.24277,-.77301,-.65328,.2706,-.70711,-.58794,.39285,-.70711,-.46194,.30866,-.83147,-.51328,.21261,-.83147,-.5861,.24277,-.77301,-.52748,.35245,-.77301,-.39195,.26189,-.88192,-.43551,.1804,-.88192,-.51328,.21261,-.83147,-.46194,.30866,-.83147,-.31819,.21261,-.92388,-.35355,.14645,-.92388,-.43551,.1804,-.88192,-.39195,.26189,-.88192,-.24136,.16127,-.95694,-.26819,.11109,-.95694,-.35355,.14645,-.92388,-.31819,.21261,-.92388,-.16221,.10839,-.98079,-.18024,.07466,-.98079,-.26819,.11109,-.95694,-.24136,.16127,-.95694,-.0815,.05445,-.99518,-.09056,.03751,-.99518,-.18024,.07466,-.98079,-.16221,.10839,-.98079,-0,-0,-1,-.09056,.03751,-.99518,-.0815,.05445,-.99518,-0,-0,-1,-.09613,.01912,-.99518,-.09056,.03751,-.99518,-.09056,.03751,-.99518,-.09613,.01912,-.99518,-.19134,.03806,-.98079,-.18024,.07466,-.98079,-.18024,.07466,-.98079,-.19134,.03806,-.98079,-.28471,.05663,-.95694,-.26819,.11109,-.95694,-.26819,.11109,-.95694,-.28471,.05663,-.95694,-.37533,.07466,-.92388,-.35355,.14645,-.92388,-.35355,.14645,-.92388,-.37533,.07466,-.92388,-.46234,.09196,-.88192,-.43551,.1804,-.88192,-.43551,.1804,-.88192,-.46234,.09196,-.88192,-.54489,.10839,-.83147,-.51328,.21261,-.83147,-.51328,.21261,-.83147,-.54489,.10839,-.83147,-.6222,.12376,-.77301,-.5861,.24277,-.77301,-.5861,.24277,-.77301,-.6222,.12376,-.77301,-.69352,.13795,-.70711,-.65328,.2706,-.70711,-.65328,.2706,-.70711,-.69352,.13795,-.70711,-.75816,.15081,-.63439,-.71417,.29582,-.63439,-.71417,.29582,-.63439,-.75816,.15081,-.63439,-.81549,.16221,-.55557,-.76818,.31819,-.55557,-.76818,.31819,-.55557,-.81549,.16221,-.55557,-.86497,.17205,-.4714,-.81479,.3375,-.4714,-.81479,.3375,-.4714,-.86497,.17205,-.4714,-.90613,.18024,-.38268,-.85355,.35355,-.38268,-.85355,.35355,-.38268,-.90613,.18024,-.38268,-.93855,.18669,-.29028,-.8841,.3662,-.29028,-.8841,.3662,-.29028,-.93855,.18669,-.29028,-.96194,.19134,-.19509,-.90613,.37533,-.19509,-.90613,.37533,-.19509,-.96194,.19134,-.19509,-.97606,.19415,-.09802,-.91943,.38084,-.09802,-.91943,.38084,-.09802,-.97606,.19415,-.09802,-.98078,.19509,-0,-.92388,.38268,-0,-.92388,.38268,-0,-.98078,.19509,-0,-.97606,.19415,.09802,-.91943,.38084,.09802,-.91943,.38084,.09802,-.97606,.19415,.09802,-.96194,.19134,.19509,-.90613,.37533,.19509,-.90613,.37533,.19509,-.96194,.19134,.19509,-.93855,.18669,.29028,-.8841,.3662,.29028,-.8841,.3662,.29028,-.93855,.18669,.29028,-.90613,.18024,.38268,-.85355,.35355,.38268,-.85355,.35355,.38268,-.90613,.18024,.38268,-.86498,.17205,.4714,-.81479,.3375,.4714,-.81479,.3375,.4714,-.86498,.17205,.4714,-.81549,.16221,.55557,-.76818,.31819,.55557,-.76818,.31819,.55557,-.81549,.16221,.55557,-.75816,.15081,.63439,-.71417,.29582,.63439,-.71417,.29582,.63439,-.75816,.15081,.63439,-.69352,.13795,.70711,-.65328,.2706,.70711,-.65328,.2706,.70711,-.69352,.13795,.70711,-.6222,.12376,.77301,-.5861,.24277,.77301,-.5861,.24277,.77301,-.6222,.12376,.77301,-.54489,.10839,.83147,-.51328,.21261,.83147,-.51328,.21261,.83147,-.54489,.10839,.83147,-.46234,.09196,.88192,-.43551,.1804,.88192,-.43551,.1804,.88192,-.46234,.09196,.88192,-.37533,.07466,.92388,-.35355,.14645,.92388,-.35355,.14645,.92388,-.37533,.07466,.92388,-.28471,.05663,.95694,-.26819,.11109,.95694,-.26819,.11109,.95694,-.28471,.05663,.95694,-.19134,.03806,.98079,-.18024,.07466,.98079,-.18024,.07466,.98079,-.19134,.03806,.98079,-.09613,.01912,.99518,-.09056,.03751,.99518,-.09613,.01912,.99518,0,0,1,-.09056,.03751,.99518,-.09802,-0,.99518,0,0,1,-.09613,.01912,.99518,-.19134,.03806,.98079,-.19509,-0,.98079,-.09802,-0,.99518,-.09613,.01912,.99518,-.28471,.05663,.95694,-.29028,-0,.95694,-.19509,-0,.98079,-.19134,.03806,.98079,-.37533,.07466,.92388,-.38268,-0,.92388,-.29028,-0,.95694,-.28471,.05663,.95694,-.46234,.09196,.88192,-.4714,-0,.88192,-.38268,-0,.92388,-.37533,.07466,.92388,-.54489,.10839,.83147,-.55557,-0,.83147,-.4714,-0,.88192,-.46234,.09196,.88192,-.6222,.12376,.77301,-.63439,-0,.77301,-.55557,-0,.83147,-.54489,.10839,.83147,-.69352,.13795,.70711,-.70711,-0,.70711,-.63439,-0,.77301,-.6222,.12376,.77301,-.75816,.15081,.63439,-.77301,-0,.63439,-.70711,-0,.70711,-.69352,.13795,.70711,-.81549,.16221,.55557,-.83147,-0,.55557,-.77301,-0,.63439,-.75816,.15081,.63439,-.86498,.17205,.4714,-.88192,-0,.4714,-.83147,-0,.55557,-.81549,.16221,.55557,-.90613,.18024,.38268,-.92388,-0,.38268,-.88192,-0,.4714,-.86498,.17205,.4714,-.93855,.18669,.29028,-.95694,-0,.29028,-.92388,-0,.38268,-.90613,.18024,.38268,-.96194,.19134,.19509,-.98078,-0,.19509,-.95694,-0,.29028,-.93855,.18669,.29028,-.97606,.19415,.09802,-.99518,-0,.09802,-.98078,-0,.19509,-.96194,.19134,.19509,-.98078,.19509,-0,-1,-0,-0,-.99518,-0,.09802,-.97606,.19415,.09802,-.97606,.19415,-.09802,-.99518,-0,-.09802,-1,-0,-0,-.98078,.19509,-0,-.96194,.19134,-.19509,-.98078,-0,-.19509,-.99518,-0,-.09802,-.97606,.19415,-.09802,-.93855,.18669,-.29028,-.95694,-0,-.29028,-.98078,-0,-.19509,-.96194,.19134,-.19509,-.90613,.18024,-.38268,-.92388,-0,-.38268,-.95694,-0,-.29028,-.93855,.18669,-.29028,-.86497,.17205,-.4714,-.88192,-0,-.4714,-.92388,-0,-.38268,-.90613,.18024,-.38268,-.81549,.16221,-.55557,-.83147,-0,-.55557,-.88192,-0,-.4714,-.86497,.17205,-.4714,-.75816,.15081,-.63439,-.77301,-0,-.63439,-.83147,-0,-.55557,-.81549,.16221,-.55557,-.69352,.13795,-.70711,-.70711,-0,-.70711,-.77301,-0,-.63439,-.75816,.15081,-.63439,-.6222,.12376,-.77301,-.63439,-0,-.77301,-.70711,-0,-.70711,-.69352,.13795,-.70711,-.54489,.10839,-.83147,-.55557,-0,-.83147,-.63439,-0,-.77301,-.6222,.12376,-.77301,-.46234,.09196,-.88192,-.4714,-0,-.88192,-.55557,-0,-.83147,-.54489,.10839,-.83147,-.37533,.07466,-.92388,-.38268,-0,-.92388,-.4714,-0,-.88192,-.46234,.09196,-.88192,-.28471,.05663,-.95694,-.29028,-0,-.95694,-.38268,-0,-.92388,-.37533,.07466,-.92388,-.19134,.03806,-.98079,-.19509,-0,-.98079,-.29028,-0,-.95694,-.28471,.05663,-.95694,-.09613,.01912,-.99518,-.09802,-0,-.99518,-.19509,-0,-.98079,-.19134,.03806,-.98079,-0,-0,-1,-.09802,-0,-.99518,-.09613,.01912,-.99518,-0,-0,-1,-.09613,-.01912,-.99518,-.09802,-0,-.99518,-.09802,-0,-.99518,-.09613,-.01912,-.99518,-.19134,-.03806,-.98079,-.19509,-0,-.98079,-.19509,-0,-.98079,-.19134,-.03806,-.98079,-.28471,-.05663,-.95694,-.29028,-0,-.95694,-.29028,-0,-.95694,-.28471,-.05663,-.95694,-.37533,-.07466,-.92388,-.38268,-0,-.92388,-.38268,-0,-.92388,-.37533,-.07466,-.92388,-.46234,-.09196,-.88192,-.4714,-0,-.88192,-.4714,-0,-.88192,-.46234,-.09196,-.88192,-.54489,-.10839,-.83147,-.55557,-0,-.83147,-.55557,-0,-.83147,-.54489,-.10839,-.83147,-.6222,-.12376,-.77301,-.63439,-0,-.77301,-.63439,-0,-.77301,-.6222,-.12376,-.77301,-.69352,-.13795,-.70711,-.70711,-0,-.70711,-.70711,-0,-.70711,-.69352,-.13795,-.70711,-.75816,-.15081,-.63439,-.77301,-0,-.63439,-.77301,-0,-.63439,-.75816,-.15081,-.63439,-.81549,-.16221,-.55557,-.83147,-0,-.55557,-.83147,-0,-.55557,-.81549,-.16221,-.55557,-.86497,-.17205,-.4714,-.88192,-0,-.4714,-.88192,-0,-.4714,-.86497,-.17205,-.4714,-.90613,-.18024,-.38268,-.92388,-0,-.38268,-.92388,-0,-.38268,-.90613,-.18024,-.38268,-.93855,-.18669,-.29028,-.95694,-0,-.29028,-.95694,-0,-.29028,-.93855,-.18669,-.29028,-.96194,-.19134,-.19509,-.98078,-0,-.19509,-.98078,-0,-.19509,-.96194,-.19134,-.19509,-.97606,-.19415,-.09802,-.99518,-0,-.09802,-.99518,-0,-.09802,-.97606,-.19415,-.09802,-.98078,-.19509,-0,-1,-0,-0,-1,-0,-0,-.98078,-.19509,-0,-.97606,-.19415,.09802,-.99518,-0,.09802,-.99518,-0,.09802,-.97606,-.19415,.09802,-.96194,-.19134,.19509,-.98078,-0,.19509,-.98078,-0,.19509,-.96194,-.19134,.19509,-.93855,-.18669,.29028,-.95694,-0,.29028,-.95694,-0,.29028,-.93855,-.18669,.29028,-.90613,-.18024,.38268,-.92388,-0,.38268,-.92388,-0,.38268,-.90613,-.18024,.38268,-.86497,-.17205,.4714,-.88192,-0,.4714,-.88192,-0,.4714,-.86497,-.17205,.4714,-.81549,-.16221,.55557,-.83147,-0,.55557,-.83147,-0,.55557,-.81549,-.16221,.55557,-.75816,-.15081,.63439,-.77301,-0,.63439,-.77301,-0,.63439,-.75816,-.15081,.63439,-.69352,-.13795,.70711,-.70711,-0,.70711,-.70711,-0,.70711,-.69352,-.13795,.70711,-.6222,-.12376,.77301,-.63439,-0,.77301,-.63439,-0,.77301,-.6222,-.12376,.77301,-.54489,-.10839,.83147,-.55557,-0,.83147,-.55557,-0,.83147,-.54489,-.10839,.83147,-.46234,-.09196,.88192,-.4714,-0,.88192,-.4714,-0,.88192,-.46234,-.09196,.88192,-.37533,-.07466,.92388,-.38268,-0,.92388,-.38268,-0,.92388,-.37533,-.07466,.92388,-.28471,-.05663,.95694,-.29028,-0,.95694,-.29028,-0,.95694,-.28471,-.05663,.95694,-.19134,-.03806,.98079,-.19509,-0,.98079,-.19509,-0,.98079,-.19134,-.03806,.98079,-.09613,-.01912,.99518,-.09802,-0,.99518,-.09613,-.01912,.99518,0,0,1,-.09802,-0,.99518,-.09056,-.03751,.99518,0,0,1,-.09613,-.01912,.99518,-.19134,-.03806,.98079,-.18024,-.07466,.98079,-.09056,-.03751,.99518,-.09613,-.01912,.99518,-.28471,-.05663,.95694,-.26819,-.11109,.95694,-.18024,-.07466,.98079,-.19134,-.03806,.98079,-.37533,-.07466,.92388,-.35355,-.14645,.92388,-.26819,-.11109,.95694,-.28471,-.05663,.95694,-.46234,-.09196,.88192,-.43551,-.1804,.88192,-.35355,-.14645,.92388,-.37533,-.07466,.92388,-.54489,-.10839,.83147,-.51328,-.21261,.83147,-.43551,-.1804,.88192,-.46234,-.09196,.88192,-.6222,-.12376,.77301,-.5861,-.24277,.77301,-.51328,-.21261,.83147,-.54489,-.10839,.83147,-.69352,-.13795,.70711,-.65328,-.2706,.70711,-.5861,-.24277,.77301,-.6222,-.12376,.77301,-.75816,-.15081,.63439,-.71417,-.29582,.63439,-.65328,-.2706,.70711,-.69352,-.13795,.70711,-.81549,-.16221,.55557,-.76818,-.31819,.55557,-.71417,-.29582,.63439,-.75816,-.15081,.63439,-.86497,-.17205,.4714,-.81479,-.3375,.4714,-.76818,-.31819,.55557,-.81549,-.16221,.55557,-.90613,-.18024,.38268,-.85355,-.35355,.38268,-.81479,-.3375,.4714,-.86497,-.17205,.4714,-.93855,-.18669,.29028,-.8841,-.36621,.29028,-.85355,-.35355,.38268,-.90613,-.18024,.38268,-.96194,-.19134,.19509,-.90613,-.37533,.19509,-.8841,-.36621,.29028,-.93855,-.18669,.29028,-.97606,-.19415,.09802,-.91943,-.38084,.09802,-.90613,-.37533,.19509,-.96194,-.19134,.19509,-.98078,-.19509,-0,-.92388,-.38268,-0,-.91943,-.38084,.09802,-.97606,-.19415,.09802,-.97606,-.19415,-.09802,-.91943,-.38084,-.09802,-.92388,-.38268,-0,-.98078,-.19509,-0,-.96194,-.19134,-.19509,-.90613,-.37533,-.19509,-.91943,-.38084,-.09802,-.97606,-.19415,-.09802,-.93855,-.18669,-.29028,-.8841,-.36621,-.29028,-.90613,-.37533,-.19509,-.96194,-.19134,-.19509,-.90613,-.18024,-.38268,-.85355,-.35355,-.38268,-.8841,-.36621,-.29028,-.93855,-.18669,-.29028,-.86497,-.17205,-.4714,-.81479,-.3375,-.4714,-.85355,-.35355,-.38268,-.90613,-.18024,-.38268,-.81549,-.16221,-.55557,-.76818,-.31819,-.55557,-.81479,-.3375,-.4714,-.86497,-.17205,-.4714,-.75816,-.15081,-.63439,-.71417,-.29582,-.63439,-.76818,-.31819,-.55557,-.81549,-.16221,-.55557,-.69352,-.13795,-.70711,-.65328,-.2706,-.70711,-.71417,-.29582,-.63439,-.75816,-.15081,-.63439,-.6222,-.12376,-.77301,-.5861,-.24277,-.77301,-.65328,-.2706,-.70711,-.69352,-.13795,-.70711,-.54489,-.10839,-.83147,-.51328,-.21261,-.83147,-.5861,-.24277,-.77301,-.6222,-.12376,-.77301,-.46234,-.09196,-.88192,-.43551,-.1804,-.88192,-.51328,-.21261,-.83147,-.54489,-.10839,-.83147,-.37533,-.07466,-.92388,-.35355,-.14645,-.92388,-.43551,-.1804,-.88192,-.46234,-.09196,-.88192,-.28471,-.05663,-.95694,-.26819,-.11109,-.95694,-.35355,-.14645,-.92388,-.37533,-.07466,-.92388,-.19134,-.03806,-.98079,-.18024,-.07466,-.98079,-.26819,-.11109,-.95694,-.28471,-.05663,-.95694,-.09613,-.01912,-.99518,-.09056,-.03751,-.99518,-.18024,-.07466,-.98079,-.19134,-.03806,-.98079,-0,-0,-1,-.09056,-.03751,-.99518,-.09613,-.01912,-.99518,-0,-0,-1,-.0815,-.05445,-.99518,-.09056,-.03751,-.99518,-.09056,-.03751,-.99518,-.0815,-.05445,-.99518,-.16221,-.10839,-.98079,-.18024,-.07466,-.98079,-.18024,-.07466,-.98079,-.16221,-.10839,-.98079,-.24136,-.16127,-.95694,-.26819,-.11109,-.95694,-.26819,-.11109,-.95694,-.24136,-.16127,-.95694,-.31819,-.21261,-.92388,-.35355,-.14645,-.92388,-.35355,-.14645,-.92388,-.31819,-.21261,-.92388,-.39195,-.26189,-.88192,-.43551,-.1804,-.88192,-.43551,-.1804,-.88192,-.39195,-.26189,-.88192,-.46194,-.30866,-.83147,-.51328,-.21261,-.83147,-.51328,-.21261,-.83147,-.46194,-.30866,-.83147,-.52748,-.35245,-.77301,-.5861,-.24277,-.77301,-.5861,-.24277,-.77301,-.52748,-.35245,-.77301,-.58794,-.39285,-.70711,-.65328,-.2706,-.70711,-.65328,-.2706,-.70711,-.58794,-.39285,-.70711,-.64273,-.42946,-.63439,-.71417,-.29582,-.63439,-.71417,-.29582,-.63439,-.64273,-.42946,-.63439,-.69134,-.46194,-.55557,-.76818,-.31819,-.55557,-.76818,-.31819,-.55557,-.69134,-.46194,-.55557,-.73329,-.48997,-.4714,-.81479,-.3375,-.4714,-.81479,-.3375,-.4714,-.73329,-.48997,-.4714,-.76818,-.51328,-.38268,-.85355,-.35355,-.38268,-.85355,-.35355,-.38268,-.76818,-.51328,-.38268,-.79567,-.53165,-.29028,-.8841,-.36621,-.29028,-.8841,-.36621,-.29028,-.79567,-.53165,-.29028,-.81549,-.54489,-.19509,-.90613,-.37533,-.19509,-.90613,-.37533,-.19509,-.81549,-.54489,-.19509,-.82747,-.55289,-.09802,-.91943,-.38084,-.09802,-.91943,-.38084,-.09802,-.82747,-.55289,-.09802,-.83147,-.55557,-0,-.92388,-.38268,-0,-.92388,-.38268,-0,-.83147,-.55557,-0,-.82747,-.55289,.09802,-.91943,-.38084,.09802,-.91943,-.38084,.09802,-.82747,-.55289,.09802,-.81549,-.54489,.19509,-.90613,-.37533,.19509,-.90613,-.37533,.19509,-.81549,-.54489,.19509,-.79567,-.53165,.29028,-.8841,-.36621,.29028,-.8841,-.36621,.29028,-.79567,-.53165,.29028,-.76818,-.51328,.38268,-.85355,-.35355,.38268,-.85355,-.35355,.38268,-.76818,-.51328,.38268,-.73329,-.48997,.4714,-.81479,-.3375,.4714,-.81479,-.3375,.4714,-.73329,-.48997,.4714,-.69134,-.46194,.55557,-.76818,-.31819,.55557,-.76818,-.31819,.55557,-.69134,-.46194,.55557,-.64273,-.42946,.63439,-.71417,-.29582,.63439,-.71417,-.29582,.63439,-.64273,-.42946,.63439,-.58794,-.39285,.70711,-.65328,-.2706,.70711,-.65328,-.2706,.70711,-.58794,-.39285,.70711,-.52748,-.35245,.77301,-.5861,-.24277,.77301,-.5861,-.24277,.77301,-.52748,-.35245,.77301,-.46194,-.30866,.83147,-.51328,-.21261,.83147,-.51328,-.21261,.83147,-.46194,-.30866,.83147,-.39195,-.26189,.88192,-.43551,-.1804,.88192,-.43551,-.1804,.88192,-.39195,-.26189,.88192,-.31819,-.21261,.92388,-.35355,-.14645,.92388,-.35355,-.14645,.92388,-.31819,-.21261,.92388,-.24136,-.16127,.95694,-.26819,-.11109,.95694,-.26819,-.11109,.95694,-.24136,-.16127,.95694,-.16221,-.10839,.98079,-.18024,-.07466,.98079,-.18024,-.07466,.98079,-.16221,-.10839,.98079,-.0815,-.05446,.99518,-.09056,-.03751,.99518,-.0815,-.05446,.99518,0,0,1,-.09056,-.03751,.99518,-.06931,-.06931,.99518,0,0,1,-.0815,-.05446,.99518,-.16221,-.10839,.98079,-.13795,-.13795,.98079,-.06931,-.06931,.99518,-.0815,-.05446,.99518,-.24136,-.16127,.95694,-.20526,-.20526,.95694,-.13795,-.13795,.98079,-.16221,-.10839,.98079,-.31819,-.21261,.92388,-.2706,-.2706,.92388,-.20526,-.20526,.95694,-.24136,-.16127,.95694,-.39195,-.26189,.88192,-.33333,-.33333,.88192,-.2706,-.2706,.92388,-.31819,-.21261,.92388,-.46194,-.30866,.83147,-.39285,-.39285,.83147,-.33333,-.33333,.88192,-.39195,-.26189,.88192,-.52748,-.35245,.77301,-.44858,-.44858,.77301,-.39285,-.39285,.83147,-.46194,-.30866,.83147,-.58794,-.39285,.70711,-.5,-.5,.70711,-.44858,-.44858,.77301,-.52748,-.35245,.77301,-.64273,-.42946,.63439,-.5466,-.5466,.63439,-.5,-.5,.70711,-.58794,-.39285,.70711,-.69134,-.46194,.55557,-.58794,-.58794,.55557,-.5466,-.5466,.63439,-.64273,-.42946,.63439,-.73329,-.48997,.4714,-.62361,-.62361,.4714,-.58794,-.58794,.55557,-.69134,-.46194,.55557,-.76818,-.51328,.38268,-.65328,-.65328,.38268,-.62361,-.62361,.4714,-.73329,-.48997,.4714,-.79567,-.53165,.29028,-.67666,-.67666,.29028,-.65328,-.65328,.38268,-.76818,-.51328,.38268,-.81549,-.54489,.19509,-.69352,-.69352,.19509,-.67666,-.67666,.29028,-.79567,-.53165,.29028,-.82747,-.55289,.09802,-.7037,-.7037,.09802,-.69352,-.69352,.19509,-.81549,-.54489,.19509,-.83147,-.55557,-0,-.70711,-.70711,-0,-.7037,-.7037,.09802,-.82747,-.55289,.09802,-.82747,-.55289,-.09802,-.7037,-.7037,-.09802,-.70711,-.70711,-0,-.83147,-.55557,-0,-.81549,-.54489,-.19509,-.69352,-.69352,-.19509,-.7037,-.7037,-.09802,-.82747,-.55289,-.09802,-.79567,-.53165,-.29028,-.67666,-.67666,-.29028,-.69352,-.69352,-.19509,-.81549,-.54489,-.19509,-.76818,-.51328,-.38268,-.65328,-.65328,-.38268,-.67666,-.67666,-.29028,-.79567,-.53165,-.29028,-.73329,-.48997,-.4714,-.62361,-.62361,-.4714,-.65328,-.65328,-.38268,-.76818,-.51328,-.38268,-.69134,-.46194,-.55557,-.58794,-.58794,-.55557,-.62361,-.62361,-.4714,-.73329,-.48997,-.4714,-.64273,-.42946,-.63439,-.5466,-.5466,-.63439,-.58794,-.58794,-.55557,-.69134,-.46194,-.55557,-.58794,-.39285,-.70711,-.5,-.5,-.70711,-.5466,-.5466,-.63439,-.64273,-.42946,-.63439,-.52748,-.35245,-.77301,-.44858,-.44858,-.77301,-.5,-.5,-.70711,-.58794,-.39285,-.70711,-.46194,-.30866,-.83147,-.39285,-.39285,-.83147,-.44858,-.44858,-.77301,-.52748,-.35245,-.77301,-.39195,-.26189,-.88192,-.33333,-.33333,-.88192,-.39285,-.39285,-.83147,-.46194,-.30866,-.83147,-.31819,-.21261,-.92388,-.2706,-.2706,-.92388,-.33333,-.33333,-.88192,-.39195,-.26189,-.88192,-.24136,-.16127,-.95694,-.20526,-.20526,-.95694,-.2706,-.2706,-.92388,-.31819,-.21261,-.92388,-.16221,-.10839,-.98079,-.13795,-.13795,-.98079,-.20526,-.20526,-.95694,-.24136,-.16127,-.95694,-.0815,-.05445,-.99518,-.06931,-.06931,-.99518,-.13795,-.13795,-.98079,-.16221,-.10839,-.98079,-0,-0,-1,-.06931,-.06931,-.99518,-.0815,-.05445,-.99518,-0,-0,-1,-.05445,-.0815,-.99518,-.06931,-.06931,-.99518,-.06931,-.06931,-.99518,-.05445,-.0815,-.99518,-.10839,-.16221,-.98079,-.13795,-.13795,-.98079,-.13795,-.13795,-.98079,-.10839,-.16221,-.98079,-.16127,-.24136,-.95694,-.20526,-.20526,-.95694,-.20526,-.20526,-.95694,-.16127,-.24136,-.95694,-.21261,-.31819,-.92388,-.2706,-.2706,-.92388,-.2706,-.2706,-.92388,-.21261,-.31819,-.92388,-.26189,-.39195,-.88192,-.33333,-.33333,-.88192,-.33333,-.33333,-.88192,-.26189,-.39195,-.88192,-.30866,-.46194,-.83147,-.39285,-.39285,-.83147,-.39285,-.39285,-.83147,-.30866,-.46194,-.83147,-.35245,-.52748,-.77301,-.44858,-.44858,-.77301,-.44858,-.44858,-.77301,-.35245,-.52748,-.77301,-.39285,-.58794,-.70711,-.5,-.5,-.70711,-.5,-.5,-.70711,-.39285,-.58794,-.70711,-.42946,-.64273,-.63439,-.5466,-.5466,-.63439,-.5466,-.5466,-.63439,-.42946,-.64273,-.63439,-.46194,-.69134,-.55557,-.58794,-.58794,-.55557,-.58794,-.58794,-.55557,-.46194,-.69134,-.55557,-.48997,-.73329,-.4714,-.62361,-.62361,-.4714,-.62361,-.62361,-.4714,-.48997,-.73329,-.4714,-.51328,-.76818,-.38268,-.65328,-.65328,-.38268,-.65328,-.65328,-.38268,-.51328,-.76818,-.38268,-.53165,-.79567,-.29028,-.67666,-.67666,-.29028,-.67666,-.67666,-.29028,-.53165,-.79567,-.29028,-.54489,-.81549,-.19509,-.69352,-.69352,-.19509,-.69352,-.69352,-.19509,-.54489,-.81549,-.19509,-.55289,-.82747,-.09802,-.7037,-.7037,-.09802,-.7037,-.7037,-.09802,-.55289,-.82747,-.09802,-.55557,-.83147,-0,-.70711,-.70711,-0,-.70711,-.70711,-0,-.55557,-.83147,-0,-.55289,-.82747,.09802,-.7037,-.7037,.09802,-.7037,-.7037,.09802,-.55289,-.82747,.09802,-.54489,-.81549,.19509,-.69352,-.69352,.19509,-.69352,-.69352,.19509,-.54489,-.81549,.19509,-.53165,-.79567,.29028,-.67666,-.67666,.29028,-.67666,-.67666,.29028,-.53165,-.79567,.29028,-.51328,-.76818,.38268,-.65328,-.65328,.38268,-.65328,-.65328,.38268,-.51328,-.76818,.38268,-.48997,-.73329,.4714,-.62361,-.62361,.4714,-.62361,-.62361,.4714,-.48997,-.73329,.4714,-.46194,-.69134,.55557,-.58794,-.58794,.55557,-.58794,-.58794,.55557,-.46194,-.69134,.55557,-.42946,-.64273,.63439,-.5466,-.5466,.63439,-.5466,-.5466,.63439,-.42946,-.64273,.63439,-.39285,-.58794,.70711,-.5,-.5,.70711,-.5,-.5,.70711,-.39285,-.58794,.70711,-.35245,-.52748,.77301,-.44858,-.44858,.77301,-.44858,-.44858,.77301,-.35245,-.52748,.77301,-.30866,-.46194,.83147,-.39285,-.39285,.83147,-.39285,-.39285,.83147,-.30866,-.46194,.83147,-.26189,-.39195,.88192,-.33333,-.33333,.88192,-.33333,-.33333,.88192,-.26189,-.39195,.88192,-.21261,-.31819,.92388,-.2706,-.2706,.92388,-.2706,-.2706,.92388,-.21261,-.31819,.92388,-.16127,-.24136,.95694,-.20526,-.20526,.95694,-.20526,-.20526,.95694,-.16127,-.24136,.95694,-.10839,-.16221,.98079,-.13795,-.13795,.98079,-.13795,-.13795,.98079,-.10839,-.16221,.98079,-.05446,-.0815,.99518,-.06931,-.06931,.99518,-.05446,-.0815,.99518,0,0,1,-.06931,-.06931,.99518,-.03751,-.09056,.99518,0,0,1,-.05446,-.0815,.99518,-.10839,-.16221,.98079,-.07466,-.18024,.98079,-.03751,-.09056,.99518,-.05446,-.0815,.99518,-.16127,-.24136,.95694,-.11109,-.26819,.95694,-.07466,-.18024,.98079,-.10839,-.16221,.98079,-.21261,-.31819,.92388,-.14645,-.35355,.92388,-.11109,-.26819,.95694,-.16127,-.24136,.95694,-.26189,-.39195,.88192,-.1804,-.43551,.88192,-.14645,-.35355,.92388,-.21261,-.31819,.92388,-.30866,-.46194,.83147,-.21261,-.51328,.83147,-.1804,-.43551,.88192,-.26189,-.39195,.88192,-.35245,-.52748,.77301,-.24277,-.5861,.77301,-.21261,-.51328,.83147,-.30866,-.46194,.83147,-.39285,-.58794,.70711,-.2706,-.65328,.70711,-.24277,-.5861,.77301,-.35245,-.52748,.77301,-.42946,-.64273,.63439,-.29582,-.71417,.63439,-.2706,-.65328,.70711,-.39285,-.58794,.70711,-.46194,-.69134,.55557,-.31819,-.76818,.55557,-.29582,-.71417,.63439,-.42946,-.64273,.63439,-.48997,-.73329,.4714,-.3375,-.81479,.4714,-.31819,-.76818,.55557,-.46194,-.69134,.55557,-.51328,-.76818,.38268,-.35355,-.85355,.38268,-.3375,-.81479,.4714,-.48997,-.73329,.4714,-.53165,-.79567,.29028,-.3662,-.8841,.29028,-.35355,-.85355,.38268,-.51328,-.76818,.38268,-.54489,-.81549,.19509,-.37533,-.90613,.19509,-.3662,-.8841,.29028,-.53165,-.79567,.29028,-.55289,-.82747,.09802,-.38084,-.91943,.09802,-.37533,-.90613,.19509,-.54489,-.81549,.19509,-.55557,-.83147,-0,-.38268,-.92388,-0,-.38084,-.91943,.09802,-.55289,-.82747,.09802,-.55289,-.82747,-.09802,-.38084,-.91943,-.09802,-.38268,-.92388,-0,-.55557,-.83147,-0,-.54489,-.81549,-.19509,-.37533,-.90613,-.19509,-.38084,-.91943,-.09802,-.55289,-.82747,-.09802,-.53165,-.79567,-.29028,-.3662,-.8841,-.29028,-.37533,-.90613,-.19509,-.54489,-.81549,-.19509,-.51328,-.76818,-.38268,-.35355,-.85355,-.38268,-.3662,-.8841,-.29028,-.53165,-.79567,-.29028,-.48997,-.73329,-.4714,-.3375,-.81479,-.4714,-.35355,-.85355,-.38268,-.51328,-.76818,-.38268,-.46194,-.69134,-.55557,-.31819,-.76818,-.55557,-.3375,-.81479,-.4714,-.48997,-.73329,-.4714,-.42946,-.64273,-.63439,-.29582,-.71417,-.63439,-.31819,-.76818,-.55557,-.46194,-.69134,-.55557,-.39285,-.58794,-.70711,-.2706,-.65328,-.70711,-.29582,-.71417,-.63439,-.42946,-.64273,-.63439,-.35245,-.52748,-.77301,-.24277,-.5861,-.77301,-.2706,-.65328,-.70711,-.39285,-.58794,-.70711,-.30866,-.46194,-.83147,-.21261,-.51328,-.83147,-.24277,-.5861,-.77301,-.35245,-.52748,-.77301,-.26189,-.39195,-.88192,-.1804,-.43551,-.88192,-.21261,-.51328,-.83147,-.30866,-.46194,-.83147,-.21261,-.31819,-.92388,-.14645,-.35355,-.92388,-.1804,-.43551,-.88192,-.26189,-.39195,-.88192,-.16127,-.24136,-.95694,-.11109,-.26819,-.95694,-.14645,-.35355,-.92388,-.21261,-.31819,-.92388,-.10839,-.16221,-.98079,-.07466,-.18024,-.98079,-.11109,-.26819,-.95694,-.16127,-.24136,-.95694,-.05445,-.0815,-.99518,-.03751,-.09056,-.99518,-.07466,-.18024,-.98079,-.10839,-.16221,-.98079,-0,-0,-1,-.03751,-.09056,-.99518,-.05445,-.0815,-.99518,-0,-0,-1,-.01912,-.09613,-.99518,-.03751,-.09056,-.99518,-.03751,-.09056,-.99518,-.01912,-.09613,-.99518,-.03806,-.19134,-.98079,-.07466,-.18024,-.98079,-.07466,-.18024,-.98079,-.03806,-.19134,-.98079,-.05663,-.28471,-.95694,-.11109,-.26819,-.95694,-.11109,-.26819,-.95694,-.05663,-.28471,-.95694,-.07466,-.37533,-.92388,-.14645,-.35355,-.92388,-.14645,-.35355,-.92388,-.07466,-.37533,-.92388,-.09196,-.46234,-.88192,-.1804,-.43551,-.88192,-.1804,-.43551,-.88192,-.09196,-.46234,-.88192,-.10839,-.54489,-.83147,-.21261,-.51328,-.83147,-.21261,-.51328,-.83147,-.10839,-.54489,-.83147,-.12376,-.6222,-.77301,-.24277,-.5861,-.77301,-.24277,-.5861,-.77301,-.12376,-.6222,-.77301,-.13795,-.69352,-.70711,-.2706,-.65328,-.70711,-.2706,-.65328,-.70711,-.13795,-.69352,-.70711,-.15081,-.75816,-.63439,-.29582,-.71417,-.63439,-.29582,-.71417,-.63439,-.15081,-.75816,-.63439,-.16221,-.81549,-.55557,-.31819,-.76818,-.55557,-.31819,-.76818,-.55557,-.16221,-.81549,-.55557,-.17205,-.86497,-.4714,-.3375,-.81479,-.4714,-.3375,-.81479,-.4714,-.17205,-.86497,-.4714,-.18024,-.90613,-.38268,-.35355,-.85355,-.38268,-.35355,-.85355,-.38268,-.18024,-.90613,-.38268,-.18669,-.93855,-.29028,-.3662,-.8841,-.29028,-.3662,-.8841,-.29028,-.18669,-.93855,-.29028,-.19134,-.96194,-.19509,-.37533,-.90613,-.19509,-.37533,-.90613,-.19509,-.19134,-.96194,-.19509,-.19415,-.97606,-.09802,-.38084,-.91943,-.09802,-.38084,-.91943,-.09802,-.19415,-.97606,-.09802,-.19509,-.98078,-0,-.38268,-.92388,-0,-.38268,-.92388,-0,-.19509,-.98078,-0,-.19415,-.97606,.09802,-.38084,-.91943,.09802,-.38084,-.91943,.09802,-.19415,-.97606,.09802,-.19134,-.96194,.19509,-.37533,-.90613,.19509,-.37533,-.90613,.19509,-.19134,-.96194,.19509,-.18669,-.93855,.29028,-.3662,-.8841,.29028,-.3662,-.8841,.29028,-.18669,-.93855,.29028,-.18024,-.90613,.38268,-.35355,-.85355,.38268,-.35355,-.85355,.38268,-.18024,-.90613,.38268,-.17205,-.86497,.4714,-.3375,-.81479,.4714,-.3375,-.81479,.4714,-.17205,-.86497,.4714,-.16221,-.81549,.55557,-.31819,-.76818,.55557,-.31819,-.76818,.55557,-.16221,-.81549,.55557,-.15081,-.75816,.63439,-.29582,-.71417,.63439,-.29582,-.71417,.63439,-.15081,-.75816,.63439,-.13795,-.69352,.70711,-.2706,-.65328,.70711,-.2706,-.65328,.70711,-.13795,-.69352,.70711,-.12376,-.6222,.77301,-.24277,-.5861,.77301,-.24277,-.5861,.77301,-.12376,-.6222,.77301,-.10839,-.54489,.83147,-.21261,-.51328,.83147,-.21261,-.51328,.83147,-.10839,-.54489,.83147,-.09196,-.46234,.88192,-.1804,-.43551,.88192,-.1804,-.43551,.88192,-.09196,-.46234,.88192,-.07466,-.37533,.92388,-.14645,-.35355,.92388,-.14645,-.35355,.92388,-.07466,-.37533,.92388,-.05663,-.28471,.95694,-.11109,-.26819,.95694,-.11109,-.26819,.95694,-.05663,-.28471,.95694,-.03806,-.19134,.98079,-.07466,-.18024,.98079,-.07466,-.18024,.98079,-.03806,-.19134,.98079,-.01912,-.09613,.99518,-.03751,-.09056,.99518,-.01912,-.09613,.99518,0,0,1,-.03751,-.09056,.99518,0,-.09802,.99518,0,0,1,-.01912,-.09613,.99518,-.03806,-.19134,.98079,0,-.19509,.98079,0,-.09802,.99518,-.01912,-.09613,.99518,-.05663,-.28471,.95694,0,-.29028,.95694,0,-.19509,.98079,-.03806,-.19134,.98079,-.07466,-.37533,.92388,0,-.38268,.92388,0,-.29028,.95694,-.05663,-.28471,.95694,-.09196,-.46234,.88192,0,-.4714,.88192,0,-.38268,.92388,-.07466,-.37533,.92388,-.10839,-.54489,.83147,0,-.55557,.83147,0,-.4714,.88192,-.09196,-.46234,.88192,-.12376,-.6222,.77301,0,-.63439,.77301,0,-.55557,.83147,-.10839,-.54489,.83147,-.13795,-.69352,.70711,0,-.70711,.70711,0,-.63439,.77301,-.12376,-.6222,.77301,-.15081,-.75816,.63439,0,-.77301,.63439,0,-.70711,.70711,-.13795,-.69352,.70711,-.16221,-.81549,.55557,0,-.83147,.55557,0,-.77301,.63439,-.15081,-.75816,.63439,-.17205,-.86497,.4714,0,-.88192,.4714,0,-.83147,.55557,-.16221,-.81549,.55557,-.18024,-.90613,.38268,0,-.92388,.38268,0,-.88192,.4714,-.17205,-.86497,.4714,-.18669,-.93855,.29028,0,-.95694,.29028,0,-.92388,.38268,-.18024,-.90613,.38268,-.19134,-.96194,.19509,0,-.98078,.19509,0,-.95694,.29028,-.18669,-.93855,.29028,-.19415,-.97606,.09802,0,-.99518,.09802,0,-.98078,.19509,-.19134,-.96194,.19509,-.19509,-.98078,-0,0,-1,-0,0,-.99518,.09802,-.19415,-.97606,.09802,-.19415,-.97606,-.09802,0,-.99518,-.09802,0,-1,-0,-.19509,-.98078,-0,-.19134,-.96194,-.19509,0,-.98078,-.19509,0,-.99518,-.09802,-.19415,-.97606,-.09802,-.18669,-.93855,-.29028,0,-.95694,-.29028,0,-.98078,-.19509,-.19134,-.96194,-.19509,-.18024,-.90613,-.38268,0,-.92388,-.38268,0,-.95694,-.29028,-.18669,-.93855,-.29028,-.17205,-.86497,-.4714,0,-.88192,-.4714,0,-.92388,-.38268,-.18024,-.90613,-.38268,-.16221,-.81549,-.55557,0,-.83147,-.55557,0,-.88192,-.4714,-.17205,-.86497,-.4714,-.15081,-.75816,-.63439,0,-.77301,-.63439,0,-.83147,-.55557,-.16221,-.81549,-.55557,-.13795,-.69352,-.70711,0,-.70711,-.70711,0,-.77301,-.63439,-.15081,-.75816,-.63439,-.12376,-.6222,-.77301,0,-.63439,-.77301,0,-.70711,-.70711,-.13795,-.69352,-.70711,-.10839,-.54489,-.83147,0,-.55557,-.83147,0,-.63439,-.77301,-.12376,-.6222,-.77301,-.09196,-.46234,-.88192,0,-.4714,-.88192,0,-.55557,-.83147,-.10839,-.54489,-.83147,-.07466,-.37533,-.92388,0,-.38268,-.92388,0,-.4714,-.88192,-.09196,-.46234,-.88192,-.05663,-.28471,-.95694,0,-.29028,-.95694,0,-.38268,-.92388,-.07466,-.37533,-.92388,-.03806,-.19134,-.98079,0,-.19509,-.98079,0,-.29028,-.95694,-.05663,-.28471,-.95694,-.01912,-.09613,-.99518,0,-.09802,-.99518,0,-.19509,-.98079,-.03806,-.19134,-.98079,-0,-0,-1,0,-.09802,-.99518,-.01912,-.09613,-.99518,-0,-0,-1,.01912,-.09613,-.99518,0,-.09802,-.99518,0,-.09802,-.99518,.01912,-.09613,-.99518,.03806,-.19134,-.98079,0,-.19509,-.98079,0,-.19509,-.98079,.03806,-.19134,-.98079,.05663,-.28471,-.95694,0,-.29028,-.95694,0,-.29028,-.95694,.05663,-.28471,-.95694,.07466,-.37533,-.92388,0,-.38268,-.92388,0,-.38268,-.92388,.07466,-.37533,-.92388,.09196,-.46234,-.88192,0,-.4714,-.88192,0,-.4714,-.88192,.09196,-.46234,-.88192,.10839,-.54489,-.83147,0,-.55557,-.83147,0,-.55557,-.83147,.10839,-.54489,-.83147,.12376,-.6222,-.77301,0,-.63439,-.77301,0,-.63439,-.77301,.12376,-.6222,-.77301,.13795,-.69352,-.70711,0,-.70711,-.70711,0,-.70711,-.70711,.13795,-.69352,-.70711,.15081,-.75816,-.63439,0,-.77301,-.63439,0,-.77301,-.63439,.15081,-.75816,-.63439,.16221,-.81549,-.55557,0,-.83147,-.55557,0,-.83147,-.55557,.16221,-.81549,-.55557,.17205,-.86497,-.4714,0,-.88192,-.4714,0,-.88192,-.4714,.17205,-.86497,-.4714,.18024,-.90613,-.38268,0,-.92388,-.38268,0,-.92388,-.38268,.18024,-.90613,-.38268,.18669,-.93855,-.29028,0,-.95694,-.29028,0,-.95694,-.29028,.18669,-.93855,-.29028,.19134,-.96194,-.19509,0,-.98078,-.19509,0,-.98078,-.19509,.19134,-.96194,-.19509,.19415,-.97606,-.09802,0,-.99518,-.09802,0,-.99518,-.09802,.19415,-.97606,-.09802,.19509,-.98078,-0,0,-1,-0,0,-1,-0,.19509,-.98078,-0,.19415,-.97606,.09802,0,-.99518,.09802,0,-.99518,.09802,.19415,-.97606,.09802,.19134,-.96194,.19509,0,-.98078,.19509,0,-.98078,.19509,.19134,-.96194,.19509,.18669,-.93855,.29028,0,-.95694,.29028,0,-.95694,.29028,.18669,-.93855,.29028,.18024,-.90613,.38268,0,-.92388,.38268,0,-.92388,.38268,.18024,-.90613,.38268,.17205,-.86497,.4714,0,-.88192,.4714,0,-.88192,.4714,.17205,-.86497,.4714,.16221,-.81549,.55557,0,-.83147,.55557,0,-.83147,.55557,.16221,-.81549,.55557,.15081,-.75816,.63439,0,-.77301,.63439,0,-.77301,.63439,.15081,-.75816,.63439,.13795,-.69352,.70711,0,-.70711,.70711,0,-.70711,.70711,.13795,-.69352,.70711,.12376,-.6222,.77301,0,-.63439,.77301,0,-.63439,.77301,.12376,-.6222,.77301,.10839,-.54489,.83147,0,-.55557,.83147,0,-.55557,.83147,.10839,-.54489,.83147,.09196,-.46234,.88192,0,-.4714,.88192,0,-.4714,.88192,.09196,-.46234,.88192,.07466,-.37533,.92388,0,-.38268,.92388,0,-.38268,.92388,.07466,-.37533,.92388,.05663,-.28471,.95694,0,-.29028,.95694,0,-.29028,.95694,.05663,-.28471,.95694,.03806,-.19134,.98079,0,-.19509,.98079,0,-.19509,.98079,.03806,-.19134,.98079,.01912,-.09613,.99518,0,-.09802,.99518,.01912,-.09613,.99518,0,0,1,0,-.09802,.99518,.03751,-.09056,.99518,0,0,1,.01912,-.09613,.99518,.03806,-.19134,.98079,.07466,-.18024,.98079,.03751,-.09056,.99518,.01912,-.09613,.99518,.05663,-.28471,.95694,.11109,-.26819,.95694,.07466,-.18024,.98079,.03806,-.19134,.98079,.07466,-.37533,.92388,.14645,-.35355,.92388,.11109,-.26819,.95694,.05663,-.28471,.95694,.09196,-.46234,.88192,.1804,-.43551,.88192,.14645,-.35355,.92388,.07466,-.37533,.92388,.10839,-.54489,.83147,.21261,-.51328,.83147,.1804,-.43551,.88192,.09196,-.46234,.88192,.12376,-.6222,.77301,.24277,-.5861,.77301,.21261,-.51328,.83147,.10839,-.54489,.83147,.13795,-.69352,.70711,.2706,-.65328,.70711,.24277,-.5861,.77301,.12376,-.6222,.77301,.15081,-.75816,.63439,.29582,-.71417,.63439,.2706,-.65328,.70711,.13795,-.69352,.70711,.16221,-.81549,.55557,.31819,-.76818,.55557,.29582,-.71417,.63439,.15081,-.75816,.63439,.17205,-.86497,.4714,.3375,-.81479,.4714,.31819,-.76818,.55557,.16221,-.81549,.55557,.18024,-.90613,.38268,.35355,-.85355,.38268,.3375,-.81479,.4714,.17205,-.86497,.4714,.18669,-.93855,.29028,.36621,-.8841,.29028,.35355,-.85355,.38268,.18024,-.90613,.38268,.19134,-.96194,.19509,.37533,-.90613,.19509,.36621,-.8841,.29028,.18669,-.93855,.29028,.19415,-.97606,.09802,.38084,-.91943,.09802,.37533,-.90613,.19509,.19134,-.96194,.19509,.19509,-.98078,-0,.38268,-.92388,-0,.38084,-.91943,.09802,.19415,-.97606,.09802,.19415,-.97606,-.09802,.38084,-.91943,-.09802,.38268,-.92388,-0,.19509,-.98078,-0,.19134,-.96194,-.19509,.37533,-.90613,-.19509,.38084,-.91943,-.09802,.19415,-.97606,-.09802,.18669,-.93855,-.29028,.36621,-.8841,-.29028,.37533,-.90613,-.19509,.19134,-.96194,-.19509,.18024,-.90613,-.38268,.35355,-.85355,-.38268,.36621,-.8841,-.29028,.18669,-.93855,-.29028,.17205,-.86497,-.4714,.3375,-.81479,-.4714,.35355,-.85355,-.38268,.18024,-.90613,-.38268,.16221,-.81549,-.55557,.31819,-.76818,-.55557,.3375,-.81479,-.4714,.17205,-.86497,-.4714,.15081,-.75816,-.63439,.29582,-.71417,-.63439,.31819,-.76818,-.55557,.16221,-.81549,-.55557,.13795,-.69352,-.70711,.2706,-.65328,-.70711,.29582,-.71417,-.63439,.15081,-.75816,-.63439,.12376,-.6222,-.77301,.24277,-.5861,-.77301,.2706,-.65328,-.70711,.13795,-.69352,-.70711,.10839,-.54489,-.83147,.21261,-.51328,-.83147,.24277,-.5861,-.77301,.12376,-.6222,-.77301,.09196,-.46234,-.88192,.1804,-.43551,-.88192,.21261,-.51328,-.83147,.10839,-.54489,-.83147,.07466,-.37533,-.92388,.14645,-.35355,-.92388,.1804,-.43551,-.88192,.09196,-.46234,-.88192,.05663,-.28471,-.95694,.11109,-.26819,-.95694,.14645,-.35355,-.92388,.07466,-.37533,-.92388,.03806,-.19134,-.98079,.07466,-.18024,-.98079,.11109,-.26819,-.95694,.05663,-.28471,-.95694,.01912,-.09613,-.99518,.03751,-.09056,-.99518,.07466,-.18024,-.98079,.03806,-.19134,-.98079,-0,-0,-1,.03751,-.09056,-.99518,.01912,-.09613,-.99518,-0,-0,-1,.05445,-.0815,-.99518,.03751,-.09056,-.99518,.03751,-.09056,-.99518,.05445,-.0815,-.99518,.10839,-.16221,-.98079,.07466,-.18024,-.98079,.07466,-.18024,-.98079,.10839,-.16221,-.98079,.16127,-.24136,-.95694,.11109,-.26819,-.95694,.11109,-.26819,-.95694,.16127,-.24136,-.95694,.21261,-.31819,-.92388,.14645,-.35355,-.92388,.14645,-.35355,-.92388,.21261,-.31819,-.92388,.26189,-.39195,-.88192,.1804,-.43551,-.88192,.1804,-.43551,-.88192,.26189,-.39195,-.88192,.30866,-.46194,-.83147,.21261,-.51328,-.83147,.21261,-.51328,-.83147,.30866,-.46194,-.83147,.35245,-.52748,-.77301,.24277,-.5861,-.77301,.24277,-.5861,-.77301,.35245,-.52748,-.77301,.39285,-.58794,-.70711,.2706,-.65328,-.70711,.2706,-.65328,-.70711,.39285,-.58794,-.70711,.42946,-.64273,-.63439,.29582,-.71417,-.63439,.29582,-.71417,-.63439,.42946,-.64273,-.63439,.46194,-.69134,-.55557,.31819,-.76818,-.55557,.31819,-.76818,-.55557,.46194,-.69134,-.55557,.48997,-.73329,-.4714,.3375,-.81479,-.4714,.3375,-.81479,-.4714,.48997,-.73329,-.4714,.51328,-.76818,-.38268,.35355,-.85355,-.38268,.35355,-.85355,-.38268,.51328,-.76818,-.38268,.53165,-.79567,-.29028,.36621,-.8841,-.29028,.36621,-.8841,-.29028,.53165,-.79567,-.29028,.54489,-.81549,-.19509,.37533,-.90613,-.19509,.37533,-.90613,-.19509,.54489,-.81549,-.19509,.55289,-.82747,-.09802,.38084,-.91943,-.09802,.38084,-.91943,-.09802,.55289,-.82747,-.09802,.55557,-.83147,-0,.38268,-.92388,-0,.38268,-.92388,-0,.55557,-.83147,-0,.55289,-.82747,.09802,.38084,-.91943,.09802,.38084,-.91943,.09802,.55289,-.82747,.09802,.54489,-.81549,.19509,.37533,-.90613,.19509,.37533,-.90613,.19509,.54489,-.81549,.19509,.53165,-.79567,.29028,.36621,-.8841,.29028,.36621,-.8841,.29028,.53165,-.79567,.29028,.51328,-.76818,.38268,.35355,-.85355,.38268,.35355,-.85355,.38268,.51328,-.76818,.38268,.48997,-.73329,.4714,.3375,-.81479,.4714,.3375,-.81479,.4714,.48997,-.73329,.4714,.46194,-.69134,.55557,.31819,-.76818,.55557,.31819,-.76818,.55557,.46194,-.69134,.55557,.42946,-.64273,.63439,.29582,-.71417,.63439,.29582,-.71417,.63439,.42946,-.64273,.63439,.39285,-.58794,.70711,.2706,-.65328,.70711,.2706,-.65328,.70711,.39285,-.58794,.70711,.35245,-.52748,.77301,.24277,-.5861,.77301,.24277,-.5861,.77301,.35245,-.52748,.77301,.30866,-.46194,.83147,.21261,-.51328,.83147,.21261,-.51328,.83147,.30866,-.46194,.83147,.26189,-.39195,.88192,.1804,-.43551,.88192,.1804,-.43551,.88192,.26189,-.39195,.88192,.21261,-.31819,.92388,.14645,-.35355,.92388,.14645,-.35355,.92388,.21261,-.31819,.92388,.16127,-.24136,.95694,.11109,-.26819,.95694,.11109,-.26819,.95694,.16127,-.24136,.95694,.10839,-.16221,.98079,.07466,-.18024,.98079,.07466,-.18024,.98079,.10839,-.16221,.98079,.05446,-.0815,.99518,.03751,-.09056,.99518,.05446,-.0815,.99518,0,0,1,.03751,-.09056,.99518,.06931,-.06931,.99518,0,0,1,.05446,-.0815,.99518,.10839,-.16221,.98079,.13795,-.13795,.98079,.06931,-.06931,.99518,.05446,-.0815,.99518,.16127,-.24136,.95694,.20526,-.20526,.95694,.13795,-.13795,.98079,.10839,-.16221,.98079,.21261,-.31819,.92388,.2706,-.2706,.92388,.20526,-.20526,.95694,.16127,-.24136,.95694,.26189,-.39195,.88192,.33333,-.33333,.88192,.2706,-.2706,.92388,.21261,-.31819,.92388,.30866,-.46194,.83147,.39285,-.39285,.83147,.33333,-.33333,.88192,.26189,-.39195,.88192,.35245,-.52748,.77301,.44858,-.44858,.77301,.39285,-.39285,.83147,.30866,-.46194,.83147,.39285,-.58794,.70711,.5,-.5,.70711,.44858,-.44858,.77301,.35245,-.52748,.77301,.42946,-.64273,.63439,.5466,-.5466,.63439,.5,-.5,.70711,.39285,-.58794,.70711,.46194,-.69134,.55557,.58794,-.58794,.55557,.5466,-.5466,.63439,.42946,-.64273,.63439,.48997,-.73329,.4714,.62361,-.62361,.4714,.58794,-.58794,.55557,.46194,-.69134,.55557,.51328,-.76818,.38268,.65328,-.65328,.38268,.62361,-.62361,.4714,.48997,-.73329,.4714,.53165,-.79567,.29028,.67666,-.67666,.29028,.65328,-.65328,.38268,.51328,-.76818,.38268,.54489,-.81549,.19509,.69352,-.69352,.19509,.67666,-.67666,.29028,.53165,-.79567,.29028,.55289,-.82747,.09802,.7037,-.7037,.09802,.69352,-.69352,.19509,.54489,-.81549,.19509,.55557,-.83147,-0,.70711,-.70711,-0,.7037,-.7037,.09802,.55289,-.82747,.09802,.55289,-.82747,-.09802,.7037,-.7037,-.09802,.70711,-.70711,-0,.55557,-.83147,-0,.54489,-.81549,-.19509,.69352,-.69352,-.19509,.7037,-.7037,-.09802,.55289,-.82747,-.09802,.53165,-.79567,-.29028,.67666,-.67666,-.29028,.69352,-.69352,-.19509,.54489,-.81549,-.19509,.51328,-.76818,-.38268,.65328,-.65328,-.38268,.67666,-.67666,-.29028,.53165,-.79567,-.29028,.48997,-.73329,-.4714,.62361,-.62361,-.4714,.65328,-.65328,-.38268,.51328,-.76818,-.38268,.46194,-.69134,-.55557,.58794,-.58794,-.55557,.62361,-.62361,-.4714,.48997,-.73329,-.4714,.42946,-.64273,-.63439,.5466,-.5466,-.63439,.58794,-.58794,-.55557,.46194,-.69134,-.55557,.39285,-.58794,-.70711,.5,-.5,-.70711,.5466,-.5466,-.63439,.42946,-.64273,-.63439,.35245,-.52748,-.77301,.44858,-.44858,-.77301,.5,-.5,-.70711,.39285,-.58794,-.70711,.30866,-.46194,-.83147,.39285,-.39285,-.83147,.44858,-.44858,-.77301,.35245,-.52748,-.77301,.26189,-.39195,-.88192,.33333,-.33333,-.88192,.39285,-.39285,-.83147,.30866,-.46194,-.83147,.21261,-.31819,-.92388,.2706,-.2706,-.92388,.33333,-.33333,-.88192,.26189,-.39195,-.88192,.16127,-.24136,-.95694,.20526,-.20526,-.95694,.2706,-.2706,-.92388,.21261,-.31819,-.92388,.10839,-.16221,-.98079,.13795,-.13795,-.98079,.20526,-.20526,-.95694,.16127,-.24136,-.95694,.05445,-.0815,-.99518,.06931,-.06931,-.99518,.13795,-.13795,-.98079,.10839,-.16221,-.98079,-0,-0,-1,.06931,-.06931,-.99518,.05445,-.0815,-.99518,-0,-0,-1,.0815,-.05445,-.99518,.06931,-.06931,-.99518,.06931,-.06931,-.99518,.0815,-.05445,-.99518,.16221,-.10839,-.98079,.13795,-.13795,-.98079,.13795,-.13795,-.98079,.16221,-.10839,-.98079,.24136,-.16127,-.95694,.20526,-.20526,-.95694,.20526,-.20526,-.95694,.24136,-.16127,-.95694,.31819,-.21261,-.92388,.2706,-.2706,-.92388,.2706,-.2706,-.92388,.31819,-.21261,-.92388,.39195,-.26189,-.88192,.33333,-.33333,-.88192,.33333,-.33333,-.88192,.39195,-.26189,-.88192,.46194,-.30866,-.83147,.39285,-.39285,-.83147,.39285,-.39285,-.83147,.46194,-.30866,-.83147,.52748,-.35245,-.77301,.44858,-.44858,-.77301,.44858,-.44858,-.77301,.52748,-.35245,-.77301,.58794,-.39285,-.70711,.5,-.5,-.70711,.5,-.5,-.70711,.58794,-.39285,-.70711,.64273,-.42946,-.63439,.5466,-.5466,-.63439,.5466,-.5466,-.63439,.64273,-.42946,-.63439,.69134,-.46194,-.55557,.58794,-.58794,-.55557,.58794,-.58794,-.55557,.69134,-.46194,-.55557,.73329,-.48997,-.4714,.62361,-.62361,-.4714,.62361,-.62361,-.4714,.73329,-.48997,-.4714,.76818,-.51328,-.38268,.65328,-.65328,-.38268,.65328,-.65328,-.38268,.76818,-.51328,-.38268,.79567,-.53165,-.29028,.67666,-.67666,-.29028,.67666,-.67666,-.29028,.79567,-.53165,-.29028,.81549,-.54489,-.19509,.69352,-.69352,-.19509,.69352,-.69352,-.19509,.81549,-.54489,-.19509,.82747,-.55289,-.09802,.7037,-.7037,-.09802,.7037,-.7037,-.09802,.82747,-.55289,-.09802,.83147,-.55557,-0,.70711,-.70711,-0,.70711,-.70711,-0,.83147,-.55557,-0,.82747,-.55289,.09802,.7037,-.7037,.09802,.7037,-.7037,.09802,.82747,-.55289,.09802,.81549,-.54489,.19509,.69352,-.69352,.19509,.69352,-.69352,.19509,.81549,-.54489,.19509,.79567,-.53165,.29028,.67666,-.67666,.29028,.67666,-.67666,.29028,.79567,-.53165,.29028,.76818,-.51328,.38268,.65328,-.65328,.38268,.65328,-.65328,.38268,.76818,-.51328,.38268,.73329,-.48997,.4714,.62361,-.62361,.4714,.62361,-.62361,.4714,.73329,-.48997,.4714,.69134,-.46194,.55557,.58794,-.58794,.55557,.58794,-.58794,.55557,.69134,-.46194,.55557,.64273,-.42946,.63439,.5466,-.5466,.63439,.5466,-.5466,.63439,.64273,-.42946,.63439,.58794,-.39285,.70711,.5,-.5,.70711,.5,-.5,.70711,.58794,-.39285,.70711,.52748,-.35245,.77301,.44858,-.44858,.77301,.44858,-.44858,.77301,.52748,-.35245,.77301,.46194,-.30866,.83147,.39285,-.39285,.83147,.39285,-.39285,.83147,.46194,-.30866,.83147,.39195,-.26189,.88192,.33333,-.33333,.88192,.33333,-.33333,.88192,.39195,-.26189,.88192,.31819,-.21261,.92388,.2706,-.2706,.92388,.2706,-.2706,.92388,.31819,-.21261,.92388,.24136,-.16127,.95694,.20526,-.20526,.95694,.20526,-.20526,.95694,.24136,-.16127,.95694,.16221,-.10839,.98079,.13795,-.13795,.98079,.13795,-.13795,.98079,.16221,-.10839,.98079,.0815,-.05446,.99518,.06931,-.06931,.99518,.0815,-.05446,.99518,0,0,1,.06931,-.06931,.99518,.09056,-.03751,.99518,0,0,1,.0815,-.05446,.99518,.16221,-.10839,.98079,.18024,-.07466,.98079,.09056,-.03751,.99518,.0815,-.05446,.99518,.24136,-.16127,.95694,.26819,-.11109,.95694,.18024,-.07466,.98079,.16221,-.10839,.98079,.31819,-.21261,.92388,.35355,-.14645,.92388,.26819,-.11109,.95694,.24136,-.16127,.95694,.39195,-.26189,.88192,.43551,-.1804,.88192,.35355,-.14645,.92388,.31819,-.21261,.92388,.46194,-.30866,.83147,.51328,-.21261,.83147,.43551,-.1804,.88192,.39195,-.26189,.88192,.52748,-.35245,.77301,.5861,-.24277,.77301,.51328,-.21261,.83147,.46194,-.30866,.83147,.58794,-.39285,.70711,.65328,-.2706,.70711,.5861,-.24277,.77301,.52748,-.35245,.77301,.64273,-.42946,.63439,.71417,-.29582,.63439,.65328,-.2706,.70711,.58794,-.39285,.70711,.69134,-.46194,.55557,.76818,-.31819,.55557,.71417,-.29582,.63439,.64273,-.42946,.63439,.73329,-.48997,.4714,.81479,-.3375,.4714,.76818,-.31819,.55557,.69134,-.46194,.55557,.76818,-.51328,.38268,.85355,-.35355,.38268,.81479,-.3375,.4714,.73329,-.48997,.4714,.79567,-.53165,.29028,.8841,-.3662,.29028,.85355,-.35355,.38268,.76818,-.51328,.38268,.81549,-.54489,.19509,.90613,-.37533,.19509,.8841,-.3662,.29028,.79567,-.53165,.29028,.82747,-.55289,.09802,.91943,-.38084,.09802,.90613,-.37533,.19509,.81549,-.54489,.19509,.83147,-.55557,-0,.92388,-.38268,-0,.91943,-.38084,.09802,.82747,-.55289,.09802,.82747,-.55289,-.09802,.91943,-.38084,-.09802,.92388,-.38268,-0,.83147,-.55557,-0,.81549,-.54489,-.19509,.90613,-.37533,-.19509,.91943,-.38084,-.09802,.82747,-.55289,-.09802,.79567,-.53165,-.29028,.8841,-.3662,-.29028,.90613,-.37533,-.19509,.81549,-.54489,-.19509,.76818,-.51328,-.38268,.85355,-.35355,-.38268,.8841,-.3662,-.29028,.79567,-.53165,-.29028,.73329,-.48997,-.4714,.81479,-.3375,-.4714,.85355,-.35355,-.38268,.76818,-.51328,-.38268,.69134,-.46194,-.55557,.76818,-.31819,-.55557,.81479,-.3375,-.4714,.73329,-.48997,-.4714,.64273,-.42946,-.63439,.71417,-.29582,-.63439,.76818,-.31819,-.55557,.69134,-.46194,-.55557,.58794,-.39285,-.70711,.65328,-.2706,-.70711,.71417,-.29582,-.63439,.64273,-.42946,-.63439,.52748,-.35245,-.77301,.5861,-.24277,-.77301,.65328,-.2706,-.70711,.58794,-.39285,-.70711,.46194,-.30866,-.83147,.51328,-.21261,-.83147,.5861,-.24277,-.77301,.52748,-.35245,-.77301,.39195,-.26189,-.88192,.43551,-.1804,-.88192,.51328,-.21261,-.83147,.46194,-.30866,-.83147,.31819,-.21261,-.92388,.35355,-.14645,-.92388,.43551,-.1804,-.88192,.39195,-.26189,-.88192,.24136,-.16127,-.95694,.26819,-.11109,-.95694,.35355,-.14645,-.92388,.31819,-.21261,-.92388,.16221,-.10839,-.98079,.18024,-.07466,-.98079,.26819,-.11109,-.95694,.24136,-.16127,-.95694,.0815,-.05445,-.99518,.09056,-.03751,-.99518,.18024,-.07466,-.98079,.16221,-.10839,-.98079,-0,-0,-1,.09056,-.03751,-.99518,.0815,-.05445,-.99518,-0,-0,-1,.09613,-.01912,-.99518,.09056,-.03751,-.99518,.09056,-.03751,-.99518,.09613,-.01912,-.99518,.19134,-.03806,-.98079,.18024,-.07466,-.98079,.18024,-.07466,-.98079,.19134,-.03806,-.98079,.28471,-.05663,-.95694,.26819,-.11109,-.95694,.26819,-.11109,-.95694,.28471,-.05663,-.95694,.37533,-.07466,-.92388,.35355,-.14645,-.92388,.35355,-.14645,-.92388,.37533,-.07466,-.92388,.46234,-.09196,-.88192,.43551,-.1804,-.88192,.43551,-.1804,-.88192,.46234,-.09196,-.88192,.54489,-.10839,-.83147,.51328,-.21261,-.83147,.51328,-.21261,-.83147,.54489,-.10839,-.83147,.6222,-.12376,-.77301,.5861,-.24277,-.77301,.5861,-.24277,-.77301,.6222,-.12376,-.77301,.69352,-.13795,-.70711,.65328,-.2706,-.70711,.65328,-.2706,-.70711,.69352,-.13795,-.70711,.75816,-.15081,-.63439,.71417,-.29582,-.63439,.71417,-.29582,-.63439,.75816,-.15081,-.63439,.81549,-.16221,-.55557,.76818,-.31819,-.55557,.76818,-.31819,-.55557,.81549,-.16221,-.55557,.86497,-.17205,-.4714,.81479,-.3375,-.4714,.81479,-.3375,-.4714,.86497,-.17205,-.4714,.90613,-.18024,-.38268,.85355,-.35355,-.38268,.85355,-.35355,-.38268,.90613,-.18024,-.38268,.93855,-.18669,-.29028,.8841,-.3662,-.29028,.8841,-.3662,-.29028,.93855,-.18669,-.29028,.96194,-.19134,-.19509,.90613,-.37533,-.19509,.90613,-.37533,-.19509,.96194,-.19134,-.19509,.97606,-.19415,-.09802,.91943,-.38084,-.09802,.91943,-.38084,-.09802,.97606,-.19415,-.09802,.98078,-.19509,-0,.92388,-.38268,-0,.92388,-.38268,-0,.98078,-.19509,-0,.97606,-.19415,.09802,.91943,-.38084,.09802,.91943,-.38084,.09802,.97606,-.19415,.09802,.96194,-.19134,.19509,.90613,-.37533,.19509,.90613,-.37533,.19509,.96194,-.19134,.19509,.93855,-.18669,.29028,.8841,-.3662,.29028,.8841,-.3662,.29028,.93855,-.18669,.29028,.90613,-.18024,.38268,.85355,-.35355,.38268,.85355,-.35355,.38268,.90613,-.18024,.38268,.86497,-.17205,.4714,.81479,-.3375,.4714,.81479,-.3375,.4714,.86497,-.17205,.4714,.81549,-.16221,.55557,.76818,-.31819,.55557,.76818,-.31819,.55557,.81549,-.16221,.55557,.75816,-.15081,.63439,.71417,-.29582,.63439,.71417,-.29582,.63439,.75816,-.15081,.63439,.69352,-.13795,.70711,.65328,-.2706,.70711,.65328,-.2706,.70711,.69352,-.13795,.70711,.6222,-.12376,.77301,.5861,-.24277,.77301,.5861,-.24277,.77301,.6222,-.12376,.77301,.54489,-.10839,.83147,.51328,-.21261,.83147,.51328,-.21261,.83147,.54489,-.10839,.83147,.46234,-.09196,.88192,.43551,-.1804,.88192,.43551,-.1804,.88192,.46234,-.09196,.88192,.37533,-.07466,.92388,.35355,-.14645,.92388,.35355,-.14645,.92388,.37533,-.07466,.92388,.28471,-.05663,.95694,.26819,-.11109,.95694,.26819,-.11109,.95694,.28471,-.05663,.95694,.19134,-.03806,.98079,.18024,-.07466,.98079,.18024,-.07466,.98079,.19134,-.03806,.98079,.09613,-.01912,.99518,.09056,-.03751,.99518,.09613,-.01912,.99518,0,0,1,.09056,-.03751,.99518,.09802,0,.99518,0,0,1,.09613,-.01912,.99518,.19134,-.03806,.98079,.19509,0,.98079,.09802,0,.99518,.09613,-.01912,.99518,.28471,-.05663,.95694,.29028,0,.95694,.19509,0,.98079,.19134,-.03806,.98079,.37533,-.07466,.92388,.38268,0,.92388,.29028,0,.95694,.28471,-.05663,.95694,.46234,-.09196,.88192,.4714,0,.88192,.38268,0,.92388,.37533,-.07466,.92388,.54489,-.10839,.83147,.55557,0,.83147,.4714,0,.88192,.46234,-.09196,.88192,.6222,-.12376,.77301,.63439,0,.77301,.55557,0,.83147,.54489,-.10839,.83147,.69352,-.13795,.70711,.70711,0,.70711,.63439,0,.77301,.6222,-.12376,.77301,.75816,-.15081,.63439,.77301,0,.63439,.70711,0,.70711,.69352,-.13795,.70711,.81549,-.16221,.55557,.83147,0,.55557,.77301,0,.63439,.75816,-.15081,.63439,.86497,-.17205,.4714,.88192,0,.4714,.83147,0,.55557,.81549,-.16221,.55557,.90613,-.18024,.38268,.92388,0,.38268,.88192,0,.4714,.86497,-.17205,.4714,.93855,-.18669,.29028,.95694,0,.29028,.92388,0,.38268,.90613,-.18024,.38268,.96194,-.19134,.19509,.98078,0,.19509,.95694,0,.29028,.93855,-.18669,.29028,.97606,-.19415,.09802,.99518,0,.09802,.98078,0,.19509,.96194,-.19134,.19509,.98078,-.19509,-0,1,0,-0,.99518,0,.09802,.97606,-.19415,.09802,.97606,-.19415,-.09802,.99518,0,-.09802,1,0,-0,.98078,-.19509,-0,.96194,-.19134,-.19509,.98078,0,-.19509,.99518,0,-.09802,.97606,-.19415,-.09802,.93855,-.18669,-.29028,.95694,0,-.29028,.98078,0,-.19509,.96194,-.19134,-.19509,.90613,-.18024,-.38268,.92388,0,-.38268,.95694,0,-.29028,.93855,-.18669,-.29028,.86497,-.17205,-.4714,.88192,0,-.4714,.92388,0,-.38268,.90613,-.18024,-.38268,.81549,-.16221,-.55557,.83147,0,-.55557,.88192,0,-.4714,.86497,-.17205,-.4714,.75816,-.15081,-.63439,.77301,0,-.63439,.83147,0,-.55557,.81549,-.16221,-.55557,.69352,-.13795,-.70711,.70711,0,-.70711,.77301,0,-.63439,.75816,-.15081,-.63439,.6222,-.12376,-.77301,.63439,0,-.77301,.70711,0,-.70711,.69352,-.13795,-.70711,.54489,-.10839,-.83147,.55557,0,-.83147,.63439,0,-.77301,.6222,-.12376,-.77301,.46234,-.09196,-.88192,.4714,0,-.88192,.55557,0,-.83147,.54489,-.10839,-.83147,.37533,-.07466,-.92388,.38268,0,-.92388,.4714,0,-.88192,.46234,-.09196,-.88192,.28471,-.05663,-.95694,.29028,0,-.95694,.38268,0,-.92388,.37533,-.07466,-.92388,.19134,-.03806,-.98079,.19509,0,-.98079,.29028,0,-.95694,.28471,-.05663,-.95694,.09613,-.01912,-.99518,.09802,0,-.99518,.19509,0,-.98079,.19134,-.03806,-.98079,-0,-0,-1,.09802,0,-.99518,.09613,-.01912,-.99518],
itemSize:3,type:"ARRAY_BUFFER"}},name:"Sphere",primitives:[{indices:{elements:[0,1,2,123,124,125,126,127,128,249,250,251,252,253,254,375,376,377,378,379,380,501,502,503,504,505,506,627,628,629,630,631,632,753,754,755,756,757,758,879,880,881,882,883,884,1005,1006,1007,1008,1009,1010,1131,1132,1133,1134,1135,1136,1257,1258,1259,1260,1261,1262,1383,1384,1385,1386,1387,1388,1509,1510,1511,1512,1513,1514,1635,1636,1637,1638,1639,1640,1761,1762,1763,1764,1765,1766,1887,1888,1889,1890,1891,1892,2013,2014,2015,2016,2017,2018,2139,2140,2141,2142,2143,2144,2265,2266,2267,2268,2269,2270,2391,2392,2393,2394,2395,2396,2517,2518,2519,2520,2521,2522,2643,2644,2645,2646,2647,2648,2769,2770,2771,2772,2773,2774,2895,2896,2897,2898,2899,2900,3021,3022,3023,3024,3025,3026,3147,3148,3149,3150,3151,3152,3273,3274,3275,3276,3277,3278,3399,3400,3401,3402,3403,3404,3525,3526,3527,3528,3529,3530,3651,3652,3653,3654,3655,3656,3777,3778,3779,3780,3781,3782,3903,3904,3905,3906,3907,3908,4029,4030,4031],itemSize:1,type:"ELEMENT_ARRAY_BUFFER"},mode:"TRIANGLES"},{indices:{elements:[3,4,6,4,5,6,7,8,10,8,9,10,11,12,14,12,13,14,15,16,18,16,17,18,19,20,22,20,21,22,23,24,26,24,25,26,27,28,30,28,29,30,31,32,34,32,33,34,35,36,38,36,37,38,39,40,42,40,41,42,43,44,46,44,45,46,47,48,50,48,49,50,51,52,54,52,53,54,55,56,58,56,57,58,59,60,62,60,61,62,63,64,66,64,65,66,67,68,70,68,69,70,71,72,74,72,73,74,75,76,78,76,77,78,79,80,82,80,81,82,83,84,86,84,85,86,87,88,90,88,89,90,91,92,94,92,93,94,95,96,98,96,97,98,99,100,102,100,101,102,103,104,106,104,105,106,107,108,110,108,109,110,111,112,114,112,113,114,115,116,118,116,117,118,119,120,122,120,121,122,129,130,132,130,131,132,133,134,136,134,135,136,137,138,140,138,139,140,141,142,144,142,143,144,145,146,148,146,147,148,149,150,152,150,151,152,153,154,156,154,155,156,157,158,160,158,159,160,161,162,164,162,163,164,165,166,168,166,167,168,169,170,172,170,171,172,173,174,176,174,175,176,177,178,180,178,179,180,181,182,184,182,183,184,185,186,188,186,187,188,189,190,192,190,191,192,193,194,196,194,195,196,197,198,200,198,199,200,201,202,204,202,203,204,205,206,208,206,207,208,209,210,212,210,211,212,213,214,216,214,215,216,217,218,220,218,219,220,221,222,224,222,223,224,225,226,228,226,227,228,229,230,232,230,231,232,233,234,236,234,235,236,237,238,240,238,239,240,241,242,244,242,243,244,245,246,248,246,247,248,255,256,258,256,257,258,259,260,262,260,261,262,263,264,266,264,265,266,267,268,270,268,269,270,271,272,274,272,273,274,275,276,278,276,277,278,279,280,282,280,281,282,283,284,286,284,285,286,287,288,290,288,289,290,291,292,294,292,293,294,295,296,298,296,297,298,299,300,302,300,301,302,303,304,306,304,305,306,307,308,310,308,309,310,311,312,314,312,313,314,315,316,318,316,317,318,319,320,322,320,321,322,323,324,326,324,325,326,327,328,330,328,329,330,331,332,334,332,333,334,335,336,338,336,337,338,339,340,342,340,341,342,343,344,346,344,345,346,347,348,350,348,349,350,351,352,354,352,353,354,355,356,358,356,357,358,359,360,362,360,361,362,363,364,366,364,365,366,367,368,370,368,369,370,371,372,374,372,373,374,381,382,384,382,383,384,385,386,388,386,387,388,389,390,392,390,391,392,393,394,396,394,395,396,397,398,400,398,399,400,401,402,404,402,403,404,405,406,408,406,407,408,409,410,412,410,411,412,413,414,416,414,415,416,417,418,420,418,419,420,421,422,424,422,423,424,425,426,428,426,427,428,429,430,432,430,431,432,433,434,436,434,435,436,437,438,440,438,439,440,441,442,444,442,443,444,445,446,448,446,447,448,449,450,452,450,451,452,453,454,456,454,455,456,457,458,460,458,459,460,461,462,464,462,463,464,465,466,468,466,467,468,469,470,472,470,471,472,473,474,476,474,475,476,477,478,480,478,479,480,481,482,484,482,483,484,485,486,488,486,487,488,489,490,492,490,491,492,493,494,496,494,495,496,497,498,500,498,499,500,507,508,510,508,509,510,511,512,514,512,513,514,515,516,518,516,517,518,519,520,522,520,521,522,523,524,526,524,525,526,527,528,530,528,529,530,531,532,534,532,533,534,535,536,538,536,537,538,539,540,542,540,541,542,543,544,546,544,545,546,547,548,550,548,549,550,551,552,554,552,553,554,555,556,558,556,557,558,559,560,562,560,561,562,563,564,566,564,565,566,567,568,570,568,569,570,571,572,574,572,573,574,575,576,578,576,577,578,579,580,582,580,581,582,583,584,586,584,585,586,587,588,590,588,589,590,591,592,594,592,593,594,595,596,598,596,597,598,599,600,602,600,601,602,603,604,606,604,605,606,607,608,610,608,609,610,611,612,614,612,613,614,615,616,618,616,617,618,619,620,622,620,621,622,623,624,626,624,625,626,633,634,636,634,635,636,637,638,640,638,639,640,641,642,644,642,643,644,645,646,648,646,647,648,649,650,652,650,651,652,653,654,656,654,655,656,657,658,660,658,659,660,661,662,664,662,663,664,665,666,668,666,667,668,669,670,672,670,671,672,673,674,676,674,675,676,677,678,680,678,679,680,681,682,684,682,683,684,685,686,688,686,687,688,689,690,692,690,691,692,693,694,696,694,695,696,697,698,700,698,699,700,701,702,704,702,703,704,705,706,708,706,707,708,709,710,712,710,711,712,713,714,716,714,715,716,717,718,720,718,719,720,721,722,724,722,723,724,725,726,728,726,727,728,729,730,732,730,731,732,733,734,736,734,735,736,737,738,740,738,739,740,741,742,744,742,743,744,745,746,748,746,747,748,749,750,752,750,751,752,759,760,762,760,761,762,763,764,766,764,765,766,767,768,770,768,769,770,771,772,774,772,773,774,775,776,778,776,777,778,779,780,782,780,781,782,783,784,786,784,785,786,787,788,790,788,789,790,791,792,794,792,793,794,795,796,798,796,797,798,799,800,802,800,801,802,803,804,806,804,805,806,807,808,810,808,809,810,811,812,814,812,813,814,815,816,818,816,817,818,819,820,822,820,821,822,823,824,826,824,825,826,827,828,830,828,829,830,831,832,834,832,833,834,835,836,838,836,837,838,839,840,842,840,841,842,843,844,846,844,845,846,847,848,850,848,849,850,851,852,854,852,853,854,855,856,858,856,857,858,859,860,862,860,861,862,863,864,866,864,865,866,867,868,870,868,869,870,871,872,874,872,873,874,875,876,878,876,877,878,885,886,888,886,887,888,889,890,892,890,891,892,893,894,896,894,895,896,897,898,900,898,899,900,901,902,904,902,903,904,905,906,908,906,907,908,909,910,912,910,911,912,913,914,916,914,915,916,917,918,920,918,919,920,921,922,924,922,923,924,925,926,928,926,927,928,929,930,932,930,931,932,933,934,936,934,935,936,937,938,940,938,939,940,941,942,944,942,943,944,945,946,948,946,947,948,949,950,952,950,951,952,953,954,956,954,955,956,957,958,960,958,959,960,961,962,964,962,963,964,965,966,968,966,967,968,969,970,972,970,971,972,973,974,976,974,975,976,977,978,980,978,979,980,981,982,984,982,983,984,985,986,988,986,987,988,989,990,992,990,991,992,993,994,996,994,995,996,997,998,1e3,998,999,1e3,1001,1002,1004,1002,1003,1004,1011,1012,1014,1012,1013,1014,1015,1016,1018,1016,1017,1018,1019,1020,1022,1020,1021,1022,1023,1024,1026,1024,1025,1026,1027,1028,1030,1028,1029,1030,1031,1032,1034,1032,1033,1034,1035,1036,1038,1036,1037,1038,1039,1040,1042,1040,1041,1042,1043,1044,1046,1044,1045,1046,1047,1048,1050,1048,1049,1050,1051,1052,1054,1052,1053,1054,1055,1056,1058,1056,1057,1058,1059,1060,1062,1060,1061,1062,1063,1064,1066,1064,1065,1066,1067,1068,1070,1068,1069,1070,1071,1072,1074,1072,1073,1074,1075,1076,1078,1076,1077,1078,1079,1080,1082,1080,1081,1082,1083,1084,1086,1084,1085,1086,1087,1088,1090,1088,1089,1090,1091,1092,1094,1092,1093,1094,1095,1096,1098,1096,1097,1098,1099,1100,1102,1100,1101,1102,1103,1104,1106,1104,1105,1106,1107,1108,1110,1108,1109,1110,1111,1112,1114,1112,1113,1114,1115,1116,1118,1116,1117,1118,1119,1120,1122,1120,1121,1122,1123,1124,1126,1124,1125,1126,1127,1128,1130,1128,1129,1130,1137,1138,1140,1138,1139,1140,1141,1142,1144,1142,1143,1144,1145,1146,1148,1146,1147,1148,1149,1150,1152,1150,1151,1152,1153,1154,1156,1154,1155,1156,1157,1158,1160,1158,1159,1160,1161,1162,1164,1162,1163,1164,1165,1166,1168,1166,1167,1168,1169,1170,1172,1170,1171,1172,1173,1174,1176,1174,1175,1176,1177,1178,1180,1178,1179,1180,1181,1182,1184,1182,1183,1184,1185,1186,1188,1186,1187,1188,1189,1190,1192,1190,1191,1192,1193,1194,1196,1194,1195,1196,1197,1198,1200,1198,1199,1200,1201,1202,1204,1202,1203,1204,1205,1206,1208,1206,1207,1208,1209,1210,1212,1210,1211,1212,1213,1214,1216,1214,1215,1216,1217,1218,1220,1218,1219,1220,1221,1222,1224,1222,1223,1224,1225,1226,1228,1226,1227,1228,1229,1230,1232,1230,1231,1232,1233,1234,1236,1234,1235,1236,1237,1238,1240,1238,1239,1240,1241,1242,1244,1242,1243,1244,1245,1246,1248,1246,1247,1248,1249,1250,1252,1250,1251,1252,1253,1254,1256,1254,1255,1256,1263,1264,1266,1264,1265,1266,1267,1268,1270,1268,1269,1270,1271,1272,1274,1272,1273,1274,1275,1276,1278,1276,1277,1278,1279,1280,1282,1280,1281,1282,1283,1284,1286,1284,1285,1286,1287,1288,1290,1288,1289,1290,1291,1292,1294,1292,1293,1294,1295,1296,1298,1296,1297,1298,1299,1300,1302,1300,1301,1302,1303,1304,1306,1304,1305,1306,1307,1308,1310,1308,1309,1310,1311,1312,1314,1312,1313,1314,1315,1316,1318,1316,1317,1318,1319,1320,1322,1320,1321,1322,1323,1324,1326,1324,1325,1326,1327,1328,1330,1328,1329,1330,1331,1332,1334,1332,1333,1334,1335,1336,1338,1336,1337,1338,1339,1340,1342,1340,1341,1342,1343,1344,1346,1344,1345,1346,1347,1348,1350,1348,1349,1350,1351,1352,1354,1352,1353,1354,1355,1356,1358,1356,1357,1358,1359,1360,1362,1360,1361,1362,1363,1364,1366,1364,1365,1366,1367,1368,1370,1368,1369,1370,1371,1372,1374,1372,1373,1374,1375,1376,1378,1376,1377,1378,1379,1380,1382,1380,1381,1382,1389,1390,1392,1390,1391,1392,1393,1394,1396,1394,1395,1396,1397,1398,1400,1398,1399,1400,1401,1402,1404,1402,1403,1404,1405,1406,1408,1406,1407,1408,1409,1410,1412,1410,1411,1412,1413,1414,1416,1414,1415,1416,1417,1418,1420,1418,1419,1420,1421,1422,1424,1422,1423,1424,1425,1426,1428,1426,1427,1428,1429,1430,1432,1430,1431,1432,1433,1434,1436,1434,1435,1436,1437,1438,1440,1438,1439,1440,1441,1442,1444,1442,1443,1444,1445,1446,1448,1446,1447,1448,1449,1450,1452,1450,1451,1452,1453,1454,1456,1454,1455,1456,1457,1458,1460,1458,1459,1460,1461,1462,1464,1462,1463,1464,1465,1466,1468,1466,1467,1468,1469,1470,1472,1470,1471,1472,1473,1474,1476,1474,1475,1476,1477,1478,1480,1478,1479,1480,1481,1482,1484,1482,1483,1484,1485,1486,1488,1486,1487,1488,1489,1490,1492,1490,1491,1492,1493,1494,1496,1494,1495,1496,1497,1498,1500,1498,1499,1500,1501,1502,1504,1502,1503,1504,1505,1506,1508,1506,1507,1508,1515,1516,1518,1516,1517,1518,1519,1520,1522,1520,1521,1522,1523,1524,1526,1524,1525,1526,1527,1528,1530,1528,1529,1530,1531,1532,1534,1532,1533,1534,1535,1536,1538,1536,1537,1538,1539,1540,1542,1540,1541,1542,1543,1544,1546,1544,1545,1546,1547,1548,1550,1548,1549,1550,1551,1552,1554,1552,1553,1554,1555,1556,1558,1556,1557,1558,1559,1560,1562,1560,1561,1562,1563,1564,1566,1564,1565,1566,1567,1568,1570,1568,1569,1570,1571,1572,1574,1572,1573,1574,1575,1576,1578,1576,1577,1578,1579,1580,1582,1580,1581,1582,1583,1584,1586,1584,1585,1586,1587,1588,1590,1588,1589,1590,1591,1592,1594,1592,1593,1594,1595,1596,1598,1596,1597,1598,1599,1600,1602,1600,1601,1602,1603,1604,1606,1604,1605,1606,1607,1608,1610,1608,1609,1610,1611,1612,1614,1612,1613,1614,1615,1616,1618,1616,1617,1618,1619,1620,1622,1620,1621,1622,1623,1624,1626,1624,1625,1626,1627,1628,1630,1628,1629,1630,1631,1632,1634,1632,1633,1634,1641,1642,1644,1642,1643,1644,1645,1646,1648,1646,1647,1648,1649,1650,1652,1650,1651,1652,1653,1654,1656,1654,1655,1656,1657,1658,1660,1658,1659,1660,1661,1662,1664,1662,1663,1664,1665,1666,1668,1666,1667,1668,1669,1670,1672,1670,1671,1672,1673,1674,1676,1674,1675,1676,1677,1678,1680,1678,1679,1680,1681,1682,1684,1682,1683,1684,1685,1686,1688,1686,1687,1688,1689,1690,1692,1690,1691,1692,1693,1694,1696,1694,1695,1696,1697,1698,1700,1698,1699,1700,1701,1702,1704,1702,1703,1704,1705,1706,1708,1706,1707,1708,1709,1710,1712,1710,1711,1712,1713,1714,1716,1714,1715,1716,1717,1718,1720,1718,1719,1720,1721,1722,1724,1722,1723,1724,1725,1726,1728,1726,1727,1728,1729,1730,1732,1730,1731,1732,1733,1734,1736,1734,1735,1736,1737,1738,1740,1738,1739,1740,1741,1742,1744,1742,1743,1744,1745,1746,1748,1746,1747,1748,1749,1750,1752,1750,1751,1752,1753,1754,1756,1754,1755,1756,1757,1758,1760,1758,1759,1760,1767,1768,1770,1768,1769,1770,1771,1772,1774,1772,1773,1774,1775,1776,1778,1776,1777,1778,1779,1780,1782,1780,1781,1782,1783,1784,1786,1784,1785,1786,1787,1788,1790,1788,1789,1790,1791,1792,1794,1792,1793,1794,1795,1796,1798,1796,1797,1798,1799,1800,1802,1800,1801,1802,1803,1804,1806,1804,1805,1806,1807,1808,1810,1808,1809,1810,1811,1812,1814,1812,1813,1814,1815,1816,1818,1816,1817,1818,1819,1820,1822,1820,1821,1822,1823,1824,1826,1824,1825,1826,1827,1828,1830,1828,1829,1830,1831,1832,1834,1832,1833,1834,1835,1836,1838,1836,1837,1838,1839,1840,1842,1840,1841,1842,1843,1844,1846,1844,1845,1846,1847,1848,1850,1848,1849,1850,1851,1852,1854,1852,1853,1854,1855,1856,1858,1856,1857,1858,1859,1860,1862,1860,1861,1862,1863,1864,1866,1864,1865,1866,1867,1868,1870,1868,1869,1870,1871,1872,1874,1872,1873,1874,1875,1876,1878,1876,1877,1878,1879,1880,1882,1880,1881,1882,1883,1884,1886,1884,1885,1886,1893,1894,1896,1894,1895,1896,1897,1898,1900,1898,1899,1900,1901,1902,1904,1902,1903,1904,1905,1906,1908,1906,1907,1908,1909,1910,1912,1910,1911,1912,1913,1914,1916,1914,1915,1916,1917,1918,1920,1918,1919,1920,1921,1922,1924,1922,1923,1924,1925,1926,1928,1926,1927,1928,1929,1930,1932,1930,1931,1932,1933,1934,1936,1934,1935,1936,1937,1938,1940,1938,1939,1940,1941,1942,1944,1942,1943,1944,1945,1946,1948,1946,1947,1948,1949,1950,1952,1950,1951,1952,1953,1954,1956,1954,1955,1956,1957,1958,1960,1958,1959,1960,1961,1962,1964,1962,1963,1964,1965,1966,1968,1966,1967,1968,1969,1970,1972,1970,1971,1972,1973,1974,1976,1974,1975,1976,1977,1978,1980,1978,1979,1980,1981,1982,1984,1982,1983,1984,1985,1986,1988,1986,1987,1988,1989,1990,1992,1990,1991,1992,1993,1994,1996,1994,1995,1996,1997,1998,2e3,1998,1999,2e3,2001,2002,2004,2002,2003,2004,2005,2006,2008,2006,2007,2008,2009,2010,2012,2010,2011,2012,2019,2020,2022,2020,2021,2022,2023,2024,2026,2024,2025,2026,2027,2028,2030,2028,2029,2030,2031,2032,2034,2032,2033,2034,2035,2036,2038,2036,2037,2038,2039,2040,2042,2040,2041,2042,2043,2044,2046,2044,2045,2046,2047,2048,2050,2048,2049,2050,2051,2052,2054,2052,2053,2054,2055,2056,2058,2056,2057,2058,2059,2060,2062,2060,2061,2062,2063,2064,2066,2064,2065,2066,2067,2068,2070,2068,2069,2070,2071,2072,2074,2072,2073,2074,2075,2076,2078,2076,2077,2078,2079,2080,2082,2080,2081,2082,2083,2084,2086,2084,2085,2086,2087,2088,2090,2088,2089,2090,2091,2092,2094,2092,2093,2094,2095,2096,2098,2096,2097,2098,2099,2100,2102,2100,2101,2102,2103,2104,2106,2104,2105,2106,2107,2108,2110,2108,2109,2110,2111,2112,2114,2112,2113,2114,2115,2116,2118,2116,2117,2118,2119,2120,2122,2120,2121,2122,2123,2124,2126,2124,2125,2126,2127,2128,2130,2128,2129,2130,2131,2132,2134,2132,2133,2134,2135,2136,2138,2136,2137,2138,2145,2146,2148,2146,2147,2148,2149,2150,2152,2150,2151,2152,2153,2154,2156,2154,2155,2156,2157,2158,2160,2158,2159,2160,2161,2162,2164,2162,2163,2164,2165,2166,2168,2166,2167,2168,2169,2170,2172,2170,2171,2172,2173,2174,2176,2174,2175,2176,2177,2178,2180,2178,2179,2180,2181,2182,2184,2182,2183,2184,2185,2186,2188,2186,2187,2188,2189,2190,2192,2190,2191,2192,2193,2194,2196,2194,2195,2196,2197,2198,2200,2198,2199,2200,2201,2202,2204,2202,2203,2204,2205,2206,2208,2206,2207,2208,2209,2210,2212,2210,2211,2212,2213,2214,2216,2214,2215,2216,2217,2218,2220,2218,2219,2220,2221,2222,2224,2222,2223,2224,2225,2226,2228,2226,2227,2228,2229,2230,2232,2230,2231,2232,2233,2234,2236,2234,2235,2236,2237,2238,2240,2238,2239,2240,2241,2242,2244,2242,2243,2244,2245,2246,2248,2246,2247,2248,2249,2250,2252,2250,2251,2252,2253,2254,2256,2254,2255,2256,2257,2258,2260,2258,2259,2260,2261,2262,2264,2262,2263,2264,2271,2272,2274,2272,2273,2274,2275,2276,2278,2276,2277,2278,2279,2280,2282,2280,2281,2282,2283,2284,2286,2284,2285,2286,2287,2288,2290,2288,2289,2290,2291,2292,2294,2292,2293,2294,2295,2296,2298,2296,2297,2298,2299,2300,2302,2300,2301,2302,2303,2304,2306,2304,2305,2306,2307,2308,2310,2308,2309,2310,2311,2312,2314,2312,2313,2314,2315,2316,2318,2316,2317,2318,2319,2320,2322,2320,2321,2322,2323,2324,2326,2324,2325,2326,2327,2328,2330,2328,2329,2330,2331,2332,2334,2332,2333,2334,2335,2336,2338,2336,2337,2338,2339,2340,2342,2340,2341,2342,2343,2344,2346,2344,2345,2346,2347,2348,2350,2348,2349,2350,2351,2352,2354,2352,2353,2354,2355,2356,2358,2356,2357,2358,2359,2360,2362,2360,2361,2362,2363,2364,2366,2364,2365,2366,2367,2368,2370,2368,2369,2370,2371,2372,2374,2372,2373,2374,2375,2376,2378,2376,2377,2378,2379,2380,2382,2380,2381,2382,2383,2384,2386,2384,2385,2386,2387,2388,2390,2388,2389,2390,2397,2398,2400,2398,2399,2400,2401,2402,2404,2402,2403,2404,2405,2406,2408,2406,2407,2408,2409,2410,2412,2410,2411,2412,2413,2414,2416,2414,2415,2416,2417,2418,2420,2418,2419,2420,2421,2422,2424,2422,2423,2424,2425,2426,2428,2426,2427,2428,2429,2430,2432,2430,2431,2432,2433,2434,2436,2434,2435,2436,2437,2438,2440,2438,2439,2440,2441,2442,2444,2442,2443,2444,2445,2446,2448,2446,2447,2448,2449,2450,2452,2450,2451,2452,2453,2454,2456,2454,2455,2456,2457,2458,2460,2458,2459,2460,2461,2462,2464,2462,2463,2464,2465,2466,2468,2466,2467,2468,2469,2470,2472,2470,2471,2472,2473,2474,2476,2474,2475,2476,2477,2478,2480,2478,2479,2480,2481,2482,2484,2482,2483,2484,2485,2486,2488,2486,2487,2488,2489,2490,2492,2490,2491,2492,2493,2494,2496,2494,2495,2496,2497,2498,2500,2498,2499,2500,2501,2502,2504,2502,2503,2504,2505,2506,2508,2506,2507,2508,2509,2510,2512,2510,2511,2512,2513,2514,2516,2514,2515,2516,2523,2524,2526,2524,2525,2526,2527,2528,2530,2528,2529,2530,2531,2532,2534,2532,2533,2534,2535,2536,2538,2536,2537,2538,2539,2540,2542,2540,2541,2542,2543,2544,2546,2544,2545,2546,2547,2548,2550,2548,2549,2550,2551,2552,2554,2552,2553,2554,2555,2556,2558,2556,2557,2558,2559,2560,2562,2560,2561,2562,2563,2564,2566,2564,2565,2566,2567,2568,2570,2568,2569,2570,2571,2572,2574,2572,2573,2574,2575,2576,2578,2576,2577,2578,2579,2580,2582,2580,2581,2582,2583,2584,2586,2584,2585,2586,2587,2588,2590,2588,2589,2590,2591,2592,2594,2592,2593,2594,2595,2596,2598,2596,2597,2598,2599,2600,2602,2600,2601,2602,2603,2604,2606,2604,2605,2606,2607,2608,2610,2608,2609,2610,2611,2612,2614,2612,2613,2614,2615,2616,2618,2616,2617,2618,2619,2620,2622,2620,2621,2622,2623,2624,2626,2624,2625,2626,2627,2628,2630,2628,2629,2630,2631,2632,2634,2632,2633,2634,2635,2636,2638,2636,2637,2638,2639,2640,2642,2640,2641,2642,2649,2650,2652,2650,2651,2652,2653,2654,2656,2654,2655,2656,2657,2658,2660,2658,2659,2660,2661,2662,2664,2662,2663,2664,2665,2666,2668,2666,2667,2668,2669,2670,2672,2670,2671,2672,2673,2674,2676,2674,2675,2676,2677,2678,2680,2678,2679,2680,2681,2682,2684,2682,2683,2684,2685,2686,2688,2686,2687,2688,2689,2690,2692,2690,2691,2692,2693,2694,2696,2694,2695,2696,2697,2698,2700,2698,2699,2700,2701,2702,2704,2702,2703,2704,2705,2706,2708,2706,2707,2708,2709,2710,2712,2710,2711,2712,2713,2714,2716,2714,2715,2716,2717,2718,2720,2718,2719,2720,2721,2722,2724,2722,2723,2724,2725,2726,2728,2726,2727,2728,2729,2730,2732,2730,2731,2732,2733,2734,2736,2734,2735,2736,2737,2738,2740,2738,2739,2740,2741,2742,2744,2742,2743,2744,2745,2746,2748,2746,2747,2748,2749,2750,2752,2750,2751,2752,2753,2754,2756,2754,2755,2756,2757,2758,2760,2758,2759,2760,2761,2762,2764,2762,2763,2764,2765,2766,2768,2766,2767,2768,2775,2776,2778,2776,2777,2778,2779,2780,2782,2780,2781,2782,2783,2784,2786,2784,2785,2786,2787,2788,2790,2788,2789,2790,2791,2792,2794,2792,2793,2794,2795,2796,2798,2796,2797,2798,2799,2800,2802,2800,2801,2802,2803,2804,2806,2804,2805,2806,2807,2808,2810,2808,2809,2810,2811,2812,2814,2812,2813,2814,2815,2816,2818,2816,2817,2818,2819,2820,2822,2820,2821,2822,2823,2824,2826,2824,2825,2826,2827,2828,2830,2828,2829,2830,2831,2832,2834,2832,2833,2834,2835,2836,2838,2836,2837,2838,2839,2840,2842,2840,2841,2842,2843,2844,2846,2844,2845,2846,2847,2848,2850,2848,2849,2850,2851,2852,2854,2852,2853,2854,2855,2856,2858,2856,2857,2858,2859,2860,2862,2860,2861,2862,2863,2864,2866,2864,2865,2866,2867,2868,2870,2868,2869,2870,2871,2872,2874,2872,2873,2874,2875,2876,2878,2876,2877,2878,2879,2880,2882,2880,2881,2882,2883,2884,2886,2884,2885,2886,2887,2888,2890,2888,2889,2890,2891,2892,2894,2892,2893,2894,2901,2902,2904,2902,2903,2904,2905,2906,2908,2906,2907,2908,2909,2910,2912,2910,2911,2912,2913,2914,2916,2914,2915,2916,2917,2918,2920,2918,2919,2920,2921,2922,2924,2922,2923,2924,2925,2926,2928,2926,2927,2928,2929,2930,2932,2930,2931,2932,2933,2934,2936,2934,2935,2936,2937,2938,2940,2938,2939,2940,2941,2942,2944,2942,2943,2944,2945,2946,2948,2946,2947,2948,2949,2950,2952,2950,2951,2952,2953,2954,2956,2954,2955,2956,2957,2958,2960,2958,2959,2960,2961,2962,2964,2962,2963,2964,2965,2966,2968,2966,2967,2968,2969,2970,2972,2970,2971,2972,2973,2974,2976,2974,2975,2976,2977,2978,2980,2978,2979,2980,2981,2982,2984,2982,2983,2984,2985,2986,2988,2986,2987,2988,2989,2990,2992,2990,2991,2992,2993,2994,2996,2994,2995,2996,2997,2998,3e3,2998,2999,3e3,3001,3002,3004,3002,3003,3004,3005,3006,3008,3006,3007,3008,3009,3010,3012,3010,3011,3012,3013,3014,3016,3014,3015,3016,3017,3018,3020,3018,3019,3020,3027,3028,3030,3028,3029,3030,3031,3032,3034,3032,3033,3034,3035,3036,3038,3036,3037,3038,3039,3040,3042,3040,3041,3042,3043,3044,3046,3044,3045,3046,3047,3048,3050,3048,3049,3050,3051,3052,3054,3052,3053,3054,3055,3056,3058,3056,3057,3058,3059,3060,3062,3060,3061,3062,3063,3064,3066,3064,3065,3066,3067,3068,3070,3068,3069,3070,3071,3072,3074,3072,3073,3074,3075,3076,3078,3076,3077,3078,3079,3080,3082,3080,3081,3082,3083,3084,3086,3084,3085,3086,3087,3088,3090,3088,3089,3090,3091,3092,3094,3092,3093,3094,3095,3096,3098,3096,3097,3098,3099,3100,3102,3100,3101,3102,3103,3104,3106,3104,3105,3106,3107,3108,3110,3108,3109,3110,3111,3112,3114,3112,3113,3114,3115,3116,3118,3116,3117,3118,3119,3120,3122,3120,3121,3122,3123,3124,3126,3124,3125,3126,3127,3128,3130,3128,3129,3130,3131,3132,3134,3132,3133,3134,3135,3136,3138,3136,3137,3138,3139,3140,3142,3140,3141,3142,3143,3144,3146,3144,3145,3146,3153,3154,3156,3154,3155,3156,3157,3158,3160,3158,3159,3160,3161,3162,3164,3162,3163,3164,3165,3166,3168,3166,3167,3168,3169,3170,3172,3170,3171,3172,3173,3174,3176,3174,3175,3176,3177,3178,3180,3178,3179,3180,3181,3182,3184,3182,3183,3184,3185,3186,3188,3186,3187,3188,3189,3190,3192,3190,3191,3192,3193,3194,3196,3194,3195,3196,3197,3198,3200,3198,3199,3200,3201,3202,3204,3202,3203,3204,3205,3206,3208,3206,3207,3208,3209,3210,3212,3210,3211,3212,3213,3214,3216,3214,3215,3216,3217,3218,3220,3218,3219,3220,3221,3222,3224,3222,3223,3224,3225,3226,3228,3226,3227,3228,3229,3230,3232,3230,3231,3232,3233,3234,3236,3234,3235,3236,3237,3238,3240,3238,3239,3240,3241,3242,3244,3242,3243,3244,3245,3246,3248,3246,3247,3248,3249,3250,3252,3250,3251,3252,3253,3254,3256,3254,3255,3256,3257,3258,3260,3258,3259,3260,3261,3262,3264,3262,3263,3264,3265,3266,3268,3266,3267,3268,3269,3270,3272,3270,3271,3272,3279,3280,3282,3280,3281,3282,3283,3284,3286,3284,3285,3286,3287,3288,3290,3288,3289,3290,3291,3292,3294,3292,3293,3294,3295,3296,3298,3296,3297,3298,3299,3300,3302,3300,3301,3302,3303,3304,3306,3304,3305,3306,3307,3308,3310,3308,3309,3310,3311,3312,3314,3312,3313,3314,3315,3316,3318,3316,3317,3318,3319,3320,3322,3320,3321,3322,3323,3324,3326,3324,3325,3326,3327,3328,3330,3328,3329,3330,3331,3332,3334,3332,3333,3334,3335,3336,3338,3336,3337,3338,3339,3340,3342,3340,3341,3342,3343,3344,3346,3344,3345,3346,3347,3348,3350,3348,3349,3350,3351,3352,3354,3352,3353,3354,3355,3356,3358,3356,3357,3358,3359,3360,3362,3360,3361,3362,3363,3364,3366,3364,3365,3366,3367,3368,3370,3368,3369,3370,3371,3372,3374,3372,3373,3374,3375,3376,3378,3376,3377,3378,3379,3380,3382,3380,3381,3382,3383,3384,3386,3384,3385,3386,3387,3388,3390,3388,3389,3390,3391,3392,3394,3392,3393,3394,3395,3396,3398,3396,3397,3398,3405,3406,3408,3406,3407,3408,3409,3410,3412,3410,3411,3412,3413,3414,3416,3414,3415,3416,3417,3418,3420,3418,3419,3420,3421,3422,3424,3422,3423,3424,3425,3426,3428,3426,3427,3428,3429,3430,3432,3430,3431,3432,3433,3434,3436,3434,3435,3436,3437,3438,3440,3438,3439,3440,3441,3442,3444,3442,3443,3444,3445,3446,3448,3446,3447,3448,3449,3450,3452,3450,3451,3452,3453,3454,3456,3454,3455,3456,3457,3458,3460,3458,3459,3460,3461,3462,3464,3462,3463,3464,3465,3466,3468,3466,3467,3468,3469,3470,3472,3470,3471,3472,3473,3474,3476,3474,3475,3476,3477,3478,3480,3478,3479,3480,3481,3482,3484,3482,3483,3484,3485,3486,3488,3486,3487,3488,3489,3490,3492,3490,3491,3492,3493,3494,3496,3494,3495,3496,3497,3498,3500,3498,3499,3500,3501,3502,3504,3502,3503,3504,3505,3506,3508,3506,3507,3508,3509,3510,3512,3510,3511,3512,3513,3514,3516,3514,3515,3516,3517,3518,3520,3518,3519,3520,3521,3522,3524,3522,3523,3524,3531,3532,3534,3532,3533,3534,3535,3536,3538,3536,3537,3538,3539,3540,3542,3540,3541,3542,3543,3544,3546,3544,3545,3546,3547,3548,3550,3548,3549,3550,3551,3552,3554,3552,3553,3554,3555,3556,3558,3556,3557,3558,3559,3560,3562,3560,3561,3562,3563,3564,3566,3564,3565,3566,3567,3568,3570,3568,3569,3570,3571,3572,3574,3572,3573,3574,3575,3576,3578,3576,3577,3578,3579,3580,3582,3580,3581,3582,3583,3584,3586,3584,3585,3586,3587,3588,3590,3588,3589,3590,3591,3592,3594,3592,3593,3594,3595,3596,3598,3596,3597,3598,3599,3600,3602,3600,3601,3602,3603,3604,3606,3604,3605,3606,3607,3608,3610,3608,3609,3610,3611,3612,3614,3612,3613,3614,3615,3616,3618,3616,3617,3618,3619,3620,3622,3620,3621,3622,3623,3624,3626,3624,3625,3626,3627,3628,3630,3628,3629,3630,3631,3632,3634,3632,3633,3634,3635,3636,3638,3636,3637,3638,3639,3640,3642,3640,3641,3642,3643,3644,3646,3644,3645,3646,3647,3648,3650,3648,3649,3650,3657,3658,3660,3658,3659,3660,3661,3662,3664,3662,3663,3664,3665,3666,3668,3666,3667,3668,3669,3670,3672,3670,3671,3672,3673,3674,3676,3674,3675,3676,3677,3678,3680,3678,3679,3680,3681,3682,3684,3682,3683,3684,3685,3686,3688,3686,3687,3688,3689,3690,3692,3690,3691,3692,3693,3694,3696,3694,3695,3696,3697,3698,3700,3698,3699,3700,3701,3702,3704,3702,3703,3704,3705,3706,3708,3706,3707,3708,3709,3710,3712,3710,3711,3712,3713,3714,3716,3714,3715,3716,3717,3718,3720,3718,3719,3720,3721,3722,3724,3722,3723,3724,3725,3726,3728,3726,3727,3728,3729,3730,3732,3730,3731,3732,3733,3734,3736,3734,3735,3736,3737,3738,3740,3738,3739,3740,3741,3742,3744,3742,3743,3744,3745,3746,3748,3746,3747,3748,3749,3750,3752,3750,3751,3752,3753,3754,3756,3754,3755,3756,3757,3758,3760,3758,3759,3760,3761,3762,3764,3762,3763,3764,3765,3766,3768,3766,3767,3768,3769,3770,3772,3770,3771,3772,3773,3774,3776,3774,3775,3776,3783,3784,3786,3784,3785,3786,3787,3788,3790,3788,3789,3790,3791,3792,3794,3792,3793,3794,3795,3796,3798,3796,3797,3798,3799,3800,3802,3800,3801,3802,3803,3804,3806,3804,3805,3806,3807,3808,3810,3808,3809,3810,3811,3812,3814,3812,3813,3814,3815,3816,3818,3816,3817,3818,3819,3820,3822,3820,3821,3822,3823,3824,3826,3824,3825,3826,3827,3828,3830,3828,3829,3830,3831,3832,3834,3832,3833,3834,3835,3836,3838,3836,3837,3838,3839,3840,3842,3840,3841,3842,3843,3844,3846,3844,3845,3846,3847,3848,3850,3848,3849,3850,3851,3852,3854,3852,3853,3854,3855,3856,3858,3856,3857,3858,3859,3860,3862,3860,3861,3862,3863,3864,3866,3864,3865,3866,3867,3868,3870,3868,3869,3870,3871,3872,3874,3872,3873,3874,3875,3876,3878,3876,3877,3878,3879,3880,3882,3880,3881,3882,3883,3884,3886,3884,3885,3886,3887,3888,3890,3888,3889,3890,3891,3892,3894,3892,3893,3894,3895,3896,3898,3896,3897,3898,3899,3900,3902,3900,3901,3902,3909,3910,3912,3910,3911,3912,3913,3914,3916,3914,3915,3916,3917,3918,3920,3918,3919,3920,3921,3922,3924,3922,3923,3924,3925,3926,3928,3926,3927,3928,3929,3930,3932,3930,3931,3932,3933,3934,3936,3934,3935,3936,3937,3938,3940,3938,3939,3940,3941,3942,3944,3942,3943,3944,3945,3946,3948,3946,3947,3948,3949,3950,3952,3950,3951,3952,3953,3954,3956,3954,3955,3956,3957,3958,3960,3958,3959,3960,3961,3962,3964,3962,3963,3964,3965,3966,3968,3966,3967,3968,3969,3970,3972,3970,3971,3972,3973,3974,3976,3974,3975,3976,3977,3978,3980,3978,3979,3980,3981,3982,3984,3982,3983,3984,3985,3986,3988,3986,3987,3988,3989,3990,3992,3990,3991,3992,3993,3994,3996,3994,3995,3996,3997,3998,4e3,3998,3999,4e3,4001,4002,4004,4002,4003,4004,4005,4006,4008,4006,4007,4008,4009,4010,4012,4010,4011,4012,4013,4014,4016,4014,4015,4016,4017,4018,4020,4018,4019,4020,4021,4022,4024,4022,4023,4024,4025,4026,4028,4026,4027,4028],itemSize:1,type:"ELEMENT_ARRAY_BUFFER"},mode:"TRIANGLES"}],stateset:{material:{ambient:[.38505,.16011,.16011,1],diffuse:[.61608,.25618,.25618,1],emission:[0,0,0,1],name:"Material.001",shininess:12.5,specular:[.5,.5,.5,1]},textures:[{file:"background.png",mag_filter:"LINEAR",min_filter:"LINEAR_MIPMAP_LINEAR"}]}}],name:"GeodeSphere"}],matrix:[55,0,0,0,0,55,0,0,0,0,55,0,0,0,0,1],name:"Sphere"},{children:[{name:"Lamp"}],matrix:[-.29086,.95517,-.05519,0,-.7711,-.19988,.60452,0,.56639,.21839,.79467,0,4.07625,1.00545,5.90386,1],name:"Lamp"}],name:"Root"}]}};t.exports=r},function(t,e){"use strict";var r=function(){return{children:[{children:[{children:[{attributes:{Normal:{elements:[0,0,1,0,0,1,0,0,1,0,0,1],itemSize:3,type:"ARRAY_BUFFER"},Vertex:{elements:[-1,-1,1,1,-1,1,1,1,1,-1,1,1],itemSize:3,type:"ARRAY_BUFFER"}},name:"",primitives:[{indices:{elements:[0,1,2,2,3,0],itemSize:1,type:"ELEMENT_ARRAY_BUFFER"},mode:"TRIANGLES"}],stateset:{material:{ambient:[0,0,1,1],diffuse:[0,0,1,1],emission:[0,0,0,1],name:"Plane",shininess:64,specular:[0,0,0,0]}}}],name:"Plane"},{children:[{attributes:{Normal:{elements:[0,0,-1,0,0,-1,0,0,-1,0,0,-1],itemSize:3,type:"ARRAY_BUFFER"},Vertex:{elements:[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1],itemSize:3,type:"ARRAY_BUFFER"}},name:"",primitives:[{indices:{elements:[0,1,2,2,3,0],itemSize:1,type:"ELEMENT_ARRAY_BUFFER"},mode:"TRIANGLES"}],stateset:{material:{ambient:[0,0,1,1],diffuse:[0,0,1,1],emission:[0,0,0,1],name:"Plane",shininess:64,specular:[0,0,0,0]}}}],name:"Plane_001"},{children:[{attributes:{Normal:{elements:[0,-1,0,0,-1,0,0,-1,0,0,-1,0],itemSize:3,type:"ARRAY_BUFFER"},Vertex:{elements:[-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1],itemSize:3,type:"ARRAY_BUFFER"}},name:"",primitives:[{indices:{elements:[0,1,2,2,3,0],itemSize:1,type:"ELEMENT_ARRAY_BUFFER"},mode:"TRIANGLES"}],stateset:{material:{ambient:[0,1,0,1],diffuse:[0,1,0,1],emission:[0,0,0,1],name:"Plane_002",shininess:64,specular:[0,0,0,0]}}}],name:"Plane_002"},{children:[{attributes:{Normal:{elements:[0,1,0,0,1,0,0,1,0,0,1,0],itemSize:3,type:"ARRAY_BUFFER"},Vertex:{elements:[-1,1,-1,1,1,-1,1,1,1,-1,1,1],itemSize:3,type:"ARRAY_BUFFER"}},name:"",primitives:[{indices:{elements:[0,1,2,2,3,0],itemSize:1,type:"ELEMENT_ARRAY_BUFFER"},mode:"TRIANGLES"}],stateset:{material:{ambient:[0,1,0,1],diffuse:[0,1,0,1],emission:[0,0,0,1],name:"Plane_002",shininess:64,specular:[0,0,0,0]}}}],name:"Plane_003"},{children:[{attributes:{Normal:{elements:[1,0,0,1,0,0,1,0,0,1,0,0],itemSize:3,type:"ARRAY_BUFFER"},Vertex:{elements:[1,-1,-1,1,1,-1,1,1,1,1,-1,1],itemSize:3,type:"ARRAY_BUFFER"}},name:"",primitives:[{indices:{elements:[0,1,2,2,3,0],itemSize:1,type:"ELEMENT_ARRAY_BUFFER"},mode:"TRIANGLES"}],stateset:{material:{ambient:[1,0,0,1],diffuse:[1,0,0,1],emission:[0,0,0,1],name:"Plane_004",shininess:64,specular:[0,0,0,0]}}}],name:"Plane_004"},{children:[{attributes:{Normal:{elements:[-1,0,0,-1,0,0,-1,0,0,-1,0,0],itemSize:3,type:"ARRAY_BUFFER"},Vertex:{elements:[-1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1],itemSize:3,type:"ARRAY_BUFFER"}},name:"",primitives:[{indices:{elements:[0,1,2,2,3,0],itemSize:1,type:"ELEMENT_ARRAY_BUFFER"},mode:"TRIANGLES"}],stateset:{material:{ambient:[1,0,0,1],diffuse:[1,0,0,1],emission:[0,0,0,1],name:"Plane_004",shininess:64,specular:[0,0,0,0]}}}],name:"Plane_005"}],name:"box.osg"}]}};t.exports=r},,,,,,function(t,e,r){void 0===window.HTMLVideoElement&&(window.HTMLVideoElement=function(){});var i=r(1),n=r(296),a=r(331),s=r(335),o=r(339),u=r(342),h=r(347),c=r(350),l=r(353),d=r(356),f=r(358);i.osg.init(),suite("osgWrappers"),f(),suite("osgText"),d(),suite("osgShadow"),l(),suite("osgShader"),c(),suite("osgViewer"),h(),suite("osgUtil"),u(),suite("osgGA"),o(),suite("osgDB"),s(),suite("osg"),n(),suite("osgAnimation"),
a()},function(t,e,r){"use strict";var i=r(297),n=r(298),a=r(299),s=r(300),o=r(301),u=r(302),h=r(303),c=r(304),l=r(305),d=r(306),f=r(307),p=r(308),g=r(309),_=r(310),m=r(311),v=r(312),b=r(313),x=r(314),y=r(315),S=r(316),T=r(317),M=r(318),A=r(319),w=r(320),C=r(321),E=r(322),R=r(323),N=r(324),I=r(325),k=r(326),O=r(327),P=r(328),L=r(329),F=r(330);t.exports=function(){i(),n(),a(),s(),o(),u(),h(),c(),l(),f(),d(),p(),g(),_(),m(),v(),b(),x(),y(),T(),S(),M(),A(),w(),C(),E(),R(),N(),I(),k(),O(),P(),L(),F()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(34);t.exports=function(){test("Image.isGreyScale grey image",function(t){var e=function(e){var r=new n(e);i.equal(r.isGreyscale(2),!0,"check image is grey"),t()},r=new window.Image;r.onload=function(){e(this)},r.src="mockup/greyscale.png"}),test("Image.isGreyScale color image",function(t){var e=function(e){var r=new n(e);i.equal(r.isGreyscale(2),!1,"check image is not grey"),t()},r=new window.Image;r.onload=function(){e(this)},r.src="mockup/rgba32.png"}),test("Image.isReady",function(){var t={complete:!0,naturalWidth:1024,isReady:function(){return!0}},e=new n(t);i.isOk(e.isReady(),"check wrapped HTML Image ")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(42),s=r(113),o=r(186);t.exports=function(){test("BlendColor",function(){var t=new a;i.isOk(1===t.getConstantColor()[0]&&1===t.getConstantColor()[1]&&1===t.getConstantColor()[2]&&1===t.getConstantColor()[3],"Check default constantColor"),t.setConstantColor([0,.5,0,.5]),i.isOk(0===t.getConstantColor()[0]&&.5===t.getConstantColor()[1]&&0===t.getConstantColor()[2]&&.5===t.getConstantColor()[3],"Check set constant color");var e=new s(new o);e.setGraphicContext(n.createFakeRenderer()),t.apply(e)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(15),s=r(141),o=r(16).vec3;t.exports=function(){test("BoundingBox",function(){!function(){var t=new a,e=[-.5,0,-2],r=[1,0,-1],o=[0,1,-.5],u=[1,2,-.8];t.expandByvec3(e),t.expandByvec3(r),t.expandByvec3(o),t.expandByvec3(u);var h=1===t._max[0]&&2===t._max[1]&&t._max[2]===-.5&&t._min[0]===-.5&&0===t._min[1]&&t._min[2]===-2;i.isOk(h,"Expanding by BoundingBox ->  bounding box test");var c=s.parseSceneGraph(n.getBoxScene());c.getBound();var l=n.checkNear(c._boundingSphere.radius(),2.41421,1e-5);i.isOk(l,"Box.js tested  ->  bounding sphere scene graph test")}(),function(){var t=new a;t._min=o.fromValues(1,2,3),t._max=o.fromValues(4,5,6),i.isOk(n.checkNear(t.corner(0,o.create()),o.fromValues(1,2,3)),"Box corner 0"),i.isOk(n.checkNear(t.corner(7,o.create()),o.fromValues(4,5,6)),"Box corner 7")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(20),s=r(15),o=r(13),u=r(44),h=r(26),c=r(111),l=r(53),d=r(16).vec3,f=r(16).mat4;t.exports=function(){test("BoundingSphere",function(){var t=new a;i.isOk(1!==t.valid(),"BoundingSphere is invalid");var e=new a;e.expandByvec3(d.fromValues(1,4,0)),e.expandByvec3(d.fromValues(2,3,0)),e.expandByvec3(d.fromValues(3,2,0)),e.expandByvec3(d.fromValues(4,1,0));var r=d.fromValues(2.5,2.5,0),s=2.12132,p=n.checkNear(r,e._center,1e-4)&n.checkNear(s,e._radius,1e-4);i.isOk(p,"Expanding by vec3 -> bounding sphere test 1");var g=new a;g.expandByvec3(d.fromValues(-1,0,0)),g.expandByvec3(d.fromValues(2,-3,2)),g.expandByvec3(d.fromValues(3,3,1)),g.expandByvec3(d.fromValues(5,5,0));var _=d.fromValues(2.00438,.862774,.784302),m=5.16774,v=n.checkNear(_,g._center,1e-4)&n.checkNear(m,g._radius,1e-4);i.isOk(v,"Expanding by vec3 ->  bounding sphere test 2");var b=new a;b.expandByBoundingSphere(e);var x=d.fromValues(2.5,2.5,0),y=2.12132,S=n.checkNear(x,b._center,1e-4)&n.checkNear(y,b._radius,1e-4);i.isOk(S,"Expanding by BoundingSphere ->  bounding sphere test 1"),b.expandByBoundingSphere(g);var T=d.fromValues(2.00438,.862774,.784302),M=5.16774,A=n.checkNear(T,b._center,1e-4)&n.checkNear(M,b._radius,1e-4);i.isOk(A,"Expanding by BoundingSphere ->  bounding sphere test 2");var w=new o,C=new u;C.setReferenceFrame(h.ABSOLUTE_RF);var E=c.createTexturedQuadGeometry(-25,-25,0,50,0,0,0,50,0);w.addChild(E);var R=c.createTexturedQuadGeometry(-250,0,0,50,0,0,0,50,0);C.addChild(R),w.addChild(C);var N=w.getBound();i.equalVector(N.center(),d.create(),"check camera bounding sphere in absolute mode");var I=new o,k=c.createTexturedQuadGeometry(-25,-25,0,50,0,0,0,50,0),O=new l;f.fromTranslation(O.getMatrix(),[-1e3,0,0]),I.addChild(k),I.addChild(O),i.equalVector(I.getBound().center(),d.create(),"check computing bounding sphere with invalid bouding sphere")}),test("BoundingSphere - expand with box",function(){var t=new s;d.set(t.getMin(),-2,-2,-2),d.set(t.getMax(),2,2,2);var e=new a;e.expandByBoundingBox(t),i.equalVector(e.radius(),3.4641,.01,"Expands with box - check radius"),i.equalVector(e.center(),d.create(),.01,"Expands with box - check center"),d.set(t.getMin(),2,2,2),d.set(t.getMax(),4,4,4),e.expandByBoundingBox(t),i.equalVector(e.radius(),5.9135,.01,"Expands with box - check radius"),i.equalVector(e.center(),d.fromValues(.5857,.5857,.5857),.01,"Expands with box - check center")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(40);t.exports=function(){test("BufferArray",function(){!function(){var t=n.createFakeRenderer();t.createBuffer=function(){return{}};for(var e=[],r=0,s=150;r<s;r++)e.push(r);var o=new a(a.ARRAY_BUFFER,e,3);o.bind(t),i.isOk(void 0!==o._buffer,"Check we created gl buffer"),o.releaseGLObjects(),i.isOk(void 0===o._buffer,"Check we released gl buffer"),i.equal(o.getType(),5126,"Check the type set is float 32"),i.equal(o.getItemSize(),3,"Check item size is 3")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(39),a=r(40);t.exports=function(){test("BufferArrayProxy",function(){!function(){var t=new a,e=new a,r=new n(t),s=new n(e);r.setBufferArray(e),s.setBufferArray(t),i.equal(r.getInstanceID(),e.getInstanceID(),"check proxyA use B"),i.equal(s.getInstanceID(),t.getInstanceID(),"check proxyB use A"),i.equal(r.getInitialBufferArray().getInstanceID(),t.getInstanceID(),"check initial buffer"),r.setBufferArray(s),i.equal(r.getInstanceID(),s.getBufferArray().getInstanceID(),"check proxy with proxy")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=(r(249),r(44)),a=r(16).mat4,s=r(26);t.exports=function(){test("Camera",function(){var t=a.ortho(a.create(),-1,1,-1,1,-2,2),e=new n;e.setProjectionMatrixAsOrtho(-1,1,-1,1,-2,2),i.equalVector(t,e.getProjectionMatrix(),"check Camera.setProjectionMatrixAsOrtho")}),test("Camera absolute vs relative",function(){var t=a.fromRotation(a.create(),.5*-Math.PI,[1,0,0]),e=a.fromTranslation(a.create(),[1,0,0]),r=a.create();a.invert(r,t);var o=new n;a.copy(o.getViewMatrix(),t);var u=a.create();a.copy(u,e),o.computeLocalToWorldMatrix(u),i.equalVector(u,a.mul(a.create(),e,t),"Should expect Translation * Rotation"),a.copy(u,e),o.computeWorldToLocalMatrix(u),i.equalVector(u,a.mul(a.create(),e,r),"Should expect Translation * invRotation"),o.setReferenceFrame(s.ABSOLUTE_RF),a.copy(u,e),o.computeLocalToWorldMatrix(u),i.equalVector(u,t,"Should expect Rotation"),a.copy(u,e),o.computeWorldToLocalMatrix(u),i.equalVector(u,r,"Should expect invRotation")})}},function(t,e,r){"use strict";var i=r(250).assert,n=(r(249),r(27)),a=r(16).mat4,s=r(53),o=r(111),u=r(16).vec3;t.exports=function(){!test("ComputeBoundsVisitor translate",function(){var t=new s,e=new s;a.fromTranslation(e.getMatrix(),[10,0,0]);var r=new s;a.fromTranslation(r.getMatrix(),[-10,0,0]),t.addChild(e),t.addChild(r);var h=o.createTexturedBoxGeometry(0,0,0,5,5,5);e.addChild(h),r.addChild(h),r.setNodeMask(0);var c=t.getBound();i.equalVector(c.radius(),14.330127018922195,"Check radius of the scene");var l=new n;t.accept(l);var d=u.create();i.equalVector(l.getBoundingBox().corner(0,d),u.fromValues(7.5,-2.5,-2.5),"Check Min of bounding box"),i.equalVector(l.getBoundingBox().corner(7,d),u.fromValues(12.5,2.5,2.5),"Check Max of bounding box"),i.equalVector(t.getBoundingBox().corner(0,d),u.fromValues(-12.5,-2.5,-2.5),"Check Min of bounding box with getBoundingBox"),i.equalVector(t.getBoundingBox().corner(7,d),u.fromValues(12.5,2.5,2.5),"Check Max of bounding box getBoundingBox")}),test("ComputeBoundsVisitor translate and rotate",function(){var t=new s,e=a.create(),r=new s;a.fromRotation(r.getMatrix(),.5*-Math.PI,[0,1,0]),a.mul(r.getMatrix(),a.fromTranslation(e,[-10,0,0]),r.getMatrix()),t.addChild(r);var h=new s;a.fromRotation(h.getMatrix(),Math.PI,[0,1,0]),a.mul(h.getMatrix(),a.fromTranslation(e,[0,0,10]),h.getMatrix()),r.addChild(h);var c=o.createTexturedBoxGeometry(0,0,0,5,5,5);h.addChild(c);var l=t.getBound();i.equalVector(l.radius(),4.330127018922194,"Check radius of the scene");var d=new n;t.accept(d);var f=u.create();i.equalVector(d.getBoundingBox().corner(0,f),u.fromValues(-22.5,-2.5,-2.5),"Check Min of bounding box"),i.equalVector(d.getBoundingBox().corner(7,f),u.fromValues(-17.5,2.5,2.5),"Check Max of bounding box"),i.equalVector(t.getBoundingBox().corner(0,f),u.fromValues(-22.5,-2.5,-2.5),"Check Min of bounding box with getBoundingBox"),i.equalVector(t.getBoundingBox().corner(7,f),u.fromValues(-17.5,2.5,2.5),"Check Max of bounding box getBoundingBox")})}},function(t,e,r){"use strict";var i=r(250).assert,n=(r(249),r(25)),a=r(23),s=r(7),o=r(53),u=r(16).mat4,h=r(44),c=r(16).vec3,l=r(26);t.exports=function(){test("ComputeMatrixFromNodePath",function(){!function(){var t=function(){a.call(this,a.TRAVERSE_PARENTS),this.node=void 0};t.prototype=s.objectInherit(a.prototype,{apply:function(t){this.node=t,this.traverse(t)}});var e=new o;e.setName("root"),u.fromTranslation(e.getMatrix(),[10,0,0]);var r=new h;r.setReferenceFrame(l.ABSOLUTE_RF),u.fromTranslation(r.getViewMatrix(),[0,5,0]);var d=new o;u.fromTranslation(d.getMatrix(),[0,-10,0]);var f=new o;u.fromTranslation(f.getMatrix(),[0,0,10]),e.addChild(r),r.addChild(d),d.addChild(f);var p=[e,r,d,f],g=n.computeLocalToWorld(p),_=u.getTranslation(c.create(),g);i.equalVector(_,[0,-10,10],"Check translation of matrix")}(),function(){var t=new h;t.setName("root"),t.setViewMatrix(u.fromTranslation(u.create(),[0,0,1e3]));var e=new o;u.fromTranslation(e.getMatrix(),[0,-10,0]);var r=new o;u.fromTranslation(r.getMatrix(),[0,0,10]);var a=[t,e,r],s=n.computeLocalToWorld(a),l=c.create();u.getTranslation(l,s),i.equalVector(l,[0,-10,10],"Check we dont use the camera on top")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(47),s=r(113),o=r(186);t.exports=function(){test("CullFace",function(){var t=new a;i.isOk(t.getMode()===a.BACK,"Check default mode");var e=new s(new o);e.setGraphicContext(n.createFakeRenderer()),t.apply(e),t=new a(a.DISABLE),t.apply(e);var r=new a("FRONT");i.isOk(r.getMode()===a.FRONT,"Check string parameter")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(15),s=r(44),o=r(45),u=r(52),h=r(16).mat4,c=r(53),l=r(13),d=r(57),f=r(58),p=r(111),g=r(9),_=r(113),m=r(21),v=r(26),b=r(16).vec3,x=r(117),y=r(207),S=r(217),T=r(186);t.exports=function(){test("CullVisitor",function(){var t=n.createCanvas(),e=new S(t);e.setupManipulator(),e.init(),e.frame();var r=e.getCamera().getRenderer().getCullVisitor(),a=new l;a.setName("a");var s=new l;s.setName("b");var o=new l;o.setName("c"),a.addChild(s),s.addChild(o);var u=0,h=0,c=function(){};c.prototype={cull:function(){return u=1,!1}};var d=function(){};d.prototype={cull:function(){return h=1,!0}},s.setCullCallback(new c),o.setCullCallback(new d),r.apply(a),i.isOk(1===u,"Called b cull callback"),i.isOk(0===h,"Did not Call c cull callback as expected"),a.setNodeMask(-1),i.isOk(1===u,"Called b cull callback"),i.isOk(0===h,"Did not Call c cull callback as expected"),n.removeCanvas(t)}),test("CullVisitor 2",function(){!function(){var t=n.createCanvas(),e=new S(t);e.setupManipulator(),e.init(),e.frame();var r=e.getCamera().getRenderer()._cullVisitor,a=new s;a.setRenderOrder(s.NESTED_RENDER);var o=new l,u=new l;a.addChild(o),a.addChild(u);var c=new s;c.setRenderOrder(s.NESTED_RENDER);var d=new l,p=new l;c.addChild(d),c.addChild(p),a.addChild(c);var _=new f,m=new g;r.setRenderStage(_),r.setStateGraph(m),r.pushProjectionMatrix(h.create()),r.pushModelViewMatrix(h.create()),r.pushModelViewMatrix(h.create()),a.accept(r),i.isOk(r.rootRenderStage===r.currentRenderBin,"renderStage should stay the render bin and id "),n.removeCanvas(t)}(),function(){var t=new _(new T),e=n.createFakeRenderer();e.validateProgram=function(){return!0},e.getProgramParameter=function(){return!0},e.isContextLost=function(){return!1},t.setGraphicContext(e);var r=new s;r.setViewport(new x),r.setRenderOrder(s.NESTED_RENDER);var a=p.createTexturedQuadGeometry(-5,0,-5,20,0,0,0,0,20,1,1);r.addChild(a);var o=new u,c=new f,l=new g;c.setViewport(r.getViewport()),o.setRenderStage(c),o.setStateGraph(l),o.pushProjectionMatrix(h.create()),o.pushModelViewMatrix(h.create()),o.pushModelViewMatrix(h.create()),o.pushStateSet(new m),r.accept(o),i.isOk(o.rootRenderStage===o.currentRenderBin,"renderStage should stay the render bin and id "),c.draw(t)}(),function(){var t=new s,e=new c;h.fromTranslation(e.getMatrix(),[0,0,10]);var r=p.createTexturedQuadGeometry(-5,-5,0,10,0,0,0,10,0,1,1);e.addChild(r),t.addChild(e),h.lookAt(t.getViewMatrix(),[-10,0,10],[0,0,10],[0,1,0]),h.perspective(t.getProjectionMatrix(),Math.PI/180*60,800/600,1,1e3);var a,l=[],d=function(t){void 0!==this._computedNear&&l.push([this._computedNear,this._computedFar]),o.prototype.setCullSettings.call(this,t)},_=function(){a=this._projectionMatrixStack[this._projectionMatrixStack.length-1],u.prototype.popProjectionMatrix.call(this)};u.prototype.setCullSettings=d;var m=new u,v=new f,b=new g;m.popProjectionMatrix=_,m.setRenderStage(v),m.setStateGraph(b),m.pushProjectionMatrix(h.create()),m.pushModelViewMatrix(h.create()),m.pushModelViewMatrix(h.create()),t.accept(m);var x=[1.299038105676658,0,0,0,0,1.7320508075688774,0,0,0,0,-1.9423076923076918,-1,0,0,-14.417307692307686,0];i.isOk(n.checkNear(l[1][0],5),"near should be 5.0 and is "+l[1][0]),i.isOk(n.checkNear(l[1][1],15),"near should be 15.0 and is "+l[1][1]),i.isOk(n.checkNear(a,x,.001),"check projection matrix ["+a.toString()+"] ["+x.toString()+"]")}(),function(){var t=new s,e=new c;h.fromTranslation(e.getMatrix(),[0,0,10]);var r=p.createTexturedQuadGeometry(-5,-5,0,10,0,0,0,10,0,1,1);e.addChild(r),t.addChild(e),h.lookAt(t.getViewMatrix(),[0,0,20],[0,0,10],[0,1,0]),h.perspective(t.getProjectionMatrix(),Math.PI/180*60,800/600,1,1e3);var a=[],l=function(t){void 0!==this._computedNear&&a.push([this._computedNear,this._computedFar]),o.prototype.setCullSettings.call(this,t)};u.prototype.setCullSettings=l;var d,_=function(){d=this._projectionMatrixStack[this._projectionMatrixStack.length-1],u.prototype.popProjectionMatrix.call(this)},m=[1.299038105676658,0,0,0,0,1.7320508075688774,0,0,0,0,-49.99975010125087,-1,0,0,-499.7975010125035,0],v=new u,b=new f,x=new g;v.popProjectionMatrix=_,v.setRenderStage(b),v.setStateGraph(x),v.pushProjectionMatrix(h.create()),v.pushModelViewMatrix(h.create()),v.pushModelViewMatrix(h.create()),t.accept(v),i.isOk(n.checkNear(a[1][0],10),"near should be 10 and is "+a[1][0]),i.isOk(n.checkNear(a[1][1],10),"near should be 10 and is "+a[1][1]),i.isOk(n.checkNear(d,m,.001),"check projection matrix ["+d.toString()+"] ["+m.toString()+"]")}(),function(){var t=new s,e=p.createTexturedQuadGeometry(-5,-5,0,10,0,0,0,10,0,1,1);e.getBoundingBox=function(){var t=new a;return t._min=[-6131940,-6297390,-6356750],t._max=[6353e3,6326310,6317430],t},t.addChild(e);var r=[-8050356.805171473,5038241.363464848,5364184.10053209],c=[110530,14460,-19660],l=21546781.95939,d=267579.8443031125;h.lookAt(t.getViewMatrix(),b.add(b.create(),r,c),c,[0,0,1]),h.perspective(t.getProjectionMatrix(),Math.PI/180*60,800/450,1,1e3);var _=[],m=function(t){void 0!==this._computedNear&&_.push([this._computedNear,this._computedFar]),o.prototype.setCullSettings.call(this,t)};u.prototype.setCullSettings=m;var v,x=function(){v=this._projectionMatrixStack[this._projectionMatrixStack.length-1],u.prototype.popProjectionMatrix.call(this)},y=[.9742785792574936,0,0,0,0,1.7320508075688774,0,0,0,0,-1.0241512629639544,-1,0,0,-530789.6381963834,0],S=new u,T=new f,M=new g;S.popProjectionMatrix=x,S.setRenderStage(T),S.setStateGraph(M),S.pushProjectionMatrix(h.create()),S.pushModelViewMatrix(h.create()),S.pushModelViewMatrix(h.create()),t.accept(S),i.isOk(n.checkNear(_[1][0],d,1),"near should be "+d+" and is "+_[1][0]),i.isOk(n.checkNear(_[1][1],l,1),"near should be "+l+" and is "+_[1][1]),i.isOk(n.checkNear(v,y,1),"check projection matrix ["+v.toString()+"] ["+y.toString()+"]")}(),function(){var t=p.createTexturedBoxGeometry(0,0,0,1,1,1),e=new c;h.fromTranslation(e.getMatrix(),[0,0,20]),e.getOrCreateStateSet().setRenderBinDetails(1,""),e.getOrCreateStateSet().setName("Node3"),e.addChild(t);var r=new c;h.fromTranslation(r.getMatrix(),[0,0,-10]),r.getOrCreateStateSet().setRenderBinDetails(0,"DepthSortedBin"),r.getOrCreateStateSet().setName("Node0"),r.addChild(t);var n=new c;h.fromTranslation(n.getMatrix(),[0,0,5]),n.getOrCreateStateSet().setName("Node1"),n.addChild(t);var a=new c;h.fromTranslation(a.getMatrix(),[0,0,-20]),a.getOrCreateStateSet().setRenderBinDetails(0,"RenderBin"),a.getOrCreateStateSet().setName("Node2"),a.addChild(t),e.addChild(r),r.addChild(n),n.addChild(a);var s=new u,o=new f,l=new g;s.pushProjectionMatrix(h.create()),s.pushModelViewMatrix(h.create()),s.pushModelViewMatrix(h.create()),s.setRenderStage(o),s.setStateGraph(l),s.setComputeNearFar(!1),e.accept(s),o.sort(),i.isOk(o._bins[0]._leafs[2]._depth===-15,"Check depth of leaf 0"),i.isOk(o._bins[0]._leafs[1]._depth===-10,"Check depth of leaf 1"),i.isOk(5===o._bins[0]._leafs[0]._depth,"Check depth of leaf 2"),i.isOk(o._bins[0]._sortMode===d.SORT_BACK_TO_FRONT,"Check RenderBin sort mode")}(),function(){var t=p.createTexturedBoxGeometry(0,0,0,1,1,1),e=new c;h.fromTranslation(e.getMatrix(),[0,0,-10]),e.getOrCreateStateSet().setRenderingHint("OPAQUE_BIN"),e.getOrCreateStateSet().setName("Node0"),e.addChild(t);var r=new c;h.fromTranslation(r.getMatrix(),[0,0,5]),e.getOrCreateStateSet().setRenderingHint("TRANSPARENT_BIN"),r.getOrCreateStateSet().setName("Node1"),r.addChild(t);var a=new l;a.addChild(r),a.addChild(e);var s=n.createCanvas(),o=new S(s);o.init(),o.frame();var u=o.getCamera().getRenderer()._cullVisitor,d=new f,_=new g;u.pushProjectionMatrix(h.create()),u.pushModelViewMatrix(h.create()),u.pushModelViewMatrix(h.create()),u.setRenderStage(d),u.setStateGraph(_),u.setComputeNearFar(!1),a.accept(u),d.sort(),i.isOk(10===d._bins[10]._leafs[0]._depth,"Check transparent bin"),i.isOk(0===d._bins[10].getStateGraphList().length,"Check transparent bin StateGraphList"),i.isOk(0===d._leafs.length,"Check leafs for normal rendering bin"),i.isOk(1===d.getStateGraphList().length,"Check StateGraphList for normal rendering bin"),n.removeCanvas(s)}(),function(){var t=n.createCanvas(),e=new S(t);e.init(),e.frame();var r=e.getCamera().getRenderer()._cullVisitor,i=p.createTexturedBoxGeometry(0,0,0,1,1,1),a=new c;h.fromTranslation(a.getMatrix(),[0,0,-10]),a.getOrCreateStateSet().setRenderingHint("OPAQUE_BIN"),a.getOrCreateStateSet().setName("Node0"),a.addChild(i);var s=new c;h.fromTranslation(s.getMatrix(),[0,0,5]),a.getOrCreateStateSet().setRenderingHint("TRANSPARENT_BIN"),s.getOrCreateStateSet().setName("Node1"),s.addChild(i);var o=new l;o.addChild(s),o.addChild(a);var u=new f,d=new g;u.setViewport(new x),r.pushProjectionMatrix(h.create()),r.pushModelViewMatrix(h.create()),r.pushModelViewMatrix(h.create()),r.setRenderStage(u),r.setStateGraph(d),r.setComputeNearFar(!1),o.accept(r),u.sort();var m=new _(new T),v=n.createFakeRenderer();v.validateProgram=function(){return!0},v.getProgramParameter=function(){return!0},v.isContextLost=function(){return!1},m.setGraphicContext(v),u.draw(m)}(),function(){var t=n.createCanvas(),e=new S(t);e.init(),e.frame();var r=e.getCamera().getRenderer()._cullVisitor,a=r._currentRenderBin.getStage().positionedAttribute[0][0];i.equalVector(a,[1,0,-0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.setLightingMode(y.LightingMode.SKY_LIGHT),e.frame(),a=r._currentRenderBin.getStage().positionedAttribute[0][0],i.equalVector(a,[-1,0,-0,0,0,1,-0,0,0,-0,-1,0,0,0,-10,1]),n.removeCanvas(t)}(),function(){var t=n.createCanvas(),e=new S(t,{enableFrustumCulling:!0}),r=new l,a=h.create(),s=new c,o=p.createTexturedQuadGeometry(-.5,-.5,0,1,0,0,0,1,0,1,1);s.setMatrix(a),s.addChild(o),r.addChild(s),e.setSceneData(r),e.init(),e._updateVisitor.setFrameStamp(e.getFrameStamp()),e.updateTraversal();var u=function(){};u.prototype={cull:function(t,e){e.nodePath=[],e.nodePath.push(r),e.nodePath.push(s);var n=e.isCulled(o,e.nodePath);return i.isOk(n===!1,"scene should not be culled"),!1}},e.getCamera().setCullCallback(new u),e._updateVisitor.setFrameStamp(e.getFrameStamp()),e.updateTraversal(),e.renderingTraversal(),h.setTranslation(a,[200,0,0]),s.setMatrix(a);var d=function(){};d.prototype={cull:function(t,e){e.nodePath=[],e.nodePath.push(r),e.nodePath.push(s);var n=e.isCulled(o,e.nodePath);return i.isOk(n===!0,"scene should be culled"),!1}},e.getCamera().setCullCallback(new d),e._updateVisitor.setFrameStamp(e.getFrameStamp()),e.updateTraversal(),e.renderingTraversal(),h.fromScaling(a,[500,0,0]),h.setTranslation(a,[200,0,0]),s.setMatrix(a);var f=function(){};f.prototype={cull:function(t,e){e.nodePath=[],e.nodePath.push(r),e.nodePath.push(s);var n=e.isCulled(o,e.nodePath);return i.isOk(n===!1,"scene should not be culled"),!1}},e.getCamera().setCullCallback(new f),e._updateVisitor.setFrameStamp(e.getFrameStamp()),e.updateTraversal(),e.renderingTraversal(),n.removeCanvas(t)}()}),test("CullVisitor World/View matrix",function(){var t=function(t){var e=h.create();h.mul(e,t._view,t._model),i.equalVector(e,t._modelView)},e=p.createTexturedBoxGeometry(0,0,0,1,1,1),r=new l,n=new l;r.addChild(n);var a=new s;a.setReferenceFrame(v.ABSOLUTE_RF),h.lookAt(a.getViewMatrix(),[0,20,10],[0,2,0],[0,0,1]),n.addChild(a);var o=new c;h.fromTranslation(o.getMatrix(),[0,0,-10]),a.addChild(o),o.addChild(e);var d=new c;h.fromTranslation(d.getMatrix(),[0,0,-10]),d.getOrCreateStateSet().setName("Node0"),d.addChild(e);var _=new c;h.fromTranslation(_.getMatrix(),[0,0,5]),_.getOrCreateStateSet().setName("Node1"),_.addChild(e);var m=new s,b=new c;h.fromTranslation(_.getMatrix(),[0,0,5]),m.addChild(b),b.addChild(e);var y=new s;y.setReferenceFrame(v.ABSOLUTE_RF),h.lookAt(y.getViewMatrix(),[0,0,0],[0,2,0],[0,0,1]);var S=new c;h.fromTranslation(S.getMatrix(),[0,0,5]),y.addChild(S),S.addChild(e);var T=new l;T.addChild(r),T.addChild(_),T.addChild(m),T.addChild(d),T.addChild(y);var M=new u,A=new f,w=new g;A.setViewport(new x),M.pushProjectionMatrix(h.create()),M.pushModelViewMatrix(h.create()),M.pushModelViewMatrix(h.create()),M.setRenderStage(A),M.setStateGraph(w),M.setComputeNearFar(!1),T.accept(M),i.isOk(M._reserveLeafStack.length>1,"check we have leaf to validate this test");for(var C=0;C<M._reserveLeafStack.length-1;C++)t(M._reserveLeafStack[C])})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(77),s=r(113),o=r(186);t.exports=function(){test("Depth",function(){var t=new a;i.isOk(0===t._near,"Check near"),i.isOk(1===t._far,"Check far"),i.isOk(t._func===a.LESS,"Check function"),i.isOk(t._writeMask===!0,"Check write mask");var e=new s(new o);e.setGraphicContext(n.createFakeRenderer()),t.apply(e),t=new a(a.DISABLE),t.apply(e)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(59),s=r(32),o=r(29);t.exports=function(){test("FrameBufferObject",function(){var t=o.instance().getWebGLParameter("MAX_RENDERBUFFER_SIZE");void 0===t&&(o.instance().getWebGLParameters().MAX_RENDERBUFFER_SIZE=1,t=1),function(){var e=n.createFakeRenderer(),r={getGraphicContext:function(){return e},applyTextureAttribute:function(){}},s=new a;s.setAttachment({texture:{isDirty:function(){return!1},getTextureObject:function(){return{id:function(){}}},getWidth:function(){return 1},getHeight:function(){return 1}},textureTarget:"textureTarget"}),s.setAttachment({format:"texture",width:1,height:1}),s.dirty(),s.apply(r),i.isOk(void 0!==s.getFrameBufferObject(),"Check we created gl framebuffer"),s.releaseGLObjects(),i.isOk(void 0===s.getFrameBufferObject(),"Check we released gl famebuffer"),s.setAttachment({texture:{isDirty:function(){return!1},getTextureObject:function(){return{id:function(){}}},getWidth:function(){return t+1},getHeight:function(){return t+1}},textureTarget:"textureTarget"}),s.setAttachment({format:"texture",width:t+1,height:t+1}),s.dirty(),s.apply(r),i.isOk(void 0===s.getFrameBufferObject(),"Check we did not created gl framebuffer")}(),function(){var t=n.createFakeRenderer(),e={getGraphicContext:function(){return t},applyTextureAttribute:function(){}},r=new a;r.createFrameBufferObject(e),r.bindFrameBufferObject();var o=r.createRenderBuffer(a.DEPTH_COMPONENT16,800,600);r.framebufferRenderBuffer(a.DEPTH_ATTACHMENT,o);var u=new s;u.getTextureObject=function(){return{id:function(){return 1}}},r.framebufferTexture2D(e,a.COLOR_ATTACHMENT0,s.TEXTURE_2D,u),r.apply(e),i.isOk(r.isDirty()===!1,"Check that applied set dirty false even with no attachement"),i.isOk(void 0!==r.getFrameBufferObject(),"Check fbo")}()})}},function(t,e,r){"use strict";var i=(r(250).assert,r(249),r(16).vec3,r(111)),n=r(37),a=r(79),s=r(38),o=r(40),u=r(28),h=r(84);t.exports=function(){test("KdTree",function(){var t=function(){var t=i.createTexturedQuadGeometry(0,0,0,1,0,0,0,1,0,1,1);return t},e=function(){var t=i.createTexturedQuadGeometry(0,0,0,1,0,0,0,1,0,1,1),e=[];e[0]=1,e[1]=0,e[2]=2,e[3]=3;var r=new n(s.TRIANGLE_STRIP,new o(o.ELEMENT_ARRAY_BUFFER,e,1));return t.getPrimitives()[0]=r,t},r=function(){var t=i.createTexturedQuadGeometry(0,0,0,1,0,0,0,1,0,1,1),e=[];e[0]=0,e[1]=1,e[2]=2,e[3]=3;var r=new n(s.TRIANGLE_FAN,new o(o.ELEMENT_ARRAY_BUFFER,e,1));return t.getPrimitives()[0]=r,t},c=function(){var t=0,e=0,r=0,i=1,n=0,h=0,c=0,l=1,d=0,f=new u,p=[];p[0]=t+c,p[1]=e+l,p[2]=r+d,p[3]=t,p[4]=e,p[5]=r,p[6]=t+i,p[7]=e+n,p[8]=r+h,p[9]=t+c,p[10]=e+l,p[11]=r+d,p[12]=t+i,p[13]=e+n,p[14]=r+h,p[15]=t+i+c,p[16]=e+n+l,p[17]=r+h+d,f.getAttributes().Vertex=new o(o.ARRAY_BUFFER,p,3);var g=new a(s.TRIANGLES,0,6);return f.getPrimitives().push(g),f},l=function(){var t=0,e=0,r=0,i=1,n=0,h=0,c=0,l=1,d=0,f=new u,p=[];p[0]=t,p[1]=e,p[2]=r,p[3]=t+c,p[4]=e+l,p[5]=r+d,p[6]=t+i,p[7]=e+n,p[8]=r+h,p[9]=t+i+c,p[10]=e+n+l,p[11]=r+h+d,f.getAttributes().Vertex=new o(o.ARRAY_BUFFER,p,3);var g=new a(s.TRIANGLE_STRIP,0,4);return f.getPrimitives().push(g),f},d=function(){var t=0,e=0,r=0,i=1,n=0,h=0,c=0,l=1,d=0,f=new u,p=[];p[0]=t+c,p[1]=e+l,p[2]=r+d,p[3]=t,p[4]=e,p[5]=r,p[6]=t+i,p[7]=e+n,p[8]=r+h,p[9]=t+i+c,p[10]=e+n+l,p[11]=r+h+d,f.getAttributes().Vertex=new o(o.ARRAY_BUFFER,p,3);var g=new a(s.TRIANGLE_FAN,0,4);return f.getPrimitives().push(g),f},f=function(){var i=t(),n=c(),a=e(),s=l(),h=r(),f=d(),p=[i,n,a,s,h,f],g=p.length,_=new u,m=_.getPrimitives(),v=[],b=0,x=0;for(b=0;b<g;++b){var y=p[b],S=y.getPrimitives()[0],T=v.length/3;if(S.getIndices){var M=S.indices.getElements(),A=M.length;for(x=0;x<A;++x)M[x]+=T}else S.first=T;m.push(y.getPrimitives()[0]);var w=y.getAttributes().Vertex.getElements(),C=w.length;for(x=0;x<C;++x)v.push(w[x])}return _.getAttributes().Vertex=new o(o.ARRAY_BUFFER,v,3),_},p=f(),g=(p.getPrimitives().length,new h);g.build({_numVerticesProcessed:0,_targetNumTrianglesPerLeaf:3,_maxNumLevels:20},p)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(87),s=r(217),o=r(111),u=r(13),h=r(58),c=r(9),l=r(16).mat4,d=r(16).vec3,f=r(16).vec4;t.exports=function(){test("Light",function(){!function(){var t=new a;t.setLightNumber(0),t.setLightAsPoint(),i.equalVector(t.getPosition(),f.fromValues(0,0,0,1)),i.equal(t.getSpotCutoff(),180),i.equal(t.getLightType(),a.POINT),t.setLightAsDirection(),i.equalVector(t.getPosition(),f.fromValues(0,0,1,0)),i.equal(t.getLightType(),a.DIRECTION),t.setLightAsSpot(),i.equalVector(t.getPosition(),f.fromValues(0,0,0,1)),i.equalVector(t.getDirection(),d.fromValues(0,0,-1)),i.equal(t.getSpotCutoff(),90),i.equal(t.getLightType(),a.SPOT),i.equalVector(t.getAmbient(),f.fromValues(.2,.2,.2,1)),i.equalVector(t.getDiffuse(),f.fromValues(.8,.8,.8,1)),i.equalVector(t.getSpecular(),f.fromValues(.2,.2,.2,1)),i.equal(t.getConstantAttenuation(),1),i.equal(t.getLinearAttenuation(),0),i.equal(t.getQuadraticAttenuation(),0)}(),function(){var t=n.createCanvas(),e=new s(t);e.init();var r=new a;r.setLightNumber(0);var i=new a;i.setLightNumber(1);var u=o.createTexturedQuadGeometry(-25,-25,0,50,0,0,0,50,0);u.getOrCreateStateSet().setAttributeAndModes(r),u.getOrCreateStateSet().setAttributeAndModes(i);var h=e.getState(),c=n.createFakeRenderer();c.validateProgram=function(){return!0},c.getProgramParameter=function(){return!0},c.isContextLost=function(){return!1},h.setGraphicContext(c),e.setSceneData(u),e.frame(),n.removeCanvas(t)}(),function(){var t=n.createCanvas(),e=new s(t);e.init();var r=new u,i=new u,d=new u;r.addChild(i),r.addChild(d);var f=new a;f.setLightNumber(0),f.setName("enableLight0"),i.getOrCreateStateSet().setAttributeAndModes(f);var p=new a;p.setLightNumber(1),p.setName("enableLight1"),d.getOrCreateStateSet().setAttributeAndModes(p);var g=o.createTexturedQuadGeometry(-25,-25,0,50,0,0,0,50,0),_=new a;_.setLightNumber(0),_.setName("disableLight0");var m=new a;m.setLightNumber(1),m.setName("disableLight1"),i.addChild(g),i.getOrCreateStateSet().setAttributeAndModes(m),d.addChild(g),d.getOrCreateStateSet().setAttributeAndModes(_),e.frame();var v=e.getCamera().getRenderer()._cullVisitor,b=new h,x=new c;v.pushProjectionMatrix(l.create()),v.pushModelViewMatrix(l.create()),v.setRenderStage(b),v.setStateGraph(x),r.accept(v),n.removeCanvas(t)}(),i.isOk(!0,"check no exception")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(16).mat4,s=r(16).vec3,o=r(16).quat,u=r(11);t.exports=function(){test("Matrix.makeRotateFromQuat",function(){var t=a.create();a.fromQuat(t,o.fromValues(.653281,.270598,-.653281,.270598)),i.equalVector(t,a.fromValues(1.66533e-16,1.11022e-16,-1,0,.707107,-.707107,0,0,-.707107,-.707107,-1.66533e-16,0,0,0,0,1))}),test("Matrix.getRotate",function(){var t=a.create();a.fromQuat(t,o.fromValues(.653281,.270598,-.653281,.270598));var e=a.getRotation(o.create(),t);i.equalVector(e,o.fromValues(.653281,.270598,-.653281,.270598))}),test("Matrix.getPerspective",function(){var t=a.create();a.perspective(t,Math.PI/180*60,4,2,500);var e={};a.getPerspective(e,t),i.equalVector(e.zNear,2),i.equalVector(e.zFar,500,.1),i.equalVector(e.fovy,60),i.equalVector(e.aspectRatio,4)}),test("Matrix.makeLookAt",function(){var t=a.lookAt(a.create(),s.fromValues(0,-10,0),s.fromValues(0,0,0),s.fromValues(0,0,1));i.equalVector(t,a.fromValues(1,0,-0,0,0,0,-1,0,0,1,-0,0,0,0,-10,1));var e=a.lookAt(a.create(),s.fromValues(0,0,-10),s.create(),s.fromValues(0,1,0));i.equalVector(e,a.fromValues(-1,0,-0,0,0,1,-0,0,0,-0,-1,0,0,0,-10,1))}),test("Matrix.getLookAt",function(){var t=a.lookAt(a.create(),s.fromValues(0,-10,0),s.fromValues(0,5,0),s.fromValues(0,0,1)),e=s.create(),r=s.create(),n=s.create();a.getLookAt(e,r,n,t,5),i.equalVector(e,s.fromValues(0,-10,0)),i.equalVector(r,s.fromValues(0,-5,0)),i.equalVector(n,s.fromValues(0,0,1))}),test("Matrix.transformVec3",function(){var t=a.fromRotation(a.create(),-Math.PI/2,[0,1,0]),e=s.fromValues(0,0,10),r=a.create();a.invert(r,t);var n=s.transformMat4(s.create(),e,r);i.equalVector(n,s.fromValues(10,0,0));var o=s.transformMat4(s.create(),n,t);i.equalVector(o,s.fromValues(0,0,10)),t=a.fromValues(-3499092e-11,0,0,0,0,349909e-10,0,0,0,0,1.816363636,-9.989999999,.01399637,-.010497277,-1.799999999,9.9999999);var u=function(t,e,r){void 0===r&&(r=a.create());var i=1/(t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]);return r[0]=(t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12])*i,r[1]=(t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13])*i,r[2]=(t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14])*i,r},h=u(t,s.fromValues(400,300,1));s.transformMat4(n,s.fromValues(400,300,1),t),i.equalVector(n,h)}),test("Matrix.transpose",function(){var t=a.fromValues(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15),e=a.transpose(a.create(),t);i.equalVector(e,a.fromValues(0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15));
var r=a.transpose(a.create(),t);i.equalVector(r,a.fromValues(0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15));var n=a.transpose(t,t);i.equalVector(n,a.fromValues(0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15))}),test("Matrix.makeRotate",function(){var t=a.fromRotation(a.create(),0,[0,0,1]);i.equalVector(t,a.create())}),test("Matrix.mult",function(){var t=800,e=600,r=a.create(),n=a.create(),s=a.create();a.fromTranslation(r,[1,1,1]),a.fromScaling(n,[.5*t,.5*e,.5]),a.mul(s,n,r),i.equalVector(s,a.fromValues(400,0,0,0,0,300,0,0,0,0,.5,0,400,300,.5,1)),a.fromTranslation(r,[1,1,1]),a.fromScaling(n,[.5*t,.5*e,.5]);var o=a.create();a.mul(o,o,n),a.mul(o,o,r),i.equalVector(o,a.fromValues(400,0,0,0,0,300,0,0,0,0,.5,0,400,300,.5,1)),a.mul(n,n,r),i.equalVector(n,a.fromValues(400,0,0,0,0,300,0,0,0,0,.5,0,400,300,.5,1))}),test("Matrix.inverse4x3",function(){var t=a.fromValues(1,0,0,0,0,1,0,0,0,0,1,0,10,10,10,1),e=[],r=a.invert(e,t);i.isOk(!0,r),i.equalVector(e,a.fromValues(1,0,0,0,0,1,0,0,0,0,1,0,-10,-10,-10,1));var n=a.fromValues(.0011258089,.001312161,-.001274753,0,-.0002278837182,.001585725704,.001430999692,0,.00181517053,-.00061475582,.0009702887,0,0,0,0,1),s=[];a.invert(s,n),i.equalVector(s,a.fromValues(243.988,-49.3875,393.386,0,284.374,343.661,-133.23,0,-276.267,310.128,210.282,0,-0,-0,-0,1),.001);var o=a.fromValues(.001125808,-.0002278837,.00181517053,0,.00131216,.0015857257,-.000614755824,0,-.00127475,.0014309996,.000970288764,0,0,0,0,1),u=[];a.invert(u,o),i.equalVector(u,a.fromValues(243.988,284.374,-276.267,0,-49.3875,343.661,310.128,0,393.386,-133.23,210.282,0,-0,-0,-0,1),.001)}),test("Matrix.inverse",function(){var t=a.create(),e=a.fromValues(0,0,0,0,0,0,0,0,0,0,0,0,1375333.5195828325,-4275596.259263198,4514838.703939765,1),r=a.invert(t,e);i.isOk(!0,r),u.log("inverse "+a.str(t))}),test("Matrix.makePerspective",function(){var t=a.fromValues(1.299038105676658,0,0,0,0,1.7320508075688774,0,0,0,0,-1.002002002002002,-1,0,0,-2.002002002002002,0),e=a.perspective(a.create(),Math.PI/180*60,800/600,1,1e3);i.isOk(n.checkNear(e,t),"makePerspective should be "+t+" and is "+e)}),test("Matrix.makeScale",function(){var t=a.fromValues(500,0,0,0,0,1,0,0,0,0,2,0,0,0,0,1),e=a.fromScaling(a.create(),[500,1,2]);i.isOk(n.checkNear(e,t),"makeScale should be "+t+" and is "+e)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(53),s=r(16).mat4,o=r(141),u=r(26);t.exports=function(){test("MatrixTransform",function(){var t=new a,e=o.parseSceneGraph(n.getBoxScene());s.fromTranslation(t.getMatrix(),[100,0,0]),t.addChild(e);var r=t.getBound();i.equalVector(r.center(),[100,0,0]),i.equalVector(r.radius(),2.414213562373095)}),test("Transform",function(){var t=new a,e=o.parseSceneGraph(n.getBoxScene());s.fromScaling(t.getMatrix(),[2,3,4]),t.addChild(e);var r=t.getBound();i.equalVector(r.center(),[0,0,0]),i.equalVector(r.radius(),9.65685424949238)}),test("Transform absolute vs relative",function(){var t=s.fromRotation(s.create(),.5*-Math.PI,[1,0,0]),e=s.create();s.invert(e,t);var r=new a;s.copy(r.getMatrix(),t);var n=s.create(),o=function(r){i.equalVector(r.getWorldMatrices()[0],t),r.computeLocalToWorldMatrix(s.identity(n)),i.equalVector(n,t),r.computeWorldToLocalMatrix(s.identity(n)),i.equalVector(n,e)};o(r),r.setReferenceFrame(u.ABSOLUTE_RF),o(r)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(13);t.exports=function(){test("Node",function(){var t=new n;i.isOk(0===t.children.length,"number of children must be 0"),i.isOk(0===t.getParents().length,"number of parents must be 0"),i.isOk(t.nodeMask===-1,"nodemask must be ~0"),i.isOk(void 0!==t._boundingSphere,"boundingSphere must not be undefined"),i.isOk(t._boundingSphereComputed===!1,"boundingSphereComputed must be false"),t.getBound(),i.isOk(t._boundingSphereComputed===!0,"boundingSphereComputed must be true");var e=new n;t.addChild(e),i.isOk(1===t.children.length,"n must have 1 child"),i.isOk(1===e.getParents().length,"n1 must have 1 parent"),i.isOk(t._boundingSphereComputed===!1,"boundingSphereComputed must be false after adding child"),t.getBound(),i.isOk(t._boundingSphereComputed===!0,"boundingSphereComputed must be true after calling getBound"),e.dirtyBound(),i.isOk(t._boundingSphereComputed===!1,"boundingSphereComputed must be true if a child call dirtyBound");var r=e.getWorldMatrices();i.isOk(1===r.length&&1===r[0][0]&&1===r[0][5]&&1===r[0][10]&&1===r[0][15],"getWorldMatrices should return one identity matrix"),e.getBound()._radius=1,e.setCullingActive(!1),i.isOk(t.isCullingActive()===!1,"culling should be disabled because n has a child with the culling disabled"),e.setCullingActive(!0),i.isOk(t.isCullingActive()===!0,"culling should be enabled because all of the children have their culling active")}),test("Node.getNumChildrenRequiringUpdateTraversal",function(){var t=function(){};t.prototype={update:function(){return!0}};var e=new t,r=new n,a=new n,s=new n;r.addChild(a),r.addChild(s),i.equal(r.getNumChildrenRequiringUpdateTraversal(),0,"Check not need to traverse if no callback"),s.addUpdateCallback(e),i.equal(r.getNumChildrenRequiringUpdateTraversal(),1,"Check need to traverse because of callback on n2"),s.removeUpdateCallback(e),i.equal(r.getNumChildrenRequiringUpdateTraversal(),0,"Check no need to traverse because of callback removed on n2");var o=a.getOrCreateStateSet();o.addUpdateCallback(e),i.equal(r.getNumChildrenRequiringUpdateTraversal(),1,"Check need to traverse because of callback on stateset"),s.addUpdateCallback(e),a.addUpdateCallback(e),i.equal(r.getNumChildrenRequiringUpdateTraversal(),2,"Check need to traverse because of callback on stateset, n2 and n1"),o.removeUpdateCallback(e),s.removeUpdateCallback(e),a.removeUpdateCallback(e),i.equal(r.getNumChildrenRequiringUpdateTraversal(),0,"Check no need to traverse because no callback anymore")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(23),a=r(13),s=r(7);t.exports=function(){test("NodeVisitor",function(){var t=function(t){n.call(this),this.search=t,this.result=[]};t.prototype=s.objectInherit(n.prototype,{apply:function(t){if(void 0!==t.getName){var e=t.getName();void 0!==e&&e===this.search&&this.result.push(t)}this.traverse(t)}});var e=new a;e.setName("a");var r=new a;r.setName("b");var o=new a;o.setName("c"),e.addChild(r),e.addChild(o);var u=new t("c");u.apply(e),i.isOk(u.result[0]===o,'Should find item named "c" '+u.result[0].name),o.setNodeMask(0),u=new t("c"),e.accept(u),i.isOk(0===u.result.length,'Should not find item named "c" because of node mask'),function(){var t=function(){n.call(this,n.TRAVERSE_PARENTS),this.node=void 0};t.prototype=s.objectInherit(n.prototype,{apply:function(t){this.node=t,this.traverse(t)}});var e=new a;e.setName("root");var r=new a,o=new a,u=new a;e.addChild(r),e.addChild(o),o.addChild(u);var h=new t;u.accept(h),i.isOk("root"===h.node.getName(),"Should get the root node")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=(r(249),r(13)),a=r(60),s=r(62),o=r(111);t.exports=function(){test("PagedLOD",function(){var t=new s;i.isOk(0===t.children.length,"number of children must be 0"),i.isOk(0===t.getParents().length,"number of parents must be 0");var e=new n;t.addChild(e,0,200),i.isOk(1===t.children.length,"number of children must be 1"),i.isOk(0===t._range[0][0],"range min should be 0"),i.isOk(200===t._range[0][1]," range max should be 200")}),test("PagedLOD.UserDefinedBound",function(){var t=new s,e=o.createTexturedQuadGeometry(-1,-1,0,2,0,0,0,2,0);t.setRange(0,0,200),t.addChildNode(e),console.log(t.getBound().radius()),i.equalVector(t.getBound().radius(),1.4142135623730951,1e-7),t.setCenter([0,0,0]),t.setRadius(10),t.dirtyBound(),i.equalVector(t.getBound().radius(),10,1e-7),t.setCenterMode(a.UNION_OF_BOUNDING_SPHERE_AND_USER_DEFINED),t.setCenter([10,10,10]),t.dirtyBound(),i.equalVector(t.getBound().radius(),14.367360819,1e-7)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(20),a=r(50);t.exports=function(){test("Plane",function(){var t=a.create();a.setNormal(t,[2,0,0]),a.setDistance(t,-2),a.normalizeEquation(t),i.isOk(3===a.distanceToPlane(t,[4,0,0])),i.isOk(a.distanceToPlane(t,[-4,0,0])===-5),i.isOk(0===a.distanceToPlane(t,[1,0,0]));var e=new n;e.set([-40,0,0],.1),e.expandByvec3([-.1,-.1,0]),i.isOk(a.intersectsOrContainsBoundingSphere(t,e)===a.OUTSIDE),e.expandByvec3([1,4,0]),e.expandByvec3([2,3,0]),i.isOk(a.intersectsOrContainsBoundingSphere(t,e)===a.INTERSECT),e.set([40,0,0],1),i.isOk(a.intersectsOrContainsBoundingSphere(t,e)===a.INSIDE)})}},function(t,e,r){"use strict";var i=r(250).assert,n=(r(249),r(16).quat),a=r(16).vec3,s=r(16).mat4;t.exports=function(){var t=n.create(),e=Math.sqrt(.5),r=n.fromValues(e,0,e,0),o=n.fromValues(-e,0,-e,0),u=n.fromValues(0,e,0,e),h=n.fromValues(0,0,1,0),c=n.fromValues(0,0,e,e),l=n.fromValues(.5,0,.5,.7071067811865475),d=n.fromValues(-.5,0,-.5,.7071067811865475);test("Quat.init",function(){var t=n.create();n.init(t),i.equalVector(t,n.fromValues(0,0,0,1))}),test("Quat.makeRotate",function(){var t=n.setAxisAngle(n.create(),[1,0,0],Math.PI);i.equalVector(t,n.fromValues(1,0,0,6.12303e-17),1e-5);var e=n.setAxisAngle(n.create(),[0,1,0],Math.PI/2);i.equalVector(e,n.fromValues(0,.707107,0,.707107));var r=n.setAxisAngle(n.create(),[0,0,1],Math.PI/4);i.equalVector(r,n.fromValues(0,0,.382683,.92388))}),test("Quat.makeRotateFromTo",function(){var t=n.rotationTo(n.create(),a.fromValues(1,0,0),a.fromValues(0,1,0));i.equalVector(t,n.fromValues(0,0,.707107,.707107),1e-5);var e=n.setAxisAngle(n.create(),[0,1,0],Math.PI/2),r=n.rotationTo(n.create(),a.fromValues(0,0,1),a.fromValues(1,0,0));i.equalVector(r,e,1e-5)}),test("Quat.multiply",function(){var t=n.setAxisAngle(n.create(),[1,0,0],Math.PI),e=n.setAxisAngle(n.create(),[0,1,0],Math.PI/2),r=n.setAxisAngle(n.create(),[0,0,1],Math.PI/4),a=n.create();n.multiply(a,e,t),i.equalVector(a,n.fromValues(.707107,4.32964e-17,-.707107,4.32964e-17));var o=s.create(),u=s.create(),h=s.create();s.fromQuat(o,e),s.fromQuat(u,t),s.mul(h,o,u);var c=n.create();s.getRotation(c,h),i.equalVector(a,c),i.equalVector(n.multiply(n.create(),r,n.multiply(n.create(),e,t)),n.fromValues(.653281,.270598,-.653281,.270598))}),test("Quat.slerp",function(){var e=n.fromValues(0,0,0,0);n.slerp(e,u,n.fromValues(0,0,.382683,.92388),.5),i.equalVector(e,n.fromValues(0,.388863,.210451,.896937)),n.slerp(e,t,r,0),i.equalVector(e,t,1e-5,"t = 0"),n.slerp(e,t,r,1),i.equalVector(e,r,1e-5,"t = 1"),n.slerp(e,t,r,.5),i.equalVector(e,l,1e-5,"0 -> 90; t:0.5"),n.slerp(e,r,t,.5),i.equalVector(e,l,1e-5,"90 -> 0 t:0.5"),n.slerp(e,t,o,.5),i.equalVector(e,d,1e-5,"shortest path t:0.5"),n.slerp(e,o,t,.5),i.equalVector(e,d,1e-5,"shortest path inverted t:0.5"),n.slerp(e,r,r,.5),i.equalVector(e,r,1e-5,"same input t:0.5"),n.slerp(e,t,h,.5),i.equalVector(e,c,1e-5,"0 to 180 t:0.5"),n.slerp(e,t,n.fromValues(0,0,0,.999),.5),i.equalVector(e,t,1e4,"a~n, t:0.5"),n.slerp(e,t,n.fromValues(0,0,0,-1),.5),i.equalVector(e,t,1e-5,"opposite sign, t:0.5")}),test("Quat.nlerp",function(){var e=n.fromValues(0,0,0,0);n.nlerp(e,u,n.fromValues(0,0,.382683,.92388),.5),i.equalVector(e,n.fromValues(0,.388863,.210451,.896937)),n.nlerp(e,t,r,0),i.equalVector(e,t,1e-5,"t = 0"),n.nlerp(e,t,r,1),i.equalVector(e,r,1e-5,"t = 1"),n.nlerp(e,t,r,.5),i.equalVector(e,l,1e-5,"0 -> 90; t:0.5"),n.nlerp(e,r,t,.5),i.equalVector(e,l,1e-5,"90 -> 0 t:0.5"),n.nlerp(e,t,o,.5),i.equalVector(e,d,1e-5,"shortest path t:0.5"),n.nlerp(e,o,t,.5),i.equalVector(e,d,1e-5,"shortest path inverted t:0.5"),n.nlerp(e,r,r,.5),i.equalVector(e,r,1e-5,"same input t:0.5"),n.nlerp(e,t,h,.5),i.equalVector(e,c,1e-5,"0 to 180 t:0.5"),n.nlerp(e,t,n.fromValues(0,0,0,.999),.5),i.equalVector(e,t,1e-5,"a~n, t:0.5"),n.nlerp(e,t,n.fromValues(0,0,0,-1),.5),i.equalVector(e,t,1e-5,"opposite sign, t:0.5")}),test("Quat.transformVec3",function(){var t=a.fromValues(1,2,3);a.transformQuat(t,t,n.fromValues(0,.707107,0,.707107)),i.equalVector(t,a.fromValues(3,2,-1))})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(110),a=r(11);t.exports=function(){test("Shader",function(){var t="",e="",r="",s={warn:function(r){t+=r+"\n",e+=r+"\n"},error:function(e){t+=e+"\n",r+=e+"\n"},log:function(e){t+=e+"\n"},info:function(e){t+=e+"\n"}};a.setConsole(s);var o="",u="";n.prototype.processErrors(u,o),i.equal(t,"\n","empty compilation error"),t="",e="",r="",o="#version 100\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n\n#endif\n#define SHADER_NAME CompilerOSGJS\n\n\nattribute vec3 Vertex;\nattribute vec2 TexCoord0;\nattribute vec3 Normal;\nattribute vec4 Color;\n\nuniform float ArrayColorEnabled;\nuniform mat4 ModelViewMatrix;\nuniform mat4 NormalMatrix;\nuniform mat4 ProjectionMatrix;\nvarying vec2 FragTexCoord0;\nvarying vec3 FragNormal;\nvarying vec4 FragEyeVector;\nvarying vec4 VertexColor;\n\n\n\nvoid main() {\n// vars\n\nconst float unitFloat = 1.0;\n// end vars\ngl_PointSize = unitFloat;\nFragEyeVector = ModelViewMatrix*vec4(Vertex.xyz, 1.);\ngl_Position = ProjectionMatrix*FragEyeVector;\nFragNormal = vec3(NormalMatrix*vec4(Normal.xyz, 0.));\nFragTexCoord0 = TexCoord0.rg;\n\nif (\nArrayColorEnabled == 1.0 ) \n    VertexColor = Color;e\n  else\n    VertexColor = vec4(1.0,1.0,1.0,1.0);\n}",u="ERROR: 0:37: 'e' : undeclared identifier\nERROR: 0:38: 'else' : syntax error",n.prototype.processErrors(u,o),i.equal(e.length,624,"test compilation warnings"),i.equal(r.length,90,"test compilation error")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(113),a=r(21),s=r(89),o=r(22),u=r(32),h=r(186),c=r(249);t.exports=function(){test("State",function(){!function(){var t=new n(new h),e=new a,r=new a,u=new a;e.setAttributeAndModes(new s),r.setAttributeAndModes(new s,o.OVERRIDE),u.setAttributeAndModes(new s,o.OFF),t.pushStateSet(e),t.pushStateSet(r),t.pushStateSet(u);var c=t.attributeMap.Material;i.isOk(c[c.length-1]===c[c.length-2],"check Override in state")}()}),test("State setGlobalDefaultTextureAttribute",function(){var t=new n(new h),e=new u;t.setGlobalDefaultTextureAttribute(0,e),i.equal(t.getGlobalDefaultTextureAttribute(0,"Texture"),e,"check texture object")}),test("State applyStateSet",function(){!function(){var t=new n(new h),e=c.createFakeRenderer(),r=0;e.createProgram=function(){return r++},e.getProgramParameter=function(){return!0};var o=new Map;e.bindTexture=function(t,e){var r=o.get(e);void 0===r&&(r=0),r++,o.set(e,r)},t.setGraphicContext(e);var l=new a,d=new a,f=new a;l.setAttributeAndModes(new s);var p=new u;p.setName("My name is 0"),p.setTextureSize(1,1),p._textureObject={bind:function(t){t.bindTexture(0,1)}},d.setTextureAttributeAndModes(0,p),f.setTextureAttributeAndModes(0,p),f.setTextureAttributeAndModes(1,new u),t.pushStateSet(l),t.applyStateSet(d),t.applyStateSet(f),i.equal(t.getStateSetStackSize(),1,"check stateSet stack length"),i.notEqual(t.getLastProgramApplied(),void 0,"check last program applied"),i.equal(t.attributeMap.Program.values().length,0,"check program stack length"),i.equal(o.get(1),1,"check that texture 0 is applied only once")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(21),a=r(33),s=r(110),o=r(92),u=r(32);t.exports=function(){test("StateSet",function(){!function(){var t,e=new n;t=e.getUniform("test"),i.isOk(void 0===t,"Check getting an non existant uniform"),e.addUniform(a.createFloat1(1,"test")),t=e.getUniform("test"),i.isOk(void 0!==t,"Check getting an existant uniform")}(),function(){var t=new n,e=new u;t.setTextureAttributeAndModes(1,e),i.isOk(t.getTextureAttribute(1,"Texture")===e,"Check texture attribute accessors"),t.removeTextureAttribute(1,"Texture"),i.isOk(void 0===t.getTextureAttribute(1,"Texture"),"Check texture attribute has been removed")}(),function(){function t(){var t=["","attribute vec3 Vertex;","varying vec4 position;","void main(void) {","  gl_Position = vec4(Vertex,1.0);","}"].join("\n"),e=["","precision highp float;","varying vec4 position;","void main(void) {","  gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);","}",""].join("\n"),r=new o(new s("VERTEX_SHADER",t),new s("FRAGMENT_SHADER",e));return r.trackAttributes={},r.trackAttributes.attributeKeys=[],r}var e=new n,r=t();e.setAttributeAndModes(r),i.isOk(e.getAttribute("Program")===r,"Check stateset program"),e.removeAttribute("Program"),i.isOk(void 0===e.getAttribute("Program"),"Check program has been removed")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=(r(249),r(13)),a=r(23),s=r(61),o=(r(111),r(7));t.exports=function(){test("Switch",function(){var t=new s;i.isOk(0===t.children.length,"number of children must be 0"),i.isOk(0===t.getParents().length,"number of parents must be 0");var e=new n;e.setName("enabled"),t.addChild(e,!0);var r=new n;r.setName("disabled"),t.addChild(r,!1),i.isOk(2===t.children.length,"number of children must be 2"),i.isOk(t._values[0]===!0,"first value should be true"),i.isOk(t._values[1]===!1,"first value should be false");var u=function(){a.call(this,a.TRAVERSE_ACTIVE_CHILDREN)};u.prototype=o.objectInherit(a.prototype,{apply:function(t){void 0!==t.getName&&i.isOk("disabled"!==t.getName(),"only enabled child should be traversed"),this.traverse(t)}});var h=new u;h.apply(t)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(32),s=r(113),o=r(186),u=r(136);t.exports=function(){test("Texture",function(t){this.timeout(2e4);var e=new u,r=new a;e.readImageURL('"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2P8DwQACgAD/il4QJ8AAAAASUVORK5CYII="').then(function(t){r.setImage(t)}),i.isOk(void 0!==r,"Check textureFromURL");var h,c=function(){c.nbLoad--,0===c.nbLoad&&h()};c.nbLoad=0,c.addRessource=function(){c.nbLoad++};var l=function(t,e){c.addRessource();var r=new a,i=new Image;return i.onload=function(){r.setImage(i,e),c()},i.src=t,r},d=l("mockup/greyscale.png",a.ALPHA);d.setUnrefImageDataAfterApply(!0),l("mockup/rgb24.png",a.RGB),l("mockup/rgba32.png",a.RGBA),h=function(){var e=document.createElement("canvas");e.setAttribute("width",128),e.setAttribute("height",128);var r=new a;r.setImage(e);var u=n.createFakeRenderer();u.createTexture=function(){return 1};var h=new s(new o);h.setGraphicContext(u);var c=new a;c.setImage(d._image),i.isOk(c.getImage().isReady()===!0,"Image is ready"),c=new a,c.setImage(e),i.isOk(c.getImage().isReady()===!0,"Image is ready because of canvas"),i.isOk(d.isDirty()===!0,"dirty is true"),d.apply(h),i.isOk(void 0===d._image,"image should be undefined because of unrefAfterApply"),i.isOk(void 0!==d._textureObject,"texture object"),i.isOk(d.isDirty()===!1,"dirty is false"),t()}})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(114),s=r(32),o=r(113),u=r(141),h=r(186);t.exports=function(){test("TextureCubeMap",function(){var t=u.readImage("mockup/greyscale.png",{promise:!1}),e=new o(new h);e.setGraphicContext(n.createFakeRenderer());var r=new a;r.setImage("TEXTURE_CUBE_MAP_POSITIVE_X",t,s.ALPHA),r.setImage("TEXTURE_CUBE_MAP_NEGATIVE_X",t,s.ALPHA),r.setImage("TEXTURE_CUBE_MAP_POSITIVE_Y",t,s.ALPHA),r.setImage("TEXTURE_CUBE_MAP_NEGATIVE_Y",t,s.ALPHA),r.setImage("TEXTURE_CUBE_MAP_POSITIVE_Z",t,s.ALPHA),r.setImage("TEXTURE_CUBE_MAP_NEGATIVE_Z",t,s.ALPHA),r.apply(e),i.isOk(void 0!==r.getImage(s.TEXTURE_CUBE_MAP_POSITIVE_X),"Check positive x"),i.isOk(void 0!==r.getImage(s.TEXTURE_CUBE_MAP_NEGATIVE_X),"Check negative x"),i.isOk(void 0!==r.getImage(s.TEXTURE_CUBE_MAP_POSITIVE_Y),"Check positive y"),i.isOk(void 0!==r.getImage(s.TEXTURE_CUBE_MAP_NEGATIVE_Y),"Check negative y"),i.isOk(void 0!==r.getImage(s.TEXTURE_CUBE_MAP_POSITIVE_Z),"Check positive z"),i.isOk(void 0!==r.getImage(s.TEXTURE_CUBE_MAP_NEGATIVE_Z),"Check negative z")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(36),s=r(32);t.exports=function(){test("TextureManager",function(){var t=new a,e=n.createFakeRenderer(),r=[],o=[];!function(){for(var i=0,n=4;i<n;i++){var a=t.generateTextureObject(e,{},s.TEXTURE_2D,s.RGBA,1024,1024);r.push(a)}}(),function(){for(var r=0,i=2;r<i;r++){var n=t.generateTextureObject(e,{},s.TEXTURE_2D,s.ALPHA,512,1024);o.push(n)}}(),i.equal(t._textureSetMap[0xca0047a275c00].getUsedTextureObjects().length,4,"check nb texture 1024x1024 created"),i.equal(t._textureSetMap[355364065121024].getUsedTextureObjects().length,2,"check nb texture 512x1024 created"),i.equal(t._textureSetMap[0xca0047a275c00].getOrphanedTextureObjects().length,0,"check orphan texture 1024x1024 null"),i.equal(t._textureSetMap[355364065121024].getOrphanedTextureObjects().length,0,"check orphan texture 512x1024 null"),o.forEach(function(e){t.releaseTextureObject(e)}),r.forEach(function(e){t.releaseTextureObject(e)}),i.equal(t._textureSetMap[0xca0047a275c00].getOrphanedTextureObjects().length,4,"check orphan 1024x1024 after release"),i.equal(t._textureSetMap[355364065121024].getOrphanedTextureObjects().length,2,"check orphan 512x1024 after release"),i.equal(t._textureSetMap[0xca0047a275c00].getUsedTextureObjects().length,0,"check used 1024x1024 empty after release"),i.equal(t._textureSetMap[355364065121024].getUsedTextureObjects().length,0,"check used 512x1024 empty after release"),t.flushAllDeletedTextureObjects(e),i.equal(t._textureSetMap[0xca0047a275c00].getOrphanedTextureObjects().length,0,"check orphan 1024x1024 empty delete"),i.equal(t._textureSetMap[355364065121024].getOrphanedTextureObjects().length,0,"check orphan 512x1024 empty after delete")}),test("TextureManager flushDeletedTextureObjects",function(){var t=new a,e=n.createFakeRenderer(),r=[];!function(){for(var i=0,n=40;i<n;i++){var a=t.generateTextureObject(e,{},s.TEXTURE_2D,s.RGBA,1024,1024);r.push(a)}}(),r.forEach(function(e){t.releaseTextureObject(e)}),i.equal(t._textureSetMap[0xca0047a275c00].getOrphanedTextureObjects().length,40,"check orphan 1024x1024 after release"),i.equal(t._textureSetMap[0xca0047a275c00].getUsedTextureObjects().length,0,"check used 1024x1024 empty after release"),t.flushDeletedTextureObjects(e,1e-5),i.isOk(t._textureSetMap[0xca0047a275c00].getOrphanedTextureObjects().length>0,"check orphan 1024x1024 delete not empty"),t.flushAllDeletedTextureObjects(e),i.equal(t._textureSetMap[0xca0047a275c00].getOrphanedTextureObjects().length,0,"check orphan 1024x1024 empty delete")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(116),a=r(13);t.exports=function(){test("UpdateVisitor",function(){var t=new n,e=new a;e.setName("a");var r=new a;r.setName("b");var s=new a;s.setName("c"),e.addChild(r),r.addChild(s);var o=0,u=0,h=0,c=0,l=function(){this.update=function(){c+=1}},d=r.getOrCreateStateSet();d.addUpdateCallback(new l);var f=function(){};f.prototype={update:function(t,e){o=1,t.traverse(e)}};var p=function(){};p.prototype={update:function(){return u=1,!1}};var g=function(){};g.prototype={update:function(){return h=1,!0}},e.addUpdateCallback(new f),r.addUpdateCallback(new p),s.addUpdateCallback(new g),t.apply(e),i.isOk(c>0,"Called stateSet update callback"),i.isOk(1===o,"Called root update callback"),i.isOk(1===u,"Called b update callback"),i.isOk(0===h,"Did not Call c update callback as expected"),e.setNodeMask(-1),i.isOk(1===o,"Called root update callback"),i.isOk(1===u,"Called b update callback"),i.isOk(0===h,"Did not Call c update callback as expected")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(33);t.exports=function(){test("Uniform",function(){!function(){var t=n.createInt1(12,"int_uniform"),e=n.createFloat1(6.283,"float_uniform"),r=n.createFloat3([3.14,6.28,1.44],"vec3_uniform"),a=n.createFloat1(new Float32Array([42.314]),"float_array_uniform"),s=n.createInt1(new Int32Array([1234]),"int_array_uniform");i.isOk(n.isUniform(t)===!0,"is uniform"),i.isOk(n.isUniform(e)===!0,"is uniform"),i.isOk(n.isUniform(r)===!0,"is uniform"),i.isOk(n.isUniform(a)===!0,"is uniform"),i.isOk(n.isUniform(s)===!0,"is uniform"),i.isOk(n.isUniform("text")===!1,"is not uniform"),i.isOk(n.isUniform(65)===!1,"is not uniform")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(7);t.exports=function(){var t=function(t){var e=new t;i.isOk("Asticot"===e.className(),"check className"),i.isOk("toto"===e.libraryName(),"check libraryName"),i.isOk(e.getTypeID()===t.getTypeID(),"check typeID")},e=function(t,e){var r=new t,n=new e;i.isOk("LeRigolo"===n.className(),"check className"),i.isOk("toto"===n.libraryName(),"check libraryName"),i.isOk(n.getTypeID()===e.getTypeID()&&n.getTypeID()!==r.getTypeID(),"check typeID"),i.isOk(n instanceof t,"check b is instance of BaseObject")};test("createPrototypeClass",function(){var r=function(){this._var0=1};n.createPrototypeClass(r,{getMember:function(){return 1}},"toto","Asticot"),t(r);var i=function(){r.call(this),this._var1=1};n.createPrototypeClass(i,n.objectInherit(r.prototype,{getMember:function(){return 2}}),"toto","LeRigolo"),e(r,i);var a=function(){this._var0=1};a.prototype=n.objectLibraryClass({getMember:function(){return 1}},"toto","Asticot"),n.setTypeID(a),t(a);var s=function(){a.call(this),this._var1=1};s.prototype=n.objectLibraryClass(n.objectInherit(a.prototype,{getMember:function(){return 2}}),"toto","LeRigolo"),n.setTypeID(s),e(a,s)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(7),a=(r(249),r(91)),s=r(38),o=r(37),u=r(79),h=r(28),c=r(40),l=r(16).vec3;t.exports=function(){test("PrimitiveFunctor Points",function(){var e=t(s.POINTS,0),r=e.getAttributes().Vertex.getElements(),n=[],o=function(){return{operatorPoint:function(t){n.push(t[0]),n.push(t[1]),n.push(t[2])}}},u=new a(e,o,r);u.apply(),i.equalVector(r,n,1e-5),e=t(s.POINTS,1),u=new a(e,o,r),n=[],u.apply(),i.isOk(n[0]===-2,"Vectors[ 0 ] should be -2 and result is "+n[0]),i.isOk(2===n[1],"Vectors[ 1 ] should be 2 and result is "+n[1]),i.isOk(0===n[2],"Vectors[ 2 ] should be 0 and result is "+n[2]),i.isOk(0===n[3],"Vectors[ 3 ] should be 0 and result is "+n[3]),i.isOk(0===n[4],"Vectors[ 4 ] should be 0 and result is "+n[4]),i.isOk(0===n[5],"Vectors[ 5 ] should be 0 and result is "+n[5]),i.isOk(2===n[6],"Vectors[ 6 ] should be 2 and result is "+n[6]),i.isOk(2===n[7],"Vectors[ 7 ] should be 2 and result is "+n[7]),i.isOk(0===n[8],"Vectors[ 8 ] should be 0 and result is "+n[8])}),test("PrimitiveFunctor Lines",function(){var e=t(s.LINES,0),r=e.getAttributes().Vertex.getElements(),n=[],o=function(){return{operatorLine:function(t,e){n.push(t),n.push(e)}}},u=new a(e,o,r);u.apply(),i.equalVector(n[0],[0,0,0]),i.equalVector(n[1],[2,2,0]),e=t(s.LINES,1),u=new a(e,o,r),n=[],u.apply(),i.equalVector(n[0],[-2,2,0]),i.equalVector(n[1],[0,0,0])}),test("PrimitiveFunctor LineStrip",function(){var e=t(s.LINE_STRIP,0),r=e.getAttributes().Vertex.getElements(),n=[],o=function(){return{operatorLine:function(t,e){n.push(l.clone(t)),n.push(l.clone(e))}}},u=new a(e,o,r);u.apply(),i.equalVector(n[0],[0,0,0]),i.equalVector(n[1],[2,2,0]),i.equalVector(n[2],[2,2,0]),i.equalVector(n[3],[-2,2,0]),e=t(s.LINE_STRIP,1),u=new a(e,o,r),n=[],u.apply(),i.equalVector(n[0],[-2,2,0]),i.equalVector(n[1],[0,0,0]),i.equalVector(n[2],[0,0,0]),i.equalVector(n[3],[2,2,0])}),test("PrimitiveFunctor LineLoop",function(){var e=t(s.LINE_LOOP,0),r=e.getAttributes().Vertex.getElements(),n=[],o=function(){return{operatorLine:function(t,e){n.push(l.clone(t)),n.push(l.clone(e))}}},u=new a(e,o,r);u.apply(),i.equalVector(n[0],[0,0,0]),i.equalVector(n[1],[2,2,0]),i.equalVector(n[2],[2,2,0]),i.equalVector(n[3],[-2,2,0]),i.equalVector(n[4],[-2,2,0]),i.equalVector(n[5],[0,0,0]),e=t(s.LINE_LOOP,1),u=new a(e,o,r),n=[],u.apply(),i.equalVector(n[0],[-2,2,0]),i.equalVector(n[1],[0,0,0]),i.equalVector(n[2],[0,0,0]),i.equalVector(n[3],[2,2,0]),i.equalVector(n[4],[2,2,0]),i.equalVector(n[5],[-2,2,0])}),test("PrimitiveFunctor Triangle",function(){var e=t(s.TRIANGLES,0),r=e.getAttributes().Vertex.getElements(),n=[],o=function(){return{operatorTriangle:function(t,e,r){n.push(l.clone(t)),n.push(l.clone(e)),n.push(l.clone(r))}}},u=new a(e,o,r);u.apply(),i.equalVector(n[0],[0,0,0]),i.equalVector(n[1],[2,2,0]),i.equalVector(n[2],[-2,2,0]),e=t(s.TRIANGLES,1),u=new a(e,o,r),n=[],u.apply(),i.equalVector(n[0],[-2,2,0]),i.equalVector(n[1],[0,0,0]),i.equalVector(n[2],[2,2,0])});var t=function(t,e){var r=new h,i=new n.Float32Array(9);i[0]=0,i[1]=0,i[2]=0,i[3]=2,i[4]=2,i[5]=0,i[6]=-2,i[7]=2,i[8]=0;var a=new n.Float32Array(9);a[0]=0,a[1]=0,a[2]=1,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=1;var s=new n.Uint16Array(3);s[0]=2,s[1]=0,s[2]=1,r.getAttributes().Vertex=new c(c.ARRAY_BUFFER,i,3),r.getAttributes().Normal=new c(c.ARRAY_BUFFER,a,3);var l;return l=0===e?new u(t,0,i.length/3):new o(t,new c(c.ELEMENT_ARRAY_BUFFER,s,1)),r.getPrimitives().push(l),r}}},function(t,e,r){"use strict";var i=r(250).assert,n=r(32),a=r(29),s=r(249);t.exports=function(){test("WebGLCaps",function(){var t=s.createCanvas(!0),e=t.getContext(),r=a.instance(e);r.getWebGLExtensions().OES_texture_float=!0,r._checkRTT[n.FLOAT+","+n.NEAREST]=!0;var o=r.hasFloatRTT(e);i.isOk(o,"float detect")})}},function(t,e,r){"use strict";var i=r(332),n=r(333),a=r(334);t.exports=function(){i(),n(),a()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(53),s=r(125),o=r(67),u=r(132),h=r(130),c=r(16).mat4;t.exports=function(){test("BasicAnimationManager",function(){var t=n.createAnimation("AnimationTest"),e=n.createAnimationUpdateCallback([t]),r=new s;r.init([t]),r._animationsUpdateCallback=e,r._registerTargetFoundInAnimationCallback(),r._registerAnimations(),i.isOk(void 0!==r.getAnimations().AnimationTest,"Check animation test"),i.equal(r._targets[0].id,0,"check target ID [0] created"),i.equal(r._targets[1].id,1,"check target ID [1] created");var a=0,o={getFrameStamp:function(){return{getSimulationTime:function(){return a}}}},u=r.getAnimations(),h=Object.keys(u)[0];r.playAnimation(h,!1),i.isOk(void 0!==r._startAnimations[h],"check start animation queue"),r._dirty=!1,r.update(null,o),i.isOk(void 0!==r._activeAnimations[h],"check animation "+h+" is playing"),i.equal(r._targets[0].value,1,"check target a value at t = "+a),i.equal(r._targets[1].value,1,"check target b value at t = "+a),a=.5,r.update(null,o),i.equal(r._targets[0].value,.5,"check target a value at t = "+a),i.equal(r._targets[1].value,1,"check target b value at t = "+a),a=3.5,r.update(null,o),i.equal(r._targets[0].value,3,"check target a value at t = "+a),i.equal(r._targets[1].value,1.5,"check target b value at t = "+a),a=6,r.update(null,o),i.equal(r._targets[0].value,3,"check target a value at t = "+a),i.equal(r._targets[1].value,3,"check target b value at t = "+a),i.isOk(0===r._targets[0].channels.length,"check target has not channels"),i.isOk(0===r._targets[1].channels.length,"check target has not channels"),i.isOk(void 0===r._activeAnimations[h],"check animation "+h+" is not active")}),test("BasicAnimationManager Linking",function(){var t=n.createAnimation("AnimationTest","testUpdateMatrixTransform"),e=new s;e.init([t]);var r=new a,l=new o;l.setName("testUpdateMatrixTransform");var d=new u("rotateX");l.getStackedTransforms().push(d),l.getStackedTransforms().push(new h("matrix")),r.addUpdateCallback(l),e._findAnimationUpdateCallback(r),e._registerTargetFoundInAnimationCallback(),e._registerAnimations();var f=Object.keys(e._animationsUpdateCallback);i.equal(f.length,1,"check number of animation callback found");var p=e._animationsUpdateCallback[f[0]];i.equal(p.getName(),"testUpdateMatrixTransform","check name of the first animation found"),i.equal(e._animationsUpdateCallbackArray.length,1,"check channel assigned to animation callback");var g=0,_={getFrameStamp:function(){return{getSimulationTime:function(){return g}}}},m=e.getAnimations(),v=Object.keys(m)[0];e.playAnimation(v),g=0,e.update(null,_),g=.5,e.update(null,_),i.equal(d.getTarget().value,.5,"check target a value at t = "+g),i.equalVector(l._matrix,c.fromValues(.8775825618903726,.4794255386042031,0,0,-.4794255386042031,.8775825618903726,0,0,0,0,1,0,0,0,0,1),"check matrix computed")}),test("BasicAnimationManager Controls",function(){var t=n.createAnimation(),e=4,r=n.createAnimationUpdateCallback([t]),a=new s;a.init([t]),a._animationsUpdateCallback=r,a._registerTargetFoundInAnimationCallback(),a._registerAnimations();var o,u=0;a.updateManager=function(t){u=t};var h=0,c=!1,l=function(){c=!c,a.togglePause(),c&&(o=h)},d={getFrameStamp:function(){
return{getSimulationTime:function(){return h}}}};a.playAnimation("Test Controls"),a.update(null,d),i.isOk(0===u,"Manager time at 0"),h=1,a.update(null,d),l(),i.isOk(u%e===h,"Pause at "+h),h=2,a.update(null,d),i.isOk(u%e===o,"Time on pause at "+h),h=6,a.update(null,d),i.isOk(u%e===o,"Time on pause at "+h),l(),a.update(null,d),i.isOk(u%e===o,"Time after pause at "+h),h=7,a.update(null,d),i.isOk(u%e===o+1,"Time after pause at "+h),h=10,l(),a.update(null,d),i.isOk(u%e===h%e,"Pause at "+h),a.setSimulationTime(3),a.update(null,d),i.isOk(u%e===3,"Simulation time at 3"),h=11,a.update(null,d),i.isOk(u%e===3,"Simulation time at 3 t + 1"),l(),a.update(null,d),i.isOk(u%e===3,"Value after pause for simulation time at 3"),h=14,a.update(null,d),l(),a.update(null,d),i.isOk(u%e===h%e,"Pause at "+h),a.setSimulationTime(.5),a.update(null,d),i.isOk(u%e===.5,"Simulation time at 0.5"),a.setSimulationTime(1.5),a.update(null,d),i.isOk(u%e===1.5,"Simulation time at 1.5"),h=15,a.update(null,d),i.isOk(u%e===1.5,"Simulation time at 1.5 t + 1"),l(),a.update(null,d),i.isOk(u%e===1.5,"Value after pause for simulation time at 1.5");var f,p;h=17,p=.3,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f,1e-5,"Value after set time factor at "+p),h=18,p=.5,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p),h=18.5,p=4.4,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p),h=22.5,p=.8,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p),h=26,p=1,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p),l(),i.isOk(!0,"Toggle Pause at "+h),h+=1,p=.3,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p),h+=.5,p=.5,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p),h+=2,p=4.4,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p),h+=1,p=.8,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p),h+=.3,p=1,a.update(null,d),f=u,a.setTimeFactor(p),a.update(null,d),i.approximately(u%e,f%e,1e-5,"Value after set time factor at "+p)}),test("BasicAnimationManager Negative time in animation key",function(){var t=n.createAnimationWithNegativeKey("NegativeKeys"),e=n.createAnimationUpdateCallback([t]),r=new s;r.init([t]),r._animationsUpdateCallback=e,r._registerTargetFoundInAnimationCallback(),r._registerAnimations();var a=0,o={getFrameStamp:function(){return{getSimulationTime:function(){return a}}}};r.playAnimation("NegativeKeys");var u=r._targetMap["a.rotateX"],h=r._targetMap["b.rotateY"];r.update(null,o),i.isOk(1===u.value,"Check channel a at t = "+a),i.isOk(1===h.value,"Check channel b at t = "+a),a=.5,r.update(null,o),i.isOk(.5===u.value,"Check channel a at t = "+a),i.isOk(1===h.value,"Check channel b at t = "+a),a=-1,r.update(null,o),i.isOk(1===u.value,"Check channel a at t = "+a),i.isOk(1===h.value,"Check channel b at t = "+a),a=2,r.update(null,o),i.isOk(3===u.value,"Check channel a at t = "+a),i.isOk(1===h.value,"Check channel b at t = "+a),a=50,r.update(null,o),i.isOk(3===u.value,"Check channel a at t = "+a),i.isOk(1===h.value,"Check channel b at t = "+a)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(126),s=r(122);t.exports=function(){test("Vec3LerpInterpolator",function(){var t,e=n.createVec3Keyframes(),r=[-1,3,.5,1.5,5],o=[];for(t=0;t<r.length;t++){var u=s.createInstanceVec3Channel(e);o.push(u)}for(t=0;t<r.length;t++)a.Vec3LerpInterpolator(r[t],o[t]);var h;h=o[0],i.equalVector(h.value,[1,1,1],"Check value when time < first key"),i.isOk(0===h.key,"Check key when time < first key"),h=o[1],i.equalVector(h.value,[3,3,3],"Check value when time > last key"),i.isOk(0===h.key,"Check key when time > last key"),h=o[2],i.equalVector(h.value,[.5,.5,.5],"Check value when time == 0.5"),i.isOk(0===h.key,"Check key when time == 0.5"),h=o[3],i.equalVector(h.value,[1.5,1.5,1.5],"Check value when time == 1.5"),i.isOk(1===h.key,"Check key when time == 1.5"),h=o[4],i.equalVector(h.value,[3,3,3],"Check value when time == 5.0"),i.isOk(0===h.key,"Check key when time == 5.0");var c={keys:[1,1,1],times:[0]},l=s.createInstanceVec3Channel(c);h=l,a.Vec3LerpInterpolator(1,l),i.equalVector(h.value,[1,1,1],"Check value when time == 1.0 with 1 key"),i.isOk(0===h.key,"Check key when time == 1.0 with 1 keyframes")}),test("FloatLerpInterpolator",function(){var t,e=n.createFloatKeyframes(),r=[-1,3,.5,1.5,5],o=[];for(t=0;t<r.length;t++){var u=s.createInstanceFloatChannel(e);o.push(u)}for(t=0;t<r.length;t++)a.FloatLerpInterpolator(r[t],o[t]);var h;h=o[0],i.approximately(h.value,1,1e-5,"Check value when time < first key"),i.isOk(0===h.key,"Check key when time < first key"),h=o[1],i.approximately(h.value,3,1e-5,"Check value when time > last key"),i.isOk(0===h.key,"Check key when time > last key"),h=o[2],i.approximately(h.value,.5,1e-5,"Check value when time == 0.5"),i.isOk(0===h.key,"Check key when time == 0.5"),h=o[3],i.approximately(h.value,1.5,1e-5,"Check value when time == 1.5"),i.isOk(1===h.key,"Check key when time == 1.5"),h=o[4],i.approximately(h.value,3,1e-5,"Check value when time == 5.0"),i.isOk(0===h.key,"Check key when time == 5.0")}),test("FloatCubicBezierChannel",function(){var t,e=n.createFloatCubicBezierKeyframes(),r=[-1,3,.5,1.5,5],o=[];for(t=0;t<r.length;t++){var u=s.createInstanceFloatCubicBezierChannel(e);o.push(u)}for(t=0;t<r.length;t++)a.FloatCubicBezierInterpolator(r[t],o[t]);var h;h=o[0],i.approximately(h.value,1,1e-5,"Check value when time < first key"),i.isOk(0===h.key,"Check key when time < first key"),h=o[1],i.approximately(h.value,3,1e-5,"Check value when time > last key"),i.isOk(0===h.key,"Check key when time > last key"),h=o[2],i.approximately(h.value,2,1e-5,"Check value when time == 0.5"),i.isOk(0===h.key,"Check key when time == 0.5"),h=o[3],i.approximately(h.value,1.875,1e-5,"Check value when time == 1.5"),i.isOk(1===h.key,"Check key when time == 1.5"),h=o[4],i.approximately(h.value,3,1e-5,"Check value when time == 5.0"),i.isOk(0===h.key,"Check key when time == 5.0")}),test("Vec3CubicBezierChannel",function(){var t,e=n.createVec3CubicBezierKeyframes(),r=[-1,3,.5,1.5,5],o=[];for(t=0;t<r.length;t++){var u=s.createInstanceVec3CubicBezierChannel(e);o.push(u)}for(t=0;t<r.length;t++)a.Vec3CubicBezierInterpolator(r[t],o[t]);var h;h=o[0],i.equalVector(h.value,[1,1,1],"Check value when time < first key"),i.isOk(0===h.key,"Check key when time < first key"),h=o[1],i.equalVector(h.value,[6,6,6],"Check value when time > last key"),i.isOk(0===h.key,"Check key when time > last key"),h=o[2],i.equalVector(h.value,[3.5,3.5,3.5],"Check value when time == 0.5"),i.isOk(0===h.key,"Check key when time == 0.5"),h=o[3],i.equalVector(h.value,[7.875,7.875,7.875],"Check value when time == 1.5"),i.isOk(1===h.key,"Check key when time == 1.5"),h=o[4],i.equalVector(h.value,[6,6,6],"Check value when time == 5.0"),i.isOk(0===h.key,"Check key when time == 5.0")}),test("QuatLerpChannel",function(){var t,e=n.createQuatLerpKeyFrames(),r=[-1,3,.5,1.5,5],o=[];for(t=0;t<r.length;t++){var u=s.createInstanceQuatChannel(e);o.push(u)}for(t=0;t<r.length;t++)a.QuatLerpInterpolator(r[t],o[t]);var h;h=o[0],i.equalVector(h.value,[1.22465e-16,1.22465e-16,1.22465e-16,-1],"Check value when time < first key"),i.isOk(0===h.key,"Check key when time < first key"),h=o[1],i.equalVector(h.value,[.126911,-.0991929,.119115,-.979727],"Check value when time > last key"),i.isOk(0===h.key,"Check key when time > last key"),h=o[2],i.equalVector(h.value,[.382683,6.62774e-17,1.60008e-16,-.92388],"Check value when time == 0.5"),i.isOk(2===h.key,"Check key when time == 0.5"),h=o[3],i.equalVector(h.value,[.126911,-.0991929,.119115,-.979727],"Check value when time == 1.5"),i.isOk(0===h.key,"Check key when time == 1.5"),h=o[4],i.equalVector(h.value,[.126911,-.0991929,.119115,-.979727],"Check value when time == 5.0"),i.isOk(0===h.key,"Check key when time == 5.0")}),test("KeysFinding",function(){var t,e=[1,0,3],r=[0,2.06,2.5],n=s.createFloatChannel(e,r),o=s.createInstanceFloatChannel(n);t=0,o.key=0,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=1,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=2,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),t=1,o.key=0,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=1,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=2,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),t=2.1,o.key=0,a.FloatLerpInterpolator(t,o),i.isOk(1===o.key,"Test at time = "+t+" and key = "+o.key),o.key=1,a.FloatLerpInterpolator(t,o),i.isOk(1===o.key,"Test at time = "+t+" and key = "+o.key),o.key=2,a.FloatLerpInterpolator(t,o),i.isOk(1===o.key,"Test at time = "+t+" and key = "+o.key),t=2.5,o.key=0,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=1,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=2,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),e=[1,0],r=[0,2],n=s.createFloatChannel(e,r),o=s.createInstanceFloatChannel(n),t=0,o.key=0,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=1,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),t=1,o.key=0,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=1,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),t=2,o.key=0,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key),o.key=1,a.FloatLerpInterpolator(t,o),i.isOk(0===o.key,"Test at time = "+t+" and key = "+o.key)})}},function(t,e,r){"use strict";var i=r(250).assert,n=(r(249),r(16).mat4),a=r(16).quat,s=r(132),o=r(134),u=r(133),h=r(130),c=r(131);t.exports=function(){test("StackedRotateAxis",function(){var t=new s("rotateX");i.isOk("rotateX"===t.getName(),"Check name"),i.equalVector(t._axis,[0,0,1],"Check default axis"),i.isOk(0===t._target.value,"Check default angle"),t.init([1,0,0],2.88),i.equalVector(t._axis,[1,0,0],"Check axis after init"),i.isOk(2.88===t._target.value,"Check angle after init")}),test("StackedTranslate",function(){var t=new o("translate");i.isOk("translate"===t.getName(),"Ckeck Name"),i.equalVector(t._target.value,[0,0,0],"Ckeck default translate"),t.init([23,78,9.78]),i.equalVector(t._target.value,[23,78,9.78],"Check translate after init")}),test("StackedScale",function(){var t=new u("scale");i.isOk("scale"===t.getName(),"Ckeck Name"),i.equalVector(t._target.value,[1,1,1],"Check scale default value"),t.init([1,2,3]),i.equalVector(t._target.value,[1,2,3],"Check scale value after init")}),test("StackedMatrix",function(){var t=new h("matrix");i.isOk("matrix"===t.getName(),"Check Name"),i.isOk(n.exactEquals(t._target.value,n.IDENTITY),"Check default matrix");var e=n.fromTranslation(n.create(),[4,0,0]);t.init(e),i.equalVector(e,t._target.value,"Check matrix value after init")}),test("StackedQuaternion",function(){var t=new c("quat"),e=a.create();i.isOk("quat"===t.getName(),"Check Name"),i.equalVector(t._target.value,e,"Check default quat value"),a.setAxisAngle(e,[0,0,1],.45),t.init(e),i.equalVector(e,t._target.value,"Check quat value after init")})}},function(t,e,r){"use strict";var i=r(336),n=r(337),a=r(338);t.exports=function(){i(),n(),a()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(83),a=r(136),s=r(11),o=r(34);t.exports=function(){var t="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";test("Input.readImageURL",function(e){var r=new a;r.setPrefixURL("testXtest"),r.readImageURL(t).then(function(r){i.isOk(r.getURL()===t,"check image src"),e()}).catch(function(t){s.error(t)})}),test("Input.readImageURL with readImageURL replacement",function(e){var r=!1,n=new a,o=function(t){return r=!0,n.readImageURL(t)};n.readImageURL(t,{readImageURL:o}).then(function(){i.equal(r,!0,"check image src"),e()}).catch(function(t){s.error(t)})}),test("Input.readImageURL inline dataimage with crossOrigin",function(t){var e=new a,r="error-404",n=e.readImageURL(r,{imageCrossOrigin:"Anonymous"});i.isOk(n instanceof o,"no promise : returned an Image"),e.readImageURL("error-404",{imageCrossOrigin:"Anonymous",imageLoadingUsePromise:!0}).then(function(e){i.isOk(e instanceof o,"with promise : returned image"),i.isOk(e.getImage().src.substr(-9)!==r,"with promise : used fallback image"),t()}).catch(function(t){s.error(t)})}),test("Input.fetchImage",function(){var e=new a;e.setPrefixURL("testXtest"),function(){var r=new o;e.fetchImage(r,t,{imageCrossOrigin:"anonymous"}),i.isOk("anonymous"!==r.getImage().crossOrigin,"skip crossOrigin for inline image")}(),function(){var t=new o;e.fetchImage(t,"http://osgjs.org/image.png",{imageCrossOrigin:"anonymous"}),i.isOk("anonymous"===t.getImage().crossOrigin,"check crossOrigin")}()}),test("Input.readArrayBuffer-old",function(t){var e={Elements:[.01727,-.00262,3],ItemSize:3,Type:"ARRAY_BUFFER",UniqueID:10},r=new a(e);r.readBufferArray().then(function(){return r.setJSON({UniqueID:10}).readBufferArray()}).then(function(e){i.isOk(3===e.getElements()[2],"readBufferArray check same unique id"),t()})}),test("Input.readBinaryArrayURL with replacement option",function(t){var e=!1,r=function(){return e=!0,n.resolve()},s=new a;s.readBinaryArrayURL("toto",{readBinaryArrayURL:r}).then(function(){i.isOk(e,!0,"readBinaryArray replacement has been called"),t()})}),test("Input.readNodeURL with replacement option",function(t){var e=!1,r=function(){return e=!0,n.resolve()},s=new a;s.readNodeURL("toto",{readNodeURL:r}).then(function(){i.isOk(e,!0,"readNodeURL replacement has been called"),t()})}),test("Input.getObjectWrapper",function(){!function(){var t=new a,e=t.getObjectWrapper("osg.Node");i.isOk(""!==e.getName(),"getObjectWrapper check osg.Node.getName"),i.isOk(void 0!==e.addChild,"getObjectWrapper check osg.addChild")}(),function(){var t=function(){this._proxy=!0},e=new a;e.registerObject("osg.Node",t);var r=e.getObjectWrapper("osg.Node");i.isOk(r._proxy===!0,"getObjectWrapper with overridden")}()}),test("Input.readObject - Material",function(t){var e={"osg.Material":{UniqueID:10,Name:"FloorBorder1",Ambient:[.5,.5,.5,1],Diffuse:[.1,.1,.1,.1],Emission:[0,0,0,.5],Shininess:2.5,Specular:[.5,.7,.5,1]}},r=new a(e);r.readObject().then(function(){return r.setJSON({"osg.Material":{UniqueID:10}}).readObject()}).then(function(e){i.isOk("FloorBorder1"===e.getName(),"readObject check same unique id"),t()})}),test("Input.computeURL use prefix",function(t){var e=new a;i.isOk("toto"===e.computeURL("toto"),"check default computeURL"),e.setPrefixURL(void 0),i.isOk("toto"===e.computeURL("toto"),"check from undefined computeURL"),e.setPrefixURL("/blah/"),i.isOk("/blah/toto"===e.computeURL("toto"),"check computeURL"),t()}),test("Input.readPrimitiveSet",function(t){var e=new a({DrawArrays:{UniqueID:10,count:3540,first:10,mode:"TRIANGLES"}});e.readPrimitiveSet().then(function(){return e.setJSON({DrawArrays:{UniqueID:10}}).readPrimitiveSet()}).then(function(e){i.isOk(3540===e.getCount(),"readPrimitiveSet check same unique id"),t()})}),test("Input.readBufferArray - inline",function(t){var e={Array:{Uint16Array:{Elements:[.01727,-.00262,3],Size:3}},ItemSize:3,Type:"ARRAY_BUFFER",UniqueID:10},r=new a(e);r.readBufferArray().then(function(){return r.setJSON({UniqueID:10}).readBufferArray()}).then(function(e){i.isOk(3===e.getElements()[2],"readBufferArray with new array typed inlined"),t()})}),test("Input.readBufferArray - external",function(t){var e={Array:{Uint16Array:{File:"mockup/stream.bin",Size:3}},ItemSize:1,Type:"ARRAY_BUFFER",UniqueID:10},r=function(){var t=new a(e);return t.readBufferArray().then(function(t){return i.isOk(10===t.getElements()[2],"readBufferArray with new array typed external file"),n.resolve()})}(),s=function(){var t=!1,r=function(){t=!0},s=new a(e);return s.setProgressXHRCallback(r),s.readBufferArray().then(function(){return i.isOk(t===!0,"readBufferArray check progress callback"),n.resolve()})}();n.all([r,s]).then(function(){t()})}),test("Input.readBufferArray - external offset",function(t){var e={TexCoord0:{UniqueID:202,Array:{Float32Array:{File:"mockup/multistream.bin",Offset:0,Size:3}},ItemSize:2,Type:"ARRAY_BUFFER"},Tangent:{UniqueID:204,Array:{Float32Array:{File:"mockup/multistream.bin",Offset:24,Size:3}},ItemSize:3,Type:"ARRAY_BUFFER"}};!function(){var r=new a(e),s=[],o={},u=function(t,e){var i=n.defer();s.push(i.promise);var a=r.setJSON(e).readBufferArray();a.then(function(e){void 0!==e&&(o[t]=e),i.resolve(e)})};u("Tangent",e.Tangent),u("TexCoord0",e.TexCoord0),n.all(s).then(function(){var e=o.TexCoord0.getElements(),r=e.length;i.equal(e[2],2,"readBufferArray with new array typed external file with offset"),i.equal(e[1],1,"readBufferArray with new array typed external file with offset"),i.equal(r,6,"readBufferArray with new array typed external file with offset");var n=o.Tangent.getElements(),a=n.length;i.equal(n[2],8,"readBufferArray with new array typed external file with offset"),i.equal(n[1],7,"readBufferArray with new array typed external file with offset"),i.equal(a,9,"readBufferArray with new array typed external file with offset"),t()})}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(141),s=r(32),o=r(136),u=r(38);t.exports=function(){test("StateSet - MultiTextures",function(){var t={stateset:{material:{ambient:[.5,.5,.5,1],diffuse:[.1,.1,.1,.1],emission:[0,0,0,.5],name:"FloorBorder1",shininess:2.5,specular:[.5,.7,.5,1]},textures:[{file:"textures/sol_2.png",mag_filter:"LINEAR",min_filter:"LINEAR_MIPMAP_LINEAR"},{file:"textures/floor_shadow.png",mag_filter:"NEAREST",min_filter:"NEAREST",wrap_s:"REPEAT",wrap_t:"MIRRORED_REPEAT"}]}},e=a.parseSceneGraph(t);i.isOk(void 0!==e.getStateSet(),"check old stateset");var r=e.getStateSet().getAttribute("Material"),o=void 0!==r&&n.checkNear(r.getAmbient(),[.5,.5,.5,1])&&n.checkNear(r.getDiffuse(),[.1,.1,.1,.1])&&n.checkNear(r.getEmission(),[0,0,0,.5])&&n.checkNear(r.getSpecular(),[.5,.7,.5,1])&&n.checkNear(r.getShininess(),2.5)&&"FloorBorder1"===r.getName();i.isOk(o,"check old material");var u=e.getStateSet().getTextureAttribute(1,"Texture"),h=void 0!==u&&u.getWrapS()===s.REPEAT&&u.getWrapT()===s.MIRRORED_REPEAT&&u.getMinFilter()===s.NEAREST&&u.getMagFilter()===s.NEAREST;i.isOk(h,"check old texture")}),test("StateSet - BlendFunc, Material",function(t){var e={"osg.Node":{StateSet:{"osg.StateSet":{AttributeList:[{"osg.BlendFunc":{SourceRGB:"SRC_ALPHA",DestinationRGB:"ONE_MINUS_SRC_ALPHA",SourceAlpha:"SRC_ALPHA",DestinationAlpha:"ONE_MINUS_SRC_ALPHA"}},{"osg.Material":{Name:"FloorBorder1",Ambient:[.5,.5,.5,1],Diffuse:[.1,.1,.1,.1],Emission:[0,0,0,.5],Shininess:2.5,Specular:[.5,.7,.5,1]}}],TextureAttributeList:[[{"osg.Texture":{File:"/unknown.png",MagFilter:"LINEAR",MinFilter:"LINEAR_MIPMAP_LINEAR",WrapS:"REPEAT",WrapT:"CLAMP_TO_EDGE"}}]]}}}};(new o).setJSON(e).readObject().then(function(e){i.isOk(void 0!==e.getStateSet(),"check last StateSet"),i.isOk(void 0!==e.getStateSet().getAttribute("BlendFunc"),"check BlendFunc");var r=e.getStateSet().getAttribute("Material"),a=void 0!==r&&n.checkNear(r.getAmbient(),[.5,.5,.5,1])&&n.checkNear(r.getDiffuse(),[.1,.1,.1,.1])&&n.checkNear(r.getEmission(),[0,0,0,.5])&&n.checkNear(r.getSpecular(),[.5,.7,.5,1])&&n.checkNear(r.getShininess(),2.5)&&"FloorBorder1"===r.getName();i.isOk(a,"check Material");var o=e.getStateSet().getTextureAttribute(0,"Texture");i.isOk(void 0!==o,"Check texture"),i.isOk(o.getWrapS()===s.REPEAT,"Check wraps texture"),i.isOk(o.getWrapT()===s.CLAMP_TO_EDGE,"Check wrapt texture"),i.isOk(o.getMinFilter()===s.LINEAR_MIPMAP_LINEAR,"Check min filter texture"),i.isOk(o.getMagFilter()===s.LINEAR,"Check mag filter texture"),t()})}),test("Geometry Cube UserData",function(t){var e={"osg.Geometry":{Name:"Cube",StateSet:{"osg.StateSet":{Name:"Material",AttributeList:[{"osg.Material":{Name:"Material",Ambient:[.8,.8,.8,1],Diffuse:[.64,.64,.64,1],Emission:[0,0,0,1],Shininess:12.5,Specular:[.5,.5,.5,1]}}],UserDataContainer:{UniqueID:23,Values:[{Name:"source",Value:"blender"},{Name:"DiffuseIntensity",Value:"1.0"},{Name:"DiffuseColor",Value:"[ 0, 0, 0 ]"},{Name:"SpecularIntensity",Value:"0.0"},{Name:"SpecularColor",Value:"[ 1, 1, 1 ]"},{Name:"SpecularHardness",Value:"50"},{Name:"Emit",Value:"0.0"},{Name:"Ambient",Value:"1.0"},{Name:"Translucency",Value:"0.0"}]}}},VertexAttributeList:{Normal:{Elements:[0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-0,1,0,-0,1,0,-0,1,0,-0,1,1,-0,0,1,-0,0,1,-0,0,1,-0,0,-0,-1,-0,-0,-1,-0,-0,-1,-0,-0,-1,-0,-1,0,-0,-1,0,-0,-1,0,-0,-1,0,-0,0,1,0,0,1,0,0,1,0,0,1,0],ItemSize:3,Type:"ARRAY_BUFFER"},Vertex:{Elements:[1,1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,1,1,1,1,1,-1,-1,1,-1,-1,1,1],ItemSize:3,Type:"ARRAY_BUFFER"}},PrimitiveSetList:[{DrawElementUShort:{Indices:{Elements:[0,1,3,1,2,3,4,5,7,5,6,7,8,9,11,9,10,11,12,13,15,13,14,15,16,17,19,17,18,19,20,21,23,21,22,23],ItemSize:1,Type:"ELEMENT_ARRAY_BUFFER"},Mode:"TRIANGLES"}}]}};(new o).setJSON(e).readObject().then(function(e){i.isOk(void 0!==e.getStateSet(),"check geometry StateSet"),i.isOk(void 0!==e.getStateSet().getUserData(),"check StateSet userdata"),i.isOk(1===e.getPrimitiveSetList().length,"check primitives"),i.isOk(e.getPrimitiveSetList()[0].getMode()===u.TRIANGLES,"check triangles primitive"),i.isOk(0===e.getPrimitiveSetList()[0].getFirst(),"check triangles first index"),i.isOk(36===e.getPrimitiveSetList()[0].getIndices().getElements().length,"check triangles indices"),i.isOk(e.getPrimitiveSetList()[0].getIndices().getElements().length===e.getPrimitiveSetList()[0].getCount(),"check triangles count"),i.isOk(2===window.Object.keys(e.getVertexAttributeList()).length,"check vertex attributes"),t()})}),test("MatrixTransform",function(t){var e={"osg.MatrixTransform":{Name:"Lamp",Matrix:[-.2909,.9552,-.0552,0,-.7711,-.1999,.6045,0,.5664,.2184,.7947,0,4.0762,1.0055,5.9039,1],Children:[{"osg.Node":{Name:"Lamp"}}]}};(new o).setJSON(e).readObject().then(function(e){i.isOk("Lamp"===e.getName(),"check matrix transform"),i.isOk(e.getMatrix()[0]===-.2909,"check matrix transform content"),t()})}),test("BasicAnimationManager",function(t){var e={"osg.Node":{UniqueID:0,Name:"brindherbetrs.FBX",UpdateCallbacks:[{"osgAnimation.BasicAnimationManager":{Animations:[{"osgAnimation.Animation":{Name:"Take 001",Channels:[{"osgAnimation.FloatCubicBezierChannel":{Name:"rotateX",TargetName:"BetaHighResMeshes",KeyFrames:{ControlPointIn:{Array:{Float32Array:{Elements:[1.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},ControlPointOut:{Array:{Float32Array:{Elements:[1.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Position:{Array:{Float32Array:{Elements:[1.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Time:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},{"osgAnimation.FloatCubicBezierChannel":{Name:"rotateY",TargetName:"BetaHighResMeshes",KeyFrames:{ControlPointIn:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},ControlPointOut:{Array:{Float32Array:{Elements:[-0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Position:{Array:{Float32Array:{Elements:[-0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Time:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},{"osgAnimation.FloatCubicBezierChannel":{Name:"rotateZ",TargetName:"BetaHighResMeshes",KeyFrames:{ControlPointIn:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},ControlPointOut:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Position:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Time:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},{"osgAnimation.FloatCubicBezierChannel":{Name:"rotateX",TargetName:"Box001",KeyFrames:{ControlPointIn:{Array:{Float32Array:{Elements:[1.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},ControlPointOut:{Array:{Float32Array:{Elements:[1.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Position:{Array:{Float32Array:{Elements:[1.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Time:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},{"osgAnimation.FloatCubicBezierChannel":{Name:"rotateY",TargetName:"Box001",KeyFrames:{ControlPointIn:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},ControlPointOut:{Array:{Float32Array:{Elements:[-0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Position:{Array:{Float32Array:{Elements:[-0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Time:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"}}}}],StateSet:{"osg.StateSet":{UniqueID:1}}}}]}}]}},r=a.registry().clone();r.setJSON(e).readObject().then(function(e){i.isOk(1===e.getUpdateCallbackList().length,"check update callback"),i.isOk(void 0!==e.getUpdateCallback().getAnimations()["Take 001"],"check animation list");var r=e.getUpdateCallback().getAnimations()["Take 001"];i.isOk(5===r.channels.length,"check channels"),i.isOk("rotateY"===r.channels[1].channel.name,"check channel 1"),i.isOk("BetaHighResMeshes"===r.channels[1].channel.target,"check taget channel 1"),t()})}),test("FloatLerpChannel",function(t){var e={"osgAnimation.FloatLerpChannel":{Name:"euler_x",TargetName:"Cube",KeyFrames:{Key:{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:28}},ItemSize:1,Type:"ARRAY_BUFFER"},Time:{Array:{Float32Array:{Elements:[0,.133333,.166667,.2,.233333,.266667,.3,.333333,.866667,.9,.933333,.966667,1,1.76667,1.8,1.83333,1.86667,1.9,1.93333,1.96667,2,2.3,2.33333,2.36667,2.4,2.43333,2.46667,2.5],Size:28}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},r=a.registry().clone();r.setJSON(e).readObject().then(function(e){i.isOk(28===e.keys.length,"Check keys FloatLerpChannel"),i.isOk(28===e.times.length,"Check times FloatLerpChannel"),i.isOk("Cube"===e.target,"Check TargetName FloatLerpChannel"),t()})}),test("QuatSlerpChannel",function(t){var e={"osgAnimation.QuatSlerpChannel":{Name:"rotate_x",TargetName:"Cube",KeyFrames:{Key:[{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"}],Time:{Array:{Float32Array:{Elements:[0,.133333,.166667,.2,.233333,.266667,.3],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},r=a.registry().clone();r.setJSON(e).readObject().then(function(e){i.isOk(28===e.keys.length,"Check keys QuatSlerpChannel"),i.isOk(7===e.times.length,"Check times QuatSlerpChannel"),i.isOk("Cube"===e.target,"Check TargetName QuatSlerpChannel"),t()})}),test("QuatLerpChannel",function(t){var e={"osgAnimation.QuatLerpChannel":{Name:"rotate_x",TargetName:"Cube",KeyFrames:{Key:[{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159,-3.14159],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"}],Time:{Array:{Float32Array:{Elements:[0,.133333,.166667,.2,.233333,.266667,.3],Size:7}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},r=a.registry().clone();r.setJSON(e).readObject().then(function(e){i.isOk(28===e.keys.length,"Check keys QuatSlerpChannel"),i.isOk(7===e.times.length,"Check times QuatSlerpChannel"),i.isOk("Cube"===e.target,"Check TargetName QuatSlerpChannel"),t()})}),test("FloatCubicBezierChannel",function(t){var e={"osgAnimation.FloatCubicBezierChannel":{Name:"rotateX",TargetName:"Box001",KeyFrames:{ControlPointIn:{Array:{Float32Array:{Elements:[1.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},ControlPointOut:{Array:{Float32Array:{Elements:[2.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Position:{Array:{Float32Array:{Elements:[3.5708],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"},Time:{Array:{Float32Array:{Elements:[0],Size:1}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},r=a.registry().clone();r.setJSON(e).readObject().then(function(e){i.isOk(3===e.keys.length,"Check keys FloatCubicBezierChannel"),i.isOk(1===e.times.length,"Check times FloatCubicBezierChannel"),i.isOk(n.checkNear(e.keys[0],3.5708),"Ckeck Position"),i.isOk(n.checkNear(e.keys[1],1.5708),"Check ControlIn"),i.isOk(n.checkNear(e.keys[2],2.5708),"Check ControlOut"),i.isOk("Box001"===e.target,"Check TargetName FloatCubicBezierChannel"),t()})}),test("Vec3CubicBezierChannel",function(t){var e={"osgAnimation.Vec3CubicBezierChannel":{Name:"scale",TargetName:"Bone004",KeyFrames:{ControlPointIn:[{Array:{Float32Array:{Elements:[1,2.28678,.929234],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[1,2.28678,.929234],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[1,2.28678,.929234],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"}],ControlPointOut:[{Array:{Float32Array:{Elements:[2.28678,.929234,1],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[2.28678,.929234,1],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[2.28678,.929234,1],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"}],Position:[{Array:{Float32Array:{Elements:[1,2.28678,.929234],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[1,2.28678,.929234],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"},{Array:{Float32Array:{Elements:[1,2.28678,.929234],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"}],Time:{Array:{Float32Array:{Elements:[0,.866667,1.76667],Size:3}},ItemSize:1,Type:"ARRAY_BUFFER"}}}},r=a.registry().clone();r.setJSON(e).readObject().then(function(e){i.isOk(27===e.keys.length,"Check keys Vec3CubicBezierChannel"),i.isOk(3===e.times.length,"Check times Vec3CubicBezierChannel"),i.isOk(n.checkNear(e.keys[15],.92923402),"Check value"),t()})}),test("StackedTransform",function(t){var e={"osg.MatrixTransform":{Name:"Cube",Matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],UpdateCallbacks:[{"osgAnimation.UpdateMatrixTransform":{Name:"Cube",StackedTransforms:[{"osgAnimation.StackedTranslate":{Name:"translate",Translate:[0,0,0]}},{"osgAnimation.StackedRotateAxis":{Name:"euler_z",Angle:0,Axis:[0,0,1]}},{"osgAnimation.StackedRotateAxis":{Name:"euler_y",Angle:0,Axis:[0,1,0]}},{"osgAnimation.StackedRotateAxis":{Name:"euler_x",Angle:0,Axis:[1,0,0]}},{"osgAnimation.StackedQuaternion":{Name:"quaternion",Quaternion:[0,0,0,1]}}]}}]}};(new o).setJSON(e).readObject().then(function(e){i.isOk(1===e.getUpdateCallbackList().length,"check osgAnimation.UpdateMatrixTransform callback"),i.isOk(5===e.getUpdateCallback().getStackedTransforms().length,"check osgAnimation.UpdateMatrixTransform stacked transform"),t()})}),test("DrawArray",function(t){
var e={"osg.Geometry":{PrimitiveSetList:[{DrawArray:{count:3540,first:10,mode:"TRIANGLES"}}],VertexAttributeList:{}}};(new o).setJSON(e).readObject().then(function(t){return t}).then(function(e){var r=e.getPrimitiveSetList()[0];i.isOk(r.getMode()===u.TRIANGLES,"check DrawArray triangles"),i.isOk(3540===r.getCount(),"check triangles count"),i.isOk(10===r.getFirst(),"check triangles first"),t()})}),test("DrawArrays",function(t){var e={"osg.Geometry":{PrimitiveSetList:[{DrawArrays:{Count:0,First:0,Mode:"TRIANGLES"}}],VertexAttributeList:{}}};(new o).setJSON(e).readObject().then(function(t){return t.getPrimitiveSetList()[0]}).then(function(e){i.isOk(e.getMode()===u.TRIANGLES,"check DrawArray triangles"),i.isOk(0===e.getCount(),"check triangles count"),i.isOk(0===e.getFirst(),"check triangles first"),t()})}),test("DrawArrayLengths",function(t){var e={"osg.Geometry":{PrimitiveSetList:[{DrawArrayLengths:{First:10,Mode:"TRIANGLES",ArrayLengths:[3,3,3]}}],VertexAttributeList:{}}};(new o).setJSON(e).readObject().then(function(t){return t.getPrimitiveSetList()[0]}).then(function(e){i.isOk(e.getMode()===u.TRIANGLES,"check DrawArrayLengths triangles"),i.isOk(3===e.getArrayLengths()[0],"check array lenght"),i.isOk(10===e.getFirst(),"check triangles first"),t()})}),test("LightSource",function(t){var e={"osg.LightSource":{Name:"Lamp.005",Light:{"osg.Light":{Ambient:[0,0,0,1],ConstantAttenuation:1,Diffuse:[.88,.70901,.48297,1],Direction:[0,0,-1],LightNum:1,LinearAttenuation:0,Position:[0,0,1,0],QuadraticAttenuation:0,Specular:[.88,.88,.88,1],SpotCutoff:180,SpotExponent:0}}}};(new o).setJSON(e).readObject().then(function(e){i.isOk(void 0!==e.getLight(),"check if LightSource has a light"),t()})}),test("Text",function(t){var e={"osgText.Text":{UniqueID:1,Text:"test",AutoRotateToScreen:1,CharacterSize:20,Color:[1,1,0,1],Position:[50,974,0],Layout:"LEFT_TO_RIGHT",Alignment:"CENTER_BOTTOM"}};(new o).setJSON(e).readObject().then(function(e){i.isOk("test"===e.getText(),"check text"),i.isOk(1===e.getAutoRotateToScreen(),"check autoRotateToScreen"),i.isOk(20===e.getCharacterSize(),"check characterSize"),i.isOk(50===e.getPosition()[0],"check Position"),i.isOk(1===e.getColor()[0],"check Color"),i.isOk("ltr"===e.getLayout(),"check Layout"),i.isOk(5===e.getAlignment(),"check Alignment"),t()})}),test("PagedLOD",function(t){var e={"osg.PagedLOD":{UniqueID:1,Name:"PAGEDLOD",CenterMode:"USER_DEFINED_CENTER",RangeDataList:{"File 0":"cow.osgjs","File 1":"cessna.osgjs"},RangeList:{"Range 0":[0,2e3],"Range 1":[2e3,3.40282e38]},RangeMode:"PIXEL_SIZE_ON_SCREEN",UserCenter:[1,2,3,10]}};(new o).setJSON(e).readObject().then(function(e){i.isOk(1===e._rangeMode,"check RangeMode"),i.isOk(2===e._perRangeDataList.length,"check children number"),i.isOk("cow.osgjs"===e._perRangeDataList[0].filename,"check child 0 filename"),i.isOk("cessna.osgjs"===e._perRangeDataList[1].filename,"check child 1 filename"),i.isOk(2===e._range.length,"check RangeList"),i.isOk(10===e._radius,"check user defined radius"),t()})}),test("Node Children Ordering",function(t){var e={"osg.Node":{UniqueID:2,Children:[{"osg.Node":{UniqueID:3,Name:"cow",Children:[{"osg.Geometry":{PrimitiveSetList:[{DrawArrayLengths:{First:10,Mode:"TRIANGLES",ArrayLengths:[3,3,3]}}],VertexAttributeList:{}}}]}},{"osg.Node":{UniqueID:16,Name:"cessna",Children:[]}}]}};(new o).setJSON(e).readObject().then(function(e){i.isOk("cow"===e.getChildren()[0].getName(),"the first node should be cow"),i.isOk("cessna"===e.getChildren()[1].getName(),"the second node should be cessna"),t()})})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(83),a=r(143),s=r(62),o=r(13),u=r(81),h=r(11);t.exports=function(){var t=new a;t.processRequest=function(t){this._loading=!0;var e=this,r=n.defer();return t._groupExpired?(e._downloadingRequestsNumber--,void(this._loading=!1)):(void 0!==t._function?this.loadNodeFromFunction(t._function,t._group).then(function(i){e._downloadingRequestsNumber--,t._loadedModel=i,e._pendingNodes.push(t),e._loading=!1,r.resolve()}):""!==t._url&&this.loadNodeFromURL(t._url).then(function(i){e._downloadingRequestsNumber--,t._loadedModel=i,e._pendingNodes.push(t),e._loading=!1,r.resolve()}),r.promise)},test("DatabasePager.requestNodeFile",function(e){t.reset();var r=function(){var t=new o;return t},n=new s;n.setFunction(0,r),n.setRange(0,0,200);var a=t.requestNodeFile(r,"",n,1);i.isOk(1===t._pendingRequests.length,"Node requested"),t.processRequest(a).then(function(){e(),i.isOk(1===t._pendingNodes.length,"Request processed")}).catch(function(t){h.error(t)})}),test("DatabasePager.addLoadedDataToSceneGraph",function(e){t.reset();var r=function(){var t=new s;return t},n=new s;n.setFunction(0,r),n.setRange(0,0,200);var a=t.requestNodeFile(r,"",n,1);i.isOk(1===t._pendingRequests.length,"Node requested"),t.processRequest(a).then(function(){e(),t.addLoadedDataToSceneGraph(new u,.005),i.isOk(2===t._activePagedLODList.size,"we should have two plods active")}).catch(function(t){h.error(t)})}),test("DatabasePager.removeExpiredChildren",function(e){t.reset(),t.setTargetMaximumNumberOfPageLOD(1);var r=function(){var t=new s;return t},n=new s;n.setFunction(0,r),n.setRange(0,0,200);var a=t.requestNodeFile(r,"",n,1),o=new u;i.isOk(1===t._pendingRequests.length,"Node requested"),t.processRequest(a).then(function(){e(),t.addLoadedDataToSceneGraph(o),o.setSimulationTime(10),o.setFrameNumber(10),t.removeExpiredSubgraphs(o),i.isOk(1===t._activePagedLODList.size,"we should have the root plod active"),i.isOk(1===t._childrenToRemoveList.size,"we should have the child plod marked to be deleted")}).catch(function(t){h.error(t)})})}},function(t,e,r){"use strict";var i=r(340),n=r(341);t.exports=function(){i(),n()}},function(t,e,r){"use strict";var i=r(250).assert,n=(r(249),r(171)),a=r(44),s=r(16).vec3,o=r(16).mat4;t.exports=function(){test("FirstPersonManipulator",function(){var t=new n,e=t.getInverseMatrix();i.isOk(void 0!==e,"check getInverseMatrix method")}),test("FirstPersonManipulator check controllers",function(){var t=new n,e=t.getControllerList();i.isOk(void 0!==e.StandardMouseKeyboard,"check mouse support")}),test("FirstPersonManipulator check computation",function(){var t=new n,e={getFrameStamp:function(){return{getDeltaTime:function(){return 0}}}};t.setCamera(new a);var r=s.create(),u=s.create();t.getEyePosition(r),t.getTarget(u),i.equalVector(r,s.fromValues(0,25,10),1e-5,"check default eye position"),i.equalVector(u,s.fromValues(0,26,10),1e-5,"check default target"),i.equalVector(t.getDistance(),1,1e-5,"check default distance"),t.update(e),i.equalVector(t.getInverseMatrix(),o.fromValues(1,0,0,0,0,0,-1,0,0,1,0,0,0,-10,25,1),1e-5,"check matrix result"),t.setTarget(s.fromValues(10,10,10)),t.update(e),i.equalVector(t.getInverseMatrix(),o.fromValues(-.83205029,0,-.55470019,0,-.55470019,0,.83205029,0,0,1,0,0,13.867504,-10,-20.801257,1),1e-5,"check matrix result"),t.computeRotation(100,.4),t.update(e),i.equalVector(t.getInverseMatrix(),o.fromValues(.017205427,.00399939,-.9998439,0,-.9998519,68821e-9,-.01720529,0,0,1,.004,0,25,-10.00164,.3901323,1),.01,"check matrix result")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(160);t.exports=function(){test("OrbitManipulator",function(){var t=new n,e=t.getInverseMatrix();i.isOk(void 0!==e,"check getInverseMatrix method")}),test("OrbitManipulator check controllers",function(){var t=new n,e=t.getControllerList();i.isOk(void 0!==e.StandardMouseKeyboard,"check mouse support"),i.isOk(void 0!==e.Hammer,"check hammer support"),i.isOk(void 0!==e.LeapMotion,"check leap motion support"),i.isOk(void 0!==e.GamePad,"check game pad support")}),test("OrbitManipulator test limits yaw",function(){var t,e=new n;t=e._computeYaw(0,.01,-.2,.2),i.isOk(.01===t,"Small angle no offset / small inc inside range. Yaw is "+t+" and should be 0.01"),t=e._computeYaw(.19,.02,-.2,.2),i.isOk(.2===t,"Small angle no offset / small inc outside range (right). Yaw is "+t+" and should be 0.2"),t=e._computeYaw(0,.3,-.2,.2),i.isOk(.2===t,"Small angle no offset / big inc outside range (right). Yaw is "+t+" and should be 0.2"),t=e._computeYaw(-.19,-.02,-.2,.2),i.isOk(t===-.2,"Small angle no offset / small inc outside range (left). Yaw is "+t+" and should be -0.2"),t=e._computeYaw(0,-.3,-.2,.2),i.isOk(t===-.2,"Small angle no offset / big inc outside range (left). Yaw is "+t+" and should be -0.2"),t=e._computeYaw(0,.01,-3,3),i.isOk(.01===t,"Big angle no offset / small inc inside range. Yaw is "+t+" and should be 0.01"),t=e._computeYaw(2.99,.02,-3,3),i.isOk(3===t,"Big angle no offset / small inc outside range (right). Yaw is "+t+" and should be 3.0"),t=e._computeYaw(2.5,.6,-3,3),i.isOk(3===t,"Big angle no offset / big inc outside range (right). Yaw is "+t+" and should be 3.0"),t=e._computeYaw(-2.99,-.02,-3,3),i.isOk(t===-3,"Big angle no offset / small inc outside range (left). Yaw is "+t+" and should be -3.0"),t=e._computeYaw(-2.5,-.6,-3,3),i.isOk(t===-3,"Big angle no offset / big inc outside range (left). Yaw is "+t+" and should be -3.0"),t=e._computeYaw(-2.5,0,3,-3),i.isOk(t===-3,"Small angle 180 offset / snap to right. Yaw is "+t+" and should be -3.0"),t=e._computeYaw(-3.01,.02,3,-3),i.isOk(t===-3,"Small angle 180 offset / small inc outside range (right). Yaw is "+t+" and should be -3.0"),t=e._computeYaw(-3.14,.3,3,-3),i.isOk(t===-3,"Small angle 180 offset / big inc outside range (right). Yaw is "+t+" and should be -3.0"),t=e._computeYaw(3.01,-.02,3,-3),i.isOk(3===t,"Small angle 180 offset / small inc outside range (left). Yaw is "+t+" and should be 3.0"),t=e._computeYaw(-3.14,-.3,3,-3),i.isOk(3===t,"Small angle 180 offset / big inc outside range (left). Yaw is "+t+" and should be 3.0"),t=e._computeYaw(1.5,0,2,3),i.isOk(2===t,"Right left same quadrant / snap to left. Yaw is "+t+" and should be 2.0"),t=e._computeYaw(2.5,.02,2,3),i.isOk(2.52===t,"Right left same quadrant / small inc inside range. Yaw is "+t+" and should be 2.52"),t=e._computeYaw(2.99,.02,2,3),i.isOk(3===t,"Right left same quadrant / small inc outside range (right). Yaw is "+t+" and should be 3.0"),t=e._computeYaw(2.01,-.02,2,3),i.isOk(2===t,"Right left same quadrant / small inc outside range (left). Yaw is "+t+" and should be 2.0"),t=e._computeYaw(1.9198621771937627,.00296099990606308,1.8500490071139892,1.9198621771937625),i.isOk(1.9198621771937625===t,"Right left same quadrant / small inc outside range (right, rounding issue on equal). Yaw is "+t+" and should be 1.9198621771937625")})}},function(t,e,r){"use strict";var i=r(343),n=r(344),a=r(345),s=r(346);t.exports=function(){i(),n(),a(),s()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(153),s=r(154),o=r(86),u=r(20),h=r(44),c=r(117),l=r(16).mat4,d=r(16).vec3,f=r(53),p=r(111),g=r(207),_=r(141);t.exports=function(){test("LineSegmentIntersector simple test",function(){var t=new s,e=new u;e.set(d.fromValues(4,2,0),2),t.set(d.fromValues(2,2,0),d.fromValues(-1,2,0)),t.setCurrentTransformation(l.create()),i.isOk(t.intersects(e),"hit success"),t.set(d.fromValues(2,0,0),d.fromValues(4,0,0)),t.setCurrentTransformation(l.create()),i.isOk(t.intersects(e),"hit success"),t.set(d.fromValues(2,0,0),d.fromValues(4,0,0)),t.setCurrentTransformation(l.create()),i.isOk(t.intersects(e),"hit success"),t.set(d.fromValues(2,0,0),d.fromValues(3,1,0)),t.setCurrentTransformation(l.create()),i.isOk(t.intersects(e),"hit success"),t.set(d.fromValues(0,2,0),d.fromValues(1.9,2,0)),t.setCurrentTransformation(l.create()),i.isOk(!t.intersects(e),"hit failed"),t.set(d.fromValues(0,2,0),d.fromValues(2.1,2,0)),t.setCurrentTransformation(l.create()),i.isOk(t.intersects(e),"hit success"),t.set(d.fromValues(5,1,0),d.fromValues(6,0,0)),t.setCurrentTransformation(l.create()),i.isOk(t.intersects(e),"hit success"),t.set(d.fromValues(1,1,0),d.fromValues(2,3,0)),t.setCurrentTransformation(l.create()),i.isOk(!t.intersects(e),"hit failed")}),test("LineSegmentIntersector without 2 branches",function(){var t=new h;t.setViewport(new c),t.setViewMatrix(l.lookAt(l.create(),d.fromValues(0,0,-10),d.create(),d.fromValues(0,1,0))),t.setProjectionMatrix(l.perspective(l.create(),Math.PI/180*60,800/600,.1,1e3));var e=p.createTexturedQuadGeometry(-.5,-.5,0,1,0,0,0,1,0,1,1),r=new f;l.fromTranslation(r.getMatrix(),[5,0,0]),r.addChild(e);var n=new f;l.fromTranslation(n.getMatrix(),[-5,0,0]),n.addChild(r),n.addChild(e),t.addChild(n);var o=new s;o.set(d.fromValues(420,300,0),d.fromValues(420,300,1));var u=new a;u.setIntersector(o),t.accept(u),i.isOk(1===o._intersections.length,"Hits should be 1 and result is "+o._intersections.length),i.isOk(4===o._intersections[0]._nodePath.length,"NodePath should be 4 and result is "+o._intersections[0]._nodePath.length)}),test("LineSegmentIntersector without kdtree and camera",function(){var t=new h;t.setViewport(new c),t.setViewMatrix(l.lookAt(l.create(),d.fromValues(0,0,-10),d.create(),d.fromValues(0,1,0))),t.setProjectionMatrix(l.perspective(l.create(),Math.PI/180*60,800/600,.1,1e3));var e=p.createTexturedQuadGeometry(-.5,-.5,0,1,0,0,0,1,0,1,1);t.addChild(e);var r=new s;r.set(d.fromValues(400,300,0),d.fromValues(420,300,1));var n=new a;n.setIntersector(r),t.accept(n),i.isOk(1===r._intersections.length,"Hits should be 1 and result is "+r._intersections.length),i.isOk(2===r._intersections[0]._nodePath.length,"NodePath should be 2 and result is "+r._intersections[0]._nodePath.length)}),test("LineSegmentIntersector without kdtree",function(){var t=new g;t.getCamera().setViewport(new c),t.getCamera().setViewMatrix(l.lookAt(l.create(),d.fromValues(0,0,-10),d.create(),d.fromValues(0,1,0))),t.getCamera().setProjectionMatrix(l.perspective(l.create(),Math.PI/180*60,800/600,.1,1e3));var e=_.parseSceneGraph(n.getScene());t.setSceneData(e);var r=t.computeIntersections(400,300);i.isOk(1===r.length,"Hits should be 1 and result is "+r.length)}),test("LineSegmentIntersector with kdtree and camera",function(){var t=new h;t.setViewport(new c),t.setViewMatrix(l.lookAt(l.create(),d.fromValues(0,0,-10),d.create(),d.fromValues(0,1,0))),t.setProjectionMatrix(l.perspective(l.create(),Math.PI/180*60,800/600,.1,1e3));var e=p.createTexturedQuadGeometry(-.5,-.5,0,1,0,0,0,1,0,1,1);t.addChild(e);var r=new o({_numVerticesProcessed:0,_targetNumTrianglesPerLeaf:1,_maxNumLevels:20});r.apply(e);var n=new s;n.set(d.fromValues(400,300,0),d.fromValues(420,300,1));var u=new a;u.setIntersector(n),t.accept(u),i.isOk(1===n._intersections.length,"Intersections should be 1 and result is "+n._intersections.length),i.isOk(2===n._intersections[0]._nodePath.length,"NodePath should be 2 and result is "+n._intersections[0]._nodePath.length)}),test("LineSegmentIntersector with kdtree",function(){var t=new g;t.getCamera().setViewport(new c),t.getCamera().setViewMatrix(l.lookAt(l.create(),d.fromValues(0,0,-10),d.create(),d.fromValues(0,1,0))),t.getCamera().setProjectionMatrix(l.perspective(l.create(),Math.PI/180*60,800/600,.1,1e3));var e=_.parseSceneGraph(n.getScene());t.setSceneData(e);var r=new o({_numVerticesProcessed:0,_targetNumTrianglesPerLeaf:50,_maxNumLevels:20});r.apply(e);var a=t.computeIntersections(400,300);i.isOk(1===a.length,"Hits should be 1 and result is "+a.length)})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(154),a=r(153),s=r(16).vec3,o=r(111),u=r(37),h=r(79),c=r(38),l=r(40),d=r(28);t.exports=function(){test("LineSegmentIntersectFunctor",function(){var t=function(t,e){var r=new n,o=new a;o.setIntersector(r);var u=[.4,.2,-2],h=[.4,.2,.5],c=s.sub(s.create(),h,u);r.set(u,h),t.accept(o),i.isOk(1===r._intersections.length,e+" Intersections should be 1 and result is "+r._intersections.length);var l=[.4,.2,0],d=s.add(s.create(),u,s.scale(s.create(),c,r._intersections[0].ratio));i.equalVector(d,l,1e-4);var f=new n;f.set([1.5,.2,-.5],[1.5,.2,.5]),o.setIntersector(f),t.accept(o),i.isOk(0===f._intersections.length,e+" Intersections should be 0 "+f._intersections.length)};!function(){var e=o.createTexturedQuadGeometry(0,0,0,1,0,0,0,1,0,1,1);t(e,"Triangles indexed")}(),function(){var e=o.createTexturedQuadGeometry(0,0,0,1,0,0,0,1,0,1,1),r=[];r[0]=0,r[1]=1,r[2]=3,r[3]=2;var i=new u(c.TRIANGLE_STRIP,new l(l.ELEMENT_ARRAY_BUFFER,r,1));e.getPrimitives()[0]=i,t(e,"TriangleStrip indexed")}(),function(){var e=o.createTexturedQuadGeometry(0,0,0,1,0,0,0,1,0,1,1),r=[];r[0]=0,r[1]=1,r[2]=2,r[3]=3;var i=new u(c.TRIANGLE_FAN,new l(l.ELEMENT_ARRAY_BUFFER,r,1));e.getPrimitives()[0]=i,t(e,"TriangleFan indexed")}(),function(){var e=0,r=0,i=0,n=1,a=0,s=0,o=0,u=1,f=0,p=new d,g=[];g[0]=e+o,g[1]=r+u,g[2]=i+f,g[3]=e,g[4]=r,g[5]=i,g[6]=e+n,g[7]=r+a,g[8]=i+s,g[9]=e+o,g[10]=r+u,g[11]=i+f,g[12]=e+n,g[13]=r+a,g[14]=i+s,g[15]=e+n+o,g[16]=r+a+u,g[17]=i+s+f,p.getAttributes().Vertex=new l(l.ARRAY_BUFFER,g,3);var _=new h(c.TRIANGLES,0,6);p.getPrimitives().push(_),t(p,"Triangles not indexed")}(),function(){var e=0,r=0,i=0,n=1,a=0,s=0,o=0,u=1,f=0,p=new d,g=[];g[0]=e+o,g[1]=r+u,g[2]=i+f,g[3]=e,g[4]=r,g[5]=i,g[6]=e+n+o,g[7]=r+a+u,g[8]=i+s+f,g[9]=e+n,g[10]=r+a,g[11]=i+s,p.getAttributes().Vertex=new l(l.ARRAY_BUFFER,g,3);var _=new h(c.TRIANGLE_STRIP,0,4);p.getPrimitives().push(_),t(p,"TriangleStrip not indexed")}(),function(){var e=0,r=0,i=0,n=1,a=0,s=0,o=0,u=1,f=0,p=new d,g=[];g[0]=e+o,g[1]=r+u,g[2]=i+f,g[3]=e,g[4]=r,g[5]=i,g[6]=e+n,g[7]=r+a,g[8]=i+s,g[9]=e+n+o,g[10]=r+a+u,g[11]=i+s+f,p.getAttributes().Vertex=new l(l.ARRAY_BUFFER,g,3);var _=new h(c.TRIANGLE_FAN,0,4);p.getPrimitives().push(_),t(p,"TriangleFan not indexed")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(7),a=r(153),s=r(157),o=r(44),u=r(117),h=r(16).mat4,c=r(16).vec3,l=r(28),d=r(40),f=r(37),p=r(79),g=r(38),_=(r(111),r(86)),m=r(156);t.exports=function(){test("PolytopeIntersector intersectPoints",function(){var e=new o;e.setViewport(new u),e.setViewMatrix(h.lookAt(h.create(),[0,0,-10],[0,0,0],[0,1,0])),e.setProjectionMatrix(h.perspective(h.create(),Math.PI/180*60,800/600,.1,100));var r=t();e.addChild(r);var n=new s;n.setPolytopeFromWindowCoordinates(395,295,405,305);var c=new a;c.setIntersector(n),e.accept(c),i.isOk(1===n._intersections.length,"Hits should be 1 and result is "+n._intersections.length),i.isOk(2===n._intersections[0]._nodePath.length,"NodePath should be 2 and result is "+n._intersections[0]._nodePath.length),i.isOk(1===n._intersections[0]._numIntersectionPoints,"numPoints should be 1 and result is "+n._intersections[0]._numIntersectionPoints),i.equalVector(n._intersections[0]._intersectionPoints[0],[0,0,0]),n.reset(),n.setPolytope([[1,0,0,-350],[-1,0,0,450],[0,1,0,-250],[0,-1,0,350],[0,0,1,0]]),e.accept(c),i.isOk(3===n._intersections.length,"Hits should be 3 and result is "+n._intersections.length),i.isOk(2===n._intersections[0]._nodePath.length,"NodePath should be 2 and result is "+n._intersections[0]._nodePath.length),i.equalVector(n._intersections[0]._intersectionPoints[0],[-.2,.2,0]),i.equalVector(n._intersections[1]._intersectionPoints[0],[0,0,0]),i.equalVector(n._intersections[2]._intersectionPoints[0],[.2,.2,0]),n.reset(),n.setPolytope([[1,0,0,-350],[-1,0,0,450],[0,1,0,-250],[0,-1,0,350],[0,0,1,0]]),n.setIntersectionLimit(m.LIMIT_ONE),e.accept(c),i.isOk(1===n._intersections.length,"Hits should be 1 and result is "+n._intersections.length),n.reset(),n.setPrimitiveMask(m.LINE_PRIMITIVES),n.setIntersectionLimit(m.LIMIT_ONE),e.accept(c),i.isOk(0===n._intersections.length,"Hits should be 0 and result is "+n._intersections.length),n.reset(),n.setPrimitiveMask(m.POINT_PRIMITIVES),n.setIntersectionLimit(m.LIMIT_ONE),e.accept(c),i.isOk(1===n._intersections.length,"Hits should be 1 and result is "+n._intersections.length)}),test("PolytopeIntersector intersectLines",function(){var t=new o;t.setViewport(new u),t.setViewMatrix(h.lookAt(h.create(),[0,0,-10],[0,0,0],[0,1,0])),t.setProjectionMatrix(h.perspective(h.create(),Math.PI/180*60,800/600,.1,100));var r=e(g.LINES);t.addChild(r);var n=new s;n.setPolytopeFromWindowCoordinates(395,295,405,305);var c=new a;c.setIntersector(n),t.accept(c),i.isOk(1===n._intersections.length,"Hits should be 1 and result is "+n._intersections.length),i.isOk(2===n._intersections[0]._nodePath.length,"NodePath should be 2 and result is "+n._intersections[0]._nodePath.length),i.isOk(3===n._intersections[0]._numIntersectionPoints,"numPoints should be 3 and result is "+n._intersections[0]._numIntersectionPoints),i.equalVector(n._intersections[0]._localIntersectionPoint,[-.06415,.06415,0]),i.equalVector(n._intersections[0]._intersectionPoints[0],[0,0,0]),i.equalVector(n._intersections[0]._intersectionPoints[1],[-.096225,.096225,0]),i.equalVector(n._intersections[0]._intersectionPoints[2],[-.096225,.096225,0]),n.reset(),n.setPrimitiveMask(m.POINT_PRIMITIVES),t.accept(c),i.isOk(0===n._intersections.length,"Hits should be 0 and result is "+n._intersections.length),n.reset(),n.setPrimitiveMask(m.LINE_PRIMITIVES),t.accept(c),i.isOk(1===n._intersections.length,"Hits should be 1 and result is "+n._intersections.length)}),test("PolytopeIntersector intersectLineStrip",function(){var t=new o;t.setViewport(new u),t.setViewMatrix(h.lookAt(h.create(),[0,0,-10],[0,0,0],[0,1,0])),t.setProjectionMatrix(h.perspective(h.create(),Math.PI/180*60,800/600,.1,100));var r=e(g.LINE_STRIP);t.addChild(r);var n=new s;n.setPolytopeFromWindowCoordinates(395,295,405,305);var c=new a;c.setIntersector(n),t.accept(c),i.isOk(2===n._intersections.length,"Hits should be 2 and result is "+n._intersections.length),i.isOk(2===n._intersections[0]._nodePath.length,"NodePath should be 2 and result is "+n._intersections[0]._nodePath.length),i.equalVector(n._intersections[0]._localIntersectionPoint,[-.06415,.06415,0])}),test("PolytopeIntersector intersectTriangle",function(){var t=new o;t.setViewport(new u),t.setViewMatrix(h.lookAt(h.create(),[0,0,-10],[0,0,0],[0,1,0])),t.setProjectionMatrix(h.perspective(h.create(),Math.PI/180*60,800/600,.1,100));var e=r();t.addChild(e);var n=new s;n.setPolytopeFromWindowCoordinates(395,295,405,305);var l=new a;l.setIntersector(n),t.accept(l),i.isOk(1===n._intersections.length,"Hits should be 1 and result is "+n._intersections.length),i.isOk(2===n._intersections[0]._nodePath.length,"NodePath should be 2 and result is "+n._intersections[0]._nodePath.length);for(var d=[],f=0;f<n._intersections[0]._numIntersectionPoints;f++){for(var p=n._intersections[0]._intersectionPoints[f],g=!1,_=0;_<d.length;_++)if(c.equals(d[_],p)){g=!0;break}g||d.push(p)}i.isOk(3===d.length,"numPoints should be 3 and result is "+d.length),i.equalVector(d[0],[0,0,0]),i.equalVector(d[1],[-.096225,.096225,0]),i.equalVector(d[2],[.096225,.096225,0]),n.reset(),n.setPrimitiveMask(m.POINT_PRIMITIVES),t.accept(l),i.isOk(0===n._intersections.length,"Hits should be 0 and result is "+n._intersections.length),n.reset(),n.setPrimitiveMask(m.ALL_PRIMITIVES),n.setPolytopeFromWindowCoordinates(395,295,405,305),t.accept(l),i.isOk(1===n._intersections.length,"Hits should be 1 and result is "+n._intersections.length)}),test("PolytopeIntersector with kdtree and camera",function(){var t=new o;t.setViewport(new u),t.setViewMatrix(h.lookAt(h.create(),c.fromValues(0,0,-10),c.create(),c.fromValues(0,1,0))),t.setProjectionMatrix(h.perspective(h.create(),Math.PI/180*60,800/600,.1,100));var e=r();t.addChild(e);var n=new _({_numVerticesProcessed:0,_targetNumTrianglesPerLeaf:1,_maxNumLevels:20});n.apply(e);var l=new s;l.setPolytopeFromWindowCoordinates(395,295,405,305);var d=new a;d.setIntersector(l),t.accept(d);for(var f=[],p=0;p<l._intersections[0]._numIntersectionPoints;p++){for(var g=l._intersections[0]._intersectionPoints[p],m=!1,v=0;v<f.length;v++)if(c.equals(f[v],g)){m=!0;break}m||f.push(g)}i.isOk(1===l._intersections.length,"Intersections should be 1 and result is "+l._intersections.length),i.isOk(2===l._intersections[0]._nodePath.length,"NodePath should be 2 and result is "+l._intersections[0]._nodePath.length),i.isOk(3===f.length,"numPoints should be 3 and result is "+f.length),i.equalVector(f[0],[0,0,0]),i.equalVector(f[1],[-.096225,.096225,0]),i.equalVector(f[2],[.096225,.096225,0])});var t=function(){var t=new l,e=new n.Float32Array(9);e[0]=0,e[1]=0,e[2]=0,e[3]=.2,e[4]=.2,e[5]=0,e[6]=-.2,e[7]=.2,e[8]=0;var r=new n.Float32Array(9);r[0]=0,r[1]=0,r[2]=1,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=1;var i=new n.Uint16Array(3);i[0]=2,i[1]=0,i[2]=1,t.getAttributes().Vertex=new d(d.ARRAY_BUFFER,e,3),t.getAttributes().Normal=new d(d.ARRAY_BUFFER,r,3);var a=new f(g.POINTS,new d(d.ELEMENT_ARRAY_BUFFER,i,1));return t.getPrimitives().push(a),t},e=function(t){var e=new l,r=new n.Float32Array(12);r[0]=-2,r[1]=2,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=2,r[7]=2,r[8]=0,r[9]=4,r[10]=0,r[11]=0;var i=new n.Float32Array(12);i[0]=0,i[1]=0,i[2]=1,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=1,i[9]=0,i[10]=0,i[11]=1,e.getAttributes().Vertex=new d(d.ARRAY_BUFFER,r,3),e.getAttributes().Normal=new d(d.ARRAY_BUFFER,i,3);var a=new p(t,0,r.length/3);return e.getPrimitives().push(a),e},r=function(){var t=new l,e=new n.Float32Array(9);e[0]=-2,e[1]=2,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=2,e[7]=2,e[8]=0;var r=new n.Float32Array(9);r[0]=0,r[1]=0,r[2]=1,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=1,t.getAttributes().Vertex=new d(d.ARRAY_BUFFER,e,3),t.getAttributes().Normal=new d(d.ARRAY_BUFFER,r,3);var i=new p(g.TRIANGLES,0,e.length/3);return t.getPrimitives().push(i),t}}},function(t,e,r){"use strict";var i=r(250).assert,n=r(153),a=r(44),s=r(117),o=r(16).mat4,u=r(16).vec3,h=r(111),c=r(26);t.exports=function(){var t=function(){this.point=[.5,.5,.5],this.stackTransforms=[]};t.prototype={enter:function(){return!0},setCurrentTransformation:function(t){o.invert(t,t),this.stackTransforms.push(u.transformMat4(u.create(),this.point,t))},intersect:function(){return!0}},test("IntersectionVisitor with 1 camera",function(){var e=new a;e.setViewport(new s),e.setViewMatrix(o.lookAt(o.create(),[0,0,-10],[0,0,0],[0,1,0])),e.setProjectionMatrix(o.perspective(o.create(),Math.PI/180*60,800/600,.1,100)),e.addChild(h.createTexturedQuadGeometry(-.5,-.5,0,1,0,0,0,1,0,1,1));var r=new t,u=new n;u.setIntersector(r),e.accept(u),i.equalVector(r.stackTransforms[0],[.1536,-.1152,-9.8002],.001,"check end transform point")}),test("IntersectionVisitor with second relative camera",function(){var e=new a;e.setViewport(new s),e.setViewMatrix(o.lookAt(o.create(),[0,0,-10],[0,0,0],[0,1,0])),e.setProjectionMatrix(o.perspective(o.create(),Math.PI/180*60,800/600,.1,100));var r=new a;r.setViewport(new s),r.setViewMatrix(o.lookAt(o.create(),[0,0,-10],[0,0,0],[0,1,0])),r.setProjectionMatrix(o.perspective(o.create(),Math.PI/180*60,800/600,.1,100)),r.addChild(h.createTexturedQuadGeometry(-.5,-.5,0,1,0,0,0,1,0,1,1)),e.addChild(r);var u=new t,c=new n;c.setIntersector(u),e.accept(c),i.equalVector(u.stackTransforms[1],[-.0197,-.0111,-.1666],.001,"check end transform point")}),test("IntersectionVisitor with second absolute camera",function(){var e=new a;e.setViewport(new s),e.setViewMatrix(o.lookAt(o.create(),[0,0,-10],[0,0,0],[0,1,0])),e.setProjectionMatrix(o.perspective(o.create(),Math.PI/180*60,800/600,.1,100));var r=new a;r.setReferenceFrame(c.ABSOLUTE_RF),r.setViewport(new s),r.setViewMatrix(o.lookAt(o.create(),[0,0,-10],[0,0,0],[0,1,0])),r.setProjectionMatrix(o.perspective(o.create(),Math.PI/180*60,800/600,.1,100)),r.addChild(h.createTexturedQuadGeometry(-.5,-.5,0,1,0,0,0,1,0,1,1)),e.addChild(r);var u=new t,l=new n;l.setIntersector(u),e.accept(l),i.equalVector(u.stackTransforms[1],[.1536,-.1152,-9.8002],.001,"check end transform point")})}},function(t,e,r){"use strict";var i=r(348),n=r(349);t.exports=function(){i(),n()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(207),a=r(249);t.exports=function(){test("View",function(){var t=a.createFakeRenderer(),e=new n;e.setGraphicContext(t),i.isOk(e.getGraphicContext()===t,"Check graphic context"),i.isOk(void 0!==e.getFrameStamp(),"Check FrameStamp"),i.isOk(void 0!==e.getScene(),"Check scene"),i.isOk(void 0===e.getSceneData(),"Check scene data")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(217),s=r(111);t.exports=function(){test("Viewer",function(){!function(){var t=n.createCanvas(),e=new a(t);i.isOk(void 0!==e.getCamera(),"Check camera creation"),i.isOk(void 0!==e.getCamera().getViewport(),"Check camera viewport"),i.isOk(void 0!==e.getCamera().getRenderer(),"Check camera Renderer"),e.init(),i.isOk(void 0!==e._updateVisitor,"Check update visitor"),i.isOk(void 0!==e.getState().getGraphicContext(),"Check state graphic context"),n.removeCanvas(t)}(),function(){var t=n.createCanvas(),e=new a(t),r=function(){return s.createTexturedBoxGeometry(0,0,0,10,10,10)};e.init(),e.setupManipulator(),e.setSceneData(r()),e.getCamera().getRenderer().draw=function(){},e.frame();var o=e.getCamera().getRenderer().getCullVisitor();i.approximately(o._computedFar,31.30036755335,1e-5,"check far"),i.approximately(o._computedNear,18.6996324495,1e-5,"check near"),o.reset(),i.equal(o._computedNear,Number.POSITIVE_INFINITY,"Check near after reset"),i.equal(o._computedFar,Number.NEGATIVE_INFINITY,"Check far after reset"),n.removeCanvas(t)}(),function(){var t=n.createCanvas(),e=new a(t),r={devices:{Mouse:{eventNode:t}}},s=e.initEventProxy(r);i.notEqual(s.LeapMotion,void 0,"detected leapmotion"),i.notEqual(s.StandardMouseKeyboard,void 0,"detected mouse"),e.updateEventProxy(s,void 0),n.removeCanvas(t)}(),function(){var t=n.createCanvas(),e=new a(t);e.setContextLostCallback(function(){i.isOk(!0,"detected contextLost Lost")}),window.cancelAnimationFrame=function(){i.isOk(!0,"context lost does cancel render loop")},e.init();var r=function(){return s.createTexturedBoxGeometry(0,0,0,10,10,10)};e.setupManipulator(),e.setSceneData(r()),e.getCamera().getRenderer().draw=function(){};var o=0;e.beginFrame=function(){o++},e.setDone(!1),e.requestRedraw(),e.frame(),e.contextLost(),e.frame(),i.isOk(1===o,"no render after context Lost")}()})}},function(t,e,r){"use strict";var i=r(351),n=r(352);t.exports=function(){i(),n()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(87),a=r(89),s=r(181),o=r(182),u=r(234),h=r(236);t.exports=function(){test("Compiler",function(){!function(){var t=new n(1),e=new u(t.getLightNumber()),r=new h;r.setLightNumber(t.getLightNumber());var c=new a,l=new s([t,c,e],[[r]]),d=l.createFragmentShaderGraph(),f=l.evaluateAndGatherField(d,"getExtensions");i.isOk(1===f.length,"Compiler Evaluate And Gather Field: defines rightly so");var p=l.evaluateAndGatherField(d,"getDefines");i.isOk(1===p.length,"Compiler Evaluate And Gather Field: defines rightly so");var g=l.evaluateGlobalVariableDeclaration(d);i.isOk(g.length>1,"Compiler Evaluate Global Variables output smth"),g=g.split("\n");var _=!1;g.sort().filter(function(t,e){return _||t!==g[e-1]||(_=!0),!e||t!==g[e-1]}),i.isOk(!_,"Compiler Evaluate Global Variables Declaration output no doublons"),g=l.evaluateGlobalFunctionDeclaration(d),i.isOk(g.length>1,"Compiler Evaluate Global Functions Declaration output smth");var m=o._nodes,v=[],b=[],x=[];m.forEach(function(t){var e=Object.create(t.prototype);t.apply(e);var r=e.getType();"Variable"===e.getName()||e.isUnique&&e.isUnique()?b.push(e):r&&""!==r?x.push(r):v.push(e)}),i.isOk(2===v.length,"Abstract Shader Node count OK. (error here means if you added an abstract node that you need to change the number here, or if you added a new node, you forgot to add a unique type for its class MANDATORY)");var y=x.sort().filter(function(t,e){return!e||t!==x[e-1]});i.isOk(y.length===x.length,"Shader Node Type string duplicate check (type must be unique, MANDATORY for compilation)")}()})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(113),s=r(21),o=r(89),u=r(110),h=r(92),c=r(32),l=r(186);t.exports=function(){test("ShaderGenerator",function(){!function(){var t=new a(new l),e=n.createFakeRenderer();e.validateProgram=function(){return!0},e.getProgramParameter=function(){return!0},e.isContextLost=function(){return!1},t.setGraphicContext(e);var r=new s;r.setAttributeAndModes(new o);var u=new s;u.setTextureAttributeAndModes(0,new c(void 0)),t.pushStateSet(r),t.pushStateSet(u),t.apply(),i.isOk(!0,"check not exception on material generator use")}(),function(){function t(){var t=["","attribute vec3 Vertex;","varying vec4 position;","void main(void) {","  gl_Position = vec4(Vertex,1.0);","}"].join("\n"),e=["","precision highp float;","varying vec4 position;","void main(void) {","  gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);","}",""].join("\n"),r=new h(new u("VERTEX_SHADER",t),new u("FRAGMENT_SHADER",e));
return r.setTrackAttributes({}),r.getTrackAttributes().attributeKeys=[],r}var e=new a(new l),r=n.createFakeRenderer();r.validateProgram=function(){return!0},r.getProgramParameter=function(){return!0},r.isContextLost=function(){return!1},e.setGraphicContext(r);var o=new s;o.setAttributeAndModes(t()),e.pushStateSet(o),e.apply(),i.isOk(!0,"check not exception on stateset generator use")}()})}},function(t,e,r){"use strict";var i=r(354),n=r(355);t.exports=function(){i(),n()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(249),a=r(15),s=r(87),o=r(233),u=r(239),h=r(16).vec2,c=r(16).vec3,l=r(16).vec4,d=r(16).mat4;t.exports=function(){var t=function(t,e){for(var r=0;r<16;r++)if(Math.abs(t[r]-e[r])>1e-5)return!1;return!0};test("ShadowedMap",function(){var e=new u;e.light=new s;var r,f,p,g=new o(e),_=new a;_.expandByvec3(c.fromValues(8.996926307678223,6.667219638824463,10.771773338317871)),_.expandByvec3(c.fromValues(-7.385890007019043,-9.332790374755861,-.39151200652122503)),g._viewMatrix=d.create(),g._projectionMatrix=d.create(),g.makePerspectiveFromBoundingBox(_,36,l.create(),l.fromValues(.11092425336790919,-.8030704746216726,-.5854687206040078,1),g._viewMatrix,g._projectionMatrix),r=d.fromValues(-.990595079757442,.08010741523179432,-.11092425336790919,0,-.13682612309185416,-.5799624339822145,.8030704746216726,0,0,.8106949964038919,.5854687206040078,0,0,0,0,1),f=d.fromValues(1.3763819204711738,0,0,0,0,1.3763819204711738,0,0,0,0,-1,-1,0,0,-.009999999776482582,0),p=h.fromValues(.07308441308585036,14.61688261717007),i.isOk(t(g._viewMatrix,r),"correct view shadow matrix for spot light  inside scene Bbox"),i.isOk(t(g._projectionMatrix,f),"correct projection shadow matrix for spot light inside scene Bbox"),i.isOk(n.checkNear(g._depthRange[0]===p[0]),"correct near shadow  for spot light  inside scene Bbox"),i.isOk(n.checkNear(g._depthRange[1]===p[1]),"correct near/far shadow  for spot light inside scene Bbox"),_.expandByvec3(c.fromValues(8.996926307678223,6.667219638824463,10.771773338317871)),_.expandByvec3(c.fromValues(-7.385890007019043,-9.332790374755861,-.391512006521225)),g._viewMatrix=d.fromValues(-.990595079757442,.08010741523179432,-.11092425336790919,0,-.13682612309185416,-.5799624339822145,.8030704746216726,0,0,.8106949964038919,.5854687206040078,0,2.482286486135774,-.6856442836475978,-23.687648846577943,1),g._projectionMatrix=d.fromValues(1.7731483011373153,0,0,0,0,1.7731483011373153,0,0,0,0,-1,-1,0,0,-45.17235565185547,0),g.makePerspectiveFromBoundingBox(_,52,l.fromValues(17,15,32,0),l.fromValues(.11092425336790919,-.8030704746216726,-.5854687206040078,1),g._viewMatrix,g._projectionMatrix),r=d.fromValues(-.990595079757442,.08010741523179432,-.11092425336790919,0,-.13682612309185416,-.5799624339822145,.8030704746216726,0,0,.8106949964038919,.5854687206040078,0,18.892508202254326,-18.604629434131823,-28.89534387139888,1),f=d.fromValues(1.7731483011373153,0,0,0,0,1.7731483011373153,0,0,0,0,-1,-1,0,0,-45.17235565185547,0),p=h.fromValues(18.036435420849756,43.51222648856895),i.isOk(t(g._viewMatrix,r),"correct view shadow matrix for spot light outside scene Bbox"),i.isOk(t(g._projectionMatrix,f),"correct projection shadow matrix for spot light outside scene Bbox"),i.isOk(n.checkNear(g._depthRange[0]===p[0]),"correct near shadow  for spot light outside scene Bbox"),i.isOk(n.checkNear(g._depthRange[1]===p[1]),"correct near/far shadow  for spot light outside scene Bbox"),_.expandByvec3(c.fromValues(8.996926307678223,6.667219638824462,10.77177333831787)),_.expandByvec3(c.fromValues(-7.385890007019043,-9.332790374755858,-.3915120065212249)),g._viewMatrix=d.create(),g._projectionMatrix=d.create(),g.makeOrthoFromBoundingBox(_,36,[-.10643338689534251,-.5669665032376362,-.816835918872618,0],g._viewMatrix,g._projectionMatrix),r=d.fromValues(.07850590369043473,0,0,0,0,.07850590369043473,0,0,0,0,-.07850559553279862,0,-0,-0,-1.9999960747202232,1),f=d.fromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),p=h.fromValues(12.737895533859595,38.21378660157878),i.isOk(t(g._viewMatrix,r),"correct view shadow matrix for directional light looking down"),i.isOk(t(g._projectionMatrix,f),"correct projection shadow matrix for directional light case 1"),i.isOk(n.checkNear(g._depthRange[0]===p[0]),"correct near shadow  for directional light case looking down"),i.isOk(n.checkNear(g._depthRange[1]===p[1]),"correct near/far shadow  for directional light looking down"),_.expandByvec3(c.fromValues(8.996926307678226,6.667219638824463,10.771773338317875)),_.expandByvec3(c.fromValues(-7.385890007019048,-9.332790374755861,-.39151200652122586)),g._viewMatrix=d.fromValues(.5812106861252584,.6021354245658719,.547382013603556,0,.8137531187859167,-.4300659932024471,-.39095920907044307,0,-0,.6726634908880293,-.7399485306602954,0,.6163824930149122,-4.549428088332258,-22.59735236799494,1),g._projectionMatrix=d.fromValues(.07850590369043473,0,0,0,0,.07850590369043473,0,0,0,0,-.07850559553279862,0,-0,-0,-1.9999960747202232,1),g.makeOrthoFromBoundingBox(_,l.fromValues(-.10643338689534251,-.5669665032376362,-.816835918872618,0),g._viewMatrix,g._projectionMatrix),r=d.fromValues(-.9828322343871124,-.15070744242943934,.10643338689534251,0,.1845014879333943,-.802812671273225,.5669665032376362,0,0,.5768700734476752,.816835918872618,0,1.0375900870133319,-3.942610459663543,-29.045365584570664,1),f=d.fromValues(.07850590369043471,0,0,0,0,.07850590369043471,0,0,0,0,-.07850559553279861,0,-0,-0,-1.9999960747202234,1),p=h.fromValues(12.737895533859596,38.21378660157879),i.isOk(t(g._viewMatrix,r),"correct view shadow matrix for directional light  looking up"),i.isOk(t(g._projectionMatrix,f),"correct projection shadow matrix for directional light looking up"),i.isOk(n.checkNear(g._depthRange[0]===p[0]),"correct near shadow  for directional light  looking up"),i.isOk(n.checkNear(g._depthRange[1]===p[1]),"correct near/far shadow  for directional light looking up")})}},function(t,e,r){"use strict";var i=r(250).assert,n=r(44),a=r(16).mat4,s=r(16).vec3,o=r(13),u=r(111),h=r(117),c=r(240),l=r(153);t.exports=function(){test("ShadowedScene",function(){var t=new c;i.isOk(0===t.children.length,"number of children must be 0"),i.isOk(0===t.getParents().length,"number of parents must be 0");var e=new o;t.addChild(e,0,200),i.isOk(1===t.children.length,"number of children must be 1")});var t=function(){this.point=[.5,.5,.5],this.stackTransforms=[]};t.prototype={enter:function(){return!0},setCurrentTransformation:function(t){a.invert(t,t),this.stackTransforms.push(s.transformMat4(s.create(),this.point,t))},intersect:function(){return!0}},test("IntersectionVisitor with 1 camera",function(){var e=new n;e.setViewport(new h),e.setViewMatrix(a.lookAt(a.create(),[0,0,-10],[0,0,0],[0,1,0])),e.setProjectionMatrix(a.perspective(a.create(),Math.PI/180*60,800/600,.1,100)),e.addChild(u.createTexturedQuadGeometry(-.5,-.5,0,1,0,0,0,1,0,1,1));var r=new c,s=new o;r.addChild(s),r.addChild(s),r.addChild(s);var d=new t,f=new l;f.setIntersector(d),e.accept(f),i.equalVector(d.stackTransforms[0],[.1536,-.1152,-9.8002],.001,"check end transform point")})}},function(t,e,r){"use strict";var i=r(357);t.exports=function(){i()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(147);t.exports=function(){test("Text._nextPowerOfTwo",function(){var t=new n,e=t._nextPowerOfTwo(25);i.isOk(32===e,"next power of two must be 32"),e=t._nextPowerOfTwo(16),i.isOk(16===e,"next power of two must be 16"),e=t._nextPowerOfTwo(129),i.isOk(256===e,"next power of two must be 256"),e=t._nextPowerOfTwo(2031),i.isOk(2048===e,"next power of two must be 256")}),test("Text.setAlignment",function(){var t=new n("test");t.setAlignment(n.LEFT_CENTER),t.drawText(),i.isOk("left"===t._context.textAlign,"context align should be left"),i.isOk(0===t._textX,"_textX should be 0"),i.isOk("middle"===t._context.textBaseline,"context baseline should be middle"),t.setAlignment("RIGHT_TOP"),t.drawText(),i.isOk("right"===t._context.textAlign,"context align should be right"),i.isOk(0===t._textY,"_textY should be 0"),i.isOk("top"===t._context.textBaseline,"context baseline should be top")})}},function(t,e,r){"use strict";var i=r(359);t.exports=function(){i()}},function(t,e,r){"use strict";var i=r(250).assert,n=r(7),a=r(136),s=r(125),o=r(23);t.exports=function(){var t=function(){o.call(this,o.TRAVERSE_ALL_CHILDREN),this._cb=void 0};t.prototype=n.objectInherit(o.prototype,{getAnimationManager:function(){return this._cb},apply:function(t){for(var e=t.getUpdateCallbackList(),r=0,i=e.length;r<i;r++)if(e[0]instanceof s)return void(this._cb=e[0]);this.traverse(t)}});var e=function(t){for(var e=0,r=0,i=0,n=t.channels,a=n.length,o=0;o<a;++o){var u=n[o].channel;t.duration===u.end&&e++,u.times.buffer.byteLength-u.times.byteLength===4&&r++;var h=s.TypeToSize[u.type];u.keys.buffer.byteLength-u.keys.byteLength===4*h&&i++}return{nbChannelSyncEnd:e,nbTimesEmptySlot:r,nbKeysEmptySlot:i}};test("osgAnimation character",function(r){var n=new a;n.readNodeURL("../examples/media/models/animation/character.osgjs").then(function(n){var a=new t;n.accept(a);var s=a.getAnimationManager();i.isOk(void 0!==s,"BasicAnimationManager found");var o=s.getAnimations();i.isOk(6===Object.keys(o).length,"found 6 animations");var u=o["Default Take"],h=u.channels.length;i.isOk(144===h,"check number of channels in Default Take");var c=e(u);i.isOk(48===c.nbChannelSyncEnd,"nb sync end channels"),i.isOk(c.nbTimesEmptySlot===h,"nb times empty slot"),i.isOk(c.nbKeysEmptySlot===h,"nb times empty slot"),i.approximately(u.duration,1.93333,1e-5,"check duration of animation"),s.setAnimationLerpEndStart(u,1.5),i.approximately(u.duration,1.93333+1.5,1e-5,"check duration of animation after lerpStartEnd"),s.setAnimationLerpEndStart(u,1.5),i.approximately(u.duration,1.93333+1.5,1e-5,"check duration of animation after 2 calls to lerpStartEnd"),c=e(u),i.isOk(48===c.nbChannelSyncEnd,"nb sync end channels"),i.isOk(c.nbTimesEmptySlot===h-c.nbChannelSyncEnd,"nb times empty slot"),i.isOk(c.nbKeysEmptySlot===h-c.nbChannelSyncEnd,"nb times empty slot"),s.setAnimationLerpEndStart(u,0),i.approximately(u.duration,1.93333,1e-5,"check duration of animation after 2 calls to lerpStartEnd"),c=e(u),i.isOk(48===c.nbChannelSyncEnd,"nb sync end channels"),i.isOk(c.nbTimesEmptySlot===h,"nb times empty slot"),i.isOk(c.nbKeysEmptySlot===h,"nb times empty slot"),r()})})}}])});